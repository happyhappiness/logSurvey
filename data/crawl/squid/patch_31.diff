----++++src/anyp/PortCfg.cc
@@ -44,8 +44,8 @@ AnyP::PortCfg::PortCfg() :
     ,
     clientca(NULL),
     sslContextSessionId(NULL),
-    generateHostCertificates(false),
-    dynamicCertMemCacheSize(std::numeric_limits&lt;size_t&gt;::max()),
+    generateHostCertificates(true),
+    dynamicCertMemCacheSize(4*1024*1024), // 4 MB
     signingCert(),
     signPkey(),
     certsToChain(),
----++++src/cache_cf.cc
@@ -3863,11 +3863,11 @@ dump_generic_port(StoreEntry * e, const char *n, const AnyP::PortCfgPointer &amp;s)
     if (s-&gt;sslContextSessionId)
         storeAppendPrintf(e, &quot; sslcontext=%s&quot;, s-&gt;sslContextSessionId);
 
-    if (s-&gt;generateHostCertificates)
-        storeAppendPrintf(e, " generate-host-certificates");
+    if (!s-&gt;generateHostCertificates)
+        storeAppendPrintf(e, " generate-host-certificates=off");
 
-    if (s-&gt;dynamicCertMemCacheSize != std::numeric_limits&lt;size_t&gt;::max())
-        storeAppendPrintf(e, "dynamic_cert_mem_cache_size=%lu%s\n", (unsigned long)s-&gt;dynamicCertMemCacheSize, B_BYTES_STR);
+    if (s-&gt;dynamicCertMemCacheSize != 4*1024*1024) // 4MB default
+        storeAppendPrintf(e, "dynamic_cert_mem_cache_size=%" PRIuSIZE "%s\n", s-&gt;dynamicCertMemCacheSize, B_BYTES_STR);
 #endif
 }
 
----++++GitHub