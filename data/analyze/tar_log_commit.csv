url,date,title,changes,file_name
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=597b0ae509fae849a7d8760b384ef64ca7621560,11 Nov 2016,"don't set xattrs when --skip-old-files is used

* src/extract.c (set_xattr): Properly handle maybe_recoverable()
output.  Throw warnings to not complicate caller.
(extract_file): Don't handle set_xattr's error.
* tests/xattr07.at: New testcase.
* tests/Makefile.am: Mention new testcase.
* tests/testsuite.at: Likewise.
* THANKS: Dawid.",46,data/crawl/tar/patch_0.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7340f67b9860ea0531c1450e5aa261c50f67165d,29 Oct 2016,"When extracting, skip "".."" members

* NEWS: Document this.
* src/extract.c (extract_archive): Skip members whose names
contain "".."".",16,data/crawl/tar/patch_1.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9a33077a7b7ad7d32815a21dee54eba63b38a81c,27 May 2016,"Report positional options that were used but had no effect during
 archive creation

* src/names.c (file_selection_option)
(file_selection_option_name): New functions.
(unconsumed_option_push, unconsumed_option_free)
(unconsumed_option_report): New functions.
(name_list_advance): Maintain a list
of eventually unconsumed options during archive creation.
Report unconsumed options, if any.

* tests/positional01.at: New test case.
* tests/positional02.at: New test case.
* tests/positional03.at: New test case.
* tests/Makefile.am: Add new test cases.
* tests/testsuite.at: Likewise.

* NEWS: Document the changes.
* configure.ac: Version 1.29.90
* doc/tar.texi: Document the changes.",315,data/crawl/tar/patch_2.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=61cd3fd26855d40ee3a6491b2aa3611cd2aae46c,14 Apr 2016,"Fix argument handling when running external commands.

* src/system.c (xexec): Use sh -c to run the command.  This fixed
bug introduced by 7b5e80396 (tar 1.27)
* doc/tar.texi: Fix checkpoint examples: (1) $TAR_FILENAME
is not available when creating archive and (2) --checkpoint
can't be used as abbreviation of --checkpoint-action",17,data/crawl/tar/patch_3.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3010818f369be1555b6b2d1532682e15a11c12cc,6 Apr 2016,"Remove iotty test

The auxiliary utility ttyemu proved to be unreliable.  Given existing
differences between pty implementations and termios ioctls on various
platforms, writing it in a portable way requires effort disproportional
to its actual purpose.

* configure.ac: Remove check for grantpt
* gnulib.modules: Remove posix_openpt, ptsname, and unlockpt
* tests/Makefile.am (TESTSUITE_AT): Remove iotty.at
(check_PROGRAMS): Remove ttyemu.
* tests/testsuite.at: Remove iotty.at
* tests/iotty.at: Remove.
* tests/ttyemu.c: Remove.",530,data/crawl/tar/patch_4.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=13d04fe6ae5a343415299359944382f7a6d37816,24 Mar 2016,"New option --clamp-mtime

The new `--clamp-mtime` option will change the behavior of `--mtime` to only
use the time specified if the file mtime is newer than the given time.
The `--clamp-mtime` option can only be used together with `--mtime`.

Typical use case is to make builds reproducible: to loose less
information, it's better to keep the original date of an archive, except for
files modified during the build process. In that case, using a reference
(and thus reproducible) timestamps for the latter is good enough. See
<https://wiki.debian.org/ReproducibleBuilds> for more information.

Patch submitted by Jeremy Bobbio and
Daniel Kahn Gillmor <dkg@fifthhorseman.net>

* doc/tar.1: Document --clamp-mtime
* doc/tar.texi: Likewise.

* src/common.h (set_mtime_option_mode): New enum
(set_mtime_option): Change type to enum set_mtime_option_mode.
(NEWER_OPTION_INITIALIZED): Rename to NEWER_OPTION_INITIALIZED.
* src/create.c (start_header): Set mtime depending on set_mtime_option.
* src/tar.c (options,parse_opt): New option --clamp-mtime
(decode_options): Initialize mtime_option

* tests/time02.at: New testcase.
* tests/Makefile.am: Add new testcase
* tests/testsuite.at: Likewise.",131,data/crawl/tar/patch_5.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4cf2af45007b5288dae1037baffa681d37c0b1c2,11 Dec 2015,"Fix handling of filename-selection options.

Filename-selection options are --wildcards, --recursive, etc. (see
names.c for a complete list).  These options are position-sensitive,
i.e. each such option affects all filenames and filename-selection
options that appear after it until eventually cancelled by a
corresponding counterpart option.

These options can appear in ""file-from"" file lists, which means that
they cannot be handled right away, but instead should be put on
the ""name_elt"" list and processed sequentionally, as file name arguments
are.

* src/common.h (warn_regex_usage): Remove.
(name_add_name): Change signature.
(name_add_dir, name_add_file): Remove prototypes.
* src/names.c (name_add_option, name_add_dir)
(name_add_file): Static functions.
(names_options, is_file_selection_option, names_parse_opt): Static functions.
(names_argp_children): New variable.
(NELT_NAME, NELT_CHDIR)
(NELT_FILE, NELT_NOOP): Redefine as enum nelt_type.
(NELT_FMASK): Remove.
(NELT_OPTION): New constant.
(name_elt) <type>: Change type.
<v.opt>: New member.
(name_elt_alloc_matflags): Remove.
(name_add_name): Take one argument.
(name_add_option): New static function.
(name_add_file): Take one argument.
(read_next_name): Use filename_terminator and
verbatim_files_from_option to initialize file.term and file.verbatim.
* src/tar.c: Move handling of filename-selection options to names.c

* tests/T-dir00.at: Fix typo.
* tests/T-recurse.at: Remove expected failure.",866,data/crawl/tar/patch_6.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=239441b5dfd0468858bca2e219aae563e1f96d02,6 Dec 2015,"Bugfix

* src/buffer.c (try_new_volume): Warn if user supplied malformed
tar archive.
Consistently use WARN (instead of ERROR) when reporting.",9,data/crawl/tar/patch_7.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=589ba77faf60e4632771d80e2b25d9e3778d4a3f,5 Dec 2015,"Catch compressor execution errors.

* src/misc.c (write_fatal_details): Move to buffer.c
* src/buffer.c (write_fatal_details): Close the archive and wait for
the compressor program to terminate in order to catch eventual execution
errors.
* src/system.c (sys_child_open_for_compress): Ignore SIGPIPE so tar will
not silently terminate when unable to write to the compressor.
* tests/comperr.at: New file.
* tests/Makefile.am: Add comperr.at
* tests/testsuite.at: Include comperr.at",59,data/crawl/tar/patch_8.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e6fcc73efa7463fe20c30a20603d3a3f6abfd4e5,11 Nov 2015,"Work around unlinkat bug on FreeBSD and GNU/Hurd

* src/unlink.c (dunlink_insert): New function.
(flush_deferred_unlinks): Skip cwds and nonempty directories
at the first pass.  If force is requested, run a second pass
removing them.
(queue_deferred_unlink): Make sure current working directory
entries are sorted in descending order by the value of dir_idx.
This makes sure they will be removed in right order, which works
around unlinkat bug on FreeBSD and GNU/Hurd.
* tests/remfiles08b.at: Remove expected failure.
* tests/remfiles09b.at: Likewise.",98,data/crawl/tar/patch_9.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1a615a41f5e1c84b8386d2b524af9126ebb810b1,2 Nov 2015,"New options: --owner-map and --group-map.

* NEWS: Update.
* doc/tar.1: Document --owner-map and --group-map
* doc/tar.texi: Likewise.

* src/map.c: New file.
* src/Makefile.am: Add map.c
* src/common.h (owner_map_read, owner_map_translate)
(group_map_read, group_map_translate): New protos.
* src/create.c (start_header): Use owner_map_translate
and group_map_translate to optionally translate user/group names/ids.
* src/tar.c: New options --owner-map and --group-map.

* tests/map.at: New file.
* tests/Makefile.am: Add map.at
* tests/testsuite.at: Include map.at.",566,data/crawl/tar/patch_10.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a65086c71c62cb978f8d0068b953cfde9cdb8a02,24 Sep 2015,"Fix problems caught by static checking
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Most of these can be caught by configuring with --enable-gcc-warnings.
Problem reported by Pavel Raiskup in:
http://lists.gnu.org/archive/html/bug-tar/2015-09/msg00001.html
* src/buffer.c (format_total_stats):
Prefer pointer to const when itâ€™s OK to use const.
(default_total_format): Now const.
* src/buffer.c (default_total_format):
* src/exclist.c (excfile_head, excfile_tail, vcs_ignore_files):
* src/misc.c (namebuf_add_dir, namebuf_finish):
* src/tar.c (verbatim_files_from_option, option_set_in_cl)
(optloc_eq, set_old_files_option):
Now static.
* src/common.h: Adjust to match the other changes described here.
* src/exclist.c (info_cleanup_exclist):
* src/tar.c (argp_program_version, argp_program_bug_address):
Remove; unused.
(parse_default_options): Define via prototype instead of old style.
(parse_default_options, decode_options):
Fill out incomplete initializers.",153,data/crawl/tar/patch_11.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ae23a57d7003eee5cf323a29bf956c19aea3b63f,31 Aug 2015,"Improve option sanity checking

Any two conflicting options are reported only if they both occur in
the command line.  Otherwise, options defined in the command line
silently override those set in the TAR_OPTIONS environment variable.

* src/common.h (option_source): New enum.
(option_locus): New struct.
* src/names.c (name_elt): New member: line.
(name_add_file): Initialize line.
(read_name_from_file): Keep track of input line number for diagnostic
purposes.
(handle_option): Take a pointer to struct name_elt as 2nd parameter;
pass locus info to more_options().
* src/tar.c (tar_args): New member: loc.
(option_class): New enum.
(optloc_save,optloc_lookup)
(option_set_in_cl,optloc_eq): New functions.
(set_use_compress_program_option): Take into account option location.
(set_old_files_option): New function.
(parse_opt): Keep track of option locations.
(more_options): Improve error reporting.
(parse_default_options): New function.
(decode_options): Parse TAR_OPTION and command line separately.
Options from the latter silently override those from the former.

* lib/prepargs.c: Remove.
* lib/prepargs.h: Remove.
* lib/Makefile.am: Update.",421,data/crawl/tar/patch_12.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=21f86195b7c48196e7912bbb2755e56af5ea62ff,25 Jul 2015,"Fix typos (preceeded etc.)

Copyright-paperwork-exempt: yes",22,data/crawl/tar/patch_13.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=da06935f6ea4d2c248c01486adae98adb020dd42,13 Jul 2015,"tar: pacify GCC 5.1 -Wformat-signedness

* lib/wordsplit.c (struct wordsplit_node.flags):
Now unsigned, so that 'printf (""%x"", p->flags)' doesn't provoke GCC.
* src/incremen.c (read_num, dumpdir_ok):
Don't printf an int with %x or %o.",20,data/crawl/tar/patch_14.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a5db4ba5cb8a4e2685ff5eb109eb43d19f7912f8,22 Jul 2014,"Don't build ttyemu and run tty I/O test if grantpt is not available.

* configure.ac (TAR_COND_GRANTPT): Define conditional depending
on whether grantpt is available.
* gnulib.modules: Remove grantpt. It relies upon a helper binary
pt_chown which it installs and which is useless in the testsuite.
* tests/Makefile.am [TAR_COND_GRANTPT]: Build ttyemu
* tests/iotty.at: Skip test if ttyemu is not build.
* tests/ttyemu.c (noecho): Fix error message
(main): Use TIOCSCTTY if it is defined.",16,data/crawl/tar/patch_15.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7808b6981b2c7f828684148e2a65f9640958a59a,27 Mar 2014,"Refuse to write archive contents to a tty.

* NEWS: Update.
* src/buffer.c (_open_archive): Refuse to write to a tty.
* tests/iotty.at: Test output to a tty.",36,data/crawl/tar/patch_16.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b0902369e789c9aadf584799889a34637688d601,20 Mar 2014,"Fail if archive comes from a terminal.

Based on patch from Pavel Raiskup <praiskup@redhat.com>.

* gnulib.modules: Add new modules.
* src/buffer.c (_open_archive): Refuse to read archive from a tty.
* tests/Makefile.am (TESTSUITE_AT): Add iotty.at
(check_PROGRAMS): New program ttyemu
* tests/testsuite.at: Include iotty.at
* tests/iotty.at: New file.
* tests/ttyemu.c: New file.",527,data/crawl/tar/patch_17.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=93906c238d9309f95afeddfa9ac8d7ce92351e70,21 Feb 2014,"Support exclusion patterns from various VCS ignore lists.

* src/Makefile.am (tar_SOURCES): Add exclist.c
* src/common.h (EXCL_DEFAULT, EXCL_RECURSIVE)
(EXCL_NON_RECURSIVE): New flags.
(excfile_add, info_attach_exclist)
(info_cleanup_exclist,info_free_exclist)
(exclude_vcs_ignores): New prototypes.
* src/create.c (dump_dir0): Call info_attach_exclist.
* src/exclist.c: New file.
* src/incremen.c (scan_directory): Call info_attach_exclist.
* src/names.c (excluded_name): Moved to exclist.c. Change signature.
All uses updated.
* src/tar.c: New options: --exclude-ignore, --exclude-ignore-recursive
and --exclude-vcs-ignores.
(tar_stat_destroy): Free exclist.
* src/tar.h (tar_stat_info): New member exclude_list.

* NEWS: Document new exclusion options.
* doc/tar.texi: Likewise.
* doc/tar.1: Likewise.",564,data/crawl/tar/patch_18.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=46da9968df4bad8ce3899f98000aa5612375d29f,14 Feb 2014,"Minor change

* src/tar.c (decode_options): Silently ignore --one-top-level
if used with a non-reading command.",24,data/crawl/tar/patch_19.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c86b0c21494752dc3fccda8f160af68d1135b13e,13 Feb 2014,"Fix --one-top-level used together with --list.

* src/extract.c: Move one_top_level stuff to tar.c (decode_options).
* src/tar.c (option_conflict_error): New function.
(decode_options): Use option_conflict_error to complain about
conflicting options in a uniform manner.
Process one_top_level options here.
(request_stdin): Fix error message.
* tests/onetop04.at: New testcase: check --one-top-level with --list.
* tests/Makefile.am: Add new testcase.
* tests/testsuite.at: Add new testcase.",117,data/crawl/tar/patch_20.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1689ed43885c8418c29d1365ae3a06450a460830,28 Jan 2014,"Improve one-top-level functionality

Make sure the changes become visible with --show-transformed-names.

* src/common.h (strip_compression_suffix): New function.
(one_top_level): Rename to one_top_level_dir. All uses changed.
* src/extract.c (extr_init): Use strip_compression_suffix.
Bail out if unable to determine top-level directory.
(maybe_prepend_name): Remove. All uses removed.
* src/tar.c (options): --one-top-level takes optional argument.
(parse_opt): Handle it.
* src/list.c (enforce_one_top_level): New function.
(transform_stat_info): Call enforce_one_top_level if required.
* src/suffix.c (compression_suffixes): List ""tar"" (no compression);
terminate with NULL entry.
(find_compression_suffix): New static.
(strip_compression_suffix): New function.

* doc/tar.1: Update.
* doc/tar.texi: Update.

* tests/onetop01.at: New testcase.
* tests/onetop02.at: New testcase.
* tests/onetop03.at: New testcase.
* tests/Makefile.am: Add new testcases.
* tests/testsuite.at: Likewise.",305,data/crawl/tar/patch_21.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2af87fa2776c8125a587a9b0c2c4fae3bf921ff7,27 Jan 2014,"Detect tarbombs while extracting

* src/common.h (one_top_level_option): New global.
(one_top_level): New global.
* src/extract.c (extr_init): If one_top_level_option is set, determine
the name one_top_level that might have to be prepended.
(extract_archive): If one_top_level_option is set, prepend one_top_level
to all names that don't already start with it.
* src/tar.c (ONE_TOP_LEVEL_OPTION): New contant.
(options): New option --one-top-level.
(parse_opt): Handle this option.
(decode_options): Make it conflict with --absolute-names.",93,data/crawl/tar/patch_22.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f5048215892c1bf6cf602c41146c556f60a63a51,27 Jan 2014,"Provide tar(1) and rmt(8) manpages.

* NEWS: Update.
* doc/Makefile.am: Add manpages.
* doc/tar.1: New file.

* src/tar.c (tar_help_filter): Handle LZOP_OPTION.",1148,data/crawl/tar/patch_23.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a09e840507c16357ec11b17a02e103c3a26adebc,23 Jan 2014,"Make sure transformed file names retain trailing slash in listing.

* src/list.c (simple_print_header): Print trailing slash
if using the transformed name.
Use had_trailing_slash instead of analyzing last byte if temp_name",11,data/crawl/tar/patch_24.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eb7e2aa9334d80747c6f6c4f093716fd030f3f15,22 Jan 2014,"checkpoint actions: further improvements.

* NEWS: Update.
* doc/tar.texi: Update.
* src/buffer.c (print_stats): Avoid use of additional string buffer.
Allow for text to be NULL.
Call gettext if it is not.
(format_total_stats): Don't use gettext when calling print_stats.
* src/checkpoint.c (def_format): Change default format.
(format_checkpoint_string): Implement optional arguments for
T conversion.
(finish_checkpoint_actions): Rename to checkpoint_flush_actions,
make extern.  All uses changed.
* src/common.h (checkpoint_flush_actions): New proto.
* src/tar.c (main): Set error_hook",130,data/crawl/tar/patch_25.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f0a1f78196f75678424712ac36f0a4a46e3e5658,21 Jan 2014,"Implement statistics display in checkpoint actions.

* NEWS: Update.
* configure.ac: Version 1.27.90
* gnulib.modules: Add fprintftime.
* doc/tar.texi: Document the ""totals"" action and new format specifiers
for echo and ttyout checkpoint actions.
* src/buffer.c (compute_duration): Return computed value.
(print_stats): Don't print trailing newline.  Return number of
characters output.
(format_total_stats): New function.
(print_total_stats): Rewrite via format_total_stats.
* src/checkpoint.c (checkpoint_opcode) <cop_totals>: New opcode.
(checkpoint_compile_action): Handle cop_totals.
(expand_checkpoint_string): Remove.
(format_checkpoint_string): New function to be used instead of
expand_checkpoint_string.  All callers updated.
* src/common.h (TF_READ,TF_WRITE)
(TF_DELETED): New constants.
(format_total_stats,print_total_stats): New protos.",383,data/crawl/tar/patch_26.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=74ce228f6df956e6b7be9fd4f993bada4b7ea645,3 Oct 2013,"Tiny changes.

* src/misc.c: Fix comments, rename wd.cwd to wd.abspath (Nathan Stratton
Treadway);
* src/tar.c (options): Reword description of the --starting-file and
--preserve-order options.
(decode_options): Both --starting-file and --preserve-order have meaning
only when used together with an archive reading command. (Pavel Raiskup).",56,data/crawl/tar/patch_27.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f7077dd38b018f19d3a5c7df6accc6b07b8a2356,26 Sep 2013,"Use relative addressing in deferred unlinks.

* src/common.h (tar_dirname): New function.
* src/misc.c (normalize_filename_x): Make extern.
(tar_dirname): New function.
(tar_getcwd): Take into account absoulte pathnames.
* src/unlink.c (deferred_unlink) <dir_idx>: New member; keeps the
value of chdir_current at the moment of structure allocation.
(flush_deferred_unlinks): Use chdir_do and relative addressing.
(queue_deferred_unlink): Initialize dir_idx.
* tests/Makefile.am: Add new tests.
* tests/testsuite.at: Add new tests.
* tests/remfiles06.at: Fix description.
* tests/remfiles07.at: Fix description.
* tests/remfiles08.at: New test case.",117,data/crawl/tar/patch_28.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5cb79ed51999e36add131116d3d3db586be9870e,25 Sep 2013,"Improve tar-snapshot-edit

Support architecture-specific field ranges for the ""-c"" function.
Better handle negative or larger-than-32-bit field values even
when running in 32-bit Perl (for the default ""print a summary""
function)",248,data/crawl/tar/patch_29.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=738fb9c2f44eee567bb60e22dc011bdfd2f362a8,15 Sep 2013,"Take into account chdir_fd when extracting from incremental dumps.

* src/common.h (tar_savedir): New prototype.
* src/misc.c (tar_savedir): New function.
(remove_any_file): Use tar_savedir.
* src/incremen.c (try_purge_directory): Use tar_savedir.
* src/update.c (update_archive): Use tar_savedir.
* tests/incr07.at: New testcase.
* tests/Makefile.am (TESTSUITE_AT): Add new test.
* tests/testsuite.at: Likewise.
* THANKS: Updated.",159,data/crawl/tar/patch_30.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=bff9c3637d9e3c010be697a81d93e934c919d83c,17 Aug 2013,"Improve error diagnostics

* src/names.c (file_list_name): New static function.
(add_file_id): If a filelist is being read twice, print the names
of the files that caused it.
* tests/T-rec.at: New test case.
* tests/Makefile.am: Add new file.
* tests/testsuite.at: Include new file.",74,data/crawl/tar/patch_31.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=077d7bceff9f28209972325097509d7ae775c1f0,16 Aug 2013,"Don't treat attempts to read an already read file list as fatal
 errors.

* src/names.c (add_file_id): Report error and return 1 if the file
has already been read.
(read_next_name): Don't try to open file if add_file_id returns 1.
(name_next_elt): Simplify conditional.",11,data/crawl/tar/patch_32.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=26538c9bfc5fd726d625bef5fa3f08212d50173a,4 Aug 2013,"Reduce memory consuption when handling the -T option.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The commit cdb27293 made the -T option more flexible, but
incurred a very considerable memory overhead by storing
all file names in the argument array.  In case of very
big file lists this caused tar to run out of memory.  This
was reported by Christian Wetzel <wetzel@phoenix-pacs.de>
on March 14, 2013
(http://lists.gnu.org/archive/html/bug-tar/2013-03/msg00018.html).

On the other hand, Michal Å½eidl discovered that tar misfunctioned
when given empty file lists or lists with the trailing newline
misssing in the last entry.  This was reported by Pavel Raiskup
on July 23
(http://lists.gnu.org/archive/html/bug-tar/2013-07/msg00009.html and
msg00010.html).

This change fixes both issues.

* src/common.h (name_add_file,request_stdin): New prototype.
(more_options): New prototype.
* src/names.c (NELT_FILE): New entry type.
(name_elt) <file>: New union member.
(name_add_file): New function.
(read_name_from_file): New function, a rewrite of
the same function from tar.c
(read_next_name,copy_name): New static functions.
(name_next_elt): Handle NELT_FILE entries.
* src/tar.c (request_stdin): Make extern.
(read_name_from_file,add_file_id)
(update_argv): Removed.
(parse_opt): Change handling of the -T option.
(more_options): New function.

* tests/T-null.at: Rewrite test.
* tests/T-zfile.at: New file.
* tests/T-nonl.at: New file.
* tests/Makefile.am: Add new testcases.
* tests/testsuite.at: Likewise.

* THANKS: Update.",594,data/crawl/tar/patch_33.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cfebb3cedfb678e595b0a389074d5d7c79a33fd5,29 Jun 2013,"Improve checks for incompatible options.

* src/common.h (READ_LIKE_SUBCOMMAND): Remove define.
* src/tar.c (IS_SUBCOMMAND_CLASS): New macro.
(decode_options): Use IS_SUBCOMMAND_CLASS in checking
option compatibility.
Accept the --verify option only with subcommands that
write to the archive.

* tests/opcomp01.at: New test case.
* tests/opcomp02.at: New test case.
* tests/opcomp03.at: New test case.
* tests/opcomp04.at: New test case.
* tests/opcomp05.at: New test case.
* tests/opcomp06.at: New test case.
* tests/Makefile.am: Add new testcases.
* tests/testsuite.at: Likewise.",326,data/crawl/tar/patch_34.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7b5e803963822e69a73d00ba62ac01b1c23f112c,10 Feb 2013,"Pass command line arguments to external commands.

Any option taking a command name as its argument accepts
additional arguments as well.

* lib/wordsplit.c: New file.
* lib/wordsplit.h: New file.
* lib/Makefile.am: Add new files.
* src/system.c (xexec): New function.
(run_decompress_program): Use wordsplit.
(sys_child_open_for_compress,sys_exec_command)
(sys_exec_info_script)
(sys_exec_checkpoint_script): Use xexec to invoke external
command.

* NEWS: Update.
* doc/tar.texi: Update.",2068,data/crawl/tar/patch_35.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9cf743abf8667ae07077ceb32fad9a94268a5a93,27 Jan 2013,"tar: improve quality of diagnostics with incrementals

Inspired by a prototype by Nathan Stratton Treadway in
<http://lists.gnu.org/archive/html/bug-tar/2013-01/msg00000.html>.
* src/incremen.c (read_num): Rewrite by merging read_negative_num
and read_unsigned_num.  Use strtosysint rather than rolling this
stuff ourselves.  Change return type to bool.  All uses changed.
(read_negative_num, read_unsigned_num): Remove.
(read_num, read_timespec, read_incr_db_2): Improve quality of
diagnostics, e.g., by supplying byte offset of error.",171,data/crawl/tar/patch_36.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=df7b55a8f6354e30e8da62eec7f706df033d0c81,22 Dec 2012,"Fix some problems with negative and out-of-range integers.

Original problem reported for HP-UX LVM v2.2 by Michael White in
<http://lists.gnu.org/archive/html/bug-tar/2012-10/msg00000.html>.
This patch fixes some other gotchas that I noticed.
* gnulib.modules: Add extern-inline.
* src/common.h: Use _GL_INLINE_HEADER_BEGIN, _GL_INLINE_HEADER_END.
(COMMON_INLINE, max, min): New macros.
(represent_uintmax, valid_timespec): New inline functions.
(SYSINT_BUFSIZE): New constant.
(sysinttostr, strtosysint, decode_timespec): New decls.
* src/create.c (start_private_header): Silently bring the time_t
value into range; it is now the caller's responsibility to deal
with any overflow error.  Use uid 0 and gid 0 rather than the
user's uid/gid, since the faked header isn't ""owned"" by the user
and the uid/gid could in theory be out of range.  Leave major and
minor zeroed.
(FILL): Remove.
(write_gnu_long_link): Let start_private_header zero things out.
* src/create.c (write_gnu_long_link, write_extended):
* src/xheader.c (xheader_write_global):
Use start_time, not current time; no point hammering on the clock.
* src/compare.c (diff_multivol): Check that offset, size are in range.
* src/incremen.c (read_incr_db_01, write_directory_file_entry):
Allow negative time_t, dev_t, and ino_t.
* src/list.c (max): Remove (moved to common.h).
(read_header): Check that size is in range.
(from_header): Return intmax_t, not uintmax_t, to allow negative.
All callers changed.  At compile time, check assumptions about
intmax_t and uintmax_t.  Use bool for booleans.  Avoid overflow
hassles on picky hosts.
(mode_from_header): Last arg is now bool *, not unsigned *.
All callers changed.
(simple_print_header): Do not assume UID, GID fit in 'long'.
* src/list.c (from_header):
* src/xheader.c (out_of_range_header):
Arg is now a plain minimum value, not minus minval converted to
uintmax_t.  All callers changed.
* src/misc.c (COMMON_INLINE): New macro.
(sysinttostr, strtosysint, decode_timespec): New functions.
* src/sparse.c (oldgnu_add_sparse, oldgnu_fixup_header)
(star_fixup_header):
Check for offset overflow.
(decode_num): Clear errno before calling strtoumax.
* src/tar.c (expand_pax_option): Don't discard nanoseconds.
* src/xheader.c (assign_time_option): Allow negative time_t.
(decode_record): Simplify, since out-of-range string is guaranteed
to produce a value exceeding len_max.
(xheader_read): Last arg is off_t, not size_t.
Caller should diagnose negative arg, as needed.
Check that it's in range.
(enum decode_time_status): Remove.
(_decode_time): Remove, folding into decode_time.
(decode_time): Return bool, not enum decode_time_status.
Rely on decode_timespec to do most of the work.
(code_signed_num): New function.
(code_num): Use it.
(decode_signed_num): New function.
(decode_num): Use it.
(gid_coder, gid_decoder, uid_coder, uid_decoder, sparse_map_decoder)
(sparse_map_decoder): Code and decode negative values.
(sparse_map_decoder): Improve check for out-of-range values.
* tests/time01.at: New file.
* tests/Makefile.am (TESTSUITE_AT): Add it.
* tests/testsuite.at: Include it.",759,data/crawl/tar/patch_37.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cbc51277aa4de1f41434ba073f2e4546ead63005,18 Dec 2012,"build: new configure option --enable-gcc-warnings

This has a similar meaning as in other GNU applications
such as coreutils and Emacs.
* NEWS: Document it.
* .gitignore: Remove redundant build-aux.
Remove gnu, since gnu/Makefile.am is now in git.
Add gnu/.gitignore, gnu/charset.alias, gnu/*.h, gnu/*/ to cover
autogenerated files.
* bootstrap.conf (gnulib_mk): Remove.
* configure.ac: Add support for --enable-gcc-warnings,
taken from coreutils and simplified.
* gnu/Makefile.am: New file.  Formerly this was autogenerated,
but the autogenerated file has been renamed to gnulib.mk,
its usual name when bootstrapping from gnulib.
This way, AM_CFLAGS can incorporate warning options.
* gnulib.modules: Add manywarnings.
* lib/Makefile.am, src/Makefile.am (AM_CFLAGS): New macro,
incorporating warning options.
* lib/attr-xattr.in.h (ENOATTR): New macro, if not already defined.
* src/buffer.c (magic): Don't rely on incomplete initializers.
* src/common.h (report_difference): Add printf format attribute.
* src/system.c (sys_exec_command, sys_exec_info_script)
(sys_exec_checkpoint_script):
* src/tar.c (update_argv):
Add casts to char * to pacify GCC warnings about using string
literals in a char * context.
* src/xattrs.c, src/xattrs.h (xattrs_clear_setup):
Declare parameters as (void), not ().
* src/xheader.c (xheader_format_name): Initialize pptr to null,
to pacify GCC.  Remove unnecessary test of nptr versus null.",161,data/crawl/tar/patch_38.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3c4e51fad6dbd595a2fb1e34f11e5a804b9b33ab,19 Nov 2012,"Various fixes.

* src/xattrs.c: Don't mix variable declarations and statements.
Use proper data types.  Remove improper use of const qualifiers.
Use x2nrealloc to reallocate memory buffers.",394,data/crawl/tar/patch_39.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4ac671c49ba5df93c2f386bc8d7dbe50f4671a57,18 Nov 2012,"Minor change.

* src/xattrs.c: Fix indentation. Fix copyleft statement, promote to GPLv3+.
* src/xattrs.h: Likewise",461,data/crawl/tar/patch_40.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=085cace1805308589c6211429068f68047be0b0e,18 Nov 2012,"Add SELinux context store/restore/list support.

* gnulib.modules: Add selinux-at.
* src/Makefile.am (tar_LDADD): Add LIB_SELINUX.

* src/create.c (start_header, dump_file0): Handle selinux contexts.
* src/extract.c (delayed_set_stat) <cntx_name>: New member.
(delayed_link) <cntx_name>: New member.
(set_stat, delay_set_stat)
(apply_nonancestor_delayed_set_stat): Handle selinux contexts.
* src/tar.c: New options: ""--selinux"", ""--no-selinux"".
(tar_stat_destroy): Free cntx_name.
* src/tar.h (tar_stat_info) <cntx_name>: New member.
* src/xattrs.c (xattrs_selinux_get)
(xattrs_selinux_set): New functions.
(xattrs_print_char): Honor selinux_context_option.
(xattrs_print): Print selinux context.
* src/xheader.c: Handle new keyword ""RHT.security.selinux"".
* tests/Makefile.am: Add new tests.
* tests/testsuite.at: Likewise.
* tests/selacl01.at: New test.
* tests/selnx01.at: New test.",311,data/crawl/tar/patch_41.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d36f5a3cc3280d6c4a58367bf51b527d5c14ac04,18 Nov 2012,"Support for POSIX ACLs

* configure.ac: Check whether ACLs are available on the
host system.
* gnulib.modules: Add acl
* src/create.c (start_header): Store ACLs when creating
a POSIX archive.
(dump_file0): Handle ACLs.
* src/extract.c (delayed_set_stat) <acls_a_ptr, acls_a_len>
<acls_d_ptr, acls_d_len>: New members.
(delayed_link): Likewise.
(set_stat,delay_set_stat)
(apply_nonancestor_delayed_set_stat): Set ACLs.
* src/tar.c: New options: ""--acls"", ""--no-acls""
(tar_stat_destroy): Free acls_a_ptr and acls_d_ptr fields.
* src/tar.h (tar_stat_info) <acls_a_ptr, acls_a_len>
<acls_d_ptr, acls_d_len>: New members.
* src/xattrs.c (xattrs_acls_get, xattrs_acls_set): New functions.
* src/xheader.c: Support new keywors: ""SCHILY.acl.access"" and
""SCHILY.acl.default"".
* tests/Makefile.am: Add new tests.
* tests/testsuite.at: Likewise.
* tests/acls01.at: New test.
* tests/acls02.at: New test.",627,data/crawl/tar/patch_42.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=696338043e52f440853e1143c52b81b41cd59723,18 Nov 2012,"Add basic suuport for extended attributes.

* src/Makefile.am: Add xattrs.[ch]
* src/xattrs.c: New file.
* src/xattrs.h: New file.
* src/common.h (READ_LIKE_SUBCOMMAND): New define.
(selinux_context_option, acls_option, xattrs_option): New globals.
(xheader_xattr_init, xheader_xattr_free)
(xheader_xattr_copy, xheader_xattr_add): New protos.
(WARN_XATTR_WRITE): New mask.
* src/create.c (start_header): Handle xattrs pairs if in POSIX format.
(dump_file0): Handle extended attributes.
* src/extract.c (delayed_set_stat,delayed_link) <xattr_map_size>
<xattr_map>: New members.
(set_xattr): New static function.
(open_output_file): Accept an additional argument indicating
whether the file has already been created.
(set_stat,delay_set_stat)
(apply_nonancestor_delayed_set_stat)
(extract_file): Handle extended attributes.
* src/list.c (decode_header, simple_print_header): Display
extended attributes.
* src/tar.c: New options --xattrs, --no-xattrs, --xattrs-include,
--xattrs-exclude
(tar_stat_destroy): Free the xattr_map storage.
* src/tar.h (xattr_array): New struct.
(tar_stat_info) <xattr_map_size, xattr_map>: New members.
* src/warning.c: New warning control keyword ""xattr-write"".
* src/xheader.c (xheader_xattr_init)
(xheader_xattr_free, xheader_xattr_add)
(xheader_xattr_copy): New functions.
(struct xhdr_tab) <prefix>: New member.
(locate_handler): Permit selecting the keyword based on its
prefix.
(xheader_protected_pattern_p)
(xheader_protected_keyword_p): Likewise.
(xattr_coder, xattr_decoder): New functions.
(xhdr_tab): Reflect the changes to struct xhdr_tab.
New keyword ""SCHILY.xattr"".
* tests/Makefile.am: Add new tests.
* tests/testsuite.at: Likewise.
(AT_CHECK_UTIL, AT_XATTRS_UTILS_PREREQ)
(AT_CAPABILITIES_UTILS_PREREQ, AT_XATTRS_PREREQ): New defuns.
* tests/xattr01.at: New test.
* tests/xattr02.at: New test.
* tests/xattr03.at: New test.
* tests/xattr04.at: New test.
* tests/capabs_raw01.at: New test.",822,data/crawl/tar/patch_43.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6a61354ea0dd97af5c87643e9bf5dfd2a31f2cea,24 Apr 2012,"* src/compare.c (diff_dumpdir): Omit useless 'stat'.
",9,data/crawl/tar/patch_44.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=debc485626c0c143731b0ca229d18b48085bb2ef,18 Jan 2012,"tar: quote 'like this', not `like this'

This fixes some test failures recently introduced by gnulib updates
prompted by recent changes to the GNU coding standards,
which now advise to use quotes 'like this' or ""like this""
rather than `like this'.
* NEWS: Document this.
* README, README-hacking, doc/Makefile.am, scripts/backup.in:
* scripts/backup.sh.in, scripts/dump-remind.in:
* src/buffer.c, src/checkpoint.c, src/create.c, src/incremen.c:
* src/misc.c, src/names.c, src/sparse.c, src/transform.c:
* tests/incr02.at, tests/incremental.at, tests/multiv08.at:
* tests/sparse04.at, tests/star/README, tests/update01.at:
Quote 'like this' in comments.
* src/tar.h:
Quote ""like this"" in comments, when quoting English phrases rather
than code.
* configure.ac:
* scripts/xsparse.c (get_var, read_xheader, main):
* src/compare.c (diff_archive):
* src/extract.c (prepare_to_extract):
* src/tar.c (request_stdin, tar_set_quoting_style, doc, options)
(set_subcommand_option, report_textual_dates, parse_opt)
(decode_options, main):
* src/xheader.c (decx):
Quote 'like this' in diagnostics.
* doc/tar.texi (list, warnings, override)
(Selecting Archive Members, quoting styles, after, hard links)
(Sparse Recovery, Multi-Volume Archives, label):
Adjust documentation to match new output.
* tests/backup01.at, tests/incr01.at, tests/incr04.at:
* tests/label04.at, tests/label05.at, tests/link03.at:
* tests/listed02.at, tests/multiv03.at, tests/multiv05.at:
* tests/rename01.at, tests/rename02.at, tests/rename03.at:
* tests/volume.at:
Adjust tests to match new quoting behavior.",527,data/crawl/tar/patch_45.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9a82a0215b971725c835c640fb5f6e5b47ac214e,11 Jan 2012,"tar: fix core dump with --index-file=bad_path

* src/tar.c (decode_options): Exit cleanly if index file won't open.
Problem reported by Khanh-Dang Nguyen Thu Lam in
<http://lists.gnu.org/archive/html/bug-tar/2012-01/msg00018.html>.",4,data/crawl/tar/patch_46.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d88b2a613f4b1a5554e8c34c8f75b91abff5f0e9,15 Nov 2011,"Fix operation of --verify in conjunction with --listed-incremental

* src/common.h (clear_directory_table): New proto.
* src/incremen.c (clear_directory_table): New function.
* src/compare.c (diff_dumpdir): Take a pointer to struct
tar_stat_info as argument.
Initialize its fd.
(diff_archive): Update call to diff_dumpdir.
(verify_volume): Call clear_directory_table.",60,data/crawl/tar/patch_47.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=51b272f5723b782fb079b1cd55daf934331596b6,19 Sep 2011,"Upgrade tar-snapshot-edit script.

* scripts/tar-snapshot-edit: Update Perl syntax to work
correctly with more recent versions of Perl.  (The original
code worked with in the v5.8 timeframe but not with
Perl v5.10.1 and later.)
Add a ""-c"" option to check the snapshot file for invalid
field values.
Handle NFS indicator character (""+"") in version 0 and 1 files.
Preserve the original header/version line when editing version 1
or 2 files.
Tweak output formatting.
* doc/tar-snapshot-edit.texi: Update documentation.",390,data/crawl/tar/patch_48.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1f9b376c90f50836b1ca2517cda0bfcab75ad8ae,13 Aug 2011,"tar: --owner and --group names and numbers

The --owner and --group options now accept operands of the form
NAME:NUM, so that you can specify both symbolic name and numeric
ID for owner and group.  Also, in these options, NAME no longer
needs to be present in the current host's user and group
databases; this implements Debian enhancement request 136231
<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=136231> reported
by Mark W. Eichin, communicated by Thayne Harbaugh to bug-tar in
<http://lists.gnu.org/archive/html/bug-tar/2011-08/msg00001.html>.
* NEWS, doc/tar.texi (Option Summary, override): Document enhancement.
* src/common.h (group_name_option, owner_name_option): New decls.
* src/create.c (start_header): Don't assume owner and group names
are in current host database.
* src/tar.c (parse_owner_group): New function, for parsing NAME:NUM.
(parse_opt): Use it.
(decode_options): Initialize owner_name_option, group_name_option.
* tests/owner.at: New file, to test this enhancement.
* tests/Makefile.am (TESTSUITE_AT): Add it.
* tests/testsuite.at: Include it.",212,data/crawl/tar/patch_49.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=777042e024d4bf7357ffd060ad05763d463fe441,4 Nov 2010,"Run alternative decompression programs if the principal one is not
 available.

Some compression programs are able to handle various compression formats
(e.g. `gzip' can decompress files created by `compress', `xz' is able
to handle lzma, etc.)  Tar tries to use such programs for decompression
if the principal decompressor cannot be started.

* src/buffer.c (compress_type): Swap ct_none and ct_tar.
(archive_compression_type): New static variable.
(zip_magic): Remove program and option fields.
(zip_program): New structure and static.
(compress_program): Remove macro.
(find_zip_program): New static function.
(first_decompress_program,next_decompress_program): New functions.
(open_compressed_archive): Set archive_compression_type instead of
use_compress_program_option.
* src/common.h (first_decompress_program)
(next_decompress_program): New functions.
(WARN_DECOMPRESS_PROGRAM): New flag.
(WARN_VERBOSE_WARNINGS): Include WARN_DECOMPRESS_PROGRAM.
* src/warning.c (warning_args): Add ""decompress-program"".
(warning_types): Add WARN_DECOMPRESS_PROGRAM.
* src/system.c (run_decompress_program): New function.
(sys_child_open_for_uncompress): Use run_decompress_program
instead of calling execlp directly.",172,data/crawl/tar/patch_50.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f1fed3996a6c5b5f39ddb48cb5c88c09afe13fba,4 Nov 2010,"Run alternative decompression programs if the principal one is not
 available.

Some compression programs are able to handle various compression formats
(e.g. `gzip' can decompress files created by `compress', `xz' is able
to handle lzma, etc.)  Tar tries to use such programs for decompression
if the principal decompressor cannot be started.

* src/buffer.c (compress_type): Swap ct_none and ct_tar.
(archive_compression_type): New static variable.
(zip_magic): Remove program and option fields.
(zip_program): New structure and static.
(compress_program): Remove macro.
(find_zip_program): New static function.
(first_decompress_program,next_decompress_program): New functions.
(open_compressed_archive): Set archive_compression_type instead of
use_compress_program_option.
* src/common.h (first_decompress_program)
(next_decompress_program): New functions.
(WARN_DECOMPRESS_PROGRAM): New flag.
(WARN_VERBOSE_WARNINGS): Include WARN_DECOMPRESS_PROGRAM.
* src/warning.c (warning_args): Add ""decompress-program"".
(warning_types): Add WARN_DECOMPRESS_PROGRAM.
* src/system.c (run_decompress_program): New function.
(sys_child_open_for_uncompress): Use run_decompress_program
instead of calling execlp directly.",172,data/crawl/tar/patch_51.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9447e799ab5faa6e8be43de4000e1061e0879242,15 Oct 2010,"tar: use more-accurate diagnostic when intermediate mkdir fails

Without this change, if tar tried to extract a file A/B/C, noticed
that A/B didn't exist, attempted to mkdir A/B, and the mkdir
failed, it did not diagnose the mkdir failure, but simply reported
the failure to open A/B/C.  This sometimes led to confusion
because it wasn't clear what tar was trying to do, in particular
that tar tried to mkdir A/B.  With this patch, tar issues two
diagnostics in this case: one for A/B and the other for A/B/C.
Problem reported by Hauke Laging in
<http://lists.gnu.org/archive/html/bug-tar/2010-10/msg00020.html>.
* gnulib.modules: Remove faccessat.
* src/extract.c (make_directories): New arg INTERDIR_MADE.
Diagnose mkdir failure.  Return 0 on success, nonzero on failure,
as opposed to nonzero iff some directory was created.  All callers
changed.  Simplify the code when mkdir fails, by checking whether
the desired file exists unless errno==EEXIST: this is more robust.
* tests/extrac15.at: New test, to check this.
* tests/Makefile.am (TESTSUITE_AT): Add it.
* tests/testsuite.at: Include it.",105,data/crawl/tar/patch_52.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=14efeb9f956e38d7beaf3fbedb04d3f3bb9ece3a,23 Sep 2010,"tar: --dereference consistency

This closes another race condition, that occurs when overwriting a
symlink with a regular file.
* NEWS (--dereference consistency): New section.
* doc/tar.texi (Option Summary): Describe new --deference behavior.
(dereference): Likewise.  Remove discussion that I didn't follow,
even before --dereference was changed.
* src/common.h (deref_stat, set_file_atime): Adjust signatures.
* src/compare.c (diff_file, diff_multivol): Respect open_read_flags
instead of rolling our own flags.  This implements the new behavior
for --dereference.
(diff_file, diff_dumpdir): Likewise, for fstatat_flags.
* src/create.c: Adjust to set_file_atime signature change.
* src/extract.c (mark_after_links, file_newer_p, extract_dir):
Likewise.
* src/incremen.c (try_purge_directory): Likewise.
* src/misc.c (maybe_backup_file): Likewise.
* src/extract.c (file_newer_p): New arg STP.  All callers changed.
(maybe_recoverable): New arg REGULAR.  All callers changed.
Handle the case of overwriting a symlink with a regular file,
when --overwrite is specified but --dereference is not.
(open_output_file): Add O_CLOEXEC, O_NOCTTY, O_NONBLOCK for
consistency with file creation.  Add O_NOFOLLOW if
overwriting_old_files && ! dereference_option.
* src/incremen.c (update_parent_directory): Use fstat, not fstatat;
there's less to go wrong.
* src/misc.c (deref_stat): Remove DEREF arg.  All callers changed.
Instead, use fstatat_flags.
(set_file_atime): Remove ATFLAG arg.  All callers changed.
Instead, use fstatat_flags.
* src/names.c, src/update.c: Adjust to deref_stat signature change.
* src/tar.c (get_date_or_file): Use stat, not deref_stat, as this
is not a file to be archived.
* tests/Makefile.am (TESTSUITE_AT): Add extrac13.at.
* tests/extrac13.at: New file.
* tests/testsuite.at: Include it.",317,data/crawl/tar/patch_53.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4bde4f39d08f000f7e63a832b08a2525c1262f84,18 Sep 2010,"tar: prefer openat-style functions

This change replaces traditional functions like 'open' with the
POSIX.1-2008 functions like 'openat'.  Mostly this is an internal
refactoring change, in preparation for further changes to close
some races.
* gnulib.modules: Add faccessat, linkat, mkfifoat, renameat, symlinkat.
Remove save-cwd.
* src/Makefile.am (tar_LDADD): Add $(LIB_EACCESS).
* tests/Makefile.am (LDADD): Likewise.
* src/common.h (chdir_fd): New extern var.
* src/compare.c (diff_file, diff_multivol): Use openat instead of open.
* src/create.c (create_archive, restore_parent_fd): Likewise.
* src/extract.c (create_placeholder_file): Likewise.
* src/names.c (collect_and_sort_names): Likewise.
* src/update.c (append_file): Likewise.
* src/compare.c (diff_symlink): Use readlinkat instead of readlink.
* src/compare.c (diff_file): Use chdir_fd instead of AT_FDCWD.
* src/create.c (subfile_open, dump_file0): Likewise.
* src/extract.c (fd_chmod, fd_chown, fd_stat, set_stat):
(repair_delayed_set_stat, apply_nonancestor_delayed_set_stat):
Likewise.
* src/extract.c (mark_after_links, file_newer_p, extract_dir):
(extract_link, apply_delayed_links):
Use fstatat rather than stat or lstat.
* src/misc.c (maybe_backup_file, deref_stat): Likewise.
* src/extract.c (make_directories): Use mkdirat rather than mkdir.
Use faccessat rather than access.  This fixes a minor permissions
bug when tar is running setuid (who would want to do that?!).
(open_output_file): Use openat rather than open.
In the process, this removes support for Masscomp's O_CTG files,
which aren't compatible with openat's signature.  Masscomp!  Wow!
That's a blast from the past.  As far as I know, that operating
system hasn't been supported for more than 20 years.
(extract_link, apply_delayed_links):
Use linkat rather than link.
(extract_symlink, apply_delayed_links):
Use symlinkat rather than symlink.
(extract_node): Use mknodat rather than mknod.
(extract_fifo): Use mkfifoat rather than mkfifo.
(apply_delayed_links): Use unlinkat rather than unlink or rmdir.
* src/misc.c (safer_rmdir, remove_any_file): Likewise.
* src/unlink.c (flush_deferred_unlinks): Likewise.
* src/extract.c (rename_directory): Use renameat rather than rename.
* src/misc.c (maybe_backup_file, undo_last_backup): Likewise.
* src/misc.c: Don't include <save-cwd.h>; no longer needed now
that we're using openat etc.
(struct wd): Add member fd.  Remove members err and fd.  All uses
changed.
(CHDIR_CACHE_SIZE): New constant.
(wdcache, wdcache_count, chdir_fd): New vars.
(chdir_do): Use openat rather than save_cwd.  Keep the cache up
to date.  This code won't scale well, but is good enough for now.
* src/update.c (update_archive): Use openat + fdopendir +
streamsavedir rather than savedir.

This file is a placeholder. It will be replaced with the actual ChangeLog
by make dist.  Run make ChangeLog if you wish to create it earlier.",266,data/crawl/tar/patch_54.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6e08ab76949954eccd059db0d5da90e011a11c27,17 Sep 2010,"tar: extract permissions for . last

* src/common.h (must_be_dot_or_slash): New decl.
* src/extract.c (mark_after_links): New function, taking code
that used to be in create_placeholder_file.
(create_placeholder_file): Use it.
(delay_set_stat): Always delay setting status for . and /.
* src/misc.c (must_be_dot_or_slash): Now extern.
* tests/extrac12.at: New file.
* tests/Makefile.am (TESTSUITE_AT): Add it.
* tests/testsuite.at: Likewise.",87,data/crawl/tar/patch_55.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ea964cce810e8d4592299a784b81fade0f759ccb,17 Sep 2010,"tar: extract symlink attributes, close some symlink-related races

* NEWS: Describe symlink-extraction improvements.
* src/extract.c (enum permstatus): Remove.
(fchmod, fchown): Define dummy replacement macros if the system
does not supply them.
(implemented): New function.
(struct delayed_set_stat): Remove members invert_permissions,
permstatus.  They were too confusing, and tried to do too much
in too-little space.  Instead, add members current_mode,
current_mode_mask, interdir, atflag.  All users changed.
(struct delayed_link): Add members mode, atime, mtime, to support
platforms such as BSD where symlinks have these attributes.
All users changed.
(fd_chmod): Renamed from fdchmod.  New argument atflag.  Check for
operation not supported at run-time, not at configure-time.  Put
fd argument first.  All callers changed.
(fd_chown): Likewise, renaming from fdchown.
(fd_stat): Likewise, renaming from fdstat.
(set_mode): Remove args stat_info, cur_info, invert_permissions,
permstatus.  Add args mode, mode_mask, current_mode, current_mode_mask,
atflag.  All callers changed.  Close some races.  Use an easier-to
understand method for computing permissions.  Work around POSIX
incompatibility in Linux fchmodat.  Support extraction of symlink
modes, if the OS allows it.
(set_stat): Remove args cur_info, invert_permissions, permstatus.
Add args current_mode, current_mode_mask, interdir, atflag.
All callers changed.  Close some races.  Support extraction of
attributes on symlinks, if the OS allows it.
(delay_set_stat): Remove args invert_permissions, permstatus.
Add args current_mode, current_mode_mask, mode, atflag.
The ST arg can be null now, indicating that it's an intermediate
directory.  All callers changed.
(repair_delayed_set_stat, apply_nonancestor_delayed_set_stat):
Close some races.
(extract_dir): Also be paranoid if only --same-permissions, due
to semantics of setgid and setuid directories on some hosts.
This closes a race on those hosts.  Simplify calculation of
delay_set_stat arguments; the old code was truly strange and
probably wrong in some border cases.
(extract_dir, extract_file, extract_node, extract_fifo): Don't rely on
unspecified behavior in mode arg of open, mknod, etc.  Instead,
mask out those bits when creating the file, and add them later via
fchmod or chmodat.
(open_output_file): file_name is now const.  Add arg current_mode,
current_mode_mask.  All callers changed.  When overwriting old files,
refuse to overwrite something that is not a regular file, since
we're extracting a regular file.
(extract_file): Remove the FIXME comment.  Whatever the protection
issues were, they should be fixed now.  As a result of all the other
API changes, we now use fchmod etc. rather than chmod etc., closing
some races.
(create_placeholder_file, apply_delayed_links): Record desired
mode and times for symlinks, for OSes that support that.",575,data/crawl/tar/patch_56.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8da503cad6e883b30c05749149084d24319063b4,12 Sep 2010,"tar: live within system-supplied limits on file descriptors

* NEWS: Note the change.  Mention dirfd and fdopendir.
* gnulib.modules: Add dirfd and fdopendir.  The code was already
using fdopendir; dirfd is a new need.
* src/common.h (open_searchdir_flags, get_directory_entries):
(subfile_open, restore_parent_fd, tar_stat_close): New decls.
(check_exclusion_tags): Adjust signature to match code change.
* src/create.c (IMPOSTOR_ERRNO): New constant.
(check_exclusion_tags): First arg is now a struct tar_stat_info
const *, not an fd.  All callers changed.
(dump_regular_file, dump_file0): A zero fd represents an unused
slot, so play it safe if the fd member is zero here.  A negative
fd represents the negation of an errno value, so play it safe and
do not assign -1 to fd merely because an open fails.
(open_failure_recover, get_directory_entries, restore_parent_fd):
(subfile_open): New functions.  These help to recover from file
descriptor exhaustion.
(dump_dir, dump_file0): Use them.
(dump_file0): Use tar_stat_close instead of rolling our own close.
* src/incremen.c (scan_directory): Use get_directory_entries,
subfile_open, etc., to recover from file descriptor exhaustion.
* src/names.c (add_hierarchy_to_namelist): Likewise.
(collect_and_sort_names): A negative fd represents the negation
of an errno value, so play it safe and do not assign -1 to fd.
* src/tar.c (decode_options): Set open_searchdir_flags.
Add O_CLOEXEC to all the open flags.
(tar_stat_close): New function, which knows how to deal with
new convention for directory streams and file descriptors.
Diagnose 'close' failures.
(tar_stat_destroy): Use it.
* src/tar.h (struct tar_stat_info): New member dirstream.
fd now has the negative of an errno value, not merely -1, if
the file could not be opened, so that failures to reopen directories
are better-diagnosed later.
* tests/Makefile.am (TESTSUITE_AT): Add extrac11.at.
* tests/testsuite.at: Likewise.
* tests/extrac11.at: New file.",502,data/crawl/tar/patch_57.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a9895fd20c957ce184091672f1623a5bedd82407,24 Aug 2010,"tar: optimize -c --sparse when file is entirely sparse

* src/sparse.c (sparse_scan_file): If the file is entirely sparse,
that is, if ST_NBLOCKS is zero, don't bother scanning for nonzero
blocks.  Idea by Kit Westneat, communicated by Bernd Schubert in
<http://lists.gnu.org/archive/html/bug-tar/2010-08/msg00038.html>.
Also, omit unnecessary lseek at start of file.",54,data/crawl/tar/patch_58.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8c662c9f298467a459b5eb72deb8ed6f65e6dd95,18 Jul 2010,"tar: no need to report getcwd error if never using the result

* src/misc.c (struct wd): Rename 'saved' to 'err', with new semantics.
(chdir_arg, chdir_do): Adjust to new semantics.  Do not report an
error merely because save_cwd fails; report an error only if
save_cwd's result is needed later.
* tests/extrac09.at: New file, to test for bug that was fixed.
* tests/testsuite.at: Include it.
* tests/Makefile.am (TESTSUITE_AT): Add it.",84,data/crawl/tar/patch_59.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f6edb92580aa886a2a0189463c19189a050dc62d,16 Jun 2010,"Remove some lint, found by gcc -W etc.

* src/common.h (label_notfound): New decl.
* src/buffer.c (set_volume_start_time, compress_type):
(guess_seekable_archive, open_compressed_archive, init_buffer):
(_flush_write, archive_is-dev, increase_volume_number):
(change_tape_menu, try_new_volume, add_chunk_header):
(multi_volume_sync):
Declare as 'static' if it's not exported.
Use function prototype (void) rather than old-style ().
* src/checkpoint.c (expand_checkpoint_string): Likewise.
* src/incremen.c (dirlist_replace_prefix, makedumpdir, read_incr_db_2):
Likewise.
* src/list.c (print_volume_label): Likewise.
* src/misc.c (normalize_filename_x): Likewise.
* src/names.c (make_name, free_name, check_name_alloc, name_next_elt):
Likewise.
* src/tar.c (tar_list_quoting_style, add_exclude_array):
(set_stat_signal): Likewise.
* src/transform.c (new_transform, _single_transform_name_to_obstack):
(_transform_name_to_obstack): Likewise.
* src/unlink.c (dunlink_alloc): Likewise.

* src/buffer.c (struct zip_magic): Use const when appropriate.
* src/incremen.c (obstack_code_rename, write_directory_file_entry):
Likewise.
* src/sparse.c (COPY_STRING): Likewise.
* src/system.c (dec_to_env, time_to_env, oct_to_env, str_to_env):
(chr_to_env): Likewise.
* src/tar.c (tar_list_quoting_style, set_stat_signal): Likewise.

* src/extract.c (extract_node): Don't return garbage.

* src/names.c: Remove old-style declarations of getgrnam etc.
All modern systems declare these, and it's not worth the hassle
of ignoring the warnings on modern systems for old-style decls.",804,data/crawl/tar/patch_60.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b60e56fdb6fd8d82a1f92a4fa7781d9a3184dce1,27 Mar 2010,"Fix dead loop on extracting existing symlinks with the -k option.

* src/extract.c (create_placeholder_file)
(extract_link, extract_symlink)
(extract_node, extract_fifo): Handle all possible
return values from maybe_recoverable. This complements
8f390db92fc. Reported by Ico Doornekamp <bug-tar@zevv.nl>.
* NEWS: Update.",105,data/crawl/tar/patch_61.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=0ba8bdf5f3401fdc8c1595857ab69f6c65e04353,11 Mar 2010,"Fix `--test-label' and `--label -r' behavior.

* doc/tar.texi (Including a Label in the Archive): Revise
the section.
* NEWS: Update

* src/buffer.c (open_archive): Check volume label on
ACCESS_UPDATE as well.
* src/list.c (test_archive_label): Rewrite to match the
documentation.
* src/names.c (regex_usage_warning): Return int.
(names_notfound): Rewrite the conditional.
(label_notfound): New function.

* tests/label03.at: New testcase.
* tests/label04.at: New testcase.
* tests/label05.at: New testcase.
* tests/Makefile.am: Add new testcases.
* tests/testsuite.at: Likewise.",376,data/crawl/tar/patch_62.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c3fa22fc8023ad21ad32b13f934c3324756c9236,25 Jan 2010,"Read POSIX multivolume archives split at the header boundary.

* src/common.h (read_header_mode): New enum.
(read_header): Change type of the 3rd argument.
* src/list.c (read_header): Change type of the 3rd argument.
All callers updated.
* src/buffer.c (try_new_volume): Allow for volumes split at the
extended/ustar header boundary. This is against POSIX specs, but
we must be able to read such archives anyway.

* tests/multiv07.at: New test case.
* tests/Makefile.am: Add multiv07.at
* tests/testsuite.at: Likewise.

* src/compare.c: Update calls to read_header.
* src/delete.c: Likewise.
* src/update.c: Likewise.",157,data/crawl/tar/patch_63.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=166b7c7d028c3dbcfded5c834b9bf752d2fb41f0,22 Jan 2010,"Fix listing of volume labels (in particular in PAX archives).

* src/buffer.c (match_volume_label): Call set_volume_label.
(check_label_pattern): Get label string
as argument.
(match_volume_label): Handle volume labels stored in
global PAX headers.
* src/common.c (print_header,read_header): Change signature.
(read_header_primitive): Remove prototype.
* src/list.c (recent_global_header): New static.
(list_archive): Always print volume labels.
(read_header_primitive): Remove.
(read_header): Change the signature (all callers updated)
Save the recent global header.
(volume_label_printed): New static.
(simple_print_header): New function (ex-print_header).
(print_header): Change the signature (all callers updated).
For POSIX formats, print first volume header (if set).
* src/xheader.c (xheader_write_global): Write the data
accumulated in xhdr->stk even if keyword_global_override_list
is empty.
(xheader_read): On unexpected EOF, report error instead of
coredumping.
(XHDR_PROTECTED, XHDR_GLOBAL): New defines.
(struct xhdr_tab): Remove `protected' with `flags'. All uses updated.
(decg): If XHDR_GLOBAL bit is set, call the keyword's decode
method instead of adding it to `kwl'.

* src/compare.c: Update calls to read_header.
* src/create.c: Likewise.
* src/delete.c: Likewise.
* src/update.c: Likewise.
* src/extract.c: Likewise.
(extract_volhdr): Do not print ""Reading <label>"" statement, because
it is inconsistent: it is not printed if the volume begins with a
member continued from the previous volume.

* tests/label01.at: New testcase.
* tests/label02.at: New testcase.
* tests/Makefile.am, tests/testsuite.at: Add new testcases.",381,data/crawl/tar/patch_64.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cac45fffc58cc10056c528582ee4b78b8ee175e0,14 Oct 2009,"Rewrite update algorithm.

* src/common.h (namebuf_t): New typedef.
(namebuf_create, namebuf_free)
(namebuf_name): New prototypes.
(remname): New prototype.
* src/misc.c (struct namebuf): New structure.
(namebuf_create, namebuf_free)
(namebuf_name): New functions.
* src/create.c (dup_dir0): Remove is_avoided_name
checks. This is taken care of in update_archive.
* src/incremen.c (scan_directory): Use namebuf
to produce full file names.
* src/names.c (nametail): Remove extra level of
indirection. All uses updated.
(avoided_name_table, add_avoided_name)
(is_avoided_name): Remove.
* src/update.c (update_archive): Change algorithm.
Instead of adding unmodified files to the avoided_name
table, create namelist so that it contains only
modified files.

* tests/Makefile.am: Add update01.at, update02.at
* tests/testsuite.at: Likewise.
* tests/update.at (AT_KEYWORDS): Add update00.",416,data/crawl/tar/patch_65.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=63e092548a9b87c0be0f0b286c883e1f3d52294c,7 Oct 2009,"Provide a way to explicitly set mtime for extended header ustar
 blocks.

* src/tar.c (struct textual_date): ts is a copy of the structure,
not a pointer to it. Date is a copy as well, hence the `const' is
taken away.
(get_date_or_file): Return 0/1 depending on success/failure.
Copy timestamp to the `ts' member. Store a copy of the string
in `date'.
(report_textual_dates): Report only if verbose_option is set,
but always free the list.
(expand_pax_option): New function.
(parse_opt): Preprocess the argument to xheader_set_option with
expand_pax_option.
(decode_options): Call report_textual_dates unconditionally.
* src/xheader.c (exthdr_mtime_option, exthdr_mtime)
(globexthdr_mtime_option, globexthdr_mtime): New statics.
(xheader_set_keyword_equal): handle exthdr.mtime and globexthdr.mtime.
(xheader_write): Override `t' argument if a corresponding
exthdr.mtime or globexthdr.mtime option is set.
* NEWS: Update
* doc/tar.texi: Document the changes.",206,data/crawl/tar/patch_66.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4dfcd6c054a5e9e1a371c822a3be90564dd9b690,7 Oct 2009,"Fix bugs in handling the --remove-files option.

Make sure the files are deleted only if they were succesfully stored
to the archive.

* src/exit.c: New file.
* src/unlink.c: New file.
* src/Makefile.am (tar_SOURCES): Add exit.c and unlink.c.
* src/common.h: Include progname.h
(program_name): Remove global.
(records_written): New extern.
(queue_deferred_unlink, finish_deferred_unlinks): New prototypes.
(fatal_exit_hook): New extern.
* src/create.c (create_archive): Call finish_deferred_unlinks.
(dump_hard_link, dump_file0): Don't actually unlink the file,
queue it to deferred_unlinks instead.
* src/delete.c (records_written): Remove extern: declared in
common.h.
* src/extract.c (extract_archive): Set fatal_exit_hook.
(fatal_exit, xalloc_die): Move to exit.c
* src/system.c (sys_wait_for_child): Exit immediately
if the child dies or exits with a non-zero status.
(sys_child_open_for_compress)
(sys_child_open_for_uncompress): Use set_program_name,
instead of setting program_name directly.
* src/tar.c (main): Use set_program_name,
instead of setting program_name directly.

* tests/Makefile.am (TESTSUITE_AT): Add remfiles01.at
and remfiles02.at.
* tests/testsuite.at: Likewise.
* tests/gzip.at: Reflect the above changes.",401,data/crawl/tar/patch_67.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=92773d860f94323c14cc8c1b27436f2e73a174fd,16 Sep 2009,"Restore extra help output.

* src/tar.c (tar_list_quoting_styles): Change first argument to
struct obstack.
(format_default_settings): New function.
(show_default_settings)
(show_default_settings_fs): Removed.
(tar_help): Removed.
(tar_help_filter): New function.
(argp): Set help_filter.
(parse_opt): Fix error message.",370,data/crawl/tar/patch_68.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1bcbbcf1ff2c537ffa970dbf82e3843d4ad110e5,7 Aug 2009,"Improve listed incremental dumps.

The modified algorithm tries to avoid dumping the same
directory twice and ensures the order of the directories
in the resulting archive is the same, whatever their order
on the command line.  It also fixes the operation of
--listed-incremental -C.

* gnulib.modules: Add canonicalize
* src/common.h (incremental_level): New global.
(check_exclusion_tags): first argument is const.
(get_directory_contents): Add third argument.
(zap_slashes, normalize_filename): New prototypes.
(chdir_count): New prototype.
(WARN_VERBOSE_WARNINGS): New define.
(WARN_ALL): Exclude WARN_VERBOSE_WARNINGS.
* src/compare.c (diff_dumpdir): Update the call to get_directory_contents.
* src/create.c (check_exclusion_tags): First argument is const.
Use ISSLASH and DIRECTORY_SEPARATOR instead of referring to '/'.

* src/incremen.c (struct directory): New member `caname'.
(hash_directory_name): Rename to hash_directory_canonical_name. Operate
on the canonical name.
(compare_directory_names): Rename to compare_directory_canonical_names.
Operate on the canonical name.
(make_directory): Take two arguments.
(free_directory): Free caname.
(attach_directory): Create caname.
(find_directory): Use caname for lookups.
(PD_VERBOSE): Remove.
(PD_FORCE_INIT): New define.
(procdir): First argument is const.
Reinitialize directory if PD_FORCE_INIT bit is set.
Do not use PD_VERBOSE or verbose_option for issuing warnings.
Rely on WARNOPT instead.
Always set *entry.
(scan_directory): Take three arguments. The third one is a boolean
which is true if the directory is explicitly mentioned on the command
line.
(get_directory_contents): Remove.  Use scan_directory instead.
All callers updated.
(read_directory_file): Truncate the file if --level=0 is given.
* src/misc.c: Include canonicalize.h
(zap_slashes, normalize_filename): New functions.
(chdir_count): New function.
* src/names.c (add_hierarchy_to_namelist): Take three arguments, as
get_directory_contents and scan_directory.
(collect_and_sort_names): Allow at most one -C, before file name
arguments.
Read directory file after eventual changing to another directory.
Avoid adding the same directory under different pathnames to
the list.
* src/tar.c: New option --level.

* tests/incr03.at, tests/incr04.at, tests/listed01.at,
tests/listed02.at, tests/rename01.at, tests/rename02.at,
tests/rename03.at: Update for new tar behavior.
* tests/multiv01.at: Do not use --listed-incremental.",622,data/crawl/tar/patch_69.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c30c4ffb9fc874aafea6f6c91f3fc78595db4154,18 Jun 2009,"Remove files that were removed in CVS, but reappeared after migration
 to Git
",5265,data/crawl/tar/patch_70.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=af30244849448c775b3e447a84ba8b0249b4b697,18 Jun 2009,"Fix handling of sub-subprocess returns.

* src/system.c (wait_for_grandchild): New function.
(sys_child_open_for_compress)
(sys_child_open_for_uncompress): Use wait_for_grandchild
to manage grandchild return.",63,data/crawl/tar/patch_71.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8f390db92fc5890c824db9ebfa295a8a27d7251a,14 May 2009,"Do not issue errors on existing files when given the -k option

* Makefile.am (dist-hook): Fix rule.
* src/extract.c (maybe_recoverable): Return three-state value.
(extract_dir): Skip extraction if maybe_recoverable indicates so.
(extract_file): Likewise.",54,data/crawl/tar/patch_72.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ac6caa71bc6077d75ff5073f76f97d53225e78ae,7 Mar 2009,"Migrate to Git
",29623,data/crawl/tar/patch_73.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5fa60b8d4347e17e06411f0a63896cda5bdebc2a,5 Mar 2009,"Version 1.22
",125,data/crawl/tar/patch_74.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7b68ef3d918603f3afb03e939ba72f5cad10edf4,29 Dec 2008,"Fix testsuite and bootstrap. Implement -I.

* bootstrap.conf: Include size_max.
* gnulib.modules: Remove memset, rmdir. Replace strdup with
strdup-posix. Patch by Eric Blake.
* src/tar.c: Implement -I as a shorthand for --use-compress-program.
* doc/tar.texi: Document -I.
* tests/pipe.at, tests/shortrec.at: Account for eventual 'Record
size' output.
* tests/testsuite.at (AT_TAR_CHECK_HOOK): New define
(AT_TAR_WITH_HOOK, TAR_IGNREC_HOOK): New macros.",83,data/crawl/tar/patch_75.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7f6e6e6a3e4e9a66f86f0c781da0680a438df61a,25 Nov 2008,"Do not try to drain the input pipe before closing the archive.

* src/buffer.c (close_archive): Remove call to
sys_drain_input_pipe. Pass hit_eof as the second
argument to sys_wait_for_child.
* src/common.h (sys_drain_input_pipe): Remove
(sys_wait_for_child): Declare second argument.
* src/system.c (sys_drain_input_pipe): Remove.
(sys_wait_for_child): Take two arguments. The second one helps to
decide whether to tolerate child termination on SIGPIPE.",58,data/crawl/tar/patch_76.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b4ec8aedf9c8948bee9bf1635132a7da7a522611,30 Oct 2008,"* NEWS, configure.ac: Version 1.20.91 * doc/tar.texi: Document
 transformation scope flags. * src/common.h (transform_symlinks_option):
 Remove in favor of transformation scope flags. (XFORM_REGFILE, XFORM_LINK,
 XFORM_SYMLINK, XFORM_ALL): New macros. (transform_name,
 transform_member_name, transform_name_fp): Take an additional argument,
 specifying scope flags. * src/create.c: Reflect changes to transform_name. *
 src/extract.c (extract_link, extract_symlink): Remove calls to
 transform_member_name. It is done in read_header. * src/list.c
 (decode_xform): Reflect change in data type of 2nd argument.
 (transform_member_name): 2nd arg is int. (decode_header): Transform file name
 and link target names. * src/tar.c: Remove --transform-symlinks. *
 src/transform.c (struct transform): New member `flags'. (transform_flags):
 New variable. (parse_transform_expr): Parse transformation scope flags. Allow
 to set global flags using `flags=' syntax. (_transform_name_to_obstack,
 transform_name_fp) (transform_name): Take an additional argument, specifying
 scope flags.
",356,data/crawl/tar/patch_77.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=57bfbbde90dfcc18ee6b1e27c01ba915ecc56312,16 Oct 2008,"* src/common.h (transform_symlinks_option): New global. *
 src/create.c (dump_file0): Transform symlink targets only if explicitly
 required.  Thanks Cyril Strejc for reporting the problem. * src/tar.c
 (parse_opt): New options --transform-symlinks and --no-transform-symlinks.
 New alias --xform to the --transform option. * doc/tar.texi: Document
 --transform-symlinks * NEWS: Update. * THANKS: Update.

* src/names.c (name_gather): Use xzalloc.
* src/buffer.c (short_read): Move record size detection before
the loop.",159,data/crawl/tar/patch_78.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1d79c6734cfbd302e53358760b4c3fe3e7b9be61,24 Jul 2008,"Untabify
",790,data/crawl/tar/patch_79.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3af9cc0f1550e8c882f1a017727d41b54674c2d5,24 Jul 2008,"Fix multivolume archive creation when volume length=record size.

* src/tar.c (decode_options): Do not allow volume length less
than record size.
* src/buffer.c (_gnu_flush_write): Compensate for the effect
of eventual flush_archive occurring in the middle of buffer
move.
Increment records_written only if _flush_write was able to write
something.
* tests/multiv06.at: New testcase.
* tests/Makefile.am, test/testsuite.at: Add tests/multiv06.at",96,data/crawl/tar/patch_80.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c9a7297a8a135c0afd8f984b91578a822ba3b04c,26 Jun 2008,"* configure.ac, NEWS: Version 1.20.90 * doc/tar.texi: Document -J,
 --no-auto-compress, etc. * src/buffer.c (ct_tar): New constant. (magic): Add
 lzop support.  Proposed by Kevin Day <thekevinday@gmail.com>.
 (check_compressed_archive): Do not use autodetect if the compression program
 was specified explicitly. Fall back to analyzing archive name, if the
 autodetection fails. * src/suffix.c: Add .lzo * src/tar.c: New options --lzop
 and --no-auto-compress. New short option -J (alias for --lzma).
",171,data/crawl/tar/patch_81.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=985637ab5a7448cf89e59ac433229a4fef2d265d,26 Jun 2008,"Bugfixes.

* src/buffer.c (try_new_volume): Print more information with error
diagnostics.
(_gnu_flush_write): Improve error checking.  Adjust
real_s_sizeleft before calling new_volume to avoid creating
malformed multivolume headers.
* tests/delete05.at, tests/gzip.at, tests/ignfail.at,
tests/longv7.at, tests/lustar01.at, tests/lustar02.at,
tests/shortfile.at: Update to match new diagnostic wording
(see 2008-05-06).

* NEWS: Update.",57,data/crawl/tar/patch_82.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8aa729b90e579cce02d1ef77256c3c4f7b8af29c,5 May 2008,"(main): Reword the ""delayed error"" message. New wording proposed by
 Karl Berry.
",2,data/crawl/tar/patch_83.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=338591a48690ba9047df62fb52154171c90ee7e7,4 Feb 2008,"Support multiple --transform options. Support semicolon-separated
 lists of replace expressions.
",200,data/crawl/tar/patch_84.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c0e0d06e692c95b11c64f35552445b2629553cfb,31 Jan 2008,"* doc/tar.texi: Update Back-Cover text to reflect new GNU wording.

2007-12-17  Paul Eggert  <eggert@cs.ucla.edu>

Exit with nonzero status if a close fails on an archive.
Problem (and initial trivial fix)
* src/buffer.c (close_archive, new_volume): close_error, not close_warn.",40,data/crawl/tar/patch_85.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5f4d99491da44c47654f3b4f0cab30ed84328138,5 Dec 2007,"(check_compressed_archive): Do not bail out if the file is too short,
 set boolean flag, passed as an argument instead.  This fixes a bug introduced
 on 2007-08-24. See also tests/shortupd.at.
",31,data/crawl/tar/patch_86.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5099ddf6cc764dcb55c42a5d5a3415ce03ac191c,30 Oct 2007,"Document --hard-dereference and --checkpoint-action options. Improve
 documentation of --check-links.
",333,data/crawl/tar/patch_87.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=bed7de0271a509684d5adbb5deaaecd784ac8266,29 Oct 2007,"(sys_exec_checkpoint_script): New function. (sys_exec_info_script):
 Restore SIGPIPE handler.
",52,data/crawl/tar/patch_88.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=17cbd4862c3d44e55248195421c59e41a55e9165,29 Oct 2007,"checkpoint handling
",235,data/crawl/tar/patch_89.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=efe6609cd997116b4f29181b57117ff6d91c7d98,26 Sep 2007,"(struct directory): New member tagfile (make_directory): Initialize
 tagfile to NULL (procdir): New argument: entry Hanlde exclusion tags.
 (makedumpdir): Take into account directory->tagfile. (scan_directory): Hanlde
 exclusion tags.
",65,data/crawl/tar/patch_90.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a1b1b7cc8aa3e3787834dccc96b516f467225b7b,26 Sep 2007,"(exclusion_tag_warning, check_exclusion_tags): New prototypes
",6,data/crawl/tar/patch_91.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=87ac3207fbc12e3f186f338b36012d1ee40e90c1,26 Aug 2007,"Don't include <getline.h>.  No longer needed.
",76,data/crawl/tar/patch_92.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7c0b81cbb9790ab9402e983a4d677a8ebde010d5,24 Aug 2007,"(check_compressed_archive): Detect files smaller than 512 bytes.
",11,data/crawl/tar/patch_93.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=967fcb93181ffea221561bc09224cc6172aadbba,30 May 2007," (decx): Unknown pax keywords produce a warning,not error.
",4,data/crawl/tar/patch_94.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=18641602c18523705cf89f949a15dc02fe66e970,3 Apr 2007,"Don't include <sys/time.h>, <sys/resource.h>; no longer needed.
",61,data/crawl/tar/patch_95.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b9588c472262be876400e0804c529c57102d6f0d,23 Jan 2007,"(struct exclude_tag): rename to exclusion_tag (check_exclusion_tags):
 New function (cachedir_file_p): New function (from check_cache_directory)
 (dump_dir0,dump_file0): Use check_exclusion_tags
",215,data/crawl/tar/patch_96.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=173d3229e3d4c7973cd8dba9c0113e023e7e13c6,19 Jan 2007,"Update
",12,data/crawl/tar/patch_97.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=868ee7402884604c679ee13f6fe9772e05ba3ddd,19 Jan 2007,"(expand_sparse): use ftruncate to handle the trailing hole
",23,data/crawl/tar/patch_98.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=892cdea8a112e1aeb03c470204ec72a58607b058,19 Jan 2007,"Require strerror
",1,data/crawl/tar/patch_99.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=445d95be07e497f6b1e3c94d20c5a80cfbf23af5,4 Jan 2007,"(diff_dumpdir): Compare directory contents using dumpdir_cmp.  Do not
 free dumpdir_buffer, it will leave the incremental directory table in the
 inconsistent state and trigger full dump. (read_and_process): Process
 dumpdirs no matter what the archive format.
",66,data/crawl/tar/patch_100.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8e3f3adf9888cca4acedfe005d277867c999fcb3,12 Dec 2006,"Port to Forte Developer 7 C 5.4 and C99. * src/common.h
 (add_exclude_tag): Add decl; C99 requires this and Forte warns about it. *
 src/incremen.c: Include <mkdtemp.h> for mkdtemp prototype, for same reason. *
 src/misc.c (get_max_open_files): Rewrite to avoid code that Forte C complains
 about as being unreachable. * src/xheader.c (mtime_code): Rewrite to avoid
 Forte error reported by Trond Hasle Amundsen.

* src/incremen.c (compare_dirnames): Rewrite to avoid casts.
* src/utf8.c (string_ascii_p): Likewise.
* src/xheader.c (mtime_coder, volume_size_coder, volume_offset_coder):
Likewise.

SCALAR(0x8283218)",72,data/crawl/tar/patch_101.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=49ea4c50575f66e8f0450e463e1d882eed6255ec,30 Nov 2006,"* NEWS: Remove support for mangled names. * doc/tar.texi (verbose
 tutorial): Likewise. * src/Makefile.am (tar_SOURCES): Remove mangle.c. *
 src/common.h (extract_mangle): Remove decl. * src/extract.c
 (extract_mangle_wrapper): Remove. (prepare_to_extract): Remove support for
 mangled names. * src/list.c (read_and, print_header): Likewise. *
 src/mangle.c: Remove. * src/tar.h (GNUTYPE_NAMES): Remove.
",174,data/crawl/tar/patch_102.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c930802f313aa29b479edc6f9782897db608ce64,30 Nov 2006,"Port to latest gnulib.  There were a lot of changes, so the simplest
 way to get this up and running was to switch to coreutils bootstrap
 procedure.  I noticed one feature missing after this merge: the ability to
 update a single .po file.  I can add that later if need be. * README-cvs,
 bootstrap.conf: New files. * lib/.cvsignore: Remove Makefile.am,
 printf-parse.c, vasnprintf.c. * lib/printf-parse.c, lib/vasnprintf.c: New
 files, from coreutils, to override gnulib, so that we don't need xsize.h. *
 bootstrap: Replace with coreutils bootstrap, except add support for paxutils.
 * configure.ac (gl_USE_SYSTEM_EXTENSIONS): Remove, as gl_EARLY now does this.
 (gl_EARLY, gl_INIT): Add. (tar_GNULIB): Remove. * gnulib.modules: Add
 configmake. * lib/Makefile.tmpl: Remove, replacing with.... *
 lib/Makefile.am: New file. * src/Makefile.am (tar.o): Remove dependency:
 Automake does this for us. * src/tar.c: Include <configmake.h> and
 <rmt-command.h>, not <localedir.h>.
",2429,data/crawl/tar/patch_103.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b0765e257cf27e5a1fd78715f1b8bef3e30890a5,1 Nov 2006,"(enum read_file_list_state.file_list_skip): New value
 (read_name_from_file): Skip zero-length entries
",62,data/crawl/tar/patch_104.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=372638ae7abfba3175ef2d10d265da6fea0dc33f,14 Oct 2006,"Do not attempt to close stderr after call to close_stdout.
",9,data/crawl/tar/patch_105.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f2541c66cd25b855cf4b2871f1453aeaa6521b75,14 Oct 2006,"(Synopsis): Document tar exit codes.
",34,data/crawl/tar/patch_106.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=05805868f26533141b8b02d5a6449965652ef187,7 Aug 2006,"(read_incr_db_01): Check input strings more carefully.  Do not pass
 arbitrary char values to isspace, as this has undefined behavior.  Likewise
 for assigning arbitrary uintmax_t values to other types. (read_negative_num,
 read_unsigned_num, read_timespec): New functions, to check input values a bit
 more carefuly. (read_num): Use read_unsigned_num.  New arg MAX_VAL; all
 callers changed. (read_incr_db_2): Use these new functions. Use a consistent
 diagnostic for unexpected EOF. (read_directory_file): Do not assign arbitrary
 uintmax_t value to int. (read_timespec, write_directory_file_entry,
 write_directory_file): Handle negative time_t values correctly.  We don't
 bother to do this with pre-2 formats, since presumably the time stamps were
 output incorrectly.
",434,data/crawl/tar/patch_107.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=711064182107ecdbc43965752fcaf88490711684,24 Jul 2006,"(decode_options): Do not require -L with -M -Hpax. It could be needed
 in future, but currently it is not.
",7,data/crawl/tar/patch_108.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=36fe16aaf5ff2761fca6486a5416ca9bcce5717e,6 Jul 2006,"(decode_options): Initialize stdlis
",10,data/crawl/tar/patch_109.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=89f1667fdbb8c6c05f666690c93c485e9c1a12eb,6 Jul 2006,"(_open_archive): Remove stdlis initialization
",16,data/crawl/tar/patch_110.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6488588c5fc97c8d4d6a86be76016ca980fc871f,26 Jun 2006,"Update
",1908,data/crawl/tar/patch_111.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=39e5d9182c02b0a5204d406794640ef6e71bdcb8,25 Jun 2006,"(Other Tars): New node describing how to extract GNU-specific member
 formats using third-party tars.
",375,data/crawl/tar/patch_112.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=bf5ba3dbefa4878d712b83ea16c95220c2197417,25 Jun 2006,"A sample utility to expand sparse files extracted by third-party
 tars. It is not meant to be installed nor to be included in the distribution.
 It is here, so that it can be obtained either from CVS or from the tar web
 site.
",469,data/crawl/tar/patch_113.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d0201294c0978972fa1ce303d4b56de5cef48ee3,24 Jun 2006,"(xhdr_tab.decoder): pass keyword as a second argument. All callers
 changed. (decode_record): Check for numeric overflow (xheader_string_end):
 Return boolean value. Check for possible numeric overflow
",170,data/crawl/tar/patch_114.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4b3dd17c002c2499c60c957780db10011805f015,24 Jun 2006,"(pax_dump_header_0): Return false if xheader_string_end fails (for
 0.1 formats). (pax_dump_header): Return meaningful value
",54,data/crawl/tar/patch_115.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1001c1b3266574be6e024d0f70a3bd035d569643,23 Jun 2006,"New option --sparse-version
",28,data/crawl/tar/patch_116.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=090d1d36ae038a82d2b4bb54a8464bb7629188b7,23 Jun 2006,"Implement sparse format versioning. Implement new version (1.0) of
 PAX sparse format. (pax_sparse_member_p): Fix condition (pax_dump_header): A
 dispatcher function (pax_dump_header_0,pax_dump_header_1): New functions.
 (pax_optab): Update (oldgnu_dump_header): Minor fix: make sure
 sparse_header.isextended is set before calling set_next_block_after
",283,data/crawl/tar/patch_117.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ab1964205372c8a1e85fd7576966869a2d50d141,21 Jun 2006,"Implement new option, --mtime, allowing to set modification times for
 all archive members during creation. (struct tar_args): textual_date_option
 replaced with a linked list textual_date. All references updated.
 (get_date_or_file,report_textual_dates): New functions.
",116,data/crawl/tar/patch_118.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=300210aa1576ce00b689430b361a70cbf79989d6,20 Jun 2006,"(struct name.explicit): Remove Use variable names in all declarations
 (name_scan): Remove second argument
",173,data/crawl/tar/patch_119.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1e3568d947425ad6c60c3a84c20ad94c1e70070a,12 Jun 2006,"(options, parse_opt): Allow for optional argument to the --totals
 option, which specifies a signal upon delivery of which the statistics must
 be output. (main): Call print_total_stats if total_option is set.
",72,data/crawl/tar/patch_120.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8c10111c66c83092f53a8ed029552afd780a8bca,12 Jun 2006,"(total_blocks_deleted): New variable (set_start_time): Set
 volume_start_time and last_stat_time as well (set_volume_start_time): New
 function (compute_duration): Do not call set_start_time, update
 last_stat_time instead. Use it in calculation instead of start_time, which is
 now set only once, upon startup. (print_total_written): Removed.
 (print_total_stats): New function for printing byte/speed statistics.
 (_open_archive): Detect attempts to update compressed archives.
 (_gnu_flush_write): Always update prev_written. (open_archive): Call
 set_volume_start_time.
",90,data/crawl/tar/patch_121.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4ef056729e5dc97952d04590afe33422ff6bb938,11 Jun 2006,"(xheader_set_single_keyword): Fix typo. (decode_time): Avoid using
 gotos.
",51,data/crawl/tar/patch_122.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f9bd340c1bdcb47ce99e33bc995ef28de5f6d2eb,8 Jun 2006,"--checkpoint takes an optional argument specifying number of records
 between two successive checkpoints (proposed by Jason Armistead on
 2004-06-22).Optional dot starting the argument means ""print dots instead of
 textual checkpoints"". (tar_help): New function
",108,data/crawl/tar/patch_123.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5daab19c2729010db985ffcb71bb24097ea24120,8 Jun 2006,"Implement more flexible checkpoint style
",91,data/crawl/tar/patch_124.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2d2e1d411e09126a7ed82ad774e24082914a51ce,8 Jun 2006,"(dumpdir_locate,obstack_code_rename,purge_directory): Re-implement
 renaming. Introduce X control code. (make_tmp_dir_name): Remove
",212,data/crawl/tar/patch_125.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9d2e8df19540bfa074d818f8b3d3a7759bc4682a,6 Jun 2006,"Update
",4387,data/crawl/tar/patch_126.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c8aa01c80c9154b1153a4662a66ac8a5f43d7e30,2 Jun 2006,"New file
",378,data/crawl/tar/patch_127.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8b471d55ffddb1893fc0e8b78434ceb352f53119,25 May 2006,"Rewritten handling of member names in the command line. Tar no longer
 attempts to guess globbing patterns, instead it relies on --wildcard option.
 (init_names): Removed. (struct name_elt): New structure. (name_array): Change
 type to struct name_elt. All references updated (name_add_name,name_add_dir):
 New functions (name_next_elt): New function (name_next): Rewritten using
 name_next_elt. (namelist_match): Rewritten pattern matching using
 exclude_fnmatch. (names_notfound): Warn if globbing patterns were used
 without --wildcards option
",284,data/crawl/tar/patch_128.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c9e7465642f8dc879ea589b628176e6c9b6656bf,8 May 2006,"(struct directory.contents, flags): New members (nfs,found,new):
 Remove. Replaced by appropriate bitmask values in `flags' field. All uses
 updated. (directory_meta_table): New table. (hash_directory): Rename to
 hash_directory_name (compare_directories): Rename to compare_directory_names
 (hash_directory_meta,compare_directory_meta,find_directory_meta): New
 functions (compare_dirents): Removed (note_directory): Get 7th argument:
 directory contents. All callers updated (dumpdir_locate,makedumpdir): New
 functions (scan_directory): Rewritten. Use makedumpdir to create a sorted
 dumpdir array. This makes the obstack argument unnecessary. Besides,
 ALL_CHILDREN flag is set only for new directories. (procdir): Change return
 type to struct directory. Return immediately if the directory was already
 initialized. Discover directory renames using directory_meta_table.
 (append_incremental_renames): New function. (read_directory_file,
 write_directory_file): Use new snapshot file format.
",1158,data/crawl/tar/patch_129.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a0b4431f26a72addb201c306ae02c2e12c2d5092,8 May 2006,"(rename_directory): New function
",36,data/crawl/tar/patch_130.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=90b061cf55cb47cddcb66de45538da336efd7a99,11 Apr 2006,"Minor changes
",5,data/crawl/tar/patch_131.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=84378fa99ae3ce256fea9eb25d8ae999d1c91fdf,7 Feb 2006,"* gnulib.modules: Add closeout, exitfial. * lib/.cvsignore: Add
 __fpending.c, __fpending.h, closeout.c, closeout.h. * src/buffer.c: Incluse
 closeout.h. (_open_archive): Use freopen rather than fopen, so that stdlis is
 always either stdout or stderr.  Use close_stdout_set_file_name to report its
 name. * src/tar.c: Include closeout.h and exitfail.h. (parse_opt, usage):
 Call close_stdout as appropriate, to check for write errors.
 (decode_options): Exit with status TAREXIT_FAILURE, not 1. (main): Set
 exit_failure, to exit with proper status on memory allocation failure and the
 like. Use close_stdout rather than rolling our own test.
",122,data/crawl/tar/patch_132.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=514ea6ead42ca8d4c90ab2fdb6294cfabc62510a,18 Jan 2006,"Implement new options --quoting-style, --quote-chars and
 --no-quote-chars.
",58,data/crawl/tar/patch_133.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7d822e225e841cb5b896de7288e1565357561d80,18 Jan 2006,"(DEFAULT_QUOTING_STYLE): New configuration variable
",19,data/crawl/tar/patch_134.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f03fc1e078693d5315031739cf15b092349ab93c,9 Dec 2005,"(read_directory_file): Fix format string
",2,data/crawl/tar/patch_135.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a169d65b94722c55b0daa20997a1cb02307159cf,8 Dec 2005,"(gid_to_chars, major_to_chars, minor_to_chars) (mode_to_chars,
 off_to_chars, size_to_chars, time_to_chars) (uid_to_chars, uintmax_to_chars):
 Return bool (to_chars): Return bool (start_header): Check return values of
 convertion routines. Fail if unable to store data in the header.
",237,data/crawl/tar/patch_136.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=49e7ba5b17aa74483e9d9debdfd31a7748dad8d1,7 Dec 2005,"Following the discussion with Karl Berry, discontinue using @value{}
 substitutions for Texinfo commands. Properly index all long options. Print a
 separate long option index.
",1572,data/crawl/tar/patch_137.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2e7a943d0ea47fd679469f20409a7c6673993522,6 Dec 2005,"(options): Add --restrict option. Use macros for option grouping.
 (license): Print full list of copyright years
",368,data/crawl/tar/patch_138.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ea019af0cc9a7609f128568c3b8b5c528cb6e1f3,6 Dec 2005,"(sys_exec_info_script): New function.
",48,data/crawl/tar/patch_139.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a5da71b1421e2f6850d3057aef837e67ded012e3,6 Dec 2005,"Document --to-command and --info-script options. Add missing xrefs.
",421,data/crawl/tar/patch_140.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=aa976a517088ba75fa0168b47803b3988f89c9c3,29 Nov 2005,"* NEWS: New option --atime-preserve=system, which uses O_NOATIME.

* configure.ac: Prefer AC_CHECK_HEADERS_ONCE to AC_CHECK_HEADERS.
Check for stropts.h and sys/filio.h too, for _FIOSATIME.
* doc/tar.texi: Change ""modification time"" to ""data modification
time"", ""change time"" to ""status change time"", and ""filesystem"" to
""file system"", so that we use terminology consistent with POSIX.
Use American spacing rather than French for sentence ends.
""non-dependable"" -> ""undependable"".
(Option Summary, Attributes): Explain better the pitfalls of the
--atime-preserve option, and suggest read-only mounts,loopback
mounts, and noatime mounts for older systems.
* doc/value.texi (op-atime-preserve-system): Renamed from
op-atime-preserver-system to fix a misspelling.
* src/common.h (enum atime_preserve): Use lower case for enum values.
* src/compare.c: Don't include utimens.h; no longer needed.
(diff_file): Use set_file_atime rather than utimens; avoid closing
diff_handle until after this, so that we can set the file time stamp
via the file descriptor rather than via its name.
* src/create.c: Don't include utimens.h; no longer needed.
(dump_regular_finish): Remove.  All callers now do its work inline.
(dump_dir): New arg FD.  All callers changed.
Use fdsavedir rather than savedir.
(unknown_file_error): Arg is a const pointer now.
(dump_file0): 2nd arg is a const pointer now.
Treat directories more like files, with respect to --atime-preserve.
For example, also warn if a directory changes while we are dumping it.
Prefer file descriptors to file names when retrieving/setting file
attributes; this saves path-resolution time and allows us to avoid
changing mtime/ctime on Solaris when restoring atime as root.
Use O_DIRECTORY when opening directories, to avoid some race conditions.
Do not reset atime if mtime has changed.  Report an error if
we cannot reset atime.

First cut at adding support for --atime-preserve=system.
* doc/tar.texi (Option Summary): First cut at documenting it.
All other uses of --atime-preserve changed to --atime-preserve=replace.
* doc/value.texi (op-atime-preserve-replace, op-atime-preserver-system):
New.
(op-atime-preserve): Mention METHOD.
* src/common.h (atime_preserve): New enum.
(atime_preserve_option): Now of the enum type rather than bool.
All uses changed.
* src/compare.c (diff_file): Read with O_NOATIME if asked for.
* src/create.c (dump_file0): Read regular and CTG files with O_NOATIME
if asked for.
* src/tar.c (usage): Mention new usage.
(parse_opt): Parse new usage.",800,data/crawl/tar/patch_141.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b5775215d74cb811a0bff389ca06b7ad81cb9362,11 Nov 2005,"(confirm): Rewritten using rpmatch. (decode_options): Minor
 optimizations (main): Call stdopen() to ensure the first three descriptors
 are open.
",112,data/crawl/tar/patch_142.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5b1df7b55e9a77587984511e222b70d01b637205,11 Nov 2005,"(flush_write,flush_read): Change data type. (flush_archive): Compute
 actual buffer fill level before calling low level function. (close_archive):
 Call flush_archive again if the first call resulted in partially filled
 buffer. (try_new_volume): Rewritten handling of initial headers.
 (add_chunk_header): New function. Write an additional header before the
 continuation chunk. The purpose of the header is to allow third-party tars to
 extract the member. (simple_flush_write): Take an argument.
 (_gnu_flush_write): Correctly handle partially filled buffers.
",185,data/crawl/tar/patch_143.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=737b0251de867074882619e7304be721749fcfd9,9 Nov 2005,"Rewritten in a more modular fashion to provide GNU extensions
 (multi-volume archives and archive labels) in pax format.
 (volume_label,continued_file_name,continued_file_size)
 (continued_file_offset): New globals. (save_name,save_totsize,save_sizeleft):
 Make static (mv_begin,mv_end,mv_total_size,mv_size_left): New functions
 (open_archive,flush_write,flush_read): Rewritten
",954,data/crawl/tar/patch_144.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=374ae10d39e9e52789a00202c831a1c7c45e1610,7 Nov 2005,"(xheader_keyword_deleted_p): Remove static qualifier. (struct
 xhdr_tab.decoder): Change prototype. POSIX allows string values to contain
 embedded nulls, so take an extra argument specifying the length of the
 string. (decx,decg,dummy_decoder,atime_decoder,gid_decoder)
 (gname_decoder,linkpath_decoder,ctime_decoder,mtime_decoder)
 (path_decoder,size_decoder,uid_decoder,uname_decoder)
 (sparse_size_decoder,sparse_numblocks_decoder)
 (sparse_offset_decoder,sparse_numbytes_decoder): Likewise. (decode_record):
 Pass value length to the handler (run_override_list): Pass value length to
 the decoder (xheader_print_n): New function (xheader_print): Rewritten using
 xheader_print_n (xheader_finish): Do not rely om strlen to compute the length
 of the collected string: it can contain embedded nulls
 (xheader_string_begin,xheader_string_add,xheader_string_end): New functions.
 (sparse_map_decoder,dumpdir_coder,dumpdir_decoder): New functions. Handle
 GNU.sparse.map and GNU.dumpdir variables. (xhdr_tab): Add new variables.
",275,data/crawl/tar/patch_145.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f6458a827ae7a2c41616490f653714068072b257,7 Nov 2005,"(list_archive): Handle incremental backups in pax format.
 (decode_header): Initialize stat_info.dumpdir
",47,data/crawl/tar/patch_146.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=08a8d2dec63967653c7f54a1b4b7cb49c3c12679,7 Nov 2005,"(dumpdir_size, get_gnu_dumpdir): New functions. (purge_directory):
 Use stat_info.dumpdir instead of getting its value explicitely.
",80,data/crawl/tar/patch_147.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1e304fc5fd4fba5455057e74b09d08f954753340,5 Nov 2005,"(struct directory.mtime): New member. (note_directory): Take
 additional arguments. All callers updated. (scan_directory): Updated to use
 more metadata. In particular, this allows to correctly detect renamed files.
 (read_directory_file,write_directory_file) (write_directory_file_entry):
 Support new directory file format.
",284,data/crawl/tar/patch_148.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9684c2728d35d24b5c6cc431daf87c613170e95a,28 Oct 2005,"(diff_dumpdir): Pass a valid device number to get_directory_contents.
",17,data/crawl/tar/patch_149.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=35b9ca72db64fe46b5cb5c0057b1151d40ec8395,4 Oct 2005,"(decode_options): Report error if -A or -r is used together with
 compression option.
",5,data/crawl/tar/patch_150.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=af5d05729ade7f6d6f1552df31bce4c3dbc37247,12 Sep 2005,"Treat fishy-looking hard links like fishy-looking symlinks. (struct
 delayed_set_stat): Rename after_symlinks member to after_links.  All uses
 changed. (struct delayed_link): Renamed from struct delayed_symlink. All uses
 changed.  New member is_symlink. (delayed_link_head): Renamed from
 delayed_symlink_head.  All uses changed. (create_placeholder_file): New
 function, taken from extract_symlink. (extract_link): Create placeholders for
 fishy-looking hard links. (extract_symlink): Move code into
 create_placeholder_file. (apply_delayed_links): Renamed from
 apply_delayed_symlinks. All uses changed.  Create both hard links and
 symlinks.
",230,data/crawl/tar/patch_151.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=040b5ab5f969f9ee6c69a54bc284e2ff57b86556,23 Jun 2005,"A sweep of the sparse code prompted by a bug report by Jim Meyering.
 * src/sparse.c: Include <inttostr.h>. (struct tar_sparse_file): offset and
 dumped_size are off_t, not size_t.  optab is now const *. (dump_zeros):
 Return bool success flag, not off_t. All callers changed. Use a constant-zero
 buffer rather than clearing a buffer each time. Don't mess up if write fails.
 (dump_zeros, check_sparse_region): Don't assume off_t is no wider than
 size_t. (tar_sparse_init): Don't bother clearing a field that is already
 clear. (zero_block_p): First arg is const *, not *. (clear_block,
 SPARSES_INIT_COUNT): Remove. (sparse_add_map): First arg is now struct
 start_stat_info *, not struct tar_sparse_file *.  All callers changed. Use
 x2nrealloc to check for size_t overflow. (parse_scan_file): Cache
 commonly-used parts of file. Use an auto buffer, not a static one. Don't
 bother clearing the buffer; not needed. Don't bother clearing items that are
 already clear. (oldgnu_optab, star_optab, pax_optab): Now const.
 (sparse_dump_region): Don't bother clearing the buffer before reading into
 it; just clear the parts that aren't read into. (sparse_dump_file): Clear the
 whole local variable 'file'. (diff_buffer): Remove; now a local var.
 (check_sparse_region): Don't bother clearing buffer before reading into it. 
 Don't assume off_t is promoted to long. (oldgnu_get_sparse_info,
 star_get_sparse_info): Use an auto status, not static. * src/tar.h (struct
 tar_stat_info): had_trailing_slash is now bool, not int. * src/xheader.c
 (sparse_offset_coder, sparse_numbytes_coder): Rewrite to avoid cast.
 (sparse_offset_decoder, sparse_numbytes_decoder): Diagnose excess entries
 rather than crashing.
",225,data/crawl/tar/patch_152.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d659cbaccdc1f3279c49107cf15f15a639738529,22 Jun 2005,"Carefully crafted invalid headers can cause buffer overrun. Invalid
 header fields go undiagnosed. Some valid time strings are ignored.

* NEWS: Better support for full-resolution time stamps.
The -v option now prints time stamps only to 1-minute resolution.
* gnulib.modules: Add utimens.
* lib/.cvsignore: Add imaxtostr.c, inttostr.c, inttostr.h,
offtostr.c, umaxtostr.c, utimens.c, utimens.h.  Remove paxconvert.c.
* lib/Makefile.tmpl (libtar_a_SOURCES): Remove paxconvert.c.
* lib/paxconvert.c: Remove; superseded by umaxtostr.c.
* po/POTFILES.in: Remove lib/paxconvert.c.  Add lib/xalloc-die.c,
lib/obstack.c.
* src/buffer.c (set_start_time, compute_duration, start_time):
Use gettime rather than rolling our own code.
* src/common.h (OLDGNU_NAME_FIELD_SIZE, MAXOCTAL11, MAXOCTAL7): Remove.
(newer_ctime_option): Remove.
(timespec_lt): New function.
(OLDER_STAT_TIME): Use it.
(string_to_chars): First arg is char const *, not char *.
(tartime): Time arg is now struct timespec.  New bool arg.
All callers changed.
(code_ns_fraction): New decl.
(sys_stat_nanoseconds): Remove decl.
(get_stat_atime, get_stat_ctime, get_stat_mtime): New functions.
(set_stat_atime, set_stat_ctime, set_stat_mtime): New functions.
* src/compare.c: Include utimens.h rather than rolling our own.
(diff_dir, diff_file, diff_link, diff_symlink, diff_special):
Prototype.
(diff_dumpdir, diff_multivol): Prototype.
(diff_file): Support higher-resolution time stamps.
* src/create.c: Include utimens.h rather than rolling our own.
(MAX_OCTAL_VAL): New macro.
(tar_copy_str, string_to_chars): Don't bother to zero-fill;
the destination is already zeroed.
(string_to_chars): First arg is char const *.
(start_private_header): Use MINOR_TO_CHARS, not MAJOR_TO_CHARS,
for minor device number.
(write_header_name, dump_hard_link, dump_file0):
Simplify test for old GNU format.
(start_header): Put in placeholders for uid, etc., even when
using extended headers, for benefit of older ""tar"" implementations.
Don't assume uintmax_t is wider than 32 bits.
Output extended header for mtime if needed.
(dump_regular_finish, dump_file0):
Support extended time stamp resolution.
* src/extract.c: Include utimens.h rather than rolling our own.
(check_time): Support extended time stamp resolution.
* src/list.c: Include <inttostr.h>.
(tartime): Use umaxtostr rather than stringify_uintmax_t_backwards.
* src/xheader.c: Include <inttostr.h>.
Do not include <xstrtol.h>.
(strtoimax) [!HAVE_DECL_STRTOIMAX && !defined strtoimax]: New decl.
(strtoumax) [!HAVE_DECL_STRTOUMAX && !defined strtoumax]: New decl.
(BILLION, LOG10_BILLION): New constants.
(to_decimal): Remove; superseded by inttostr.  All callers changed
to use umaxtostr.
(xheader_format_name): Don't assume pids and uintmax_t values
fit in 63 bytes (!) when printed.
(decode_record): Don't bother to check for ERANGE; an out of range
value must be treater than len_max anyway.
If the length is out of range, output it in the diagnostic.
(format_uintmax): Remove; all callers changed to use umaxtostr.
(xheader_print): Don't assume sizes can be printed in 99 bytes (!).
(out_of_range_header): New function.
(decode_time): Use it.
(code_time): Accept struct timespec, not time_t and unsigned long.
All callers changed.  Size sbuf properly, and remove unnecessary check.
Don't assume time stamps can fit in 199 bytes.
Handle negative time stamps.  Handle fractional time stamps
more consistently.  Don't output unnecessary trailing zeros.
(decode_time): Yield struct timespec, not time_t and unsigned long.
All callers changed.
Handle negative time stamps.  Truncate towards minus infinity
consistently.  Improve overflow checks, and output a better
diagnostic on overflow.
(code_num): Don't assume uintmax_t can be printed in 99 bytes (!).
(decode_num): New function, for better diagnostics.
(atime_coder, atime_decoder, gid_decoder, ctime_coder):
(ctime_decoder, mtime_coder, mtime_decoder, size_decoder):
(uid_decoder, sparse_size_decoder, sparse_numblocks_decoder):
(sparse_offset_decoder, sparse_numbytes_decoder):
Use decode_num, etc., instead of xstrtoumax, etc.

* src/xheader.c (sparse_numblocks_decoder): Remove unchecked use
of `calloc'.  Use xcalloc instead.
(decode_time, gid_decoder, size_decoder, uid_decoder):
(sparse_size_decoder, sparse_offset_decoder, sparse_numblocks_decoder):
Ensure that the result of calling xstrtoumax is no larger than
the maximum value for the target type.  Upon any failure, exit with
a diagnostic.
(sparse_numblocks_decoder): Avoid buffer overrun/heap corruption:
use x2nrealloc, rather than `n *= 2' and xrealloc(p, n,....
(decode_time): Rewrite to accept time strings like
1119018481.000000000.  Before, such strings were always ignored.",1185,data/crawl/tar/patch_153.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=fb7b2f36450ef0473a3e528421407b9be4d51d74,30 May 2005,"(read_name_from_file,update_argv): Automatically detect
 nul-terminated list files.
",51,data/crawl/tar/patch_154.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5c35fdb275b519373e6eb34621d956d09a52bf31,19 May 2005,"Remove defines and declarations imported from paxutils
",429,data/crawl/tar/patch_155.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=82c746410d910c0884fd9f42f687aa6d3daf8f7e,2 May 2005,"(parse_opt): Adjust to new modechange API.
",254,data/crawl/tar/patch_156.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=781d3818e520a7fe6ab1ceb051bc13777f8511d7,7 Apr 2005,"(diff_init): Read directory file if in listed incremental. This
 prevents spurious 'Contents differ' diagnostics. (diff_archive): Minor fixes
 to text messages (diff_file,diff_dumpdir,diff_multivol): Assign
 orig_file_name to save_name uniformly over the program. This fixes matching
 directory names at the start of an archive volume.
",11,data/crawl/tar/patch_157.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c861b96651c787e3401ab4a8bfd3f7f7c7e1b7c9,7 Apr 2005,"(flush_write): Warn when the name of the archive straddling volume
 boundary is longer than 100 characters. Earlier behavior was to issue a fatal
 error. (struct zip_magic): Reverted part of changes from 2005-04-04. They
 make the maintenance too costly. Removing `unsigned' qualifier from `magic'
 member should be enough.
",10,data/crawl/tar/patch_158.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=62599b528521f9a87f259b0448ada4e33a2d547a,7 Apr 2005,"Minor fixes to text messages. Proposed by Benno Schulenberg.
",18,data/crawl/tar/patch_159.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=95fa3422d7365bfec419cb6537da6d9e0efbab83,2 Apr 2005,"(decode_record): Don't dump core when given a corrupted extended
 header.  Problem reported by Jim Meyering. Also, check for other ways that
 the header might be invalid, e.g., missing newline at end.  Do not allow keys
 with nulls. Allow blanks before and after length, as POSIX requires. Do not
 allow leading ""-"" in length.  Check for length overflow. (xheader_decode,
 xheader_decode_global): Let decode_record check for exhaustion of record.
 (xheader_read): Null-terminate the extended record; decode_record relies on
 this.
",87,data/crawl/tar/patch_160.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5c2e32780ed9aa2c03408bf0eeea3fb564fc0b48,6 Feb 2005,"Various fixes in help and diagnostic messages
",20,data/crawl/tar/patch_161.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4d8ddc720e403dfc5fa8480647ae38ee711c42fc,6 Feb 2005,"Merge list of required modules from paxutils with that from tar
 proper
",136,data/crawl/tar/patch_162.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5f405b1a2dfe6ea17a34513cdd1d61f6c6c53c24,6 Feb 2005,"List of required gnulib modules.
",45,data/crawl/tar/patch_163.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=35bb3557343bd4c19399ff8b142a999c3dc18cb6,5 Feb 2005,"(sys_exec_command): Use xclose, xpipe, xfork, xdup2 and exec_fatal.
",32,data/crawl/tar/patch_164.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=fa63755f6bf50d67c4403a709a4ff5d02ad23ef3,5 Feb 2005,"(exec_error,fork_error,dup2_error,pipe_error): Removed unneeded
 functions.
",24,data/crawl/tar/patch_165.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9a71d32d2f16989a8c82d3946d4f7ecd6093a55a,5 Feb 2005,"Code clean up.
",489,data/crawl/tar/patch_166.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c580a1c40747f38e0d7c36da2e4976cf951e34ee,5 Feb 2005,"Updated
",25,data/crawl/tar/patch_167.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4d24adbecbf362675a84896666309a16e3b23646,5 Feb 2005,"Handle new options --to-command,--ignore-command-error
",23,data/crawl/tar/patch_168.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=0b939d7dbc87703afe765410202d2781f3f7b222,5 Feb 2005,"(sys_exec_command,sys_wait_command): New functions
",165,data/crawl/tar/patch_169.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=75a16f75a954f16eff5a076aa4bb51ded85e70b7,5 Feb 2005,"(exec_error, fork_error, dup_error,pipe_error): New functions
",24,data/crawl/tar/patch_170.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5179c0b5e6a658ff002916058f95f246ed3216c8,4 Feb 2005,"Further rewrite
",441,data/crawl/tar/patch_171.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1e2e868af584e5e922948424545f73dc54fb634a,4 Feb 2005,"Add translators' comments
",9,data/crawl/tar/patch_172.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c8764440d9cb0187fcbabe26e7f6191c0148178e,4 Feb 2005,"(extract_archive): Rewritten
",836,data/crawl/tar/patch_173.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4a7703ff2133eb1b7fa6990887cf998424231ee2,3 Feb 2005,"Use quote()
",6,data/crawl/tar/patch_174.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=91c69c885bfd2beb4f6b0e266da5d6682673006f,3 Feb 2005,"(short_read): Use ngettext() (new_volume): use quote().
",8,data/crawl/tar/patch_175.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=198596f161a5b9e5dd87f34a5268d8c7bd05d436,2 Feb 2005,"Extract sparse files even if the output fd is not seekable.
",73,data/crawl/tar/patch_176.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cdb27293dbb5cee783043a836ef331f6e8b78950,18 Jan 2005,"New options --unquote (--no-unquote) and --add-file
 (add_file_id,read_name_from_file,update_argv): New functions (parse_opt):
 Rewritten handling of -T option. Handle hidden --HANG option for debugging
 purposes. (decode_options): Init unquote_option to true. Init argv_stk.
 Remove unneded references to files_from_option
",160,data/crawl/tar/patch_177.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=937202acb9ad19a8315adde5e28d3a03a6cb6b3d,18 Jan 2005,"(name_file): Removed variable. (read_name_from_file): Removed
 function. All callers changed. (name_close): Removed function. All callers
 changed.
",118,data/crawl/tar/patch_178.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=368172bf255c539fdbf2fd74328514c7e0acde8f,21 Dec 2004,"(from_header, tar_checksum): Changed declaration. All callers
 updated.
",71,data/crawl/tar/patch_179.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2d57bb240d22259f0e2af3a36e7314f4cacf2434,21 Dec 2004,"Bugfix. Changes introduced 2004-11-26 broke extraction from stdin.
",69,data/crawl/tar/patch_180.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4674867a23ed4b42b0a84102331d369f6fc7e467,26 Nov 2004,"(hit_eof): Changed type to boolean
 (read_full_records,reading_from_pipe): New variables
 (check_compressed_archive,open_compressed_archive): New functions
 (open_archive): Autodetect compressed archives and act accodingly. Set
 reading_from_pipe. This fixes contraversial set of changes introduced
 2004-05-11,2004-03-22.
",151,data/crawl/tar/patch_181.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8fed513af192ec0eda3507af732f1fd7b0e4abc5,7 Sep 2004,"Integrated into (paxutils) genfile.c
",161,data/crawl/tar/patch_182.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=00478f4bd3c475d41a151d797c19a1c6c2d0daf5,7 Sep 2004,"Integrated into paxutils.
",171,data/crawl/tar/patch_183.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7347b4f5d51c15bb19637ea52e9bf7dff832cc52,6 Sep 2004,"Started merging with cpio into paxutils.
",2224,data/crawl/tar/patch_184.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a0404319e20b56767825aebb3a7efa1dccbdfe91,2 Sep 2004,"ew option --with-rmt. New configuration variable DEFAULT_RMT_DIR.
 Removed DEFAULT_RMT_COMMAND.
",46,data/crawl/tar/patch_185.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=303132dcdcb4c1f2cb9051826265640aaddf6f93,12 Aug 2004,"Adjust to changes to gnulib xalloc module. (extr_init): Remove
 assignment to xalloc_fail_func; no longer needed. (xalloc_die): New function.
",8,data/crawl/tar/patch_186.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2d041189aaa148d08a9ce2cf7ab2a286d2aa545e,10 Aug 2004,"(flush_write): Limit filenames of the members that straddle
 multivolume archive boundary to 100 characters.
",9,data/crawl/tar/patch_187.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=81460a034950f1b72de86a8ee12e6ed7b65f9707,3 Aug 2004,"(record_buffer): New var. (open_archive): Don't use valloc; on older
 or buggy hosts, you can't free the result.  Use page_aligned_alloc instead.
 Record the pointer to be freed into record_buffer. (close_archive): Free
 record_buffer.
",18,data/crawl/tar/patch_188.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e4afe72b7a026c6df07ed563c5d92147c5c3bd6e,10 Jul 2004,"src/extract.c (extract_archive): Do not report an error when
 hard-linking X to X when X exists.
",32,data/crawl/tar/patch_189.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=488430f739e8230e852f88bdd5086f0a47b8eba0,19 May 2004,"(seek_archive): New function
",36,data/crawl/tar/patch_190.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=463d99453f51ac4ae875d9bae97418671e7a62bc,16 May 2004,"Fix improper use of 'path' word
",317,data/crawl/tar/patch_191.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a447fd3714cbcb37950f399390809f797b0633ec,16 May 2004,"Use argp for command line parsing.
",2030,data/crawl/tar/patch_192.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d21a12cf6204706b7434769465dd661cbc5bbe1d,5 May 2004,"Oops, sorry. Mistakingly added...
",168,data/crawl/tar/patch_193.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6d9cdefe838033b261c8ec0583f14f8455fd5401,5 May 2004,"Added to the repository
",168,data/crawl/tar/patch_194.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e17093af787eb05faf64412449f1e669f23d026b,26 Apr 2004,"Invoke tar_GNULIB to configure gnulib stuff.
",49,data/crawl/tar/patch_195.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=af244aeef3f45e0b431fd6fe8a7d2673ceefb254,26 Apr 2004,"Produce an error, not warning, if the filename is too long.
",26,data/crawl/tar/patch_196.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=2bda83b48d8a6807632312403561b11b79048443,5 Apr 2004,"Merge recent gnulib changes, and remove some lint.
",1583,data/crawl/tar/patch_197.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3ff03c0c5ecd2eb9b5ce22bf17a178fbba11f974,4 Apr 2004,"(decode_header): Use sparse_fixup_header to correct the st_size
 value. (print_header): Do not rely on GNUTYPE_SPARSE type. Use
 st->stat.st_size to print real file size. (skip_member): Assign
 stat_info.file_name to save_name. This fixes bug reported by Mads Martin
 Joergensen <mmj@suse.de> Use sparse_skip_file() to skip sparse members.
",36,data/crawl/tar/patch_198.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=29584d69fdcc22eb7e1a2235d2a1df67f7c71090,29 Feb 2004,"Handle --keep-newer-files option
",55,data/crawl/tar/patch_199.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b8754a37c740d7771637a0ef8f8d7c0683315d5d,22 Feb 2004,"Use keywords from the global headers. Correctly handle UTF-8
 conversions. (xheader_list_destroy): New function.
 (xheader_set_single_keyword,xheader_set_keyword_equal): Added missing gettext
 markers (decode_record): Rewritten using caller-provided handler and data
 closure.
",140,data/crawl/tar/patch_200.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b3060eabaff50fd946370a6ed157a0d3737b9721,20 Feb 2004,"(assert_format): Do not bail out if several --format arguments are
 given. This is a common case when TAR_OPTIONS are used. (decode_options): New
 option --show-defaults displays the compiled-in defaults.

Use POSIX format if no --format option was given and
--pax-option was specified.

Do not allow to use --pax-option unless the archive format is
set to POSIX (or reading subcommand is requested).",36,data/crawl/tar/patch_201.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=440e65ef2c2b61b43a4d520f4bca9a669f71a789,18 Feb 2004,"Implement pax -o option. Fixed misleading heading comment (introduced
 2003-09-02).
",338,data/crawl/tar/patch_202.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=df7792b5d8f07d3fbebaee4ea4a6fb86cc117b78,17 Feb 2004,"Removed accumulator stuff in favor of obstack.
 get_directory_contents): Split into two functions
",403,data/crawl/tar/patch_203.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1665d38fb74067f82e3de2ec11020e84f3a0ad39,3 Jan 2004,"New file.
",159,data/crawl/tar/patch_204.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=463e7278f48deb9a358c89c44e9f54f3be046202,3 Jan 2004,"(decode_options): More option compatibility checks (moved from
 buffer.c)
",18,data/crawl/tar/patch_205.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=95be2c50b429bfe7201590dd744864ab64c5d87e,3 Jan 2004,"(new_volume,check_label_pattern): Changed return type.
 (time_to_start_writing): Changed data type (file_to_switch_to): Removed.
 Variable never assigned to. (open_archive) Moved option compatibility checks
 to tar.c Other minor changes.
",96,data/crawl/tar/patch_206.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8d6e47cc7fcfb6781b82ba60b8eb823c7fdc7013,17 Nov 2003,"Support for star sparse format
",157,data/crawl/tar/patch_207.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=bb798080beec25634f7552934324b5f5c995707f,17 Nov 2003,"(diff_archive): Use sparse_diff_file.
",67,data/crawl/tar/patch_208.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d4e70d365615e56cadd4093aaa5c0046cf2c9c95,17 Nov 2003,"(sys_compare_uid,sys_compare_gid): New functions
 (sys_compare_uid_gid): Removed. (sys_compare_links): Changed declaration
",44,data/crawl/tar/patch_209.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=82e94dab6da1a6a22bafea07ab85f5aa14a68dd6,17 Nov 2003,"(sys_compare_uid,sys_compare_gid): New functions
 (sys_compare_uid_gid): Removed. (sys_compare_links,report_difference):
 Changed prototype (sparse_diff_file): New function
",8,data/crawl/tar/patch_210.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a8b2b68c33e6166c8035f094574fc0d1d3459cd8,17 Nov 2003,"(sparse_diff_file): New function
",115,data/crawl/tar/patch_211.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=22ae47de82af4302636f608ddeb683a63eab9acd,17 Nov 2003," Use new diagnostics functions.
",15,data/crawl/tar/patch_212.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7c05e2f65029ebb950c96a079609bf74dd90d6c6,17 Nov 2003,"(close_diag,open_diag,read_diag_details)
 (readlink_diag,savedir_diag,seek_diag_details,stat_diag): New diagnostics
 functions.
",63,data/crawl/tar/patch_213.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3999bf6360930179f08a1265ce8713705aafd405,17 Nov 2003,"(diff_sparse_files): Temporary placeholder.
",144,data/crawl/tar/patch_214.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=87fa28ed2abd92693a08e58523d7ab7f7c4563f0,17 Nov 2003,"Use new sparse file interface.
",163,data/crawl/tar/patch_215.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3cdbeffe307bad27a2f947f3527db4f27041e8b4,17 Nov 2003,"Major rewrite.
",1228,data/crawl/tar/patch_216.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=18ef8acac57d9af27d42b11925c8767470976be9,17 Nov 2003,"Added sparse.c
",532,data/crawl/tar/patch_217.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4bc226bb42c8ec1f32abada7e3b2c49e743ea4bf,19 Oct 2003,"(decode_options): Removed superfluous archive format check
",6,data/crawl/tar/patch_218.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1e7d274cd8125901600d2f302b9a108933b0c57a,4 Oct 2003,"Fix some misspellings.
",26,data/crawl/tar/patch_219.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c1b9212b16a53da408548efa3f9c8b1a62335b42,4 Oct 2003,"Moved system dependencies to system.c
",664,data/crawl/tar/patch_220.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=719c762d8097c70af065b0f7e6eacdcbd92e03c9,4 Oct 2003,"Prototypes for functions from system.c
",29,data/crawl/tar/patch_221.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b085ca30976ec26256344bd3532205d440e69309,4 Oct 2003,"System-dependent functions
",633,data/crawl/tar/patch_222.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eb6bef9909f1b7bded5af64da1a913e360f06359,4 Oct 2003,"New option --occurrence
",43,data/crawl/tar/patch_223.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=91493ea9b62a24ab139eedd4c919e4fcda9750c3,4 Oct 2003,"Count number of occurrences of each name in the archive.
 (name_match): Honor --occurence option. (names_done): Removed
 (all_names_found,names_notfound): Rewritten.
",79,data/crawl/tar/patch_224.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6c161972265f72bdaab3eb60bef253450f176691,2 Oct 2003,"New option --first-copy
",53,data/crawl/tar/patch_225.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=91b2d65e9dccae981f308a659d6c7bdd32285598,5 Sep 2003,"Use ngettext where appropriate.
",70,data/crawl/tar/patch_226.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eada0a9b35a9324daaf0efa8443646e28d5f9bb5,4 Sep 2003,"New option --strip-path=NUM. (decode_options) Assign boolean values
 to bool variables.
",88,data/crawl/tar/patch_227.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7645d20465e8c37f8f246b7490cbffbb0107045d,4 Sep 2003,"(read_header): Minor change.
",96,data/crawl/tar/patch_228.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3f998f69b9d3899e144323c322f8567237201cb1,4 Sep 2003,"(decode_record): Reversed the return condition.
",17,data/crawl/tar/patch_229.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9f0cdc8f56fddcd319f98a51e156cc37c9cebcb8,3 Sep 2003,"Allow to redefine the default output format.
",13,data/crawl/tar/patch_230.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=10edb315da532371e65a7d83a16f50ade5b545e4,3 Sep 2003,"(struct xhdr_tab.keyword): Now pointer to const. (struct
 xhdr_tab.coder, struct xhdr_tab.decoder, locate_handler, decode_record,
 xheader_store, xheader_print, code_string, code_time, code_num, dummy_coder,
 dummy_decoder, atime_coder, atime_decoder, gid_coder, gid_decoder,
 gname_coder, gname_decoder, linkpath_coder, linkpath_decoder, ctime_coder,
 ctime_decoder, mtime_coder, mtime_decoder, path_coder, path_decoder,
 size_coder, size_decoder, uid_coder, uid_decoder, uname_coder,
 uname_decoder): Use pointers to const when possible. (xhdr_tab): Now const.

(struct xhdr_tab.decoder, dummy_decoder,
atime_decoder, gid_decoder, gname_decoder, linkpath_decoder,
ctime_decoder, mtime_decoder, path_decoder, size_decoder,
uid_decoder, uname_decoder): Remove unused keyword arg.
All uses changed.

(xhdr_tab, format_uintmax): Now static.

(dummy_coder, dummy_decoder, atime_coder,
atime_decoder, gid_coder, gid_decoder, gname_coder, gname_decoder,
linkpath_coder, linkpath_decoder, mtime_coder, mtime_decoder,
ctime_coder, ctime_decoder, path_coder, path_decoder, size_coder,
size_decoder, uid_coder, uid_decoder, uname_coder, uname_decoder):
Remove forward decls; no longer needed.
(xhdr_tab): Move to end, so that the forward decls aren't needed.
Add a forward declaration.

(decode_record): Return bool, not int.

(decode_record): Fix misspelling in diagnostic
""extended headed"" -> ""extended header"".

(decode_record, xheader_decode):
Do not use decls like ""char *p, *q;"".",258,data/crawl/tar/patch_231.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=14e8c10222cea224f47214339fe9bd61f19ebfbc,3 Sep 2003,"(struct fmttab.name): Now char const *.  All uses changed. (fmttab):
 Now const.  All uses changed.  Avoid GCC warning by not eliding initializers.
 (set_archive_format): Report an error if no format name matches, instead of
 returning an undefined value. (set_archive_format): Now static.
",31,data/crawl/tar/patch_232.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c3440ae0c965a6f90f659e8e40f8b249cb64042b,1 Sep 2003,"Added 'gl_OBSTACK'
",312,data/crawl/tar/patch_233.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=879ae47aa16752580616c6c52d6b4757a2705dd3,1 Sep 2003,"New option --format
",81,data/crawl/tar/patch_234.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d858a433c82626309e0d974ca923a79ac7f7f18f,31 Aug 2003,"Use current_stat_info
",2077,data/crawl/tar/patch_235.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=096bc2bffd857a690a9364043c33109eee0a53b4,31 Aug 2003,"(decode_header): Added initial support for POSIX extended and STAR
 headers. (skip_member): Check oldgnu_header only if current_format is set to
 OLDGNU_FORMAT.
",136,data/crawl/tar/patch_236.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5be0f2ba491f27074c35875185286d1d425ce044,31 Aug 2003,"New file
",295,data/crawl/tar/patch_237.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=81a9e2ae36bd8c5f6accd83acb00826ad7222bb6,30 Aug 2003,"Drop en_GB locale; it was more trouble than it was worth (e.g.,
 different users in en_GB disagree about -ize versus -ise).
",59,data/crawl/tar/patch_238.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d52a1bb3663f9eb595e5f311037fc5cbd13d621e,27 Jul 2003,"New option --check-links. Changed semantics of -o to comply to UNIX98
 when extracting and to its previous semantics otherwise. (main): Call
 check_links if --check-links. was given.
",50,data/crawl/tar/patch_239.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1fef6258aa492f84ea63c1eea3e1e0e9c40c81bb,27 Jul 2003,"(check_links_option): New variable (orig_file_name): New variable
 (check_links): New proto.
",475,data/crawl/tar/patch_240.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eb66edaa9fcc14009cddd84187b3b4d45528f802,24 Jul 2003,"(flush_read): Fixed behavior on short reads right after opening the
 new archive (multiv01.sh test). (new_volume): Special handling for ""-"".
",88,data/crawl/tar/patch_241.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=31d9c7e2a4344d8f884c93dd4fb467894de69e99,24 Jul 2003,"(chdir_do): Fixed call to restore_cwd
",899,data/crawl/tar/patch_242.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=88ffc1355e95a1bbc8d1db7abf667aa3164e95e5,5 Jul 2003,"Initial revision
",155,data/crawl/tar/patch_243.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f7ccf5eb1c5927e9a045a46053ca697b2f869abb,5 Jul 2003,"Initial revision
",41,data/crawl/tar/patch_244.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8912f582ac95ba39f4435046642e643921f9dd9f,5 Jul 2003,"Convert to UTF-8. Don't include <print-copyr.h>. (DEFAULT_PATTERN):
 Renamed from DEFAULT. (ZEROS_PATTERN): Renamed from ZEROS. (main): Use
 gettext to translate (C), not print_copyright.
",82,data/crawl/tar/patch_245.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=42d05fcb6e724c52cd66c85828b0b8b9d2338e72,5 Jul 2003,"Do not include <print-copyr.h>. Include <getdate.h>. (get_date):
 Remove decl. (ATIME_PRESERVE_OPTION, CHECKPOINT_OPTION, FORCE_LOCAL_OPTION,
 IGNORE_FAILED_READ_OPTION, INDEX_FILE_OPTION, NO_OVERWRITE_DIR_OPTION,
 NUMERIC_OWNER_OPTION, RECURSIVE_UNLINK_OPTION, REMOVE_FILES_OPTION,
 SHOW_OMITTED_DIRS_OPTION, TOTALS_OPTION): New constants. (long_options,
 decode_options): Use them. (OVERWRITE_DIR_OPTION): Remove. (long_options):
 New options --index-file, --no-overwrite-dir. Remove --overwrite-dir option.
 (usage): Use PACKAGE_BUGREPORT. (decode_options): Terminate new argv
 properly. Use PACKAGE_NAME, PACKAGE_VERSION. If verbose, report how we
 grokked any textual date option. (main): Add support for index-file.
",118,data/crawl/tar/patch_246.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=40835c2c55e94876ee54442b2f51b2acd027024c,5 Jul 2003,"Use newer form for bug report and version.
",4,data/crawl/tar/patch_247.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=675c5a2f243bb5e72c982c0e3c30762ec32e9a1b,5 Jul 2003,"(we_are_root): Now bool, not int. (check_time): Warn about
 implausibly old time stamps. (set_stat): Use utimbuf, not stat_info.
 (preprare_to_extract): New arg DIRECTORY. (fill_in_sparse_array): Moved here
 from compare.c. (extract_sparse_file): Now returns off_t, giving size left.
 Truncate file at end. (extract_archive): Use safer_name_suffix rather than
 rolling our own. Use fill_in_sparse_array rather than rolling our own. Strip
 trailing slashes more effectively. Check for unsafe names.
",391,data/crawl/tar/patch_248.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=664f2dbdd950ddd32587e3b325dd0a0cd48a50a7,5 Jul 2003,"(print_total_written): Adjust to new human.h interface.
 (child_open_for_compress): Do not increase size to BLOCKSIZE. (open_archive):
 Open index file name. Strip trailng slahes from file names. (flush_write):
 Set size to 0 if not saving names. (flush_write, flush_read): Use
 safer_name_suffix rather than inline code.
",73,data/crawl/tar/patch_249.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=01d81c7f0fc8761469d995ab6217395813189bca,5 Jul 2003,"Switch to new method for doing copyright notices. Use @acronym
 instead of @sc where appropriate. Remove empty examples.  Give a few more
 examples.
",1688,data/crawl/tar/patch_250.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=fcb62b60d94ad17c766dcdd94e4300163c670282,10 Mar 2003,"import from gnulib
",96,data/crawl/tar/patch_251.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4f5e37c861a0c11c26613334e470bc18d34ee872,6 Dec 2002,"import from gnulib
",119,data/crawl/tar/patch_252.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9ded0a0567b58bfbdf10a8dc98e0158e486466ac,11 Feb 2002,"Sync with fileutils
",174,data/crawl/tar/patch_253.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9c93a32114dc61d91b2aa4090445cafb032d8885,26 Sep 2001,"Initial revision
",3571,data/crawl/tar/patch_254.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7f1bf2e09f8ec124c0fba9d2bf033505f827353e,26 Sep 2001,"just ignore them silently.
",7,data/crawl/tar/patch_255.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6c9e824ce52554abd04bf4c7f8e20485ccbe2dc4,22 Sep 2001,"(extract_archive): When marking a directory to be updated after
 symlinks, stat all directories after it in the delayed-set-stat list too,
 since they will be checked after symlinks. Add support for --overwrite-dir.
",23,data/crawl/tar/patch_256.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a942967415745514873bdaf7039f11438722fae8,21 Sep 2001,"(EILSEQ, ENOTSUP): New macros, if not defined by errno.h.
 (<error.h>): Do not include. (unicode_to_mb): Return int, not void.  New arg
 for failure callback. Invoke the failure callback instead of invoking
 'error'. (print_unicode_success): Renamed from fprintf_callback.  Now extern.
 Return -1 on failure, 0 on success. (print_unicode_failure): New function.
 (print_unicode_char): Return int.  Adjust to changes to unicode_to_mb. Do not
 report error: instead, print an approximation.
",96,data/crawl/tar/patch_257.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4b5d60ef385197e76a2dc6122401e2a13e177f52,21 Sep 2001,"Rewrite from scratch, as print-copyr.c.
",77,data/crawl/tar/patch_258.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e9da8d1a8020ad4dfe92416f3c77a33e6906b55e,20 Sep 2001,"Initial revision
",5887,data/crawl/tar/patch_259.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=95dda72cc6231e3966fcaeaa16d6b55a45f602ed,12 Sep 2001,"(struct delayed_set_stat): New member 'after_symlinks'.
 (delay_set_stat): Initialize it to 0. (set_mode): New arg current_stat_info. 
 Use it (if nonnull) to avoid taking an extra stat ourselves.  All callers
 changed. (set_stat): Likewise. (apply_nonancestor_delayed_set_stat): New arg
 'after_symlinks'. If false, stop when encountering a struct whose
 'after_symlinks' member is true.  Otherwise, go through all structures but
 check them more carefully. All callers changed. (extract_archive): When
 extracting a deferred symlink, if its parent directory's status needs fixing,
 then mark the directory as needing to be fixed after symlinks.
 (extract_finish): Fix status of ordinary directories, then apply delayed
 symlinks, then fix the status of directories that are ancestors of delayed
 symlinks.
",129,data/crawl/tar/patch_260.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=17afd0438f6d86686e9bc6df80e538b3201b889e,27 Aug 2001,"(ANCHORED_OPTION, IGNORE_CASE_OPTION, NO_ANCHORED_OPTION,
 NO_IGNORE_CASE_OPTION, NO_WILDCARDS_OPTION, NO_WILDCARDS_MATCH_SLASH_OPTION,
 WILDCARDS_OPTION, WILDCARDS_MATCH_SLASH_OPTION): New enum values.

(long_options, usage, decode_options): Add support for --anchored,
--ignore-case, --no-anchored, --no-ignore-case, --no-wildcards,
--no-wildcards-match-slash, --recursion, --wildcards,
--wildcards-match-slash.

(decode_options): Implement the new way of interpreting exclude patterns.

(usage): --newer-mtime takes a DATE operand.  DATE may be a file name.

(OPTION_STRING, decode_options): Add -I, -y.  Currently these options
just print error messages suggesting alternatives.

(add_filtered_exclude): Remove.",115,data/crawl/tar/patch_261.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4f07b065060ea347aafa8ffea1d20c4934e9c20a,27 Aug 2001,"(collect_and_sort_names): If ignore_failed_read_option, only warn
 about stat errors.

(excluded_name): Now returns bool.  Simplify, as the fancy features are
now all in excluded_filename.",26,data/crawl/tar/patch_262.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a52396de9bde77671ac389183de918bb86ac785b,27 Aug 2001,"(from_header): Do not issue a diagnostic if TYPE is zero. However,
 check for error even for '-' or '+' case.

(print_header): Try parsing uids and gids as unsigned integers first,
and as a uid_t or gid_t only if that fails.  This adds support for
listing positive uids and gids that are greater than UID_MAX and
GID_MAX.",169,data/crawl/tar/patch_263.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a7cd57a91dba44bba5bcc8039c5f7aae25315d52,27 Aug 2001,"(struct delayed_symlinks, extract_archive, apply_delayed_symlinks):
 Support hard links to symbolic links.

(struct delayed_symlink): Remove 'names' member, replacing it with
'sources' and 'target' member.  All uses changed.

(struct string_list): New type.

(delayed_set_stat, extract_archive): Use offsetof when computing sizes
for struct hack; this avoids wasted space in some cases.

(extract_archive): Fix test for absolute pathnames and/or "".."".
Use link_error to report errors for links.
Remove redundant trailing '/' at ""really_dir"", for all uses, not
just before invoking mkdir.
If overwriting old files, do not worry so much about existing directories.
Fix mode computation in the case where the directory exists.

(apply_delayed_symlinks): If we can't make a hard link to a symbolic
link, make a copy of the symbolic link.",168,data/crawl/tar/patch_264.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=58e97f92d39e8e69bd2e98de29635a9a35c47994,27 Aug 2001,"(new_volume): Stop if the script exits with an error.
",8,data/crawl/tar/patch_265.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=13b9e5afc861b6d86ed9de772958f48b45b34508,27 Aug 2001,"Add copyright notice.

(_DECLARE_XSTRTOL): Improve quality of diagnostic for
LONGINT_INVALID_SUFFIX_CHAR.",19,data/crawl/tar/patch_266.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=48ff44dfc71404b4ddedd28eadb5b38c3d83bb32,23 Aug 2001,"serial 20
",135,data/crawl/tar/patch_267.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=01244cf13350f99483e8844a476e3d890254e9f9,21 Aug 2001,"glibc version.
",368,data/crawl/tar/patch_268.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e873bb4ed86124a0a425cc825b4ad15754f86069,3 Apr 2001,"Initial revision
",250,data/crawl/tar/patch_269.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d32dfe5d5e657d584c58b46c8307596f5912332f,13 Jan 2001,"(time): Do not declare. (usage): Remove -I as an alias for -T>
 (OPTION_STRING): Remove -I. (decode_options): Dates that look like an
 absolute path name, or that start with '.', are presumed to be file names
 whose dates are taken. Remove 'I' as an aliase for 'T'. Update copyright.
",40,data/crawl/tar/patch_270.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3b6f724b9262d4dee75f634d03481086a37ee9b5,13 Jan 2001,"(<time.h>): Do not include; system.h now does this. (time): Remove
 decl; likewise. (child_open_for_uncompress): Use new full_write semantics.
 (flush_write): Use ISSLASH instead of testing for '/'. (flush_read):
 Likewise.
",23,data/crawl/tar/patch_271.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eca497ef34cc119ad9134a7638fdad6ff36d7065,13 Jan 2001,"(<time.h>): Do not include; system.h now does this.
 (make_directories): Skip filesystem prefixes. Don't assume '/' is the only
 separator. (extract_sparse_file): Use new full_write semantics. On write
 error, return instead of invoking skip_file. Do not free sparsearray; caller
 does this now. (apply_nonancestor_delayed_set_stat): Do not assume '/' is the
 only separator. (extract_archive): Don't assume file name lengths fit in int.
 Report what got stripped from member name; it might be more than '/'. Use new
 full_write semantics. Do not pass redundant trailing ""/"" to mkdir, as POSIX
 does not allow mkdir to ignore it. Do not report mkdir error if
 old_files_option == KEEP_OLD_FILES.
",121,data/crawl/tar/patch_272.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1ff433e49eae96e2a3fb16eff2da5b837f9f1e06,18 Dec 2000,"Initial revision
",284,data/crawl/tar/patch_273.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8d37615dc435552e8438d3d0d7cddff66f2ed31d,28 Oct 2000,"(namelist_match): New function. (name_match, name_scan): Use it, to
 eliminate duplicate code. (names_notfound): Remove special case for Amiga.
",107,data/crawl/tar/patch_274.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7abb9b854d201c076e6056b920229c9a5ea67e5c,28 Oct 2000,"(flush_read): If read_full_records_option, try to fill the input
 buffer, as --delete -f - needs this.
",8,data/crawl/tar/patch_275.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d2f18d9ecb2a03e086f93b33fbdb814cfb775f0b,25 Oct 2000,"(decode_options): Check that volume label is not too long to overflow
 name in tar header block.
",20,data/crawl/tar/patch_276.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=29c1020f91a08bd9919180755247fef2cffe5d53,25 Oct 2000,"(check_label_pattern): Make sure header name is a string before
 passing it to fnmatch. (init_volume_number): Check for global_volno overflow.
 (new_volume): Check for global_volno overflow.
",22,data/crawl/tar/patch_277.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=caf6047e1ea4ca9490d95af3a220c3ddd9950820,24 Oct 2000,"Include localedir.h, prepargs.h. (long_options): Now static.
 (long_options, usage, decode_options): -j is now short for --bzip2, and -I is
 now an alias for -T. (decode_options, main): argv is not const pointer now.
 (decode_options): Invoke prepend_default_options to support TAR_OPTIONS. In
 diagnostic, mention the string that was the invalid blocking factor, tape
 length, group, owner, or record size. --delete is no longer incompatible with
 -f -, undoing 2000-01-07 change. (main): Invoke extract_finish at end of
 extraction.
",74,data/crawl/tar/patch_278.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8111f9d34df33cb06072275b2ec7dd10ef119d08,24 Oct 2000,"Include hash.h. (gnu_list_name): Remove decl. (struct link): Remove
 ""next"" member. (linklist): Remove. (start_header): Say ""leading `FOO'"" rather
 than ""`FOO' prefix"" for consistency with other diagnostics.
 (deal_with_sparse): Check for I/O error when closing the file.
 (create_archive): Do not allocate an array of size PATH_MAX, as PATH_MAX
 might be (size_t) -1. Instead, allocate an array with the size that's needed.
 (hash_link, compare_links): New functions. (dump_file): Do not exhaust open
 file descriptors when descending deeply into a directory, by using savedir
 rather than opendir/readdir. Do not zero-fill the name buffer unnecessarily.
 Hash the set of links already created, instead of using a linked list. Fix
 some bugs in outputting sparse files which caused the sparse tables to be
 incorrect. When a file unexpectedly shrinks, output zeros rather than
 garbage. Do not allocate an array of size PATH_MAX, as PATH_MAX might be
 (size_t) -1. Instead, allocate an array with the size that's needed.
",317,data/crawl/tar/patch_279.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e89bcb7fb33d6bae6db577bd8c6fe4599c5e2288,24 Oct 2000,"(we_are_root): Now global. (struct delayed_symlink): New type.
 (delayed_symlink_head): New var. (extr_init, fatal_exit): Invoke
 extract_finish on fatal errors, not apply_delayed_set_stat. (set_mode,
 set_stat): Pointer args are now const pointers. (check_time): New function.
 (set_stat): Warn if setting a file's timestamp to be the future.
 (make_directories): Do not save and restore errno. (maybe_recoverable): Set
 errno to ENOENT if we cannot make missing intermediate directories.
 (extract_archive): Invoke apply_nonancestor_delayed_set_stat here, not in
 caller. Extract potentially dangerous symbolic links more carefully,
 deferring their creation until the end, and using a regular file placeholder
 in the meantime. Do not remove trailing / and /. from file names. Do not
 bother checking for "".."" when checking whether a directory loops back on
 itself, as loopbacks can occur with symlinks too. Also, in that case, do not
 bother saving and restoring errno; just set it to EEXIST.
 (apply_nonancestor_delayed_set_stat): A prefix is a potential ancestor if it
 ends in slash too (as well as ending in a char just before slash).
 (apply_delayed_set_stat): Remove. (apply_delayed_symlinks, extract_finish):
 New functions.
",309,data/crawl/tar/patch_280.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=bc8d000b643c9473aa16f276512b73d12e9184d8,24 Oct 2000,"(read_and): Do not invoke apply_nonancestor_delayed_set_stat;
 DO_SOMETHING is now responsible for that. Do not invoke
 apply_delayed_set_stat; our caller is now responsible for that.
 (read_header): Use signed char instead of signed_char. Prevent later
 references to current_header from mistakenly treating it as an old GNU
 header. (from_header): Quote invalid base-64 strings in diagnostics.
 (time_from_header): Do not warn about future timestamps in archive;
 check_time now does that. (tartime): Fix off-by-one error when copying year
 if OLD_CTIME. (print_header): Quote unknown file types. (skip_member): New
 function, replacing skip_extended_headers and now skipping the whole member
 instead of just the extended headers. All callers changed.  This makes the
 code handle extended headers uniformly, and fixes some bugs.
",203,data/crawl/tar/patch_281.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8a098729c0f4f39b2acb9a45de1a56fe383a2a86,24 Oct 2000,"(extract_mangle): Fix diagnostic with wrong number of %s'es.
",11,data/crawl/tar/patch_282.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4dcebd965545a7a8ab3e0d6d4e0fdcd5f767d399,24 Oct 2000,"(_GNU_SOURCE): Remove; autoconf now does this.
 (child_open_for_compress, child_open_for_uncompress, close_archive):
 Propagate any failure of the compression process back to ""tar"".
 (open_archive, flush_write, flush_read, close_archive): Do not allocate an
 array of size PATH_MAX, as PATH_MAX might be (size_t) -1. Instead, allocate
 an array with the size that's needed. (open_archive): Don't bother checking
 S_ISCHR of /dev/null. (backspace_output): Don't try to backspace past start
 of archive. (close_archive): Remove special case for DELETE_SUBCOMMAND.
",292,data/crawl/tar/patch_283.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a9d7ae22a881292a32293688c10513bddcedd225,27 Feb 2000,"Initial revision
",325,data/crawl/tar/patch_284.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c18999bad51b56995a293cb4d6936315b5a6bdff,7 Jan 2000,"(read_and): Invoke apply_nonancestor_delayed_set_stat on file names
 after handling them. (list_archive): Use consistent message for unexpected
 EOF. Use error message functions to report errors consistently.
 (read_header): Use xalloc_die to report memory exhaustion. Use consistent
 message for unexpected EOF. (decode_mode): Remove; moved to misc.c.
 (skip_file): Use consistent message for unexpected EOF.
 (skip_extended_headers): Likewise.
",95,data/crawl/tar/patch_285.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f74454cb37c715674796f21a2fd75eb0a5a34002,7 Jan 2000,"(find_new_file_size): Return size instead of storing through pointer.
 All callers changed. (deal_with_sparse): Don't keep reading after read
 errors. (finish_sparse_file): Just abort if there is an internal error. Use
 error message functions to report errors consistently. (dump_file): Fix typo:
 stat_warn and stat_error were interchanged. Quote file names with colons if
 possible. Don't restore access times on directories during incremental dumps
 until after dealing with the directory. If ignoring failed reads, count
 closedir errors as warnings, not errors. Fix buffer overrun problem when
 dumping sparse files. If ignoring failed reads, count read errors as
 warnings, not errors. Use error message functions to report errors
 consistently. If ignoring failed reads, count unknown files as warnings, not
 errors.
",236,data/crawl/tar/patch_286.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f2b8b4a42da21d48aff58aa2993fd64852844f8a,7 Jan 2000,"(extract_mangle): Use xalloc_die to report memory exhaustion. Quote
 file names with colons if possible.
",10,data/crawl/tar/patch_287.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=53f16a59713b32843f27332dbe807c06c7fc34bf,7 Jan 2000,"(extr_init): If we run out of memory, invoke apply_delayed_set_stat.
 (set_mode): Use Use error message functions to report errors consistently.
 (set_stat): Likewise. (repair_delayed_set_stat): Quote file names with colons
 if possible. (prepare_to_extract): Don't complain if we can't remove ""."".
 (extract_sparse_file): Use consistent message for unexpected EOF. Use error
 message functions to report errors consistently. (extract_archive): Use
 consistent message for unexpected EOF. Use error message functions to report
 errors consistently. Quote file names with colons if possible.
 (apply_delayed_set_stat): New function. (apply_nonancestor_delayed_set_stat):
 Renamed from apply_delayed_set_stat. Don't remove head if it doesn't apply.
 (fatal_exit): Invoke apply_delayed_set_stat with no args.
",94,data/crawl/tar/patch_288.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c598438dd2d4c7f8a8b4883a95b9d900b7c5662c,7 Jan 2000,"(decode_options): Use xalloc_die to report memory exhaustion.
 --delete and -f - are now incompatible, since we didn't have time to fix
 their bugs.
",5,data/crawl/tar/patch_289.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cae3ad0d8e873d77aa7f5b45751741f47c864f98,7 Jan 2000,"(archive_write_error): Add noreturn attribute to decl. (xclose): Use
 close_error. (xdup2): Regularize messages with rest of tar.
 (archive_write_error): Use write_fatal_details. (flush_read): Don't read past
 EOF. (flush_archive, close_archive, new_volume): Use close_warn.
",97,data/crawl/tar/patch_290.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=db3693939d3d9ce030e6888f354f13dd98f07aa5,7 Jan 2000,"(append_file): Use error message functions to report errors
 consistently.
",12,data/crawl/tar/patch_291.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a78ab36e1e4d7dccedaf7d1fcbaca6bb6ec0eed6,13 Dec 1999,"(<quotearg.h>): New include. (append_file): Don't assume that gettext
 preserves errno. Quote arbitrary strings in diagnostics. Check for close
 error.
",24,data/crawl/tar/patch_292.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c6720c5a8bf56135fcbaa551ffba3fcc8f0348b7,13 Dec 1999,"(""quotearg.h""): New include. (usage): Now has __attribute__
 ((noreturn)). (confirm): Report errno if we can't open tty. (confirm,
 decode_options): Quote arbitrary strings in diagnostics. (OVERWRITE_OPTION):
 New constant. (long_options, usage, decode_options): New --overwrite option.
 (decode_options): --keep-old-files, --overwrite, and --unlink-first are now
 mutually exclusive. Don't assume that gettext preserves errno. (main): Set
 default quoting style to escape_quoting_style.
",42,data/crawl/tar/patch_293.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=df2ff9e4e495a32a962f6a1e61cca714503cbed3,13 Dec 1999,"(read_and, list_archive): Quote arbitrary strings in diagnostics.
 (from_header): Use locale_quoting_style to quote diagnostics. (print_header,
 print_for_mkdir): Quote with quotearg, not quote_copy_string.
",66,data/crawl/tar/patch_294.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f0429c4a22e5b19eefbdbc684e9e175a1cca9a3e,13 Dec 1999,"(<quotearg.h>): New include. (name_init, name_next, name_close,
 names_notfound, collect_and_sort_names): Don't assume that gettext preserves
 errno. Quote arbitrary strings in diagnostics. (excluded_name): Fix typo that
 caused empty patterns to be mishandled.
",20,data/crawl/tar/patch_295.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6e9d1539b665c8f3c173b36702ca1650cac977ad,13 Dec 1999,"(<quotearg.h>): New include. (enum permstatus): New enum. (struct
 delayed_set_stat): file_name is now at end of buffer, to avoid two mallocs. 
 New members file_name_len, invert_permissions, permstatus. (extr_init):
 Remove hack that silently adjusted newdir_umask. (set_mode, set_stat): New
 args invert_permissions, permstatus, typeflag. Use these args to decide
 whether and how to set modes. (set_mode, set_stat, prepare_to_extract,
 extract_sparse_file, extract_archive): Don't assume that gettext preserves
 errno. (set_stat): Remove arg symlink_flag; subsumed by typeflag.
 (delay_set_stat, repair_delayed_set_stat): New functions. (make_directories):
 Avoid mkdir where last part of path is "".."". Create a struct delayed_set_stat
 for each directory made. (prepare_to_extract): Renamed from
 unlink_destination, and return 0 immediately if to_stdout_option; all callers
 changed. (maybe_recoverable): New parameter interdir_made. Add support for
 --overwrite. (extract_sparse_file, extract_archive): Quote arbitrary strings
 in diagnostics. (extract_archive): By default, warn about "".."" in member
 names, and skip them. Don't open files with O_NONBLOCK or O_APPEND. Open with
 O_TRUNC only if --overwrite; otherwise, use O_EXCL to avoid overwriting them.
  Pass only rwxrwxrwx permissions to `open' and `mkdir', minus the current
 umask.  Keep track of intermediate directories made, to avoid looping when
 making x/../x when x doesn't exist; the earlier code solved this in a
 different way that didn't fit well into the new scheme.  Don't extract
 permissions onto existing directories unless --overwrite is given.  Do not
 add -wx------ permissions to new directories permanently; just do it
 temporarily. Remove no-longer-needed hack with MSDOS and directory time
 stamps. (apply_delayed_set_stat): New argument specifies which directories to
 fix statuses of.  Do not wait until the end of extraction to fix statuses;
 instead, fix a directory's status once we exit that directory. This requires
 less memory and does the right thing in some cases where the old method
 didn't. (fatal_exit): New function.
",600,data/crawl/tar/patch_296.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ed7e2ec8a334cc534db981fe2fd0e02b3d39bf62,13 Dec 1999,"(<quotearg.h>): New include. (start_header): Use `member names' to
 refer to archive member names, not `archive names'.  Warn about `..' in
 member names. (finish_sparse_file, dump_file): Quote arbitrary strings in
 diagnostics. (finish_sparse_file, dump_file): Don't assume that gettext
 preserves errno. (dump_file): Don't use `access' to determine whether a
 directory is readable; this isn't reliable if tar is setuid.  Use `opendir'
 instead. Check for readdir and closedir failures. Don't dump sockets as if
 they were fifos; just warn and skip.
",148,data/crawl/tar/patch_297.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=196caec187f27a3c3e4a68eee6bb388d79dac960,13 Dec 1999,"(xclose, xdup2, child_open_for_compress, child_open_for_uncompress,
 archive_write_error, archive_read_error, flush_archive, close_archive,
 init_volume_number, new_volume): Don't assume that gettext preserves errno.

(xdup2): Don't report errno if dup returns an unexpected nonnegative value.
(open_archive): Reject multivolume verify attempts a bit earlier.
Rename local variable `access', in case it's defined by system header.

(open_archive, backspace_output): Use `Cannot' uniformly, instead of
`Could not' sometimes and `Cannot' others.

(open_archive, flush_read, flush_archive, close_archive, new_volume):
Quote arbitrary strings in diagnostics.

(read_error): Set archive to STDOUT_FILENO temporarily when writing
archive buffer.

(init_volume_number): Check for input and output errors in volno_file.

(new_volume): Use new fatal_exit function to exit, and new xfork
function to fork.",292,data/crawl/tar/patch_298.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3495d84e27c42c0619daf43c2b546d35e3ecbba6,3 Dec 1999,"(dump_file): Do not diagnose a file that the parent directory said
 should be there, but is absent.  It was probably removed between then and
 now. Do not pass meaningless errno to ERROR when reporting that the file
 changed as we read it.
",19,data/crawl/tar/patch_299.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=859a4ec01f9174de4d3baea65b20b69c440ff8d0,7 Nov 1999,"(usage): Add examples.
",13,data/crawl/tar/patch_300.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=02519e55752f86d85a03643332a0bdd0850c265c,7 Nov 1999,"Include getopt.h. (long_opts): New constant. (usage): New function.
 (main): Implement --help and --version. Output usage message if arguments are
 bad.
",59,data/crawl/tar/patch_301.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7be178a4d4c884e0ddd27ce93e04a00411f4332a,7 Nov 1999,"(set_stat): Remove duplicate code.
",31,data/crawl/tar/patch_302.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=51f0c7c36448cb51018feb81a47fb9bb792784c7,11 Oct 1999,"(tartime): Now extern. (read_and): Invalid headers cause errors, not
 warnings.
",7,data/crawl/tar/patch_303.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cf4065dfe9a5fe2bf7238f58ae33d2f3365344bc,11 Oct 1999,"(decode_options): Invalid dates are now treated as (time_t) -1. Redo
 version message to conform to GNU standards.
",23,data/crawl/tar/patch_304.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f4f13c4705e3436e06ffadb00674a3586e0a4ed7,26 Sep 1999,"Initial revision
",117,data/crawl/tar/patch_305.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=29929863e80e7c0a2b1485d5ed2c7d492f2a9702,25 Sep 1999,"(write_error): Read error is an error, not just a warning.
",2,data/crawl/tar/patch_306.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e6d8e9279f96aea82cf45faf24c6f3b792e7aae0,24 Sep 1999,"(update_archive): Remove call to name_expand; had no effect. Use
 chdir_do to change into directory. Use deref_stat instead of stat. Use
 add_avoided_name to mark names to be avoided; the old method of setting a bit
 with the name caused all descendants of that name to be avoided, in some
 circumstances.
",16,data/crawl/tar/patch_307.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6e36ce5668fdaf3e710ec29b3082c9a1f5c27de5,23 Sep 1999,"(name_next): Go back to using plain chdir. (name_gather): Use
 chdir_arg to keep track of arguments to chdir. (addname): Likewise.
 (name_match): Use chdir_do to act on chdir args. (merge_sort): Moved here
 from incremen.c. (compare_names, add_hierarchy_to_namelist,
 collect_and_sort_names): Likewise. (name_expand): Remove. (name_from_list):
 Skip fack names. Use chdir_do to act on chdir args. (struct avoided_name):
 New struct. (avoided_names): New var. (add_avoided_name, is_avoided_name):
 New functions.
",299,data/crawl/tar/patch_308.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e4e624848b53ac02f1212af2209a63d28e40afec,22 Sep 1999,"(time): Declare if not defined. (base_64_digits): Moved here from
 create.c. (base64_map): Use UCHAR_MAX for size, not less-clear (unsigned
 char) -1. (read_and): Don't get time from header unless we need it now; as
 getting time can cause duplicate diagnostics if bogus. Remove ""Hmm, "" from
 diagnostic. Use ""Skipping to next header"" uniformly. (from_header): Renamed
 from from_chars.  All uses changed. Allow different forms for unportable 2's
 complement numbers. Don't check for extended forms when parsing checksums.
 Parse base-256 output. (gid_from_header): Renamed from gid_from_chars.  All
 uses changed. (major_from_header): Renamed from major_from_chars.  All uses
 changed. (minor_from_header): Renamed from minor_from_chars.  All uses
 changed. (mode_from_header): Renamed from mode_from_chars.  All uses changed.
 (off_from_header): Renamed from off_from_chars.  All uses changed.
 (size_from_header): Renamed from size_from_chars.  All uses changed.
 (time_from_header): Renamed from time_from_chars.  All uses changed. Warn
 about future timestamps. (uid_from_header): Renamed from uid_from_chars.  All
 uses changed. (uintmax_from_header): Renamed from uintmax_from_chars.  All
 uses changed. (tartime): New function, incorporating isotime. (isotime):
 Delete. (print_header): Use tartime.
",364,data/crawl/tar/patch_309.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=0d70f547f3a9ff4a261b82e9b487c3f65b63fadf,21 Sep 1999,"(struct link): Remove unused linkcount member. (base_64_digits): Move
 to list.c. (base_8_digits): Remove. (to_octal): New function, with some of
 old contents of to_base. (to_base): Remove. (to_base256): New function.
 (to_chars): Use base 256, not base 64, for huge values. (mode_to_chars):
 Don't use two's complement in GNU format or POSIX format. (dump_file):
 Interchange last two arguments.  If TOP_LEVEL is negative, it means we have
 an incremental dump where we don't know whether this is a top-level call. Use
 deref_stat instead of statx / stat / lstat. Cast result of alloca. Check for
 dates if 0 < top_level, not if listed_incremental_option. Move multiple-link
 check after directory check. Do not dump avoided names. Dump hard links to
 symbolic names as links, not as separate symbolic links. start_header cannot
 return a null pointer, so don't test for it. Likewise for find_next_block.
",1015,data/crawl/tar/patch_310.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=17e0cd7065a8eb84483788e5abbf06ccf2649fb5,20 Sep 1999,"(<human.h>): Include. (print_total_written): Also print
 human-readable byte count, and bytes/s. (open_archive, flush_write): Use
 start_time, not current time. (flush_read): Report about garbage bytes
 ignored at end of archive, but act on non-garbage bytes (instead of ignoring
 them). (new_volume): Use WARN for warnings.
",101,data/crawl/tar/patch_311.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=276d317d88ace2866bf0c5e3456aa912cc21d161,23 Aug 1999,"Remove lint. (long_options, usage, main): -y is now -I (for --bzip).
 (usage): Fix misspelling. (OPTION_STRING): -y is now -I. (decode_options):
 Use -1, not EOF, for getopt_long result. Fix typo when invoking xstrtoumax:
 look for LONGINT_OK, not LONG_MAX. Handle operands after any ""--"" argument.
 (main): Report any output errors.
",229,data/crawl/tar/patch_312.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b8ae0938a445f5233a3a3d4f79300e2af33ca69f,23 Aug 1999,"Lint cleanup. (open_archive): Use American spelling in diagnostic.
",51,data/crawl/tar/patch_313.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=aeef4574607477cf4fcdeb230fce04c7876ca2fa,23 Aug 1999,"Lint cleanup. (linklist): Now static. (to_chars): Fix wording of
 message to match from_chars.
",79,data/crawl/tar/patch_314.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=aa904fd8ec95f5d23db78b3dd81a1f7aeb18035d,23 Aug 1999,"Lint cleanup. (from_chars): Report out-of-range values more
 precisely. (off_from_chars): Do not allow negative offsets. (uid_from_chars):
 Allow negative uids.
",81,data/crawl/tar/patch_315.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c0d324c43ca82ac69a69f596a228121cecb2f037,23 Aug 1999,"Add copyright notice. (<stdio.h>): Include only if testing.
 (ISUPPER): Remove. (ISLOWER): New macro. (<string.h>): Include if
 HAVE_STRING_H, not USG. (bcopy): Remove. (yymaxdepth, ..., yycheck): Don't
 bother to redefine, since we can assume bison. (EPOCH_YEAR): Renamed from
 EPOCH. (table): Renamed from TABLE. (meridian): Now an anonymous enum.
 (struct parser_control): New type. (YYLEX_PARAM, YYPARSE_PARAM, YYSTYPE): New
 macros. (yyInput, ..., yyRelYear): Migrated into struct parser_control.
 (%pure_parser): Added, so that the parser is pure. (%union): Removed; the
 type is now just plain int. All %type directives removed. (tLOCAL_ZONE): New
 %token. (month_day_table): Renamed from MonthDayTable. (gmtime, localtime,
 mktime, time): Declare only if not defined. (meridian_table): New table.
 (dst_table): New table. (units_table): renamed from UnitsTable.
 (relative_time_table): Renamed from OtherTable. (time_zone_table): Renamed
 from TimezoneTable.  Modernized. (military_table): Renamed from
 MilitaryTable. (to_hour): Renamed from ToHour. (to_year): Renamed from
 ToYear. (lookup_zone): New function. (LookupWord): Renamed from lookup_word. 
 Use lookup_zone for time zones. (yylex): Now reentrant.  All callers changed.
 (get_date): Add support for local time zone abbreviations. Make it reentrant.
",1564,data/crawl/tar/patch_316.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6b6064c3fa29e0423ae46078185eca64ec2b4d3d,23 Aug 1999,"--bzip2 is now -I.  Remove bogus time zone info. Fix spelling.
",300,data/crawl/tar/patch_317.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f74aea3ae3938a8a9744f96da1d89665c9d931af,20 Aug 1999,"(name_next): Use chdir_from_initial_wd, not chdir. (name_gather):
 Handle `-C x -C y' correctly. Do not rely on addname to handle -C. (addname):
 New CHANGE_DIR parameter. Remove ugly calls to getcwd; no longer needed now
 that we have save-cwd. (name_match): Use chdir_from_initial_wd, not chdir.
 (name_from_list): Likewise.
",107,data/crawl/tar/patch_318.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=c62fe41ec532b78e737ba158ede0fe0a41439f95,18 Aug 1999,"(read_and, list_archive): Simplify code. (read_header): Fix
 computation of signed checksums on machines where char is unsigned. Do not
 consider a block to be zero unless all its bytes are zero, even the checksum
 bytes.  Do not attempt to parse the checksum of a zero block.  Fix memory
 leak with long names and links. (from_chars): Accommodate a buggy tar that
 outputs leading NUL if the previous field overflows. (skip_extended_headers):
 Don't assume find_next_block yields nonnull.
",130,data/crawl/tar/patch_319.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=72290b64a6433a3c88ecb7b3044c3047beffeadc,18 Aug 1999,"(extract_sparse_file, extract_archive): Don't assume find_next_block
 yields nonnull. (extract_archive): Fix sparse array bug: we did not find end
 of array correctly.
",14,data/crawl/tar/patch_320.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=fcde5487eb6a6bc6ff80bc85a54fa94746494350,17 Aug 1999,"Ghostscript 6.0
",720,data/crawl/tar/patch_321.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=14b158325624a6e42e8bf4f7169c7a55f0afb6f9,16 Aug 1999,"indenting fixes
",8,data/crawl/tar/patch_322.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5e0e027651e89233d4f3c4ca089db72468e31173,16 Aug 1999,"(make_directories): Do not chown intermediate directories, even if we
 are root.
",18,data/crawl/tar/patch_323.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=981a4bf1ff91c729d028e4619307b46b35f1d562,14 Aug 1999,"-g now implies after_date_option = 1. -g and -N are now incompatible
 options.
",10,data/crawl/tar/patch_324.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=203dea13a40bae5c6d2dfa221036babd0e345ffe,14 Aug 1999,"(time): Don't declare if defined. (child_open_for_compress): Undo
 previous change. (close_archive): Use waitpid, POSIX-style, instead of old
 BSD style. (new_volume): Likewise.
",126,data/crawl/tar/patch_325.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=36682e50ccd859bb82bff444c4c68ff587966dc8,11 Aug 1999,"(base_64_digits): New constant. (base_8_digits): New macro.
 (MAX_VAL_WITH_DIGITS): New macro. (to_base): Renamed from to_oct.  Support
 base 64 too. New parameters specifying bits per digit and digits. Remove
 `type' parameter.  The result is now undefined if it doesn't fit; it's the
 caller's responsibility to check this. (to_chars): Other half of old to_oct,
 for 64-bit support. Mostly a new function. (GID_NOBODY, UID_NOBODY): Don't
 define if the headers don't. (gid_substitute, uid_substitute): Look up names
 dynamically if GID_NOBODY and UID_NOBODY aren't defined; use -2 if all else
 fails. (mode_to_chars): Renamed from mode_to_oct. Support negative values in
 all the _to_chars functions. (start_header): Use FILESYSTEM_PREFIX_LEN
 instead of MSDOS ifdef. Abort if archive format is DEFAULT_FORMAT when it
 shouldn't be. (dump_file): Inspect entire pathname, not just new file name
 component, when deciding whether to exclude it.
",329,data/crawl/tar/patch_326.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=dc4a8aa0c6a5bd68735e2ae220260242487c3f1e,11 Aug 1999,"(<fnmatch.h>): Do not include. (from_chars): Renamed from from_oct. 
 New parameter specifing the negative of the minimum allowed value.  Support
 negative and base-64 values. (base64_map): New var. (base64_init): New
 function. (print_header): Output numeric uids and gids if
 numeric_owner_option.
",207,data/crawl/tar/patch_327.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1f27dca9765c886a72629a655d538c36c6cb0fea,20 Jul 1999,"(decode_options): ERROR ((TAREXIT_FAILURE, ... -> FATAL_ERROR ((0,
 for consistency.
",8,data/crawl/tar/patch_328.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9cb6f5c46626aa0a8b6ce89b949fe3d9aad3feee,20 Jul 1999,"this matches historical practice. (unlink_destination): New function,
 which checks for unlink failures. (maybe_recoverable): Stay quiet if -U.
 (extract_archive): Use O_EXCL if unlink_first_option. Report unlink failures.
 Use HAVE_SYMLINK, not S_ISLNK, to determine whether symlink exists. Use
 HAVE_MKFIFO || defined mkfifo, not S_ISFIFO, to determine whether mkfifo
 exists.
",71,data/crawl/tar/patch_329.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=de1db1ed963a081a308cadf56bf571d29ece4bae,12 Jul 1999,"(is_regular_file): Don't succeed on files that we can't access due to
 permissions problems. (open_archive): Fix wording on fatal error message.
 Don't bother to stat /dev/null if the archive is not a character special
 device.
",17,data/crawl/tar/patch_330.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4dd9bd50bdcf78b6fbe86cb1153579d3fe57334b,12 Jul 1999,"(append_file): Open the file before statting it, to avoid a race.
 Complain about file shrinkage only when we reach EOF.
",65,data/crawl/tar/patch_331.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8e8acfbc97574b9313dea279ce53e5c9fa93cb1f,8 Jul 1999,"(exclude_pool, exclude_pool_size, allocated_exclude_pool_size,
 simple_exclude_array, simple_excludes, allocated_simple_excludes,
 pattern_exclude_array, pattern_excludes, allocated_pattern_excludes,
 add_exclude, add_exclude_file, check_exclude): Remove; now done in
 ../lib/exclude.c.
",145,data/crawl/tar/patch_332.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=07f380748c431d6f4e1f1d668792e9dd1fb3fc7f,8 Jul 1999,"(decode_options): Initialize `excluded'. Use new add_exclude_file and
 add_exclude functions.
",8,data/crawl/tar/patch_333.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=0f32adce258519bfa6af4cd8f972db453f91cf9b,2 Jul 1999,"(extr_init, make_directories, extract_archive): Do not assume mode
 bits have traditional Unix values. (set_mode): Use %04 not %0.4 format.
 (extract_sparse_file): Do not use data_block uninitialized. Check for lseek
 failures; use portable lseek whence values.
",68,data/crawl/tar/patch_334.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6eafcf3c9d4aa1c63f245c48204afe5bc9e0b3cf,2 Jul 1999,"Add braces to pacify gcc -Wall.
",76,data/crawl/tar/patch_335.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=72adbbda36ab076df0a52832191580a7162e1db3,16 Jun 1999,"(backup_type): Remove decl; backupfile.h now has it. (intconv):
 Remove; use xstrto* fns instead. (""xstrtol.h""): Include. (check_decimal):
 Remove. (long_options, usage, OPTION_STRING, decode_options): Remove -y,
 --bzip2, --unbzip2. (decode_options): Use xget_version instead of
 get_version. Check for overflow with -b and -L and RECORD_SIZE_OPTION.
 Replace invocations of check_decimal  with xstrtoumax.
",116,data/crawl/tar/patch_336.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ce00ef748ca13b1ba7d014925cc9ab74efa23efb,20 May 1999,"GNU tar 1.13
",1049,data/crawl/tar/patch_337.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=78e6911db8690eaecb4545ade0b457e23300e487,19 Apr 1999,"Initial revision
",64,data/crawl/tar/patch_338.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f31b9d842bad51e1c088390b17bcac44d554b56a,22 Mar 1999,"Include <quotearg.h>. (from_oct): Add forward decl. (read_header):
 Return HEADER_FAILURE if we can't parse the checksum. (from_oct): Report an
 error only if TYPE is nonzero. Quote any funny characters in bad header.
",41,data/crawl/tar/patch_339.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=13617c42d896aa66178d914d744d2d42fb988248,2 Mar 1999,"(to_oct): New parameter substitute, giving a substitute value to use
 when the original value is out of range.  Do not append a space to the
 output; modern tars don't.  When a value is out of range, specify the maximum
 value, not the number of bits. (GID_NOBODY, UID_NOBODY): New macros.
 (gid_to_oct, uid_to_oct): Use them as substitutes. (finish_header): Do not
 assume that UINTMAX_TO_OCT appends a space. (dump_file): Check whether the
 file changed as we read it.
",79,data/crawl/tar/patch_340.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=562d543b2dda9c6d8d6a2995fb9127f5bae58fb4,31 Jan 1999,"(decode_options): Don't pass names longer than UNAME_FIELD_SIZE to
 uname_to_uid, as it messes up the cache.  Similarly for gname_to_uid.
",20,data/crawl/tar/patch_341.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=d434121129037355261deae143cb05cabd370cb4,25 Jan 1999,"GNU fileutils 4.0i
",316,data/crawl/tar/patch_342.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=8d5fcefaa2f13d0931a8dffab5fbc4c089bccac9,31 Dec 1997,"GNU tar 1.13
",161,data/crawl/tar/patch_343.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=48be206fbfd81aa56056d7327fa8295e27011e5f,31 Oct 1997,"(to_oct): Now static.  Value arg is now uintmax_t.  Accept new args
 giving name of type of octal field, for error messages.  Report an error if
 the value is too large to fit in the field. (gid_to_oct, major_to_oct,
 minor_to_oct, mode_to_oct, off_to_oct, size_to_oct, time_to_oct, uid_to_oct,
 uintmax_to_oct): New functions.

(write_eot, write_long, finish_header, deal_with_sparse,
finish_sparse_file, dump_file): Use dev_t, off_t, ssize_t, size_t when
appropriate.  Remove now-useless casts.  Use unsigned long to print
*_t types, except use STRINGIFY_BIGINT for off_t.

(find_new_file_size): 1st arg is now off_t*.
(finish_sparse_file): Args now use off_t, not long.
Check for lseek error.
(create_archive, dump_file): Cast -1 to dev_t when necessary.
(dump_file): Device arg is now dev_t.
Avoid overflow when testing whether file has holes
by using the new ST_NBLOCKSIZE macro.",281,data/crawl/tar/patch_344.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ac8cfdacf66941b0a339c7b3271138b29d7c69a4,31 Oct 1997,"(record_start_block, save_totsize, save_sizeleft, real_s_totsize,
 real_s_sizeleft, current_block_ordinal): Now off_t. (write_error): Arg is now
 ssize_t. (child_pid): Now pid_t. (available_space_after): Now size_t.

(child_open_for_compress, child_open_for_uncompress, flush_write,
open_archive, flush_write, write_error, flush_read, close_archive):
Use pid_t, ssize_t, size_t when appropriate.  Remove now-useless
casts.  Use unsigned long to print *_t types, except use
STRINGIFY_BIGINT for off_t.",140,data/crawl/tar/patch_345.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=241bbee81b2136a216dab74ab1322ae6dd07555f,31 Oct 1997,"(read_and, list_archive, read_header, decode_mode, print_header,
 print_for_mkdir): Use mode_t, off_t, size_t when appropriate.  Remove
 now-useless casts.  Use unsigned long to print *_t types, except use
 STRINGIFY_BIGINT for off_t.

(read_header): Check for overflow when converting header size.

(from_oct): Now static.  Now returns uintmax_t.  `where' arg is now
const char *.  Size arg is now size_t.  Now takes new type and maxval
args.  Compute result using uintmax_t, not long.  Report error if
field does not contain octal number in range.
(gid_from_oct, major_from_oct, minor_from_oct, mode_from_oct,
off_from_oct, size_from_oct, time_from_oct, uid_from_oct,
uintmax_from_oct): New functions.

(stringify_uintmax_t_backwards): New function.

(decode_mode, print_for_mkdir): Mode arg is now mode_t.
(skip_file): Offset arg is now off_t.",246,data/crawl/tar/patch_346.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=49086e2770abfa6ad6a7647e2d0707b607ee1bf8,31 Oct 1997,"(newdir_umask, current_umask): Now mode_t. (extract_sparse_file):
 Args now use off_t.

(set_mode, set_stat, make_directories, extract_sparse_file,
extract_archive): Use off_t, size_t, ssize_t when appropriate.  Remove
now-useless casts.  Use unsigned long to print *_t types, except use
STRINGIFY_BIGINT for off_t.",130,data/crawl/tar/patch_347.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f3531f64fb63f785eac9bbd80fecd2912e535566,31 Oct 1997,"(name_init): Fix typo in error message: FILE* was passed, but char*
 was wanted.

(read_name_from_file, name_gather, addname, name_match, name_scan,
add_exclude): Use size_t when appropriate.  Remove now-useless casts.

(exclude_pool_size, allocated_exclude_pool_size): Now size_t.",28,data/crawl/tar/patch_348.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=f2bad2db4833dee287931103007018d0c4368192,31 Oct 1997,"(extract_mangle): Check for overflow when converting off_t to size_t.
 Use off_t, size_t when appropriate.  Remove now-useless casts.
",9,data/crawl/tar/patch_349.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=88ea940c0e3db80904f2405b01f1a3d01c522859,31 Oct 1997,"(check_decimal): Now returns 1 if successful, 0 otherwise, and
 returns uintmax_t value into new arg.  Check for arithmetic overflow.
 (decode_options): Avoid overflow if record_size fits in size_t but not int.
 Check for overflow on user or group ids.
",55,data/crawl/tar/patch_350.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=ac65803ac9356b844e38d11f4c3c51ba4cfb0978,31 Oct 1997,"(append_file) Use off_t, size_t, ssize_t when appropriate.  Remove
 now-useless casts.  Use unsigned long to print *_t types, except use
 STRINGIFY_BIGINT for off_t. (update_archive): Cast -1 to dev_t when
 necessary.
",29,data/crawl/tar/patch_351.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3289dce5520299aeca677b1fc18383961a112949,25 Apr 1997,"GNU tar 1.12
",230,data/crawl/tar/patch_352.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=b7890ac7573e6df20fa843fd85400072b5638c28,25 Apr 1997,"GNU tar 1.12
",1227,data/crawl/tar/patch_353.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5e0e89eac1a00a2edb87ea7b69f1f38c2b1249e1,25 Apr 1997,"GNU tar 1.12
",2453,data/crawl/tar/patch_354.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3e3d9b7e3962df782fd733ea9dd2fe2be37f58d6,25 Apr 1997,"GNU tar 1.12
",336,data/crawl/tar/patch_355.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=27e87f4f2f4d49328c328fd55fa087d8a4507168,25 Apr 1997,"GNU tar 1.12
",4615,data/crawl/tar/patch_356.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3728196fa69fb0908f5c175d750978d1423b8340,24 Apr 1997,"GNU tar 1.12
",481,data/crawl/tar/patch_357.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=70b61d565b35d3c97f071177995f55c33d0cfdd0,24 Apr 1997,"GNU tar 1.12
",715,data/crawl/tar/patch_358.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=093b8189300dcbdb8a7cd836a2986199664f3c89,24 Apr 1997,"GNU tar 1.12
",11150,data/crawl/tar/patch_359.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=76dce03c2e9751933ea8dd23038a064204dbf00f,24 Apr 1997,"GNU tar 1.12
",163,data/crawl/tar/patch_360.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=818c240503f808e12705dafb1f69077cdd10053b,23 Apr 1997,"GNU tar 1.12
",1525,data/crawl/tar/patch_361.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=be2c991f7ba04ec7b5306b7fa8ee5bfe6c6ee4ea,22 Apr 1997,"GNU tar 1.12
",471,data/crawl/tar/patch_362.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5540d5aaff399b947f097772be9c5ebc39c8a7d5,22 Apr 1997,"tar 1.13
",194,data/crawl/tar/patch_363.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=768c69b838a4e84b715363a7dcf4128b3cd9ce4b,22 Apr 1997,"GNU tar 1.12
",983,data/crawl/tar/patch_364.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=eed93f9a58ed79ec07028b85d54804f042bf7af9,19 Apr 1997,"GNU tar 1.12
",688,data/crawl/tar/patch_365.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=10797cd27b13ab09e09fa5b994dda79564b8e6b4,18 Apr 1997,"GNU tar 1.12
",573,data/crawl/tar/patch_366.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a4f7f5bcc6c027b22c409ffad0410a8d55d0a305,15 Apr 1997,"GNU tar 1.12
",299,data/crawl/tar/patch_367.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=799e915cd3a889058eeefeaa25391cfe1eae7c3a,15 Apr 1997,"GNU tar 1.12
",1052,data/crawl/tar/patch_368.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=63f2f45b88e84d2a8d414da0ae81ffe58fda7cb4,15 Apr 1997,"tar 1.13
",530,data/crawl/tar/patch_369.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=3c08ec43171c8538a2ef0f75b3455cf83f1f75f6,11 Nov 1996,"GNU tar 1.12
",775,data/crawl/tar/patch_370.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=0cc3967d3f492886e9bc5e089faf321724e4c45e,16 Nov 1994,"*** empty log message ***
",387,data/crawl/tar/patch_371.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=62ece1146850487dd39f22c557fc05ce297c072e,16 Nov 1994,"Initial revision
",332,data/crawl/tar/patch_372.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=e4fa391028f3fd141eeb4dd94afb7fd60bc5e593,16 Nov 1994,"*** empty log message ***
",1923,data/crawl/tar/patch_373.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=54694ee258a974a6c8a9710718500f58c74cd257,16 Nov 1994,"Initial revision
",1352,data/crawl/tar/patch_374.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=26aaccb0e954970d22da4dc9ef5d5b5c4f27c260,16 Nov 1994,"Initial revision
",466,data/crawl/tar/patch_375.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=05f5fdb687ce6873d002e3ab7798a12fb8b55265,16 Nov 1994,"*** empty log message ***
",1279,data/crawl/tar/patch_376.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5f80b268a858caea514acf3144a15fb98ad085fe,16 Nov 1994,"*** empty log message ***
",131,data/crawl/tar/patch_377.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=a6961b8e22d52438c1f132c89588d089e3fad5ff,16 Nov 1994,"Initial revision
",147,data/crawl/tar/patch_378.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=5aac7fa0e7b3ff355d23f8f27f6eee25452fd56a,16 Nov 1994,"*** empty log message ***
",190,data/crawl/tar/patch_379.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=06d985ed13e7bbfb1058919523958f76e4a62edd,16 Nov 1994,"*** empty log message ***
",747,data/crawl/tar/patch_380.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=db2eecfb4b8b2de30a78f89a366ccb07a2fdb429,16 Nov 1994,"Initial revision
",656,data/crawl/tar/patch_381.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=6556021bfdacadb3759670964e91911320c870d9,16 Nov 1994,"*** empty log message ***
",462,data/crawl/tar/patch_382.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=9e95900ce7813c06b3a330267428266aec39ef0e,16 Nov 1994,"*** empty log message ***
",1177,data/crawl/tar/patch_383.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7ac3cfedacb2f9a113fd80fd57443c703e3567e9,16 Nov 1994,"Initial revision
",3961,data/crawl/tar/patch_384.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=cbe5f6dce06629208a8a6e731816e11554183fe8,16 Nov 1994,"*** empty log message ***
",336,data/crawl/tar/patch_385.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=1f738c1d1b74b948dd37e34309371e086c1eba08,16 Nov 1994,"*** empty log message ***
",1050,data/crawl/tar/patch_386.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=66450ac3e29275524c50fcd991b41266551bf502,16 Nov 1994,"Initial revision
",1044,data/crawl/tar/patch_387.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=4ea60be930c2d0350ca297f379fb273d2992ddd9,16 Nov 1994,"*** empty log message ***
",1312,data/crawl/tar/patch_388.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=7c1dad98bb36e6b1c53906082e5c281e5a698d00,16 Nov 1994,"*** empty log message ***
",415,data/crawl/tar/patch_389.diff
http://git.savannah.gnu.org/cgit/tar.git/commit/?id=10b4901399a867671f09cf2dbf4316a71ccc5fbc,16 Nov 1994,"*** empty log message ***
",763,data/crawl/tar/patch_390.diff
