diff --git a/doc/wget.texi b/doc/wget.texi
index fcc5cd6..0563dc7 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -548,6 +548,13 @@ is used as @var{file}, documents will be printed to standard output,
 disabling link conversion.  (Use @samp{./-} to print to a file
 literally named @samp{-}.)
 
+Use of @samp{-O} is @emph{not} intended to mean simply ``use the name
+@var{file} instead of the one in the URL;'' rather, it is
+analogous to shell redirection.
+@samp{wget -O file http://foo} is intended to work like
+@samp{wget -O - http://foo > file}. @file{file} will be truncated
+immediately, and don't expect timestamping to work with it.
+
 Note that a combination with @samp{-k} is only well-defined for
 downloading a single document.
 
-- 
cgit v1.0-41-gc330


From a7958aa4c6f246369eacb34fc0022a9219d76aac Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 12 Sep 2007 11:40:05 -0700
Subject: Further refinement of -O description; .hignore <- doc products

---
 .hgignore     | 13 +++++++++++++
 doc/wget.texi | 11 ++++++-----
 2 files changed, 19 insertions(+), 5 deletions(-)

diff --git a/.hgignore b/.hgignore
index 5243e1c..d535de6 100644
--- a/.hgignore
+++ b/.hgignore
@@ -19,6 +19,19 @@ doc/wget.1
 doc/wget.pod
 doc/wget.info
 doc/sample.wgetrc.munged_for_texi_inclusion
+doc/wget.aux
+doc/wget.cp
+doc/wget.cps
+doc/wget.dvi
+doc/wget.fn
+doc/wget.ky
+doc/wget.log
+doc/wget.pg
+doc/wget.toc
+doc/wget.tp
+doc/wget.vr
+doc/wget_a4.ps
+doc/wget_us.ps
 po/Makefile.in
 po/POTFILES
 po/*.gmo
diff --git a/doc/wget.texi b/doc/wget.texi
index 0563dc7..6d3ae49 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -550,13 +550,14 @@ literally named @samp{-}.)
 
 Use of @samp{-O} is @emph{not} intended to mean simply ``use the name
 @var{file} instead of the one in the URL;'' rather, it is
-analogous to shell redirection.
+analogous to shell redirection:
 @samp{wget -O file http://foo} is intended to work like
-@samp{wget -O - http://foo > file}. @file{file} will be truncated
-immediately, and don't expect timestamping to work with it.
+@samp{wget -O - http://foo > file}; @file{file} will be truncated
+immediately, and @emph{all} downloaded content will be written there.
 
-Note that a combination with @samp{-k} is only well-defined for
-downloading a single document.
+Note that a combination with @samp{-k} is only permitted when
+downloading a single document, and combination with any of @samp{-r},
+@samp{-p}, or @samp{-N} is not allowed.
 
 @cindex clobbering, file
 @cindex downloading multiple times
-- 
cgit v1.0-41-gc330


From d33628c2e589c4c597ffa9b04a89848c58452bf8 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 12 Sep 2007 20:21:30 -0700
Subject: Clarified suffix vs patterns in -A, -R

---
 doc/ChangeLog | 5 +++++
 doc/wget.texi | 5 ++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index 3b16b9f..7d840f8 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-12  Micah Cowan  <micah@cowan.name>
+
+	* wget.texi: Expanded the description of -O. Clarified the
+	detection of elements as "patterns" versus "suffixes" in -A, -R.
+
 2007-07-28  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi <HTTP Options>: Added --max-redirect option.
diff --git a/doc/wget.texi b/doc/wget.texi
index 6d3ae49..62b346a 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -1807,7 +1807,10 @@ option to turn it on.
 @item -A @var{acclist} --accept @var{acclist}
 @itemx -R @var{rejlist} --reject @var{rejlist}
 Specify comma-separated lists of file name suffixes or patterns to
-accept or reject (@pxref{Types of Files} for more details).
+accept or reject (@pxref{Types of Files} for more details). Note that if
+any of the wildcard characters, @samp{*}, @samp{?}, @samp{[} or
+@samp{]}, appear in an element of @var{acclist} or @var{rejlist},
+it will be treated as a pattern, rather than a suffix.
 
 @item -D @var{domain-list}
 @itemx --domains=@var{domain-list}
-- 
cgit v1.0-41-gc330


From d7caacb56ac4f6d35a88d452fbc00d8bd5a18ed3 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 12 Sep 2007 20:22:22 -0700
Subject: ignore tag files

---
 .hgignore | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/.hgignore b/.hgignore
index d535de6..48573d7 100644
--- a/.hgignore
+++ b/.hgignore
@@ -15,6 +15,8 @@ src/*.o
 src/config.h
 src/config.h.in
 src/wget
+src/tags
+src/TAGS
 doc/wget.1
 doc/wget.pod
 doc/wget.info
-- 
cgit v1.0-41-gc330


From 8d9625d4193bcf55e79353f27a2fba2e20f674f8 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 12 Sep 2007 21:48:31 -0700
Subject: Describe -p in relation to -nc

---
 doc/ChangeLog |  3 ++-
 doc/wget.texi | 24 ++++++++++++------------
 2 files changed, 14 insertions(+), 13 deletions(-)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index 7d840f8..f40b7c8 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,7 +1,8 @@
 2007-09-12  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi: Expanded the description of -O. Clarified the
-	detection of elements as "patterns" versus "suffixes" in -A, -R.
+	detection of elements as "patterns" versus "suffixes" in -A,
+	-R. Describe -p in relation to -nc.
 
 2007-07-28  Micah Cowan  <micah@cowan.name>
 
diff --git a/doc/wget.texi b/doc/wget.texi
index 62b346a..c7aca61 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -569,7 +569,7 @@ behavior depends on a few options, including @samp{-nc}.  In certain
 cases, the local file will be @dfn{clobbered}, or overwritten, upon
 repeated download.  In other cases it will be preserved.
 
-When running Wget without @samp{-N}, @samp{-nc}, or @samp{-r},
+When running Wget without @samp{-N}, @samp{-nc}, @samp{-r}, or @samp{p},
 downloading the same file in the same directory will result in the
 original copy of @var{file} being preserved and the second copy being
 named @samp{@var{file}.1}.  If that file is downloaded yet again, the
@@ -581,17 +581,17 @@ clobbering that's prevented (as the numeric suffixes were already
 preventing clobbering), but rather the multiple version saving that's
 prevented.
 
-When running Wget with @samp{-r}, but without @samp{-N} or @samp{-nc},
-re-downloading a file will result in the new copy simply overwriting the
-old.  Adding @samp{-nc} will prevent this behavior, instead causing the
-original version to be preserved and any newer copies on the server to
-be ignored.
-
-When running Wget with @samp{-N}, with or without @samp{-r}, the
-decision as to whether or not to download a newer copy of a file depends
-on the local and remote timestamp and size of the file
-(@pxref{Time-Stamping}).  @samp{-nc} may not be specified at the same
-time as @samp{-N}.
+When running Wget with @samp{-r} or @samp{-p}, but without @samp{-N}
+or @samp{-nc}, re-downloading a file will result in the new copy
+simply overwriting the old.  Adding @samp{-nc} will prevent this
+behavior, instead causing the original version to be preserved and any
+newer copies on the server to be ignored.
+
+When running Wget with @samp{-N}, with or without @samp{-r} or
+@samp{-p}, the decision as to whether or not to download a newer copy
+of a file depends on the local and remote timestamp and size of the
+file (@pxref{Time-Stamping}).  @samp{-nc} may not be specified at the
+same time as @samp{-N}.
 
 Note that when @samp{-nc} is specified, files with the suffixes
 @samp{.html} or @samp{.htm} will be loaded from the local disk and
-- 
cgit v1.0-41-gc330


From ec4f9ffcd4fec2bde3ecd8f7452d5ce373e04dbd Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 12 Sep 2007 22:16:48 -0700
Subject: AUTHORS <- Micah

---
 AUTHORS   | 2 ++
 ChangeLog | 4 ++++
 2 files changed, 6 insertions(+)

diff --git a/AUTHORS b/AUTHORS
index daa005e..94adf57 100644
--- a/AUTHORS
+++ b/AUTHORS
@@ -40,3 +40,5 @@ Nicolas Schodet.  Contributed to cookie code and documentation.
 
 Daniel Stenberg.  NTLM authentication in http-ntlm.c and http-ntlm.h
 originally written for curl donated for use in GNU Wget.
+
+Micah Cowan.  Current Wget maintainer, from mid-2007.
diff --git a/ChangeLog b/ChangeLog
index 2312d00..d3ae657 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,7 @@
+2007-09-12  Micah Cowan  <micah@cowan.name>
+
+	* AUTHORS: Added... me...
+
 2007-08-26  Micah Cowan  <micah@cowan.name>
 
 	* po/POTFILES.in: Added spider.c.
-- 
cgit v1.0-41-gc330


From 8419eed6968e9a0453914dcd39525bbc33f39bd2 Mon Sep 17 00:00:00 2001
From: micah <devnull@localhost>
Date: Wed, 12 Sep 2007 23:47:42 -0700
Subject: [svn] Various documentation adjustments. AUTHORS <- Micah

---
 AUTHORS       |  2 ++
 ChangeLog     |  4 ++++
 doc/ChangeLog |  6 ++++++
 doc/wget.texi | 39 +++++++++++++++++++++++++--------------
 4 files changed, 37 insertions(+), 14 deletions(-)

diff --git a/AUTHORS b/AUTHORS
index daa005e..94adf57 100644
--- a/AUTHORS
+++ b/AUTHORS
@@ -40,3 +40,5 @@ Nicolas Schodet.  Contributed to cookie code and documentation.
 
 Daniel Stenberg.  NTLM authentication in http-ntlm.c and http-ntlm.h
 originally written for curl donated for use in GNU Wget.
+
+Micah Cowan.  Current Wget maintainer, from mid-2007.
diff --git a/ChangeLog b/ChangeLog
index 2312d00..d3ae657 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,7 @@
+2007-09-12  Micah Cowan  <micah@cowan.name>
+
+	* AUTHORS: Added... me...
+
 2007-08-26  Micah Cowan  <micah@cowan.name>
 
 	* po/POTFILES.in: Added spider.c.
diff --git a/doc/ChangeLog b/doc/ChangeLog
index 3b16b9f..f40b7c8 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,3 +1,9 @@
+2007-09-12  Micah Cowan  <micah@cowan.name>
+
+	* wget.texi: Expanded the description of -O. Clarified the
+	detection of elements as "patterns" versus "suffixes" in -A,
+	-R. Describe -p in relation to -nc.
+
 2007-07-28  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi <HTTP Options>: Added --max-redirect option.
diff --git a/doc/wget.texi b/doc/wget.texi
index fcc5cd6..c7aca61 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -548,8 +548,16 @@ is used as @var{file}, documents will be printed to standard output,
 disabling link conversion.  (Use @samp{./-} to print to a file
 literally named @samp{-}.)
 
-Note that a combination with @samp{-k} is only well-defined for
-downloading a single document.
+Use of @samp{-O} is @emph{not} intended to mean simply ``use the name
+@var{file} instead of the one in the URL;'' rather, it is
+analogous to shell redirection:
+@samp{wget -O file http://foo} is intended to work like
+@samp{wget -O - http://foo > file}; @file{file} will be truncated
+immediately, and @emph{all} downloaded content will be written there.
+
+Note that a combination with @samp{-k} is only permitted when
+downloading a single document, and combination with any of @samp{-r},
+@samp{-p}, or @samp{-N} is not allowed.
 
 @cindex clobbering, file
 @cindex downloading multiple times
@@ -561,7 +569,7 @@ behavior depends on a few options, including @samp{-nc}.  In certain
 cases, the local file will be @dfn{clobbered}, or overwritten, upon
 repeated download.  In other cases it will be preserved.
 
-When running Wget without @samp{-N}, @samp{-nc}, or @samp{-r},
+When running Wget without @samp{-N}, @samp{-nc}, @samp{-r}, or @samp{p},
 downloading the same file in the same directory will result in the
 original copy of @var{file} being preserved and the second copy being
 named @samp{@var{file}.1}.  If that file is downloaded yet again, the
@@ -573,17 +581,17 @@ clobbering that's prevented (as the numeric suffixes were already
 preventing clobbering), but rather the multiple version saving that's
 prevented.
 
-When running Wget with @samp{-r}, but without @samp{-N} or @samp{-nc},
-re-downloading a file will result in the new copy simply overwriting the
-old.  Adding @samp{-nc} will prevent this behavior, instead causing the
-original version to be preserved and any newer copies on the server to
-be ignored.
+When running Wget with @samp{-r} or @samp{-p}, but without @samp{-N}
+or @samp{-nc}, re-downloading a file will result in the new copy
+simply overwriting the old.  Adding @samp{-nc} will prevent this
+behavior, instead causing the original version to be preserved and any
+newer copies on the server to be ignored.
 
-When running Wget with @samp{-N}, with or without @samp{-r}, the
-decision as to whether or not to download a newer copy of a file depends
-on the local and remote timestamp and size of the file
-(@pxref{Time-Stamping}).  @samp{-nc} may not be specified at the same
-time as @samp{-N}.
+When running Wget with @samp{-N}, with or without @samp{-r} or
+@samp{-p}, the decision as to whether or not to download a newer copy
+of a file depends on the local and remote timestamp and size of the
+file (@pxref{Time-Stamping}).  @samp{-nc} may not be specified at the
+same time as @samp{-N}.
 
 Note that when @samp{-nc} is specified, files with the suffixes
 @samp{.html} or @samp{.htm} will be loaded from the local disk and
@@ -1799,7 +1807,10 @@ option to turn it on.
 @item -A @var{acclist} --accept @var{acclist}
 @itemx -R @var{rejlist} --reject @var{rejlist}
 Specify comma-separated lists of file name suffixes or patterns to
-accept or reject (@pxref{Types of Files} for more details).
+accept or reject (@pxref{Types of Files} for more details). Note that if
+any of the wildcard characters, @samp{*}, @samp{?}, @samp{[} or
+@samp{]}, appear in an element of @var{acclist} or @var{rejlist},
+it will be treated as a pattern, rather than a suffix.
 
 @item -D @var{domain-list}
 @itemx --domains=@var{domain-list}
-- 
cgit v1.0-41-gc330


From d6c1be263d5b2687a066c5ada79d5c013f8680d0 Mon Sep 17 00:00:00 2001
From: micah <devnull@localhost>
Date: Wed, 12 Sep 2007 23:53:28 -0700
Subject: [svn] Removed TODO file

---
 ChangeLog |   2 +
 NEWS      |   4 ++
 TODO      | 157 --------------------------------------------------------------
 3 files changed, 6 insertions(+), 157 deletions(-)
 delete mode 100644 TODO

diff --git a/ChangeLog b/ChangeLog
index d3ae657..d402395 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,6 +1,8 @@
 2007-09-12  Micah Cowan  <micah@cowan.name>
 
 	* AUTHORS: Added... me...
+	* TODO: file removed, bugtracker is authoritative source for
+	planned changes.
 
 2007-08-26  Micah Cowan  <micah@cowan.name>
 
diff --git a/NEWS b/NEWS
index 64cb796..f7ae1f4 100644
--- a/NEWS
+++ b/NEWS
@@ -7,6 +7,10 @@ Please send GNU Wget bug reports to <bug-wget@gnu.org>.
 
 * Changes in Wget 1.11.
 
+** TODO file removed: we use a bugtracker now; see
+http://wget.addictivecode.org/BugTracker. Also,
+http://wget.addictivecode.org/FeatureSpecifications.
+
 ** Timestamping now uses the value from the most recent HTTP response,
 rather than the first one it got.
 
diff --git a/TODO b/TODO
deleted file mode 100644
index 4fc5a6c..0000000
--- a/TODO
+++ /dev/null
@@ -1,157 +0,0 @@
-                                                       -*- outline -*-
-
-This is the to-do list for GNU Wget.  There is no timetable of when we
-plan to implement these features -- this is just a list of features
-we'd like to see in Wget, as well as a list of problems that need
-fixing.  Patches to implement these items are likely to be accepted,
-especially if they follow the coding convention outlined in PATCHES
-and if they patch the documentation as well.
-
-The items are not listed in any particular order (except that
-recently-added items may tend towards the top).  Not all of these
-represent user-visible changes.
-
-* Change the file name generation logic so that redirects can't dictate
-  file names (but redirects should still be followed).  By default, file
-  names should be generated only from the URL the user provided.  However,
-  with an appropriate flag, Wget will allow the remote server to specify
-  the file name, either through redirection (as is always the case now)
-  or via the increasingly popular header `Content-Disposition: XXX;
-  filename="FILE"'.
-
-  The file name should be generated and displayed *after* processing
-  the server's response, not before, as it is done now.  This will
-  allow trivial implementation of -nc, of O_EXCL when opening the
-  file, --html-extension will stop being a horrible hack, and so on.
-
-* -O should be respected, with no exceptions.  It should work in
-  conjunction with -N and -k.  (This is hard to achieve in the current
-  code base.)  Ancillary files, such as directory listings and such,
-  should be downloaded either directly to memory, or to /tmp.
-
-* Implement digest and NTLM authorization for proxies.  This is harder
-  than it seems because it requires some rethinking of the HTTP code.
-
-* Rethink the interaction between recur.c (the recursive download code)
-  and HTTP/FTP code.  Ideally, the downloading code should have a way
-  to retrieve a file and, optionally, to specify a list of URLs for
-  continuing the "recursive" download.  FTP code will surely benefit
-  from such a restructuring because its current incarnation is way too
-  smart for its own good.
-
-* Both HTTP and FTP connections should be first-class objects that can
-  be reused after a download is done.  Currently information about both
-  is kept implicitly on the stack, and forgotten after each download.
-
-* Restructure the FTP code to remove massive amounts of code duplication
-  and repetition.  Remove all the "intelligence" and make it work as
-  outlined in the previous bullet.
-
-* Add support for SFTP.  Teach Wget about newer features of more
-  recent FTP servers in general, such as receiving reliable checksums
-  and timestamps.  This can be used to implement really robust
-  downloads.
-
-* Wget shouldn't delete rejected files that were not downloaded, but
-  just found on disk because of `-nc'.  For example, `wget -r -nc
-  -A.gif URL' should allow the user to get all the GIFs without
-  removing any of the existing HTML files.
-
-* Be careful not to lose username/password information given for the
-  URL on the command line.  For example,
-  wget -r http://username:password@server/path/ should send that
-  username and password to all content under /path/ (this is apparently
-  what browsers do).
-
-* Don't send credentials using "Basic" authorization before the server
-  has a chance to tell us that it supports Digest or NTLM!
-
-* Add a --range parameter allowing you to explicitly specify a range
-  of bytes to get from a file over HTTP (FTP only supports ranges
-  ending at the end of the file, though forcibly disconnecting from
-  the server at the desired endpoint would work).  For example,
-  --range=n-m would specify inclusive range (a la the Range header),
-  and --range=n:m would specify exclusive range (a la Python's
-  slices).  -c should work with --range by assuming the range is
-  partially downloaded on disk, and contuing from there (effectively
-  requesting a smaller range).
-
-* If multiple FTP URLs are specified that are on the same host, Wget should
-  re-use the connection rather than opening a new one for each file.
-  This should be easy provided the above restructuring of FTP code that
-  would include the FTP connection becoming a first-class objects.
-
-* Try to devise a scheme so that, when password is unknown, Wget asks
-  the user for one.  This is harder than it seems because the password
-  may be requested by some page encountered long after the user has
-  left Wget to run.
-
-* If -c used with -N, check to make sure a file hasn't changed on the server
-  before "continuing" to download it (preventing a bogus hybrid file).
-
-* Generalize --html-extension to something like --mime-extensions and
-  have consult mime.types for the preferred extension.  Non-HTML files
-  with filenames changed this way would be re-downloaded each time
-  despite -N unless .orig files were saved for them.  (#### Why?  The
-  HEAD request we use to implement -N would still be able to construct
-  the correct file name based on the declared Content-Type.)
-
-  Since .orig would contain the same data as non-.orig, the latter
-  could be just a link to the former.  Another possibility would be to
-  implement a per-directory database called something like
-  .wget_url_mapping containing URLs and their corresponding filenames.
-
-* When spanning hosts, there's no way to say that you are only
-  interested in files in a certain directory on _one_ of the hosts (-I
-  and -X apply to all).  Perhaps -I and -X should take an optional
-  "hostname:" before the directory?
-
-* --retr-symlinks should cause wget to traverse links to directories too.
-
-* Make wget return non-zero status in more situations, like incorrect HTTP auth.
-  Create and document different exit statuses for different errors.
-
-* Make -K compare X.orig to X and move the former on top of the latter if 
-  they're the same, rather than leaving identical .orig files laying around.
-
-* Make `-k' check for files that were downloaded in the past and convert links 
-  to them in newly-downloaded documents.
-
-* Devise a way for options to have effect on a per-URL basis.  This is very
-  natural for some options, such as --post-data.  It could be implemented
-  simply by having more than one struct options.
-
-* Add option to clobber existing file names (no `.N' suffixes).
-
-* Add option to only list wildcard matches without doing the download.  The same
-  could be generalized to support something like apt's --print-uri.
-
-* Handle MIME types correctly.  There should be an option to (not)
-  retrieve files based on MIME types, e.g. `--accept-types=image/*'.
-  This would work for FTP by translating file extensions to MIME types
-  using mime.types.
-
-* Allow time-stamping by arbitrary date.  For example,
-  wget --if-modified-after DATE URL.
-
-* Make quota apply to single files, preferrably so that the download of an
-  oversized file is not attempted at all.
-
-* When updating an existing mirror, download to temporary files (such as .in*)
-  and rename the file after the download is done.
-
-* Add an option to delete or move no-longer-existent files when mirroring.
-
-* Implement uploading (--upload=FILE URL?) in FTP and HTTP.  A beginning of
-  this is available in the form of --post-file, but it should be expanded to
-  be really useful.
-
-* Make HTTP timestamping use If-Modified-Since facility.
-
-* Add more protocols (such as news or possibly some of the streaming
-  protocols), implementing them in a modular fashion.
-
-* Add a "rollback" option to have continued retrieval throw away a
-  configurable number of bytes at the end of a file before resuming
-  download.  Apparently, some stupid proxies insert a "transfer
-  interrupted" string we need to get rid of.
-- 
cgit v1.0-41-gc330


From 29dea5f7d7bec621ef2c10c80d517477e10c4ac4 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 13 Sep 2007 00:36:09 -0700
Subject: Removed TODO

---
 ChangeLog | 2 ++
 NEWS      | 4 ++++
 2 files changed, 6 insertions(+)

diff --git a/ChangeLog b/ChangeLog
index d3ae657..d402395 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,6 +1,8 @@
 2007-09-12  Micah Cowan  <micah@cowan.name>
 
 	* AUTHORS: Added... me...
+	* TODO: file removed, bugtracker is authoritative source for
+	planned changes.
 
 2007-08-26  Micah Cowan  <micah@cowan.name>
 
diff --git a/NEWS b/NEWS
index 64cb796..f7ae1f4 100644
--- a/NEWS
+++ b/NEWS
@@ -7,6 +7,10 @@ Please send GNU Wget bug reports to <bug-wget@gnu.org>.
 
 * Changes in Wget 1.11.
 
+** TODO file removed: we use a bugtracker now; see
+http://wget.addictivecode.org/BugTracker. Also,
+http://wget.addictivecode.org/FeatureSpecifications.
+
 ** Timestamping now uses the value from the most recent HTTP response,
 rather than the first one it got.
 
-- 
cgit v1.0-41-gc330


From d2741e7155140a031e982d352d7170ee4cfeaf1f Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 13 Sep 2007 00:51:09 -0700
Subject: Remove TODO in mercurial, too

---
 TODO | 157 -------------------------------------------------------------------
 1 file changed, 157 deletions(-)
 delete mode 100644 TODO

diff --git a/TODO b/TODO
deleted file mode 100644
index 4fc5a6c..0000000
--- a/TODO
+++ /dev/null
@@ -1,157 +0,0 @@
-                                                       -*- outline -*-
-
-This is the to-do list for GNU Wget.  There is no timetable of when we
-plan to implement these features -- this is just a list of features
-we'd like to see in Wget, as well as a list of problems that need
-fixing.  Patches to implement these items are likely to be accepted,
-especially if they follow the coding convention outlined in PATCHES
-and if they patch the documentation as well.
-
-The items are not listed in any particular order (except that
-recently-added items may tend towards the top).  Not all of these
-represent user-visible changes.
-
-* Change the file name generation logic so that redirects can't dictate
-  file names (but redirects should still be followed).  By default, file
-  names should be generated only from the URL the user provided.  However,
-  with an appropriate flag, Wget will allow the remote server to specify
-  the file name, either through redirection (as is always the case now)
-  or via the increasingly popular header `Content-Disposition: XXX;
-  filename="FILE"'.
-
-  The file name should be generated and displayed *after* processing
-  the server's response, not before, as it is done now.  This will
-  allow trivial implementation of -nc, of O_EXCL when opening the
-  file, --html-extension will stop being a horrible hack, and so on.
-
-* -O should be respected, with no exceptions.  It should work in
-  conjunction with -N and -k.  (This is hard to achieve in the current
-  code base.)  Ancillary files, such as directory listings and such,
-  should be downloaded either directly to memory, or to /tmp.
-
-* Implement digest and NTLM authorization for proxies.  This is harder
-  than it seems because it requires some rethinking of the HTTP code.
-
-* Rethink the interaction between recur.c (the recursive download code)
-  and HTTP/FTP code.  Ideally, the downloading code should have a way
-  to retrieve a file and, optionally, to specify a list of URLs for
-  continuing the "recursive" download.  FTP code will surely benefit
-  from such a restructuring because its current incarnation is way too
-  smart for its own good.
-
-* Both HTTP and FTP connections should be first-class objects that can
-  be reused after a download is done.  Currently information about both
-  is kept implicitly on the stack, and forgotten after each download.
-
-* Restructure the FTP code to remove massive amounts of code duplication
-  and repetition.  Remove all the "intelligence" and make it work as
-  outlined in the previous bullet.
-
-* Add support for SFTP.  Teach Wget about newer features of more
-  recent FTP servers in general, such as receiving reliable checksums
-  and timestamps.  This can be used to implement really robust
-  downloads.
-
-* Wget shouldn't delete rejected files that were not downloaded, but
-  just found on disk because of `-nc'.  For example, `wget -r -nc
-  -A.gif URL' should allow the user to get all the GIFs without
-  removing any of the existing HTML files.
-
-* Be careful not to lose username/password information given for the
-  URL on the command line.  For example,
-  wget -r http://username:password@server/path/ should send that
-  username and password to all content under /path/ (this is apparently
-  what browsers do).
-
-* Don't send credentials using "Basic" authorization before the server
-  has a chance to tell us that it supports Digest or NTLM!
-
-* Add a --range parameter allowing you to explicitly specify a range
-  of bytes to get from a file over HTTP (FTP only supports ranges
-  ending at the end of the file, though forcibly disconnecting from
-  the server at the desired endpoint would work).  For example,
-  --range=n-m would specify inclusive range (a la the Range header),
-  and --range=n:m would specify exclusive range (a la Python's
-  slices).  -c should work with --range by assuming the range is
-  partially downloaded on disk, and contuing from there (effectively
-  requesting a smaller range).
-
-* If multiple FTP URLs are specified that are on the same host, Wget should
-  re-use the connection rather than opening a new one for each file.
-  This should be easy provided the above restructuring of FTP code that
-  would include the FTP connection becoming a first-class objects.
-
-* Try to devise a scheme so that, when password is unknown, Wget asks
-  the user for one.  This is harder than it seems because the password
-  may be requested by some page encountered long after the user has
-  left Wget to run.
-
-* If -c used with -N, check to make sure a file hasn't changed on the server
-  before "continuing" to download it (preventing a bogus hybrid file).
-
-* Generalize --html-extension to something like --mime-extensions and
-  have consult mime.types for the preferred extension.  Non-HTML files
-  with filenames changed this way would be re-downloaded each time
-  despite -N unless .orig files were saved for them.  (#### Why?  The
-  HEAD request we use to implement -N would still be able to construct
-  the correct file name based on the declared Content-Type.)
-
-  Since .orig would contain the same data as non-.orig, the latter
-  could be just a link to the former.  Another possibility would be to
-  implement a per-directory database called something like
-  .wget_url_mapping containing URLs and their corresponding filenames.
-
-* When spanning hosts, there's no way to say that you are only
-  interested in files in a certain directory on _one_ of the hosts (-I
-  and -X apply to all).  Perhaps -I and -X should take an optional
-  "hostname:" before the directory?
-
-* --retr-symlinks should cause wget to traverse links to directories too.
-
-* Make wget return non-zero status in more situations, like incorrect HTTP auth.
-  Create and document different exit statuses for different errors.
-
-* Make -K compare X.orig to X and move the former on top of the latter if 
-  they're the same, rather than leaving identical .orig files laying around.
-
-* Make `-k' check for files that were downloaded in the past and convert links 
-  to them in newly-downloaded documents.
-
-* Devise a way for options to have effect on a per-URL basis.  This is very
-  natural for some options, such as --post-data.  It could be implemented
-  simply by having more than one struct options.
-
-* Add option to clobber existing file names (no `.N' suffixes).
-
-* Add option to only list wildcard matches without doing the download.  The same
-  could be generalized to support something like apt's --print-uri.
-
-* Handle MIME types correctly.  There should be an option to (not)
-  retrieve files based on MIME types, e.g. `--accept-types=image/*'.
-  This would work for FTP by translating file extensions to MIME types
-  using mime.types.
-
-* Allow time-stamping by arbitrary date.  For example,
-  wget --if-modified-after DATE URL.
-
-* Make quota apply to single files, preferrably so that the download of an
-  oversized file is not attempted at all.
-
-* When updating an existing mirror, download to temporary files (such as .in*)
-  and rename the file after the download is done.
-
-* Add an option to delete or move no-longer-existent files when mirroring.
-
-* Implement uploading (--upload=FILE URL?) in FTP and HTTP.  A beginning of
-  this is available in the form of --post-file, but it should be expanded to
-  be really useful.
-
-* Make HTTP timestamping use If-Modified-Since facility.
-
-* Add more protocols (such as news or possibly some of the streaming
-  protocols), implementing them in a modular fashion.
-
-* Add a "rollback" option to have continued retrieval throw away a
-  configurable number of bytes at the end of a file before resuming
-  download.  Apparently, some stupid proxies insert a "transfer
-  interrupted" string we need to get rid of.
-- 
cgit v1.0-41-gc330


From f08922082f48c90fb4a37d597e0a8e782cb5ba55 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Mon, 24 Sep 2007 22:17:31 -0700
Subject: Apply patch to fix always reporting local size of zero.

---
 src/ChangeLog | 5 +++++
 src/http.c    | 3 +--
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/src/ChangeLog b/src/ChangeLog
index 5f598e6..17e3986 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-24  Jochen Roderburg  <roderburg@uni-koeln.de>
+
+	* http.c (http_zero): Remove no-longer-used local_size variable.
+	Fixes bug #21057.
+
 2007-08-29  Micah Cowan  <micah@cowan.name>
 
 	* openssl.c (ssl_init): Re un-const-ified the meth local
diff --git a/src/http.c b/src/http.c
index 0e29291..6dd5158 100644
--- a/src/http.c
+++ b/src/http.c
@@ -2311,7 +2311,6 @@ http_loop (struct url *u, char **newloc, char **local_file, const char *referer,
   const char *tmrate;
   uerr_t err, ret = TRYLIMEXC;
   time_t tmr = -1;               /* remote time-stamp */
-  wgint local_size = 0;          /* the size of the local file */
   struct http_stat hstat;        /* HTTP status */
   struct_stat st;  
   bool send_head_first = true;
@@ -2589,7 +2588,7 @@ Server file no newer than local file `%s' -- not retrieving.\n\n"),
                             {
                               logprintf (LOG_VERBOSE, _("\
 The sizes do not match (local %s) -- retrieving.\n"),
-                                         number_to_static_string (local_size));
+                                         number_to_static_string (hstat.orig_file_size));
                             }
                         }
                       else
-- 
cgit v1.0-41-gc330


From db4f2e31cadb6e96850cc457bdd2e3a19e39e55b Mon Sep 17 00:00:00 2001
From: micah <devnull@localhost>
Date: Mon, 24 Sep 2007 22:20:58 -0700
Subject: [svn] Apply Jochen's patch to stop local size always reporting as 0

---
 src/ChangeLog | 5 +++++
 src/http.c    | 3 +--
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/src/ChangeLog b/src/ChangeLog
index 5f598e6..17e3986 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-24  Jochen Roderburg  <roderburg@uni-koeln.de>
+
+	* http.c (http_zero): Remove no-longer-used local_size variable.
+	Fixes bug #21057.
+
 2007-08-29  Micah Cowan  <micah@cowan.name>
 
 	* openssl.c (ssl_init): Re un-const-ified the meth local
diff --git a/src/http.c b/src/http.c
index 0e29291..6dd5158 100644
--- a/src/http.c
+++ b/src/http.c
@@ -2311,7 +2311,6 @@ http_loop (struct url *u, char **newloc, char **local_file, const char *referer,
   const char *tmrate;
   uerr_t err, ret = TRYLIMEXC;
   time_t tmr = -1;               /* remote time-stamp */
-  wgint local_size = 0;          /* the size of the local file */
   struct http_stat hstat;        /* HTTP status */
   struct_stat st;  
   bool send_head_first = true;
@@ -2589,7 +2588,7 @@ Server file no newer than local file `%s' -- not retrieving.\n\n"),
                             {
                               logprintf (LOG_VERBOSE, _("\
 The sizes do not match (local %s) -- retrieving.\n"),
-                                         number_to_static_string (local_size));
+                                         number_to_static_string (hstat.orig_file_size));
                             }
                         }
                       else
-- 
cgit v1.0-41-gc330


From ae1052a34f5c1a2d77d9b97cb1ed434eaba6cf96 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Mon, 24 Sep 2007 23:28:10 -0700
Subject: Apply Christopher Lewis' patch re HAV_INTPTR_T

---
 windows/ChangeLog         | 5 +++++
 windows/config-compiler.h | 8 +++++++-
 2 files changed, 12 insertions(+), 1 deletion(-)

diff --git a/windows/ChangeLog b/windows/ChangeLog
index f2738e0..9ca9c8c 100644
--- a/windows/ChangeLog
+++ b/windows/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-24  Christopher Lewis <chris@christopherlewis.com>
+
+	* config-compiler.h: Fix compiler warnings related to
+	HAVE_INTPTR_T.
+
 2007-07-05  Micah Cowan  <micah@cowan.name>
 
 	* Makefile.top.bor, Makefile.doc, Makefile.in, Makefile.src:
diff --git a/windows/config-compiler.h b/windows/config-compiler.h
index fbd139b..acd752b 100644
--- a/windows/config-compiler.h
+++ b/windows/config-compiler.h
@@ -86,7 +86,7 @@ so, delete this exception statement from your version.  */
 #define HAVE__BOOL 1
 #undef SIZEOF_LONG_LONG		/* avoid redefinition warning */
 #define SIZEOF_LONG_LONG 8
-#define HAVE_INTPTR_T 1 
+#define HAVE_INTPTR_T 1
 #define HAVE_UINTPTR_T 1
 #define HAVE_STRTOLL 1
 
@@ -119,10 +119,16 @@ so, delete this exception statement from your version.  */
 # define HAVE__STRTOI64 1
 #endif
 
+#if _MSC_VER >= 1310
+#define HAVE_INTPTR_T 1
+#define HAVE_UINTPTR_T 1
+#endif
+
 #if _MSC_VER >= 1400
 #pragma warning ( disable : 4996 )
 #define _CRT_SECURE_NO_DEPRECATE
 #endif
+
 
 #undef HAVE_UTIME_H         /* no <utime.h> */
 
-- 
cgit v1.0-41-gc330


From 33ea330dbd64493dc161e7411dae3d6b739bb4af Mon Sep 17 00:00:00 2001
From: micah <devnull@localhost>
Date: Mon, 24 Sep 2007 23:30:33 -0700
Subject: [svn] Apply Christopher Lewis' patch re HAV_INTPTR_T

---
 windows/ChangeLog         | 5 +++++
 windows/config-compiler.h | 8 +++++++-
 2 files changed, 12 insertions(+), 1 deletion(-)

diff --git a/windows/ChangeLog b/windows/ChangeLog
index f2738e0..9ca9c8c 100644
--- a/windows/ChangeLog
+++ b/windows/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-24  Christopher Lewis <chris@christopherlewis.com>
+
+	* config-compiler.h: Fix compiler warnings related to
+	HAVE_INTPTR_T.
+
 2007-07-05  Micah Cowan  <micah@cowan.name>
 
 	* Makefile.top.bor, Makefile.doc, Makefile.in, Makefile.src:
diff --git a/windows/config-compiler.h b/windows/config-compiler.h
index fbd139b..acd752b 100644
--- a/windows/config-compiler.h
+++ b/windows/config-compiler.h
@@ -86,7 +86,7 @@ so, delete this exception statement from your version.  */
 #define HAVE__BOOL 1
 #undef SIZEOF_LONG_LONG		/* avoid redefinition warning */
 #define SIZEOF_LONG_LONG 8
-#define HAVE_INTPTR_T 1 
+#define HAVE_INTPTR_T 1
 #define HAVE_UINTPTR_T 1
 #define HAVE_STRTOLL 1
 
@@ -119,10 +119,16 @@ so, delete this exception statement from your version.  */
 # define HAVE__STRTOI64 1
 #endif
 
+#if _MSC_VER >= 1310
+#define HAVE_INTPTR_T 1
+#define HAVE_UINTPTR_T 1
+#endif
+
 #if _MSC_VER >= 1400
 #pragma warning ( disable : 4996 )
 #define _CRT_SECURE_NO_DEPRECATE
 #endif
+
 
 #undef HAVE_UTIME_H         /* no <utime.h> */
 
-- 
cgit v1.0-41-gc330


From 52e3ee1f684311f1835867871bedb1b41f75aaec Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 25 Sep 2007 00:15:37 -0700
Subject: Use autoconf-provided EXEEXT instead of our own exeext heuristic.

---
 configure.in      | 10 ----------
 src/Makefile.in   |  2 +-
 tests/Makefile.in |  2 +-
 3 files changed, 2 insertions(+), 12 deletions(-)

diff --git a/configure.in b/configure.in
index a9a7a7a..6c6e8c0 100644
--- a/configure.in
+++ b/configure.in
@@ -134,16 +134,6 @@ if test -n "$auto_cflags"; then
 fi
 
 dnl
-dnl In case of {cyg,gnu}win32.  Should be a _target_ test.
-dnl Might also be erelevant for DJGPP.
-dnl
-case "$host_os" in
-  *win32) exeext='.exe';;
-  *) exeext='';;
-esac
-AC_SUBST(exeext)
-
-dnl
 dnl Checks for basic compiler characteristics.
 dnl
 AC_C_CONST
diff --git a/src/Makefile.in b/src/Makefile.in
index e393e1e..34bc3bd 100644
--- a/src/Makefile.in
+++ b/src/Makefile.in
@@ -52,7 +52,7 @@ DEFS     = @DEFS@ -DSYSTEM_WGETRC=\"$(sysconfdir)/wgetrc\" -DLOCALEDIR=\"$(local
 CFLAGS   = @CFLAGS@
 LDFLAGS  = @LDFLAGS@ 
 LIBS     = @LIBS@ @LIBSSL@ @LIBGNUTLS@
-exeext   = @exeext@
+exeext   = @EXEEXT@
 
 INCLUDES = -I. -I$(srcdir)
 
diff --git a/tests/Makefile.in b/tests/Makefile.in
index 7e7eff7..64a9dc3 100644
--- a/tests/Makefile.in
+++ b/tests/Makefile.in
@@ -52,7 +52,7 @@ DEFS     = @DEFS@ -DSYSTEM_WGETRC=\"$(sysconfdir)/wgetrc\" -DLOCALEDIR=\"$(local
 CFLAGS   = @CFLAGS@
 LDFLAGS  = @LDFLAGS@ 
 LIBS     = @LIBS@ @LIBSSL@ @LIBGNUTLS@
-exeext   = @exeext@
+exeext   = @EXEEXT@
 
 INCLUDES = -I. -I$(srcdir) -I$(srcdir)/../src
 
-- 
cgit v1.0-41-gc330


From d3c982b1bd9b57f9c14205d7eee92599cf630283 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 27 Sep 2007 18:53:59 -0700
Subject: Bring texi2pod.pl up-to-date with gcc's. BUT: keep GPLv3 invocation,
 and "use warning" rather than -w.

---
 doc/texi2pod.pl | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

diff --git a/doc/texi2pod.pl b/doc/texi2pod.pl
index 0b57d1b..daad3f6 100755
--- a/doc/texi2pod.pl
+++ b/doc/texi2pod.pl
@@ -204,9 +204,9 @@ while(<$inf>) {
     # Now the ones that have to be replaced by special escapes
     # (which will be turned back into text by unmunge())
     s/&/&amp;/g;
-    s/\@\@/&at;/g;
     s/\@\{/&lbrace;/g;
     s/\@\}/&rbrace;/g;
+    s/\@\@/&at;/g;
 
     # Inside a verbatim block, handle @var specially.
     if ($shift ne "") {
@@ -227,11 +227,12 @@ while(<$inf>) {
     /^\@include\s+(.+)$/ and do {
 	push @instack, $inf;
 	$inf = gensym();
+	$file = postprocess($1);
 
 	# Try cwd and $ibase.
-	open($inf, "<" . $1) 
-	    or open($inf, "<" . $ibase . "/" . $1)
-		or die "cannot open $1 or $ibase/$1: $!\n";
+	open($inf, "<" . $file) 
+	    or open($inf, "<" . $ibase . "/" . $file)
+		or die "cannot open $file or $ibase/$file: $!\n";
 	next;
     };
 
@@ -274,7 +275,6 @@ while(<$inf>) {
 	$ic =~ s/\@(?:code|kbd)/C/;
 	$ic =~ s/\@(?:dfn|var|emph|cite|i)/I/;
 	$ic =~ s/\@(?:file)/F/;
-	$ic =~ s/\@(?:asis)/S/; # punt
 	$_ = "\n=over 4\n";
     };
 
@@ -308,7 +308,7 @@ die "No filename or title\n" unless defined $fn && defined $tl;
 $sects{NAME} = "$fn \- $tl\n";
 $sects{FOOTNOTES} .= "=back\n" if exists $sects{FOOTNOTES};
 
-for $sect (qw(NAME SYNOPSIS DESCRIPTION OPTIONS ENVIRONMENT EXAMPLES FILES
+for $sect (qw(NAME SYNOPSIS DESCRIPTION OPTIONS ENVIRONMENT FILES
 	      BUGS NOTES FOOTNOTES SEEALSO AUTHOR COPYRIGHT)) {
     if(exists $sects{$sect}) {
 	$head = $sect;
@@ -350,6 +350,13 @@ sub postprocess
     s/\@w\{([^\}]*)\}/S<$1>/g;
     s/\@(?:dmn|math)\{([^\}]*)\}/$1/g;
 
+    # keep references of the form @ref{...}, print them bold
+    s/\@(?:ref)\{([^\}]*)\}/B<$1>/g;
+
+    # Change double single quotes to double quotes.
+    s/''/"/g;
+    s/``/"/g;
+
     # Cross references are thrown away, as are @noindent and @refill.
     # (@noindent is impossible in .pod, and @refill is unnecessary.)
     # @* is also impossible in .pod; we discard it and any newline that
-- 
cgit v1.0-41-gc330


From cd04dcfa2a0161ebbcbac1db30f22b00bfd17009 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 27 Sep 2007 19:03:05 -0700
Subject: Reversed broken "fix" of @@ processing

---
 doc/texi2pod.pl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/doc/texi2pod.pl b/doc/texi2pod.pl
index daad3f6..bcb276c 100755
--- a/doc/texi2pod.pl
+++ b/doc/texi2pod.pl
@@ -204,9 +204,9 @@ while(<$inf>) {
     # Now the ones that have to be replaced by special escapes
     # (which will be turned back into text by unmunge())
     s/&/&amp;/g;
+    s/\@\@/&at;/g;
     s/\@\{/&lbrace;/g;
     s/\@\}/&rbrace;/g;
-    s/\@\@/&at;/g;
 
     # Inside a verbatim block, handle @var specially.
     if ($shift ne "") {
-- 
cgit v1.0-41-gc330


From 2f76b72f81b5cef6f18fe8f03c33a7938a331398 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 27 Sep 2007 21:57:11 -0700
Subject: Remove @pxref appearances from manpage, by removing other content in
 the same parenthetical. Also made some minor grammatical adjustments.

---
 doc/wget.texi | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/doc/wget.texi b/doc/wget.texi
index c7aca61..bc404fd 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -347,7 +347,7 @@ wget -r --tries=10 http://fly.srk.fer.hr/ -o log
 @end example
 
 The space between the option accepting an argument and the argument may
-be omitted.  Instead @samp{-o log} you can write @samp{-olog}.
+be omitted.  Instead of @samp{-o log} you can write @samp{-olog}.
 
 You may put several options that do not require arguments together,
 like:
@@ -754,7 +754,7 @@ connect timeout, other than that implemented by system libraries.
 @cindex timeout, read
 @item --read-timeout=@var{seconds}
 Set the read (and write) timeout to @var{seconds} seconds.  The
-``time'' of this timeout refers @dfn{idle time}: if, at any point in
+``time'' of this timeout refers to @dfn{idle time}: if, at any point in
 the download, no data is received for more than the specified number
 of seconds, reading fails and the download is restarted.  This option
 does not directly affect the duration of the entire download.
@@ -1087,8 +1087,8 @@ Retrieval Options}).
 @itemx --http-password=@var{password}
 Specify the username @var{user} and password @var{password} on an
 @sc{http} server.  According to the type of the challenge, Wget will
-encode them using either the @code{basic} (insecure) or the
-@code{digest} authentication scheme.
+encode them using either the @code{basic} (insecure),
+the @code{digest}, or the Windows @code{NTLM} authentication scheme.
 
 Another way to specify username and password is in the @sc{url} itself
 (@pxref{URL Format}).  Either method reveals your password to anyone who
@@ -1807,7 +1807,7 @@ option to turn it on.
 @item -A @var{acclist} --accept @var{acclist}
 @itemx -R @var{rejlist} --reject @var{rejlist}
 Specify comma-separated lists of file name suffixes or patterns to
-accept or reject (@pxref{Types of Files} for more details). Note that if
+accept or reject (@pxref{Types of Files}). Note that if
 any of the wildcard characters, @samp{*}, @samp{?}, @samp{[} or
 @samp{]}, appear in an element of @var{acclist} or @var{rejlist},
 it will be treated as a pattern, rather than a suffix.
@@ -1876,13 +1876,13 @@ without any distractions, not even those from the same hosts
 @item -I @var{list}
 @itemx --include-directories=@var{list}
 Specify a comma-separated list of directories you wish to follow when
-downloading (@pxref{Directory-Based Limits} for more details.)  Elements
+downloading (@pxref{Directory-Based Limits}).  Elements
 of @var{list} may contain wildcards.
 
 @item -X @var{list}
 @itemx --exclude-directories=@var{list}
 Specify a comma-separated list of directories you wish to exclude from
-download (@pxref{Directory-Based Limits} for more details.)  Elements of
+download (@pxref{Directory-Based Limits}).  Elements of
 @var{list} may contain wildcards.
 
 @item -np
-- 
cgit v1.0-41-gc330


From dafb9f576c7e9d3fcd4fea41a322b82d3c913e30 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 27 Sep 2007 22:31:09 -0700
Subject: Stronger warning about manpage being incomplete.

---
 doc/wget.texi | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/doc/wget.texi b/doc/wget.texi
index bc404fd..5ed1c6a 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -64,7 +64,11 @@ Originally written by Hrvoje Niksic <hniksic@xemacs.org>.
 Currently maintained by Micah Cowan <micah@cowan.name>.
 @c man end
 @c man begin SEEALSO
-GNU Info entry for @file{wget}.
+This is @strong{not} the complete manual for GNU Wget.
+For more complete information, including more detailed explanations of
+some of the options, and a number of commands available
+for use with @file{.wgetrc} files and the @samp{-e} option, see the GNU
+Info entry for @file{wget}.
 @c man end
 @end ignore
 
-- 
cgit v1.0-41-gc330


From 9c50f9356a56118c20ff6e3d970165ab4b12248f Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 27 Sep 2007 22:35:20 -0700
Subject: Added ChangeLog entries.

---
 doc/ChangeLog | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index f40b7c8..99ea378 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,3 +1,13 @@
+2007-09-27  Micah Cowan  <micah@cowan.name>
+
+	* wget.texi: Removed "for more details" from parenthesese
+	enclosing @pxref{}s, so that texi2pod.pl knows to remove the
+	whole reference. Made some gramattical improvements, and
+	strengthened the recommendation to use the info manual instead.
+	* texi2pod.pl: Brought in some updates from the GCC version. Not
+	an entire update, since a couple "fixes" there breaks stuff
+	here.
+
 2007-09-12  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi: Expanded the description of -O. Clarified the
-- 
cgit v1.0-41-gc330


From df8b19a28eee02f23178584737080001ce8873d1 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Fri, 28 Sep 2007 14:47:46 -0700
Subject: Gisle's MS-DOS support

---
 AUTHORS           |   6 +--
 ChangeLog.README  |   2 +
 msdos/ChangeLog   |   4 ++
 msdos/Makefile.DJ |  67 +++++++++++++++++++++++++
 msdos/config.h    | 143 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ChangeLog     |   5 ++
 src/connect.c     |   2 +-
 src/init.c        |  38 ++++++++++-----
 src/main.c        |  14 ++++++
 src/openssl.c     |   2 +-
 src/options.h     |   4 ++
 src/sysdep.h      |   6 +--
 src/url.c         |   2 +-
 src/utils.c       |   6 +--
 14 files changed, 278 insertions(+), 23 deletions(-)
 create mode 100644 msdos/ChangeLog
 create mode 100644 msdos/Makefile.DJ
 create mode 100644 msdos/config.h

diff --git a/AUTHORS b/AUTHORS
index 94adf57..49a48ca 100644
--- a/AUTHORS
+++ b/AUTHORS
@@ -28,9 +28,9 @@ Ian Abbott.  Contributed bugfixes, Windows-related fixes, provided a
 prototype implementation of the new recursive code, and more.
 Co-maintained Wget during the 1.8 release cycle.
 
-Gisle Vanem.  Contributed Windows improvements, including a port of
-run_with_timeout to Windows, additions to Makefiles, and many bug
-reports and fixes.
+Gisle Vanem.  Contributed Windows and MS-DOS improvements, including a
+port of run_with_timeout to Windows, additions to Makefiles, and many
+bug reports and fixes.
 
 Mauro Tortonesi.  Improved IPv6 support, adding support for dual
 family systems.  Refactored and enhanced FTP IPv6 code. Maintained GNU
diff --git a/ChangeLog.README b/ChangeLog.README
index d50b078..1939450 100644
--- a/ChangeLog.README
+++ b/ChangeLog.README
@@ -10,5 +10,7 @@ Please note that Wget has more than one ChangeLog file:
 
     windows/ChangeLog: documents only changes to files in the windows directory
 
+    msdos/ChangeLog: documents only changes to files in the msdos directory
+
 When checking to see if a patch you sent in has been applied, please
 look in the appropriate ChangeLog(s).
diff --git a/msdos/ChangeLog b/msdos/ChangeLog
new file mode 100644
index 0000000..dcf8127
--- /dev/null
+++ b/msdos/ChangeLog
@@ -0,0 +1,4 @@
+2007-09-24  Gisle Vanem  <giva@bgnett.no>
+
+	* Makefile.DJ, config.h: Added to support building on MS-DOS via
+	DJGPP.
diff --git a/msdos/Makefile.DJ b/msdos/Makefile.DJ
new file mode 100644
index 0000000..bed35cd
--- /dev/null
+++ b/msdos/Makefile.DJ
@@ -0,0 +1,67 @@
+#
+# GNU Makefile for wget / djgpp / MSDOS.
+# By Gisle Vanem <giva@bgnett.no>.
+#
+.SUFFIXES: .exe .map
+
+USE_OPENSSL = 0
+USE_IPV6    = 1
+
+OPENSSL_ROOT = e:/net/OpenSSL.099
+ZLIB_ROOT    = e:/djgpp/contrib/zlib
+
+VPATH   = ../src
+OBJ_DIR = djgpp.obj
+CC      = gcc
+CFLAGS  = -O2 -g -Wall -Wcast-align -I. -I../src -I/dev/env/WATT_ROOT/inc \
+          -DHAVE_CONFIG_H -DENABLE_DEBUG
+
+# LDFLAGS = -s
+
+ifeq ($(USE_OPENSSL),1)
+  CFLAGS  += -DHAVE_OPENSSL -DHAVE_SSL -I$(OPENSSL_ROOT)
+  EX_LIBS += $(OPENSSL_ROOT)/lib/libssl.a $(OPENSSL_ROOT)/lib/libcrypt.a \
+             $(ZLIB_ROOT)/libz.a
+  SOURCES  = ../src/openssl.c ../src/http-ntlm.c
+endif
+
+ifeq ($(USE_IPV6),1)
+  CFLAGS += -DENABLE_IPV6
+endif
+
+EX_LIBS += /dev/env/WATT_ROOT/lib/libwatt.a
+
+SOURCES += $(addprefix ../src/, cmpt.c connect.c cookies.c ftp.c ftp-basic.c \
+             ftp-ls.c ftp-opie.c getopt.c hash.c host.c html-parse.c html-url.c \
+             http.c init.c log.c main.c gen-md5.c gnu-md5.c netrc.c progress.c \
+             recur.c res.c retr.c safe-ctype.c url.c utils.c version.c convert.c \
+             xmalloc.c ptimer.c spider.c)
+
+OBJECTS = $(addprefix $(OBJ_DIR)/, $(notdir $(SOURCES:.c=.o)))
+
+all: $(OBJ_DIR) ../wget-dos.exe
+	@echo 'Welcome to Wget'
+
+$(OBJ_DIR):
+	mkdir $(OBJ_DIR)
+
+../wget-dos.exe: $(OBJECTS)
+	$(CC) $(LDFLAGS) -o $@ $^ $(EX_LIBS)
+
+clean:
+	rm -f $(OBJECTS) $(MAPFILE)
+
+vclean realclean: clean
+	rm -f ../wget-dos.exe depend.dj
+	- rmdir $(OBJ_DIR)
+
+$(OBJ_DIR)/%.o: %.c
+	$(CC) $(CFLAGS) -o $@ -c $<
+	@echo
+
+depend:
+	$(CC) -MM $(CFLAGS) $(SOURCES) | \
+        sed -e 's/^\([a-zA-Z0-9_-]*\.o:\)/$$(OBJ_DIR)\/\1/' > depend.dj
+
+-include depend.dj
+
diff --git a/msdos/config.h b/msdos/config.h
new file mode 100644
index 0000000..b5a4625
--- /dev/null
+++ b/msdos/config.h
@@ -0,0 +1,143 @@
+/* Configuration header file for MS-DOS/Watt-32
+
+   Copyright (C) 1995, 1996, 1997, 1998 Free Software Foundation, Inc.
+
+   This program is free software; you can redistribute it and/or modify
+   it under the terms of the GNU General Public License as published by
+   the Free Software Foundation; either version 2 of the License, or
+   (at your option) any later version.
+
+   This program is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+   GNU General Public License for more details.
+
+   You should have received a copy of the GNU General Public License
+   along with this program; if not, write to the Free Software
+   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+
+   In addition, as a special exception, the Free Software Foundation
+   gives permission to link the code of its release of Wget with the
+   OpenSSL project's "OpenSSL" library (or with modified versions of it
+   that use the same license as the "OpenSSL" library), and distribute
+   the linked executables.  You must obey the GNU General Public License
+   in all respects for all of the code used other than "OpenSSL".  If you
+   modify this file, you may extend this exception to your version of the
+   file, but you are not obligated to do so.  If you do not wish to do
+   so, delete this exception statement from your version.  */
+
+
+#ifndef CONFIG_DOS_H
+#define CONFIG_DOS_H
+
+#include <stdlib.h>
+#include <limits.h>
+#include <tcp.h>
+#include <malloc.h>
+
+#ifdef __DJGPP__
+#include <sys/config.h>
+#endif
+
+#include <sys/errno.h>
+
+#if defined(__WATCOMC__) && (__WATCOMC__ >= 1250)  /* OW 1.5+ */
+  #define OPENWATCOM_15
+#endif
+
+#if defined(__HIGHC__)
+  #define inline
+  #define HAVE_UNISTD_H 1
+  #define HAVE_UTIME_H 1
+#endif
+
+#if defined(__WATCOMC__) || defined(__BORLANDC__)
+  #define inline
+#endif
+
+#ifdef HAVE_SSL
+  #define OPENSSL_NO_KRB5
+#endif
+
+#define STDC_HEADERS 1
+#define RETSIGTYPE void
+
+#define USE_OPIE 1
+#define USE_DIGEST 1
+#define DEBUG
+
+#ifdef __DJGPP__
+  #define HAVE_STRUCT_UTIMBUF 1
+  #define HAVE_UNAME 1
+  #define HAVE_UTIME_H 1
+  #define HAVE_STRCASECMP 1
+  #define HAVE_STRNCASECMP 1
+  #define HAVE_SYS_SELECT_H 1
+  #define HAVE_USLEEP 1
+  #define HAVE_SIGNAL 1
+  #define HAVE_BASENAME 1
+  #define HAVE_SIGSETJMP 1
+  #define HAVE_SIGBLOCK 1
+  #define HAVE__BOOL 1
+
+  #if (DJGPP_MINOR >= 4)
+    #include <stdbool.h>
+    #define HAVE_SNPRINTF 1
+    #define HAVE_VSNPRINTF 1
+    #define HAVE_UINT32_T 1
+  #endif
+#endif
+
+#ifdef __HIGHC__
+  #define HAVE_STRUCT_UTIMBUF 1
+  #define HAVE_UTIME_H 1
+#endif
+
+#ifdef OPENWATCOM_15
+  #define HAVE_STRCASECMP
+  #define HAVE_STRNCASECMP
+#endif
+
+#define HAVE_GETHOSTBYNAME 1
+#define HAVE_GETHOSTNAME 1
+#define HAVE_SELECT 1
+#define HAVE_STRDUP 1
+#define HAVE_STRERROR 1
+#define HAVE_STRSTR 1
+#define HAVE_MKTIME 1
+#define HAVE_STDARG_H 1
+#define HAVE_STDLIB_H 1
+#define HAVE_STRING_H 1
+#define HAVE_SIGNAL_H 1
+#define HAVE_GETTIMEOFDAY 1
+#define HAVE_MD5 1
+#define HAVE_BUILTIN_MD5 1
+#define HAVE_ISATTY 1
+#define HAVE_MEMMOVE 1
+
+#define OS_TYPE "DOS"
+#define CTRLBREAK_BACKGND 1
+#define PROTOTYPES 1
+
+#define WGET_USE_STDARG
+
+#define lookup_host  wget_lookuphost
+#define select       select_s
+#define socklen_t    int
+
+#define sock_read    wget_sock_read
+#define sock_write   wget_sock_write
+#define sock_close   wget_sock_close
+
+#if defined(__DJGPP__)
+  #define MKDIR(p,a) mkdir(p,a)
+#else
+  #define strcasecmp stricmp
+  #define MKDIR(p,a) mkdir(p)
+#endif
+
+#if !defined(MSDOS)
+#define MSDOS
+#endif
+
+#endif  /* CONFIG_DOS_H */
diff --git a/src/ChangeLog b/src/ChangeLog
index 17e3986..e058334 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,3 +1,8 @@
+2007-09-24  Gisle Vanem  <giva@bgnett.no>
+
+	* connect.c, init.c, main.c, openssl.c, options.h, sysdep.h,
+	url.c, utils.c: Added support for building on MS-DOS.
+
 2007-09-24  Jochen Roderburg  <roderburg@uni-koeln.de>
 
 	* http.c (http_zero): Remove no-longer-used local_size variable.
diff --git a/src/connect.c b/src/connect.c
index 11d6e19..0188353 100644
--- a/src/connect.c
+++ b/src/connect.c
@@ -668,7 +668,7 @@ test_socket_open (int sock)
 
 /* Basic socket operations, mostly EINTR wrappers.  */
 
-#ifdef WINDOWS
+#if defined(WINDOWS) || defined(MSDOS)
 # define read(fd, buf, cnt) recv (fd, buf, cnt, 0)
 # define write(fd, buf, cnt) send (fd, buf, cnt, 0)
 # define close(fd) closesocket (fd)
diff --git a/src/init.c b/src/init.c
index 7d86192..d8c7176 100644
--- a/src/init.c
+++ b/src/init.c
@@ -103,7 +103,7 @@ CMD_DECLARE (cmd_spec_verbose);
    add any entries that allocate memory (e.g. cmd_string and
    cmd_vector) to the cleanup() function below. */
 
-static struct {
+static const struct {
   const char *name;
   void *place;
   bool (*action) (const char *, const char *, void *);
@@ -241,7 +241,10 @@ static struct {
   { "useragent",        NULL,                   cmd_spec_useragent },
   { "verbose",          NULL,                   cmd_spec_verbose },
   { "wait",             &opt.wait,              cmd_time },
-  { "waitretry",        &opt.waitretry,         cmd_time }
+  { "waitretry",        &opt.waitretry,         cmd_time },
+#ifdef MSDOS
+  { "wdebug",           &opt.wdebug,            cmd_boolean },
+#endif
 };
 
 /* Look up CMDNAME in the commands[] and return its position in the
@@ -313,10 +316,10 @@ defaults (void)
 #endif
 
   /* The default for file name restriction defaults to the OS type. */
-#if !defined(WINDOWS) && !defined(__CYGWIN__)
-  opt.restrict_files_os = restrict_unix;
-#else
+#if defined(WINDOWS) || defined(MSDOS) || defined(__CYGWIN__)
   opt.restrict_files_os = restrict_windows;
+#else
+  opt.restrict_files_os = restrict_unix;
 #endif
   opt.restrict_files_ctrl = true;
   opt.restrict_files_case = restrict_no_case_restriction;
@@ -333,14 +336,27 @@ home_dir (void)
 
   if (!home)
     {
-#ifndef WINDOWS
+#if defined(MSDOS)
+      /* Under MSDOS, if $HOME isn't defined, use the directory where
+         `wget.exe' resides.  */
+      const char *_w32_get_argv0 (void); /* in libwatt.a/pcconfig.c */
+      char *p, buf[PATH_MAX];
+
+      strcpy (buf, _w32_get_argv0 ());
+      p = strrchr (buf, '/');            /* djgpp */
+      if (!p)
+        p = strrchr (buf, '\\');          /* others */
+      assert (p);
+      *p = '\0';
+      home = buf;
+#elif !defined(WINDOWS)
       /* If HOME is not defined, try getting it from the password
          file.  */
       struct passwd *pwd = getpwuid (getuid ());
       if (!pwd || !pwd->pw_dir)
         return NULL;
       home = pwd->pw_dir;
-#else  /* WINDOWS */
+#else  /* !WINDOWS */
       /* Under Windows, if $HOME isn't defined, use the directory where
          `wget.exe' resides.  */
       home = ws_mypath ();
@@ -750,10 +766,10 @@ cmd_string (const char *com, const char *val, void *place)
   return true;
 }
 
-#ifndef WINDOWS
-# define ISSEP(c) ((c) == '/')
-#else
+#if defined(WINDOWS) || defined(MSDOS)
 # define ISSEP(c) ((c) == '/' || (c) == '\\')
+#else
+# define ISSEP(c) ((c) == '/')
 #endif
 
 /* Like the above, but handles tilde-expansion when reading a user's
@@ -791,7 +807,7 @@ cmd_file (const char *com, const char *val, void *place)
       *pstring = concat_strings (home, "/", val, (char *) 0);
     }
 
-#ifdef WINDOWS
+#if defined(WINDOWS) || defined(MSDOS)
   /* Convert "\" to "/". */
   {
     char *s;
diff --git a/src/main.c b/src/main.c
index 4f0c123..ea3088c 100644
--- a/src/main.c
+++ b/src/main.c
@@ -244,6 +244,9 @@ static struct cmdline_option option_data[] =
     { "version", 'V', OPT_FUNCALL, (void *) print_version, no_argument },
     { "wait", 'w', OPT_VALUE, "wait", -1 },
     { "waitretry", 0, OPT_VALUE, "waitretry", -1 },
+#ifdef MSDOS
+    { "wdebug", 0, OPT_BOOLEAN, "wdebug", -1 },
+#endif
   };
 
 #undef WHEN_DEBUG
@@ -387,6 +390,10 @@ Logging and input file:\n"),
     N_("\
   -d,  --debug               print lots of debugging information.\n"),
 #endif
+#ifdef MSDOS
+    N_("\
+       --wdebug              print Watt-32 debug output.\n"),
+#endif
     N_("\
   -q,  --quiet               quiet (no output).\n"),
     N_("\
@@ -680,6 +687,7 @@ There is NO WARRANTY, to the extent permitted by law.\n"), stdout);
   exit (0);
 }
 
+
 int
 main (int argc, char *const *argv)
 {
@@ -891,8 +899,14 @@ Can't timestamp and not clobber old files at the same time.\n"));
       exit (1);
     }
 
+#ifdef MSDOS
+  if (opt.wdebug)
+     dbug_init();
+  sock_init();
+#else
   if (opt.background)
     fork_to_background ();
+#endif
 
   /* Initialize progress.  Have to do this after the options are
      processed so we know where the log file is.  */
diff --git a/src/openssl.c b/src/openssl.c
index 71faa0c..0d4ec15 100644
--- a/src/openssl.c
+++ b/src/openssl.c
@@ -356,7 +356,7 @@ openssl_close (int fd, void *arg)
   xfree_null (ctx->last_error);
   xfree (ctx);
 
-#ifdef WINDOWS
+#if defined(WINDOWS) || defined(MSDOS)
   closesocket (fd);
 #else
   close (fd);
diff --git a/src/options.h b/src/options.h
index 7fda95e..5fc49e2 100644
--- a/src/options.h
+++ b/src/options.h
@@ -131,6 +131,10 @@ struct options
   bool debug;			/* Debugging on/off */
 #endif
 
+#ifdef MSDOS
+  bool wdebug;                  /* Watt-32 tcp/ip debugging on/off */
+#endif
+
   bool timestamping;		/* Whether to use time-stamping. */
 
   bool backup_converted;	/* Do we save pre-converted files as *.orig? */
diff --git a/src/sysdep.h b/src/sysdep.h
index 98b3c13..2c7ba31 100644
--- a/src/sysdep.h
+++ b/src/sysdep.h
@@ -69,15 +69,15 @@ typedef unsigned char _Bool;
 # define __bool_true_false_are_defined 1
 #endif
 
-/* Needed for compilation under OS/2: */
-#ifdef __EMX__
+/* Needed for compilation under OS/2 and MSDOS */
+#if defined(__EMX__) || defined(MSDOS)
 # ifndef S_ISLNK
 #  define S_ISLNK(m) 0
 # endif
 # ifndef lstat
 #  define lstat stat
 # endif
-#endif /* __EMX__ */
+#endif /* __EMX__ || MSDOS */
 
 /* Reportedly, stat() macros are broken on some old systems.  Those
    systems will have to fend for themselves, as I will not introduce
diff --git a/src/url.c b/src/url.c
index d721501..9b20c51 100644
--- a/src/url.c
+++ b/src/url.c
@@ -1220,7 +1220,7 @@ append_char (char ch, struct growable *dest)
 
 enum {
   filechr_not_unix    = 1,      /* unusable on Unix, / and \0 */
-  filechr_not_windows = 2,      /* unusable on Windows, one of \|/<>?:*" */
+  filechr_not_windows = 2,      /* unusable on MSDOS/Windows, one of \|/<>?:*" */
   filechr_control     = 4       /* a control character, e.g. 0-31 */
 };
 
diff --git a/src/utils.c b/src/utils.c
index 0a222d9..937eb57 100644
--- a/src/utils.c
+++ b/src/utils.c
@@ -287,9 +287,9 @@ datetime_str (time_t t)
 }
 
 /* The Windows versions of the following two functions are defined in
-   mswindows.c.  */
+   mswindows.c. On MSDOS this function should never be called. */
 
-#ifndef WINDOWS
+#if !defined(WINDOWS) && !defined(MSDOS)
 void
 fork_to_background (void)
 {
@@ -333,7 +333,7 @@ fork_to_background (void)
   freopen ("/dev/null", "w", stdout);
   freopen ("/dev/null", "w", stderr);
 }
-#endif /* not WINDOWS */
+#endif /* !WINDOWS && !MSDOS */
 
 /* "Touch" FILE, i.e. make its mtime ("modified time") equal the time
    specified with TM.  The atime ("access time") is set to the current
-- 
cgit v1.0-41-gc330


From ebf43dc18b09dde34711298e5c6276c04510f995 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Fri, 28 Sep 2007 14:56:06 -0700
Subject: Adjust GPL invocation in msdos/config.h

---
 msdos/config.h | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/msdos/config.h b/msdos/config.h
index b5a4625..f43ab4e 100644
--- a/msdos/config.h
+++ b/msdos/config.h
@@ -1,20 +1,20 @@
 /* Configuration header file for MS-DOS/Watt-32
+   Copyright (C) 2007 Free Software Foundation, Inc.
 
-   Copyright (C) 1995, 1996, 1997, 1998 Free Software Foundation, Inc.
+   This file is part of GNU Wget.
 
-   This program is free software; you can redistribute it and/or modify
+   GNU Wget is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
+   the Free Software Foundation; either version 3 of the License, or
    (at your option) any later version.
 
-   This program is distributed in the hope that it will be useful,
+   GNU Wget is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
 
    You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+   along with Wget.  If not, see <http://www.gnu.org/licenses/>.
 
    In addition, as a special exception, the Free Software Foundation
    gives permission to link the code of its release of Wget with the
-- 
cgit v1.0-41-gc330


From 5dd09d9ba51f039acb217bf2fd5c7fdd340ac946 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Fri, 28 Sep 2007 15:45:31 -0700
Subject: Update copyright lists, conforming to maintainer guidelines

---
 Makefile.in                | 2 +-
 NEWS                       | 3 ++-
 README                     | 3 ++-
 autogen.sh                 | 2 +-
 config.guess               | 3 ++-
 config.sub                 | 3 ++-
 configure.bat              | 2 +-
 configure.in               | 2 +-
 doc/Makefile.in            | 2 +-
 doc/texi2pod.pl            | 3 ++-
 m4/lib-ld.m4               | 3 ++-
 m4/lib-link.m4             | 3 ++-
 m4/lib-prefix.m4           | 3 ++-
 m4/wget.m4                 | 3 ++-
 po/POTFILES.in             | 3 ++-
 src/Makefile.in            | 3 ++-
 src/cmpt.c                 | 3 ++-
 src/connect.c              | 3 ++-
 src/connect.h              | 3 ++-
 src/convert.c              | 2 +-
 src/convert.h              | 2 +-
 src/cookies.c              | 3 ++-
 src/cookies.h              | 3 ++-
 src/ftp-basic.c            | 3 ++-
 src/ftp-ls.c               | 3 ++-
 src/ftp-opie.c             | 3 ++-
 src/ftp.c                  | 3 ++-
 src/ftp.h                  | 3 ++-
 src/gen-md5.c              | 3 ++-
 src/gen-md5.h              | 3 ++-
 src/gnu-md5.c              | 2 +-
 src/gnu-md5.h              | 2 +-
 src/gnutls.c               | 2 +-
 src/hash.c                 | 3 ++-
 src/hash.h                 | 2 +-
 src/host.c                 | 3 ++-
 src/host.h                 | 3 ++-
 src/html-parse.c           | 3 ++-
 src/html-parse.h           | 3 ++-
 src/html-url.c             | 3 ++-
 src/http-ntlm.c            | 2 +-
 src/http-ntlm.h            | 2 +-
 src/http.c                 | 3 ++-
 src/http.h                 | 2 +-
 src/init.c                 | 3 ++-
 src/init.h                 | 3 ++-
 src/log.c                  | 3 ++-
 src/log.h                  | 3 ++-
 src/main.c                 | 3 ++-
 src/mswindows.c            | 3 ++-
 src/mswindows.h            | 3 ++-
 src/netrc.c                | 2 +-
 src/netrc.h                | 2 +-
 src/openssl.c              | 3 ++-
 src/options.h              | 3 ++-
 src/progress.c             | 3 ++-
 src/progress.h             | 3 ++-
 src/ptimer.c               | 2 +-
 src/ptimer.h               | 2 +-
 src/recur.c                | 3 ++-
 src/recur.h                | 3 ++-
 src/res.c                  | 2 +-
 src/res.h                  | 2 +-
 src/retr.c                 | 3 ++-
 src/retr.h                 | 3 ++-
 src/spider.c               | 2 +-
 src/spider.h               | 2 +-
 src/ssl.h                  | 3 ++-
 src/sysdep.h               | 3 ++-
 src/test.c                 | 2 +-
 src/test.h                 | 2 +-
 src/url.c                  | 3 ++-
 src/url.h                  | 3 ++-
 src/utils.c                | 3 ++-
 src/utils.h                | 3 ++-
 src/wget.h                 | 3 ++-
 src/xmalloc.c              | 3 ++-
 src/xmalloc.h              | 3 ++-
 tests/Makefile.in          | 3 ++-
 util/Makefile.in           | 2 +-
 util/dist-wget             | 2 +-
 util/rmold.pl              | 2 +-
 windows/Makefile.doc       | 2 +-
 windows/Makefile.in        | 2 +-
 windows/Makefile.src       | 3 ++-
 windows/Makefile.top       | 2 +-
 windows/Makefile.top.bor   | 2 +-
 windows/Makefile.top.mingw | 2 +-
 windows/config-compiler.h  | 2 +-
 89 files changed, 145 insertions(+), 89 deletions(-)

diff --git a/Makefile.in b/Makefile.in
index 6e81cd8..a680164 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -1,5 +1,5 @@
 # Makefile for `Wget' utility
-# Copyright (C) 1995, 1996, 1997, 2006 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2006, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/NEWS b/NEWS
index f7ae1f4..3393be2 100644
--- a/NEWS
+++ b/NEWS
@@ -1,6 +1,7 @@
 GNU Wget NEWS -- history of user-visible changes.
 
-Copyright (C) 1997-2006 Free Software Foundation, Inc.
+Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005,
+2006, 2007 Free Software Foundation, Inc.
 See the end for copying conditions.
 
 Please send GNU Wget bug reports to <bug-wget@gnu.org>.
diff --git a/README b/README
index 552f906..3fea5d4 100644
--- a/README
+++ b/README
@@ -59,7 +59,8 @@ the file AUTHORS for a list of major contributors, and the ChangeLogs
 for a detailed listing of all contributions.
 
 
-Copyright (C) 1995-2005 Free Software Foundation, Inc.
+Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004
+2005, 2006, 2007 Free Software Foundation, Inc.
 
 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
diff --git a/autogen.sh b/autogen.sh
index ffa392a..0ebac1a 100755
--- a/autogen.sh
+++ b/autogen.sh
@@ -2,7 +2,7 @@
 
 # The (trivial) script for preparing the sources following the
 # checkout from version control.
-# Copyright (C) 2005 Free Software Foundation, Inc.
+# Copyright (C) 2005, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/config.guess b/config.guess
index 1fdbe60..cf224a1 100755
--- a/config.guess
+++ b/config.guess
@@ -1,7 +1,8 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+#   Foundation, Inc.
 
 timestamp='2005-05-27'
 
diff --git a/config.sub b/config.sub
index a817759..c77979b 100755
--- a/config.sub
+++ b/config.sub
@@ -1,7 +1,8 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+#   Foundation, Inc.
 
 timestamp='2005-06-02'
 
diff --git a/configure.bat b/configure.bat
index c340b3e..179b313 100755
--- a/configure.bat
+++ b/configure.bat
@@ -1,6 +1,6 @@
 @echo off
 rem Configure batch file for `Wget' utility
-rem Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+rem Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 rem This program is free software; you can redistribute it and/or modify
 rem it under the terms of the GNU General Public License as published by
diff --git a/configure.in b/configure.in
index a9a7a7a..703ee48 100644
--- a/configure.in
+++ b/configure.in
@@ -1,5 +1,5 @@
 dnl Template file for GNU Autoconf
-dnl Copyright (C) 1995, 1996, 1997, 2001 Free Software Foundation, Inc.
+dnl Copyright (C) 1995, 1996, 1997, 2001, 2007 Free Software Foundation, Inc.
 
 dnl This program is free software; you can redistribute it and/or modify
 dnl it under the terms of the GNU General Public License as published by
diff --git a/doc/Makefile.in b/doc/Makefile.in
index 57ff2f5..8330e93 100644
--- a/doc/Makefile.in
+++ b/doc/Makefile.in
@@ -1,5 +1,5 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/doc/texi2pod.pl b/doc/texi2pod.pl
index 0b57d1b..3a9f78a 100755
--- a/doc/texi2pod.pl
+++ b/doc/texi2pod.pl
@@ -1,6 +1,7 @@
 #! /usr/bin/env perl
 
-#   Copyright (C) 1999, 2000, 2001, 2003 Free Software Foundation, Inc.
+#   Copyright (C) 1999, 2000, 2001, 2003, 2007 Free Software
+#   Foundation, Inc.
 
 # This file is part of GCC.
 
diff --git a/m4/lib-ld.m4 b/m4/lib-ld.m4
index 96c4e2c..8d99525 100644
--- a/m4/lib-ld.m4
+++ b/m4/lib-ld.m4
@@ -1,5 +1,6 @@
 # lib-ld.m4 serial 3 (gettext-0.13)
-dnl Copyright (C) 1996-2003 Free Software Foundation, Inc.
+dnl Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+dnl 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
diff --git a/m4/lib-link.m4 b/m4/lib-link.m4
index ea0b0c4..d4450fc 100644
--- a/m4/lib-link.m4
+++ b/m4/lib-link.m4
@@ -1,5 +1,6 @@
 # lib-link.m4 serial 6 (gettext-0.14.3)
-dnl Copyright (C) 2001-2005 Free Software Foundation, Inc.
+dnl Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+dnl Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
diff --git a/m4/lib-prefix.m4 b/m4/lib-prefix.m4
index 0d895ca..a3d482d 100644
--- a/m4/lib-prefix.m4
+++ b/m4/lib-prefix.m4
@@ -1,5 +1,6 @@
 # lib-prefix.m4 serial 4 (gettext-0.14.2)
-dnl Copyright (C) 2001-2005 Free Software Foundation, Inc.
+dnl Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+dnl Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
diff --git a/m4/wget.m4 b/m4/wget.m4
index 2dc8b34..736bd2e 100644
--- a/m4/wget.m4
+++ b/m4/wget.m4
@@ -1,5 +1,6 @@
 dnl Wget-specific Autoconf macros.
-dnl Copyright (C) 1996-2005, 2007 Free Software Foundation, Inc.
+dnl Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+dnl 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 dnl This program is free software; you can redistribute it and/or modify
 dnl it under the terms of the GNU General Public License as published by
diff --git a/po/POTFILES.in b/po/POTFILES.in
index 12e543c..cd6c797 100644
--- a/po/POTFILES.in
+++ b/po/POTFILES.in
@@ -1,5 +1,6 @@
 # List of files which containing translatable strings.
-# Copyright (C) 1998 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+# 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 # Package source files
 src/cmpt.c
diff --git a/src/Makefile.in b/src/Makefile.in
index e393e1e..9424a69 100644
--- a/src/Makefile.in
+++ b/src/Makefile.in
@@ -1,5 +1,6 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995-2006 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+# 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/src/cmpt.c b/src/cmpt.c
index f5f2567..1977e8e 100644
--- a/src/cmpt.c
+++ b/src/cmpt.c
@@ -1,5 +1,6 @@
 /* Replacements for routines missing on some systems.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/connect.c b/src/connect.c
index 0188353..5e7ccee 100644
--- a/src/connect.c
+++ b/src/connect.c
@@ -1,5 +1,6 @@
 /* Establishing and handling network connections.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/connect.h b/src/connect.h
index de6899c..70245b7 100644
--- a/src/connect.h
+++ b/src/connect.h
@@ -1,5 +1,6 @@
 /* Declarations for connect.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/convert.c b/src/convert.c
index 0b5bb43..8f04ed0 100644
--- a/src/convert.c
+++ b/src/convert.c
@@ -1,5 +1,5 @@
 /* Conversion of links to local files.
-   Copyright (C) 2003-2006 Free Software Foundation, Inc.
+   Copyright (C) 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/convert.h b/src/convert.h
index 93efa76..ccf75c0 100644
--- a/src/convert.h
+++ b/src/convert.h
@@ -1,5 +1,5 @@
 /* Declarations for convert.c
-   Copyright (C) 2003-2006 Free Software Foundation, Inc.
+   Copyright (C) 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/cookies.c b/src/cookies.c
index 7c9a575..d3b64a9 100644
--- a/src/cookies.c
+++ b/src/cookies.c
@@ -1,5 +1,6 @@
 /* Support for cookies.
-   Copyright (C) 2001-2006 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free
+   Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/cookies.h b/src/cookies.h
index 48058ae..1ceb61c 100644
--- a/src/cookies.h
+++ b/src/cookies.h
@@ -1,5 +1,6 @@
 /* Support for cookies.
-   Copyright (C) 2001-2006 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free
+   Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ftp-basic.c b/src/ftp-basic.c
index 7029139..9df2684 100644
--- a/src/ftp-basic.c
+++ b/src/ftp-basic.c
@@ -1,5 +1,6 @@
 /* Basic FTP routines.
-   Copyright (C) 1996-2007 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ftp-ls.c b/src/ftp-ls.c
index 062d57e..97d725f 100644
--- a/src/ftp-ls.c
+++ b/src/ftp-ls.c
@@ -1,5 +1,6 @@
 /* Parsing FTP `ls' output.
-   Copyright (C) 1996-2004 Free Software Foundation, Inc. 
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc. 
 
 This file is part of GNU Wget.
 
diff --git a/src/ftp-opie.c b/src/ftp-opie.c
index 5409b59..2159298 100644
--- a/src/ftp-opie.c
+++ b/src/ftp-opie.c
@@ -1,5 +1,6 @@
 /* Opie (s/key) support for FTP.
-   Copyright (C) 1998-2004 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ftp.c b/src/ftp.c
index 7da68af..2f5ecd1 100644
--- a/src/ftp.c
+++ b/src/ftp.c
@@ -1,5 +1,6 @@
 /* File Transfer Protocol support.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ftp.h b/src/ftp.h
index 3bdc4f7..eef63b6 100644
--- a/src/ftp.h
+++ b/src/ftp.h
@@ -1,5 +1,6 @@
 /* Declarations for FTP support.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/gen-md5.c b/src/gen-md5.c
index d9b7261..91ece6f 100644
--- a/src/gen-md5.c
+++ b/src/gen-md5.c
@@ -1,5 +1,6 @@
 /* General MD5 support.
-   Copyright (C) 2001 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+   Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/gen-md5.h b/src/gen-md5.h
index f833d3a..25d3ba5 100644
--- a/src/gen-md5.h
+++ b/src/gen-md5.h
@@ -1,5 +1,6 @@
 /* General MD5 header file.
-   Copyright (C) 2001 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+   Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/gnu-md5.c b/src/gnu-md5.c
index d8de43c..95e314e 100644
--- a/src/gnu-md5.c
+++ b/src/gnu-md5.c
@@ -1,6 +1,6 @@
 /* md5.c - Functions to compute MD5 message digest of files or memory blocks
    according to the definition of MD5 in RFC 1321 from April 1992.
-   Copyright (C) 1995, 1996 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1996, 2007 Free Software Foundation, Inc.
    This file is part of the GNU C library.
 
    The GNU C Library is free software; you can redistribute it and/or
diff --git a/src/gnu-md5.h b/src/gnu-md5.h
index ab9ede1..fef0a65 100644
--- a/src/gnu-md5.h
+++ b/src/gnu-md5.h
@@ -1,6 +1,6 @@
 /* md5.h - Declaration of functions and data types used for MD5 sum
    computing library functions.
-   Copyright (C) 1995, 1996 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1996, 2007 Free Software Foundation, Inc.
    NOTE: The canonical source of this file is maintained with the GNU C
    Library.  Bugs can be reported to bug-glibc@prep.ai.mit.edu.
 
diff --git a/src/gnutls.c b/src/gnutls.c
index 110d639..92c0780 100644
--- a/src/gnutls.c
+++ b/src/gnutls.c
@@ -1,5 +1,5 @@
 /* SSL support via GnuTLS library.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/hash.c b/src/hash.c
index dbef282..5d156da 100644
--- a/src/hash.c
+++ b/src/hash.c
@@ -1,5 +1,6 @@
 /* Hash tables.
-   Copyright (C) 2000-2006 Free Software Foundation, Inc.
+   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free
+   Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/hash.h b/src/hash.h
index 2c03684..6003af1 100644
--- a/src/hash.h
+++ b/src/hash.h
@@ -1,5 +1,5 @@
 /* Hash table declarations.
-   Copyright (C) 2000 Free Software Foundation, Inc.
+   Copyright (C) 2000, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/host.c b/src/host.c
index 893dded..fee5e40 100644
--- a/src/host.c
+++ b/src/host.c
@@ -1,5 +1,6 @@
 /* Host name resolution and matching.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/host.h b/src/host.h
index 03b88c8..12ddf3a 100644
--- a/src/host.h
+++ b/src/host.h
@@ -1,5 +1,6 @@
 /* Declarations for host.c
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/html-parse.c b/src/html-parse.c
index 9952a83..243ead2 100644
--- a/src/html-parse.c
+++ b/src/html-parse.c
@@ -1,5 +1,6 @@
 /* HTML parser for Wget.
-   Copyright (C) 1998-2006 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/html-parse.h b/src/html-parse.h
index cfec60b..3d9afab 100644
--- a/src/html-parse.h
+++ b/src/html-parse.h
@@ -1,5 +1,6 @@
 /* Declarations for html-parse.c.
-   Copyright (C) 1998-2006 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/html-url.c b/src/html-url.c
index b5da078..97443ea 100644
--- a/src/html-url.c
+++ b/src/html-url.c
@@ -1,5 +1,6 @@
 /* Collect URLs from HTML source.
-   Copyright (C) 1998-2006 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/http-ntlm.c b/src/http-ntlm.c
index 0d5c9fe..054c8a9 100644
--- a/src/http-ntlm.c
+++ b/src/http-ntlm.c
@@ -1,5 +1,5 @@
 /* NTLM code.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
    Contributed by Daniel Stenberg.
 
 This file is part of GNU Wget.
diff --git a/src/http-ntlm.h b/src/http-ntlm.h
index 6460d0d..9d17610 100644
--- a/src/http-ntlm.h
+++ b/src/http-ntlm.h
@@ -1,7 +1,7 @@
 #ifndef __HTTP_NTLM_H
 #define __HTTP_NTLM_H
 /* Declarations for http_ntlm.c
-   Copyright (C) 1995, 1996, 1997, 2000 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1996, 1997, 2000, 2007 Free Software Foundation, Inc.
    Contributed by Daniel Stenberg.
 
 This file is part of GNU Wget.
diff --git a/src/http.c b/src/http.c
index 6dd5158..b664d45 100644
--- a/src/http.c
+++ b/src/http.c
@@ -1,5 +1,6 @@
 /* HTTP support.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/http.h b/src/http.h
index 86c0247..42bd204 100644
--- a/src/http.h
+++ b/src/http.h
@@ -1,5 +1,5 @@
 /* Declarations for HTTP.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/init.c b/src/init.c
index d8c7176..20ca99b 100644
--- a/src/init.c
+++ b/src/init.c
@@ -1,5 +1,6 @@
 /* Reading/parsing the initialization file.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/init.h b/src/init.h
index a8b4ef4..9537297 100644
--- a/src/init.h
+++ b/src/init.h
@@ -1,5 +1,6 @@
 /* Declarations for init.c.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/log.c b/src/log.c
index f788f5e..9bd0a5a 100644
--- a/src/log.c
+++ b/src/log.c
@@ -1,5 +1,6 @@
 /* Messages logging.
-   Copyright (C) 1998-2006 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/log.h b/src/log.h
index 2e802f5..394ac7b 100644
--- a/src/log.h
+++ b/src/log.h
@@ -1,5 +1,6 @@
 /* Declarations for log.c.
-   Copyright (C) 1998-2006 Free Software Foundation, Inc.
+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
+   2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/main.c b/src/main.c
index ea3088c..7443588 100644
--- a/src/main.c
+++ b/src/main.c
@@ -1,5 +1,6 @@
 /* Command line parsing.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/mswindows.c b/src/mswindows.c
index 7b31067..de031cb 100644
--- a/src/mswindows.c
+++ b/src/mswindows.c
@@ -1,5 +1,6 @@
 /* mswindows.c -- Windows-specific support
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/mswindows.h b/src/mswindows.h
index e298e06..da0665d 100644
--- a/src/mswindows.h
+++ b/src/mswindows.h
@@ -1,5 +1,6 @@
 /* Declarations for windows
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/netrc.c b/src/netrc.c
index bf5f551..87c8c94 100644
--- a/src/netrc.c
+++ b/src/netrc.c
@@ -1,5 +1,5 @@
 /* Read and parse the .netrc file to get hosts, accounts, and passwords.
-   Copyright (C) 1996, Free Software Foundation, Inc.
+   Copyright (C) 1996, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/netrc.h b/src/netrc.h
index 1b26a0c..91ced5a 100644
--- a/src/netrc.h
+++ b/src/netrc.h
@@ -1,5 +1,5 @@
 /* Declarations for netrc.c
-   Copyright (C) 1996, 1996, 1997 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/openssl.c b/src/openssl.c
index 0d4ec15..7427f34 100644
--- a/src/openssl.c
+++ b/src/openssl.c
@@ -1,5 +1,6 @@
 /* SSL support via OpenSSL library.
-   Copyright (C) 2000-2006 Free Software Foundation, Inc.
+   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free
+   Software Foundation, Inc.
    Originally contributed by Christian Fraenkel.
 
 This file is part of GNU Wget.
diff --git a/src/options.h b/src/options.h
index 5fc49e2..0480acb 100644
--- a/src/options.h
+++ b/src/options.h
@@ -1,5 +1,6 @@
 /* struct options.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/progress.c b/src/progress.c
index 0296afd..6dd9601 100644
--- a/src/progress.c
+++ b/src/progress.c
@@ -1,5 +1,6 @@
 /* Download progress.
-   Copyright (C) 2001-2006 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+   Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/progress.h b/src/progress.h
index 2580196..c5862ed 100644
--- a/src/progress.h
+++ b/src/progress.h
@@ -1,5 +1,6 @@
 /* Download progress.
-   Copyright (C) 2001-2006 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
+   Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ptimer.c b/src/ptimer.c
index 12bb7f4..33ed913 100644
--- a/src/ptimer.c
+++ b/src/ptimer.c
@@ -1,5 +1,5 @@
 /* Portable timers.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ptimer.h b/src/ptimer.h
index 3ef9931..d256d56 100644
--- a/src/ptimer.h
+++ b/src/ptimer.h
@@ -1,5 +1,5 @@
 /* Declarations for ptimer.c.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/recur.c b/src/recur.c
index 57932f8..acf0b16 100644
--- a/src/recur.c
+++ b/src/recur.c
@@ -1,5 +1,6 @@
 /* Handling of recursive HTTP retrieving.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/recur.h b/src/recur.h
index 0d1da04..0a49e92 100644
--- a/src/recur.h
+++ b/src/recur.h
@@ -1,5 +1,6 @@
 /* Declarations for recur.c.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/res.c b/src/res.c
index 5910dd3..5604122 100644
--- a/src/res.c
+++ b/src/res.c
@@ -1,5 +1,5 @@
 /* Support for Robot Exclusion Standard (RES).
-   Copyright (C) 2001,2006 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of Wget.
 
diff --git a/src/res.h b/src/res.h
index a050677..bd7549f 100644
--- a/src/res.h
+++ b/src/res.h
@@ -1,5 +1,5 @@
 /* Declarations for res.c.
-   Copyright (C) 2001 Free Software Foundation, Inc.
+   Copyright (C) 2001, 2007 Free Software Foundation, Inc.
 
 This file is part of Wget.
 
diff --git a/src/retr.c b/src/retr.c
index ec07bc4..3234286 100644
--- a/src/retr.c
+++ b/src/retr.c
@@ -1,5 +1,6 @@
 /* File retrieval.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/retr.h b/src/retr.h
index 9ebf255..e89e7ed 100644
--- a/src/retr.h
+++ b/src/retr.h
@@ -1,5 +1,6 @@
 /* Declarations for retr.c.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/spider.c b/src/spider.c
index 4baa2e7..37122ad 100644
--- a/src/spider.c
+++ b/src/spider.c
@@ -1,5 +1,5 @@
 /* Keep track of visited URLs in spider mode.
-   Copyright (C) 2006 Free Software Foundation, Inc.
+   Copyright (C) 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/spider.h b/src/spider.h
index 1d7d13e..dc040f9 100644
--- a/src/spider.h
+++ b/src/spider.h
@@ -1,5 +1,5 @@
 /* Declarations for spider.c
-   Copyright (C) 2006 Free Software Foundation, Inc.
+   Copyright (C) 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/ssl.h b/src/ssl.h
index 27c2494..85c3d18 100644
--- a/src/ssl.h
+++ b/src/ssl.h
@@ -1,5 +1,6 @@
 /* SSL support.
-   Copyright (C) 2000-2006 Free Software Foundation, Inc.
+   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free
+   Software Foundation, Inc.
    Originally contributed by Christian Fraenkel.
 
 This file is part of GNU Wget.
diff --git a/src/sysdep.h b/src/sysdep.h
index 2c7ba31..9f775ce 100644
--- a/src/sysdep.h
+++ b/src/sysdep.h
@@ -1,5 +1,6 @@
 /* Dirty system-dependent hacks.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/test.c b/src/test.c
index 25fe861..3acfee7 100644
--- a/src/test.c
+++ b/src/test.c
@@ -1,5 +1,5 @@
 /* Unit testing.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/test.h b/src/test.h
index 7a79a92..7587177 100644
--- a/src/test.h
+++ b/src/test.h
@@ -1,5 +1,5 @@
 /* Unit testing declarations.
-   Copyright (C) 2005-2006 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/url.c b/src/url.c
index 9b20c51..6235c52 100644
--- a/src/url.c
+++ b/src/url.c
@@ -1,5 +1,6 @@
 /* URL handling.
-   Copyright (C) 1996-2007 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/url.h b/src/url.h
index 80e3e3c..83f876a 100644
--- a/src/url.h
+++ b/src/url.h
@@ -1,5 +1,6 @@
 /* Declarations for url.c.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/utils.c b/src/utils.c
index 937eb57..94b4e3a 100644
--- a/src/utils.c
+++ b/src/utils.c
@@ -1,5 +1,6 @@
 /* Various utility functions.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/utils.h b/src/utils.h
index cb2dbbc..8f30c14 100644
--- a/src/utils.h
+++ b/src/utils.h
@@ -1,5 +1,6 @@
 /* Declarations for utils.c.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/wget.h b/src/wget.h
index 45b34d6..2cfa7aa 100644
--- a/src/wget.h
+++ b/src/wget.h
@@ -1,5 +1,6 @@
 /* Miscellaneous declarations.
-   Copyright (C) 1996-2006 Free Software Foundation, Inc.
+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+   2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/xmalloc.c b/src/xmalloc.c
index c8010f2..b003373 100644
--- a/src/xmalloc.c
+++ b/src/xmalloc.c
@@ -1,5 +1,6 @@
 /* Wrappers around malloc and memory debugging support.
-   Copyright (C) 2003-2006 Free Software Foundation, Inc.
+   Copyright (C) 2003, 2004, 2005, 2006, 2007 Free Software Foundation,
+   Inc.
 
 This file is part of GNU Wget.
 
diff --git a/src/xmalloc.h b/src/xmalloc.h
index ebcf4c8..ca543ca 100644
--- a/src/xmalloc.h
+++ b/src/xmalloc.h
@@ -1,5 +1,6 @@
 /* xmalloc.c declarations.
-   Copyright (C) 2003-2006 Free Software Foundation, Inc.
+   Copyright (C) 2003, 2004, 2005, 2006, 2007 Free Software Foundation,
+   Inc.
 
 This file is part of GNU Wget.
 
diff --git a/tests/Makefile.in b/tests/Makefile.in
index 7e7eff7..1dc0f7f 100644
--- a/tests/Makefile.in
+++ b/tests/Makefile.in
@@ -1,5 +1,6 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995-2005 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
+# 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/util/Makefile.in b/util/Makefile.in
index e275160..a4681f4 100644
--- a/util/Makefile.in
+++ b/util/Makefile.in
@@ -1,5 +1,5 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/util/dist-wget b/util/dist-wget
index 1e26366..fd98405 100755
--- a/util/dist-wget
+++ b/util/dist-wget
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-# Copyright (C) 2001 Free Software Foundation, Inc.
+# Copyright (C) 2001, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/util/rmold.pl b/util/rmold.pl
index 6d2caa8..1f57474 100755
--- a/util/rmold.pl
+++ b/util/rmold.pl
@@ -1,6 +1,6 @@
 #! /usr/bin/perl -w
 
-# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.doc b/windows/Makefile.doc
index 6565609..0638d18 100644
--- a/windows/Makefile.doc
+++ b/windows/Makefile.doc
@@ -1,5 +1,5 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995, 1996, 1997, 2004 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2004, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.in b/windows/Makefile.in
index fa3e637..d6b591d 100644
--- a/windows/Makefile.in
+++ b/windows/Makefile.in
@@ -1,5 +1,5 @@
 # Makefile for `wget' utility
-# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.src b/windows/Makefile.src
index 1fce996..2e49a0f 100644
--- a/windows/Makefile.src
+++ b/windows/Makefile.src
@@ -1,5 +1,6 @@
 # Makefile for `wget' utility for MSVC
-# Copyright (C) 1995, 1996, 1997, 2004, 2006 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2004, 2006, 2007 Free Software
+# Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.top b/windows/Makefile.top
index 2f546de..8b25c5f 100644
--- a/windows/Makefile.top
+++ b/windows/Makefile.top
@@ -1,5 +1,5 @@
 # Makefile for `Wget' utility
-# Copyright (C) 1995, 1996, 1997, 2004 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2004, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.top.bor b/windows/Makefile.top.bor
index d811946..6667a4f 100644
--- a/windows/Makefile.top.bor
+++ b/windows/Makefile.top.bor
@@ -1,5 +1,5 @@
 # Makefile for `Wget' utility
-# Copyright (C) 1995, 1996, 1997, 2004 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2004, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/Makefile.top.mingw b/windows/Makefile.top.mingw
index 1b3895c..6213116 100644
--- a/windows/Makefile.top.mingw
+++ b/windows/Makefile.top.mingw
@@ -1,5 +1,5 @@
 # Makefile for `Wget' utility
-# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+# Copyright (C) 1995, 1996, 1997, 2007 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/windows/config-compiler.h b/windows/config-compiler.h
index acd752b..cfef180 100644
--- a/windows/config-compiler.h
+++ b/windows/config-compiler.h
@@ -1,5 +1,5 @@
 /* Support for various Windows compilation environments.
-   Copyright (C) 2005 Free Software Foundation, Inc.
+   Copyright (C) 2005, 2007 Free Software Foundation, Inc.
 
 This file is part of GNU Wget.
 
-- 
cgit v1.0-41-gc330


From a3ce2cb4294da42b883e77b592c605f9bd6f8a9e Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Fri, 28 Sep 2007 16:15:54 -0700
Subject: Improved contributors section, new contributors

---
 doc/wget.texi | 37 ++++++++++++++++++++++++++-----------
 1 file changed, 26 insertions(+), 11 deletions(-)

diff --git a/doc/wget.texi b/doc/wget.texi
index c7aca61..f7066cd 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -3622,6 +3622,18 @@ Junio Hamano---donated support for Opie and @sc{http} @code{Digest}
 authentication.
 
 @item
+Mauro Tortonesi---Improved IPv6 support, adding support for dual
+family systems.  Refactored and enhanced FTP IPv6 code. Maintained GNU
+Wget from 2004--2007.
+
+@item
+Christopher G.@: Lewis---Maintenance of the Windows version of GNU WGet.
+
+@item
+Gisle Vanem---Many helpful patches and improvements, especially for
+Windows and MS-DOS support.
+
+@item
 People who provided donations for development---including Brian Gough.
 @end itemize
 
@@ -3635,7 +3647,7 @@ Martin Baehr,
 Dieter Baron,
 Roger Beeman,
 Dan Berger,
-T. Bharath,
+T.@: Bharath,
 Christian Biere,
 Paul Bludov,
 Daniel Bodea,
@@ -3676,7 +3688,7 @@ Aleksandar Erkalovic,
 Andy Eskilsson,
 Christian Fraenkel,
 David Fritz,
-Charles C. Fu,
+Charles C.@: Fu,
 FUJISHIMA Satsuki,
 Masashi Fujita,
 Howard Gayle,
@@ -3731,7 +3743,7 @@ Simos KSenitellis,
 @end ifnottex
 Christian Lackas,
 Hrvoje Lacko,
-Daniel S. Lewart,
+Daniel S.@: Lewart,
 @iftex
 Nicol@'{a}s Lichtmeier,
 @end iftex
@@ -3739,7 +3751,7 @@ Nicol@'{a}s Lichtmeier,
 Nicolas Lichtmeier,
 @end ifnottex
 Dave Love,
-Alexander V. Lukyanov,
+Alexander V.@: Lukyanov,
 @iftex
 Thomas Lu@ss{}nig,
 @end iftex
@@ -3748,16 +3760,16 @@ Thomas Lussnig,
 @end ifnottex
 Andre Majorel,
 Aurelien Marchand,
-Matthew J. Mellon,
+Matthew J.@: Mellon,
 Jordan Mendelson,
 Lin Zhe Min,
 Jan Minar,
 Tim Mooney,
 Keith Moore,
-Adam D. Moss,
+Adam D.@: Moss,
 Simon Munton,
 Charlie Negyesi,
-R. K. Owen,
+R.@: K.@: Owen,
 Leonid Petrov,
 Simone Piunno,
 Andrew Pollock,
@@ -3779,6 +3791,7 @@ Keith Refson,
 Bill Richardson,
 Tyler Riddle,
 Tobias Ringstrom,
+Jochen Roderburg,
 @c Texinfo doesn't grok @'{@i}, so we have to use TeX itself.
 @tex
 Juan Jos\'{e} Rodr\'{\i}guez,
@@ -3786,13 +3799,13 @@ Juan Jos\'{e} Rodr\'{\i}guez,
 @ifnottex
 Juan Jose Rodriguez,
 @end ifnottex
-Maciej W. Rozycki,
-Edward J. Sabol,
+Maciej W.@: Rozycki,
+Edward J.@: Sabol,
 Heinz Salzmann,
 Robert Schmidt,
 Nicolas Schodet,
 Andreas Schwab,
-Steven M. Schweda,
+Steven M.@: Schweda,
 Chris Seawood,
 Dennis Smit,
 Toomas Soome,
@@ -3816,7 +3829,9 @@ Russell Vincent,
 Zeljko Vrba,
 @end ifnottex
 Charles G Waldman,
-Douglas E. Wegscheid,
+Douglas E.@: Wegscheid,
+Ralf Wildenhues,
+Joshua David Williams,
 YAMAZAKI Makoto,
 Jasmin Zainul,
 @iftex
-- 
cgit v1.0-41-gc330


From 27478c069f0b1693a821a21c206f96de9c710492 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Fri, 28 Sep 2007 18:21:08 -0700
Subject: Fix gethttp returning RETROK, which caused abortion.

---
 src/http.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/http.c b/src/http.c
index b664d45..5b9e8bb 100644
--- a/src/http.c
+++ b/src/http.c
@@ -1821,7 +1821,7 @@ File `%s' already there; not retrieving.\n\n"), hs->local_file);
           if (has_html_suffix_p (hs->local_file))
             *dt |= TEXTHTML;
 
-          return RETROK;
+          return RETRUNNEEDED;
         }
       else if (!ALLOW_CLOBBER)
         {
-- 
cgit v1.0-41-gc330


From 7cebc3ca17dab17fac87d47c47df99d7e8233154 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Mon, 1 Oct 2007 01:22:37 -0700
Subject: Documentation updates. Web Site, Mailing Lists, Portability.

---
 doc/ChangeLog |  6 ++++++
 doc/wget.texi | 57 ++++++++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 46 insertions(+), 17 deletions(-)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index 99ea378..73910f8 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,3 +1,9 @@
+2007-10-01  Micah Cowan  <micah@cowan.name>
+
+	* wget.texi: Updated information in Mailing Lists, Reporting
+	Bugs. Added Web Site section, and add information about Mac OS
+	X, MS-DOS, and VMS in Portability.
+
 2007-09-27  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi: Removed "for more details" from parenthesese
diff --git a/doc/wget.texi b/doc/wget.texi
index c4bb494..0a26eb0 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -3179,8 +3179,9 @@ wget -m -k -K -E http://www.gnu.org/ -o /home/me/weeklog
 This chapter contains all the stuff that could not fit anywhere else.
 
 @menu
-* Proxies::             Support for proxy servers
+* Proxies::             Support for proxy servers.
 * Distribution::        Getting the latest version.
+* Web Site::            GNU Wget's presence on the World Wide Web.
 * Mailing List::        Wget mailing list for announcements and discussion.
 * Reporting Bugs::      How and where to report bugs.
 * Portability::         The systems Wget works on.
@@ -3272,16 +3273,24 @@ master GNU archive site ftp.gnu.org, and its mirrors.  For example,
 Wget @value{VERSION} can be found at
 @url{ftp://ftp.gnu.org/pub/gnu/wget/wget-@value{VERSION}.tar.gz}
 
+@node Web Site
+@section Web Site
+@cindex web site
+
+The official web site for GNU Wget is at
+@url{http://www.gnu.org/software/wget/}. However, most useful
+information resides at ``The Wget Wgiki'',
+@url{http://wget.addictivecode.org/}.
+
 @node Mailing List
 @section Mailing List
 @cindex mailing list
 @cindex list
 
-There are several Wget-related mailing lists, all hosted by
-SunSITE.dk.  The general discussion list is at
-@email{wget@@sunsite.dk}.  It is the preferred place for bug reports
-and suggestions, as well as for discussion of development.  You are
-invited to subscribe.
+There are several Wget-related mailing lists.  The general discussion
+list is at @email{wget@@sunsite.dk}.  It is the preferred place for
+support requests and suggestions, as well as for discussion of
+development.  You are invited to subscribe.
 
 To subscribe, simply send mail to @email{wget-subscribe@@sunsite.dk}
 and follow the instructions.  Unsubscribe by mailing to
@@ -3289,7 +3298,7 @@ and follow the instructions.  Unsubscribe by mailing to
 @url{http://www.mail-archive.com/wget%40sunsite.dk/} and at
 @url{http://news.gmane.org/gmane.comp.web.wget.general}.
 
-The second mailing list is at @email{wget-patches@@sunsite.dk}, and is
+Another mailing list is at @email{wget-patches@@sunsite.dk}, and is
 used to submit patches for review by Wget developers.  A ``patch'' is
 a textual representation of change to source code, readable by both
 humans and programs.  The file @file{PATCHES} that comes with Wget
@@ -3297,11 +3306,19 @@ covers the creation and submitting of patches in detail.  Please don't
 send general suggestions or bug reports to @samp{wget-patches}; use it
 only for patch submissions.
 
-To subscribe, simply send mail to @email{wget-subscribe@@sunsite.dk}
-and follow the instructions.  Unsubscribe by mailing to
-@email{wget-unsubscribe@@sunsite.dk}.  The mailing list is archived at
+Subscription is the same as above for @email{wget@@sunsite.dk}, except
+that you send to @email{wget-patches-subscribe@@sunsite.dk}, instead.
+The mailing list is archived at
 @url{http://news.gmane.org/gmane.comp.web.wget.patches}.
 
+Finally, there is the @email{wget-notify@@addictivecode.org} mailing
+list. This is a non-discussion list that receives commit notifications
+from the source repository, and also bug report-change notifications.
+This is the highest-traffic list for Wget, and is recommended only for
+people who are seriously interested in ongoing Wget development.
+Subscription is through the @code{mailman} interface at
+@url{http://addictivecode.org/mailman/listinfo/wget-notify}.
+
 @node Reporting Bugs
 @section Reporting Bugs
 @cindex bugs
@@ -3309,8 +3326,8 @@ and follow the instructions.  Unsubscribe by mailing to
 @cindex bug reports
 
 @c man begin BUGS
-You are welcome to send bug reports about GNU Wget to
-@email{bug-wget@@gnu.org}.
+You are welcome to submit bug reports via the GNU Wget bug tracker (see
+@url{http://wget.addictivecode.org/BugTracker}).
 
 Before actually submitting a bug report, please try to follow a few
 simple guidelines.
@@ -3320,7 +3337,9 @@ simple guidelines.
 Please try to ascertain that the behavior you see really is a bug.  If
 Wget crashes, it's a bug.  If Wget does not behave as documented,
 it's a bug.  If things work strange, but you are not sure about the way
-they are supposed to work, it might well be a bug.
+they are supposed to work, it might well be a bug, but you might want to
+double-check the documentation and the mailing lists (@pxref{Mailing
+List}).
 
 @item
 Try to repeat the bug in as simple circumstances as possible.  E.g. if
@@ -3369,10 +3388,10 @@ uses GNU Autoconf for building and configuring, and mostly avoids using
 ``special'' features of any particular Unix, it should compile (and
 work) on all common Unix flavors.
 
-Various Wget versions have been compiled and tested under many kinds
-of Unix systems, including GNU/Linux, Solaris, SunOS 4.x, OSF (aka
-Digital Unix or Tru64), Ultrix, *BSD, IRIX, AIX, and others.  Some of
-those systems are no longer in widespread use and may not be able to
+Various Wget versions have been compiled and tested under many kinds of
+Unix systems, including GNU/Linux, Solaris, SunOS 4.x, Mac OS X, OSF
+(aka Digital Unix or Tru64), Ultrix, *BSD, IRIX, AIX, and others.  Some
+of those systems are no longer in widespread use and may not be able to
 support recent versions of Wget.  If Wget fails to compile on your
 system, we would like to know about it.
 
@@ -3388,6 +3407,10 @@ Windows usage should be reported to Wget mailing list at
 @email{wget@@sunsite.dk} where the volunteers who maintain the
 Windows-related features might look at them.
 
+Support for building on MS-DOS via DJGPP has been contributed by Gisle
+Vanem; a port to VMS is maintained by Steven Schweda, and is available
+at @url{http://antinode.org/}.
+
 @node Signals
 @section Signals
 @cindex signal handling
-- 
cgit v1.0-41-gc330


From 5f341d6bc175e2cb046680587eaa281791b91ceb Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 2 Oct 2007 20:31:23 -0700
Subject: Dates as well as times in output timestamps

---
 src/ChangeLog | 6 ++++++
 src/ftp.c     | 6 +++---
 src/http.c    | 4 ++--
 src/main.c    | 2 +-
 4 files changed, 12 insertions(+), 6 deletions(-)

diff --git a/src/ChangeLog b/src/ChangeLog
index e058334..06d4103 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,3 +1,9 @@
+2007-10-02  Micah Cowan  <micah@cowan.name>
+
+	* ftp.c (getftp, ftp_loop_internal), http.c (http_loop), main
+	(main): Use datetime_str instead of time_str, for those who have
+	potentially long-running sessions.
+
 2007-09-24  Gisle Vanem  <giva@bgnett.no>
 
 	* connect.c, init.c, main.c, openssl.c, options.h, sysdep.h,
diff --git a/src/ftp.c b/src/ftp.c
index 2f5ecd1..d8a1844 100644
--- a/src/ftp.c
+++ b/src/ftp.c
@@ -968,7 +968,7 @@ Error in server response, closing control connection.\n"));
                       expected_bytes ? expected_bytes - restval : 0,
                       restval, &rd_size, len, &con->dltime, flags);
 
-  tms = time_str (time (NULL));
+  tms = datetime_str (time (NULL));
   tmrate = retr_rate (rd_size, con->dltime);
   total_download_time += con->dltime;
 
@@ -1150,7 +1150,7 @@ ftp_loop_internal (struct url *u, struct fileinfo *f, ccon *con)
         restval = 0;
 
       /* Get the current time string.  */
-      tms = time_str (time (NULL));
+      tms = datetime_str (time (NULL));
       /* Print fetch message, if opt.verbose.  */
       if (opt.verbose)
         {
@@ -1214,7 +1214,7 @@ ftp_loop_internal (struct url *u, struct fileinfo *f, ccon *con)
           /* Not as great.  */
           abort ();
         }
-      tms = time_str (time (NULL));
+      tms = datetime_str (time (NULL));
       if (!opt.spider)
         tmrate = retr_rate (len - restval, con->dltime);
 
diff --git a/src/http.c b/src/http.c
index 5b9e8bb..e2cee58 100644
--- a/src/http.c
+++ b/src/http.c
@@ -2373,7 +2373,7 @@ http_loop (struct url *u, char **newloc, char **local_file, const char *referer,
       sleep_between_retrievals (count);
       
       /* Get the current time string.  */
-      tms = time_str (time (NULL));
+      tms = datetime_str (time (NULL));
       
       if (opt.spider && !got_head)
         logprintf (LOG_VERBOSE, _("\
@@ -2442,7 +2442,7 @@ Spider mode enabled. Check if remote file exists.\n"));
       err = gethttp (u, &hstat, dt, proxy);
 
       /* Time?  */
-      tms = time_str (time (NULL));
+      tms = datetime_str (time (NULL));
       
       /* Get the new location (with or without the redirection).  */
       if (hstat.newloc)
diff --git a/src/main.c b/src/main.c
index 7443588..43cb344 100644
--- a/src/main.c
+++ b/src/main.c
@@ -1036,7 +1036,7 @@ Can't timestamp and not clobber old files at the same time.\n"));
     {
       logprintf (LOG_NOTQUIET,
                  _("FINISHED --%s--\nDownloaded: %d files, %s in %s (%s)\n"),
-                 time_str (time (NULL)),
+                 datetime_str (time (NULL)),
                  opt.numurls,
                  human_readable (total_downloaded_bytes),
                  secs_to_human_time (total_download_time),
-- 
cgit v1.0-41-gc330


From 1c677674ec03748f99af715d88d74a91cf875b60 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 2 Oct 2007 21:35:45 -0700
Subject: Added changelog entries.

---
 ChangeLog       | 6 ++++++
 src/ChangeLog   | 4 ++++
 tests/ChangeLog | 4 ++++
 3 files changed, 14 insertions(+)

diff --git a/ChangeLog b/ChangeLog
index d402395..1832ba8 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,9 @@
+2007-09-25  Micah Cowan  <micah@cowan.name>
+
+	* configure.in: Remove unnecessary heuristic to generate exeext
+	variable, since AC_PROG_CC and others automatically set EXEEXT.
+	Pointed out by Steve Kenton <skenton@ou.edu>.
+
 2007-09-12  Micah Cowan  <micah@cowan.name>
 
 	* AUTHORS: Added... me...
diff --git a/src/ChangeLog b/src/ChangeLog
index 17e3986..f3e930a 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,3 +1,7 @@
+2007-09-25  Micah Cowan  <micah@cowan.name>
+
+	* Makefile.in: Use EXEEXT instead of exeext.
+
 2007-09-24  Jochen Roderburg  <roderburg@uni-koeln.de>
 
 	* http.c (http_zero): Remove no-longer-used local_size variable.
diff --git a/tests/ChangeLog b/tests/ChangeLog
index b80fa17..8c059c0 100644
--- a/tests/ChangeLog
+++ b/tests/ChangeLog
@@ -1,3 +1,7 @@
+2007-09-25  Micah Cowan  <micah@cowan.name>
+
+	* Makefile.in: Use EXEEXT instead of exeext.
+
 2007-08-21  Mauro Tortonesi  <mauro@ferrara.linux.it>
 
 	* WgetTest.pm.in: Added support for timestamping of pre-existing
-- 
cgit v1.0-41-gc330


From 94216227ea03a9ae4465f261bbc13aeb215800f3 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 2 Oct 2007 21:49:37 -0700
Subject: Credit for dated timestamps

---
 src/ChangeLog | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/ChangeLog b/src/ChangeLog
index d9223c5..b53f426 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -2,7 +2,9 @@
 
 	* ftp.c (getftp, ftp_loop_internal), http.c (http_loop), main
 	(main): Use datetime_str instead of time_str, for those who have
-	potentially long-running sessions.
+	potentially long-running sessions. Based on suggestions by Saso
+	Tomat <miskox@hotmail.com> and Steven M. Schweda
+	<sms@antinode.org>.
 
 2007-09-25  Micah Cowan  <micah@cowan.name>
 
-- 
cgit v1.0-41-gc330


From 1153d3d05c2129f50b5e4a81d1f021986a2a19d0 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 2 Oct 2007 22:12:04 -0700
Subject: Warn about host resolution failure.

---
 src/ChangeLog | 6 ++++++
 src/connect.c | 7 ++++++-
 src/http.c    | 3 +++
 3 files changed, 15 insertions(+), 1 deletion(-)

diff --git a/src/ChangeLog b/src/ChangeLog
index b53f426..c6fc656 100644
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -5,6 +5,12 @@
 	potentially long-running sessions. Based on suggestions by Saso
 	Tomat <miskox@hotmail.com> and Steven M. Schweda
 	<sms@antinode.org>.
+	* http.c (gethttp): Warn about host lookup failures. Adjusted
+	from Stephen Gildea's patch.
+
+2007-10-02  Stephen Gildea  <stepheng+wget@gildea.com>
+
+	* connect.c (connect_to_host): Warn about host lookup failures.
 
 2007-09-25  Micah Cowan  <micah@cowan.name>
 
diff --git a/src/connect.c b/src/connect.c
index 5e7ccee..6664c0a 100644
--- a/src/connect.c
+++ b/src/connect.c
@@ -362,7 +362,12 @@ connect_to_host (const char *host, int port)
 
  retry:
   if (!al)
-    return E_HOST;
+    {
+      logprintf (LOG_NOTQUIET,
+                 _("%s: unable to resolve host address `%s'\n"),
+                 exec_name, host);
+      return E_HOST;
+    }
 
   address_list_get_bounds (al, &start, &end);
   for (i = start; i < end; i++)
diff --git a/src/http.c b/src/http.c
index e2cee58..853132d 100644
--- a/src/http.c
+++ b/src/http.c
@@ -1632,6 +1632,9 @@ gethttp (struct url *u, struct http_stat *hs, int *dt, struct url *proxy)
       if (host_lookup_failed)
         {
           request_free (req);
+          logprintf(LOG_NOTQUIET,
+                    _("%s: unable to resolve host address `%s'\n"),
+                    exec_name, relevant->host);
           return HOSTERR;
         }
 
-- 
cgit v1.0-41-gc330


From 1b28d66fcb583791fb1f92199a29e1063cdd6ed8 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Tue, 2 Oct 2007 23:15:08 -0700
Subject: Fix silly scoping bug.

---
 src/http.c | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

diff --git a/src/http.c b/src/http.c
index 853132d..11af939 100644
--- a/src/http.c
+++ b/src/http.c
@@ -1622,14 +1622,7 @@ gethttp (struct url *u, struct http_stat *hs, int *dt, struct url *proxy)
                only hurts us.  */
             request_remove_header (req, "Authorization");
         }
-    }
-
-  if (sock < 0)
-    {
-      /* In its current implementation, persistent_available_p will
-         look up conn->host in some cases.  If that lookup failed, we
-         don't need to bother with connect_to_host.  */
-      if (host_lookup_failed)
+      else if (host_lookup_failed)
         {
           request_free (req);
           logprintf(LOG_NOTQUIET,
@@ -1637,7 +1630,10 @@ gethttp (struct url *u, struct http_stat *hs, int *dt, struct url *proxy)
                     exec_name, relevant->host);
           return HOSTERR;
         }
+    }
 
+  if (sock < 0)
+    {
       sock = connect_to_host (conn->host, conn->port);
       if (sock == E_HOST)
         {
-- 
cgit v1.0-41-gc330


From ca6653c7b8d77ad5376f65e0d30e935851142011 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 11:09:51 -0700
Subject: Wget command list (alphabetizing, underscore consistency)

---
 doc/ChangeLog |  5 +++++
 doc/wget.texi | 36 ++++++++++++++++++------------------
 2 files changed, 23 insertions(+), 18 deletions(-)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index 73910f8..96e85b5 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,3 +1,8 @@
+2007-10-03  Micah Cowan  <micah@cowan.name>
+
+	* wget.texi <Wgetrc Commands>: Cleaned up alphabetization,
+	more consistent use of underscores.
+
 2007-10-01  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi: Updated information in Mailing Lists, Reporting
diff --git a/doc/wget.texi b/doc/wget.texi
index 0a26eb0..73259cf 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -2503,10 +2503,6 @@ Same as @samp{-A}/@samp{-R} (@pxref{Types of Files}).
 @item add_hostdir = on/off
 Enable/disable host-prefixed file names.  @samp{-nH} disables it.
 
-@item continue = on/off
-If set to on, force continuation of preexistent partially retrieved
-files.  See @samp{-c} before setting it.
-
 @item background = on/off
 Enable/disable going to background---the same as @samp{-b} (which
 enables it).
@@ -2552,15 +2548,19 @@ If this is set to off, the server certificate is not checked against
 the specified client authorities.  The default is ``on''.  The same as
 @samp{--check-certificate}.
 
+@item connect_timeout = @var{n}
+Set the connect timeout---the same as @samp{--connect-timeout}.
+
+@item continue = on/off
+If set to on, force continuation of preexistent partially retrieved
+files.  See @samp{-c} before setting it.
+
 @item convert_links = on/off
 Convert non-relative links locally.  The same as @samp{-k}.
 
 @item cookies = on/off
 When set to off, disallow cookies.  See the @samp{--cookies} option.
 
-@item connect_timeout = @var{n}
-Set the connect timeout---the same as @samp{--connect-timeout}.
-
 @item cut_dirs = @var{n}
 Ignore @var{n} remote directory components.  Equivalent to
 @samp{--cut-dirs=@var{n}}.
@@ -2597,13 +2597,13 @@ respectively.  With dot settings you can tailor the dot retrieval to
 suit your needs, or you can use the predefined @dfn{styles}
 (@pxref{Download Options}).
 
+@item dot_spacing = @var{n}
+Specify the number of dots in a single cluster (10 by default).
+
 @item dots_in_line = @var{n}
 Specify the number of dots that will be printed in each line throughout
 the retrieval (50 by default).
 
-@item dot_spacing = @var{n}
-Specify the number of dots in a single cluster (10 by default).
-
 @item egd_file = @var{file}
 Use @var{string} as the EGD socket file name.  The same as
 @samp{--egd-file=@var{file}}.
@@ -2722,7 +2722,7 @@ Turn mirroring on/off.  The same as @samp{-m}.
 @item netrc = on/off
 Turn reading netrc on or off.
 
-@item noclobber = on/off
+@item no_clobber = on/off
 Same as @samp{-nc}.
 
 @item no_parent = on/off
@@ -2781,14 +2781,14 @@ and @samp{bar}.  Equivalent to @samp{--progress=@var{string}}.
 When set, use the protocol name as a directory component of local file
 names.  The same as @samp{--protocol-directories}.
 
-@item proxy_user = @var{string}
-Set proxy authentication user name to @var{string}, like
-@samp{--proxy-user=@var{string}}.
-
 @item proxy_password = @var{string}
 Set proxy authentication password to @var{string}, like
 @samp{--proxy-password=@var{string}}.
 
+@item proxy_user = @var{string}
+Set proxy authentication user name to @var{string}, like
+@samp{--proxy-user=@var{string}}.
+
 @item quiet = on/off
 Quiet mode---the same as @samp{-q}.
 
@@ -2821,8 +2821,8 @@ Recursive on/off---the same as @samp{-r}.
 
 @item referer = @var{string}
 Set HTTP @samp{Referer:} header just like
-@samp{--referer=@var{string}}.  (Note it was the folks who wrote the
-@sc{http} spec who got the spelling of ``referrer'' wrong.)
+@samp{--referer=@var{string}}.  (Note that it was the folks who wrote
+the @sc{http} spec who got the spelling of ``referrer'' wrong.)
 
 @item relative_only = on/off
 Follow only relative links---the same as @samp{-L} (@pxref{Relative
@@ -2897,7 +2897,7 @@ Turn verbose on/off---the same as @samp{-v}/@samp{-nv}.
 Wait @var{n} seconds between retrievals---the same as @samp{-w
 @var{n}}.
 
-@item waitretry = @var{n}
+@item wait_retry = @var{n}
 Wait up to @var{n} seconds between retries of failed retrievals
 only---the same as @samp{--waitretry=@var{n}}.  Note that this is
 turned on by default in the global @file{wgetrc}.
-- 
cgit v1.0-41-gc330


From c40b95b23e1d7bc1618b254abb17b5db45bcae3c Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 11:18:21 -0700
Subject: Describe content_disposition in Texinfo manual.

---
 doc/ChangeLog |  3 ++-
 doc/wget.texi | 10 ++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

diff --git a/doc/ChangeLog b/doc/ChangeLog
index 96e85b5..783eb88 100644
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,7 +1,8 @@
 2007-10-03  Micah Cowan  <micah@cowan.name>
 
 	* wget.texi <Wgetrc Commands>: Cleaned up alphabetization,
-	more consistent use of underscores.
+	more consistent use of underscores. Added a description of the
+	content_disposition wgetrc command.
 
 2007-10-01  Micah Cowan  <micah@cowan.name>
 
diff --git a/doc/wget.texi b/doc/wget.texi
index 73259cf..3795050 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -2551,6 +2551,16 @@ the specified client authorities.  The default is ``on''.  The same as
 @item connect_timeout = @var{n}
 Set the connect timeout---the same as @samp{--connect-timeout}.
 
+@item content_disposition = on/off
+If this is set to on, experimental (not fully-functional) support for
+@samp{Content-Disposition} headers is enabled. This can currently result in
+extra round-trips to the server for a @samp{HEAD} request, which is why
+it is not currently enabled by default.
+
+This option is useful for some file-downloading CGI programs that use
+@samp{Content-Disposition} headers to describe what the name of a
+downloaded file should be.
+
 @item continue = on/off
 If set to on, force continuation of preexistent partially retrieved
 files.  See @samp{-c} before setting it.
-- 
cgit v1.0-41-gc330


From e88e599ea9c2475b8ba257e60d3f1df75535bcbe Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 11:31:55 -0700
Subject: Note missing functionality from current GnuTLS support.

---
 ChangeLog |  4 ++++
 NEWS      | 12 ++++++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 1832ba8..22fe74b 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,7 @@
+2007-10-03  Micah Cowan  <micah@cowan.name>
+
+	* NEWS: Note missing functionality from GnuTLS support.
+
 2007-09-25  Micah Cowan  <micah@cowan.name>
 
 	* configure.in: Remove unnecessary heuristic to generate exeext
diff --git a/NEWS b/NEWS
index 3393be2..ae96c0e 100644
--- a/NEWS
+++ b/NEWS
@@ -38,10 +38,14 @@ being, Content-Disposition is not used by default, to avoid the extra
 round-trips incurred (must specify "-e contentdisposition=yes"); this
 may change in a future version.
 
-** The GnuTLS library is now also supported for https downloads.
-This is still work-in-progress.  OpenSSL is still used by default; use
---with-ssl=gnutls to build with GnuTLS.  OpenSSL is still required for
-NTLM authorization to work, but this should eventually change.
+** The GnuTLS library is now also experimentally supported for https
+downloads.  This is still work-in-progress.  OpenSSL is still used by
+default; use --with-ssl=gnutls to build with GnuTLS.  OpenSSL is still
+required for NTLM authorization to work, but this should eventually
+change. NOTE: Certificate verification is _not_ currently supported:
+this means that you can currently only use GnuTLS to encrypt
+connections, but _not_ to verify that a host is who it claims to be. Use
+of OpenSSL is suggested until this missing feature is implemented.
 
 ** The new option `--ignore-case' makes Wget ignore case when
 matching files, directories, and wildcards.  This affects the -X, -I,
-- 
cgit v1.0-41-gc330


From 568caf4ae2b8d03542f4c48b2e864a6f658f2e44 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 11:33:50 -0700
Subject: NEWS: content_disposition is experimental.

---
 ChangeLog | 3 ++-
 NEWS      | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 22fe74b..46ff400 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,6 +1,7 @@
 2007-10-03  Micah Cowan  <micah@cowan.name>
 
-	* NEWS: Note missing functionality from GnuTLS support.
+	* NEWS: Note missing functionality from GnuTLS support. Call out
+	attention to content_disposition's experimental status.
 
 2007-09-25  Micah Cowan  <micah@cowan.name>
 
diff --git a/NEWS b/NEWS
index ae96c0e..318840d 100644
--- a/NEWS
+++ b/NEWS
@@ -36,7 +36,8 @@ be the maximum number of HTTP redirects to follow.
 file name used by many web dynamically generated pages. For the time
 being, Content-Disposition is not used by default, to avoid the extra
 round-trips incurred (must specify "-e contentdisposition=yes"); this
-may change in a future version.
+may change in a future version. NOTE: This functionality is currently
+considered "experimental", and may not be fully functional.
 
 ** The GnuTLS library is now also experimentally supported for https
 downloads.  This is still work-in-progress.  OpenSSL is still used by
-- 
cgit v1.0-41-gc330


From f6f77310497310bb58b3cc4c0d275dadb2120890 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 18:50:31 -0700
Subject: Add info about max_redirect rc command.

---
 doc/wget.texi | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/doc/wget.texi b/doc/wget.texi
index 3795050..a8ca840 100644
--- a/doc/wget.texi
+++ b/doc/wget.texi
@@ -2726,6 +2726,10 @@ Load cookies from @var{file}.  See @samp{--load-cookies @var{file}}.
 @item logfile = @var{file}
 Set logfile to @var{file}, the same as @samp{-o @var{file}}.
 
+@item max_redirect = @var{number}
+Specifies the maximum number of redirections to follow for a resource.
+See @samp{--max-redirect=@var{number}}.
+
 @item mirror = on/off
 Turn mirroring on/off.  The same as @samp{-m}.
 
-- 
cgit v1.0-41-gc330


From 6ccee6df12a9fcb725660d38304eb033fc8754d0 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Wed, 3 Oct 2007 18:51:55 -0700
Subject: Ignoring *.orig files, and doc/wget.pdf (preemptively).

---
 .hgignore | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/.hgignore b/.hgignore
index 48573d7..204e3b2 100644
--- a/.hgignore
+++ b/.hgignore
@@ -2,6 +2,7 @@
 # Automatically generated by `hgimportsvn`
 syntax:glob
 .svn
+**.orig
 configure
 config.log
 **Makefile
@@ -28,6 +29,7 @@ doc/wget.dvi
 doc/wget.fn
 doc/wget.ky
 doc/wget.log
+doc/wget.pdf
 doc/wget.pg
 doc/wget.toc
 doc/wget.tp
-- 
cgit v1.0-41-gc330


From 7d33170f7fb9820bf0fb44733590948b12141d69 Mon Sep 17 00:00:00 2001
From: Micah Cowan <micah@cowan.name>
Date: Thu, 4 Oct 2007 23:00:08 -0700
Subject: Hack to make -c work again without HEAD.

---
 src/http.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/http.c b/src/http.c
index 11af939..d723a31 100644
--- a/src/http.c
+++ b/src/http.c
@@ -2344,6 +2344,11 @@ http_loop (struct url *u, char **newloc, char **local_file, const char *referer,
       hstat.local_file = xstrdup (opt.output_document);
       got_name = true;
     }
+  else if (!opt.content_disposition)
+    {
+      hstat.local_file = url_file_name (u);
+      got_name = true;
+    }
 
   /* Reset the counter. */
   count = 0;
-- 
cgit v1.0-41-gc330

