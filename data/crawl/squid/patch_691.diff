@@ -534,3 +534,39 @@ helpers/log_daemon/DB/log_db_daemon.pl.in:
   This library is free software; you can redistribute it and/or modify
   it under the same terms as Perl itself, either Perl version 5.8.8 or,
   at your option, any later version of Perl 5 you may have available.
+
+==============================================================================
+
+icons/silk/:
+
+  Silk icon set 1.3
+  _________________________________________
+  Mark James
+  http://www.famfamfam.com/lab/icons/silk/
+  _________________________________________
+
+  This work is licensed under a
+  Creative Commons Attribution 2.5 License.
+  [ http://creativecommons.org/licenses/by/2.5/ ]
+
+  This means you may use it for any purpose,
+  and make any changes you like.
+  All I ask is that you include a link back
+  to this page in your credits.
+
+  Are you using this icon set? Send me an email
+  (including a link or picture if available) to
+  mjames@gmail.com
+
+  Any other questions about this icon set please
+  contact mjames@gmail.com
+
+
+  The icons can also be used under Creative Commons Attribution 3.0 License
+  (Hi Debian folks!) with the following requirements:
+
+    As an author, I would appreciate a reference to my authorship of
+    the Silk icon set contents within a readme file or equivalent
+    documentation for the software which includes the set or a subset
+    of the icons contained within. 
+
@@ -1,3 +1,22 @@
+Changes to squid-3.2.0.5 (12 Feb 2011):
+
+	- Regression Fix: profiler should not be built by default
+	- Regression Bug 3081: assertion failed: AsyncCallQueue
+	- Regression Bug 2948: Requests for FTP active downloads cause failed assertion
+	- Bug 3089: FTP command output overrides directory listing
+	- Bug 2870: --disable-auth does not work
+	- Bug 2586: multiple memory leaks during reconfigure
+	- Bug 2581: FTP directory listing sometimes fails
+	- Port from 2.7: maximum staleness limits
+	- HTTP/1.1: Support RFC 5861 Cache-Control: stale-if-error option
+	- HTTP/1.1: Support configurable status codes for deny_info
+	- Support upcoming "fresh message creation" eCAP API
+	- Aggregate SNMP responses when using SMP with multiple workers
+	- Several more Solaris, Windows and ICC support fixes
+	- ... all bug fixes and updates from 3.1.11
+	- ... and more code cleanup shufflings
+	- ... and several documentation updates
+
 Changes to squid-3.2.0.4 (22 Dec 2010):
 
 	- Port 2.x: cache_dir min-size setting
@@ -107,6 +126,27 @@ Changes to squid-3.2.0.1 (03 Aug 2010):
 	- ... and a great many testing improvements
 	- ... and many documentation updates
 
+Changes to squid-3.1.11 (08 Feb 2011):
+
+	- Bug 3149: not caching eCAP adapted body
+	- Bug 3144: redirector program blocks while reading STDIN
+	- Bug 3140: memory leak in error page generation
+	- Bug 3137: RADIUS auth helper does not send identifier to RADIUS server
+	- Bug 3115: logging segfaults if access_log is set to a directory
+	- Bug 2968: Show the Vary: headers information in cachemgr objects report
+	- Bug 2959: remove SAMBAPREFIX dependency
+	- Bug 2868: icc doesn't like string literal in assert checks
+	- HTTP/1.1: Send 307 status on deny_info redirection
+	- HTTP/1.1: Support POST/PUT with no body
+	- HTTP/1.1: Allow persistent connections for Mozilla/3.0 User-Agents
+	- Support RFC 5861 Cache-Control: stale-if-error option
+	- Add ftp_eprt directive to disable EPRT extensions in FTP
+	- Fix external_acl_type grace=0 to obey TTL
+	- Fix IP/FQDN cache accounting to avoid idle caches on busy servers
+	- Prevent pipeline_prefetch misconfigurations breaking NTLM/Negotiate auth
+	- ... and some documentation updates and corrections
+	- ... and some portability and stability fixes
+
 Changes to squid-3.1.10 (22 Dec 2010):
 
 	- Bug 3121: memory leak in DigestAuth: AuthUser object is locked twice
@@ -86,6 +86,15 @@ AC_DEFUN([SQUID_CC_GUESS_VARIANT], [
 #endif
     ]])],[squid_cv_compiler="sunstudio"],[])
   fi
+  dnl Intel CC
+  if test -z "$squid_cv_compiler" ; then
+   AC_COMPILE_IFELSE([
+    AC_LANG_PROGRAM([[
+#if !defined(__ICC)
+#error "not Intel(R) C++ Compiler"
+#endif
+    ]])],[squid_cv_compiler="icc"],[])
+  fi
   dnl end of block to be repeated
   if test -z "$squid_cv_compiler" ; then
    squid_cv_compiler="none"
@@ -122,6 +131,13 @@ AC_DEFUN([SQUID_CC_GUESS_OPTIONS], [
    squid_cv_cc_option_optimize="-fast"
    squid_cv_cc_arg_pipe=""
    ;;
+  icc) 
+   squid_cv_cxx_option_werror="-Werror"
+   squid_cv_cc_option_werror="$squid_cv_cxx_option_werror" 
+   squid_cv_cc_option_wall="-Wall"
+   squid_cv_cc_option_optimize="-O2"
+   squid_cv_cc_arg_pipe=""
+   ;;
   *) 
    squid_cv_cxx_option_werror="" 
    squid_cv_cc_option_werror="" 
@@ -30,7 +30,7 @@ find_variant()
   shift
   versions="$*"
   for version in $versions; do
-    for variant in "" "-${version}" "`echo $version | sed -e 's/\.//g'`"; do
+    for variant in "" "${version}" "-${version}" "`echo $version | sed -e 's/\.//g'`"; do
       if check_version $tool ${tool}${variant} $version; then
 	found="${variant}"
 	break
@@ -34,7 +34,7 @@
 #ifndef SQUID_OS_MSWIN_H
 #define SQUID_OS_MSWIN_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #define ACL WindowsACL
 #if defined(_MSC_VER) /* Microsoft C Compiler ONLY */
@@ -758,5 +758,5 @@ SQUIDCEXTERN size_t getpagesize(void);
 #define PRINTF_FORMAT_ARG3
 #endif
 
-#endif /* _SQUID_WIN32_ */
+#endif /* _SQUID_WINDOWS_ */
 #endif /* SQUID_OS_MSWIN_H */
@@ -33,7 +33,7 @@
 #ifndef SQUID_OS_WINDOWS_H
 #define SQUID_OS_WINDOWS_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #ifndef ACL
 #define ACL WindowsACL
@@ -45,5 +45,5 @@
 #undef _MSWIN_ACL_WAS_NOT_DEFINED
 #endif
 
-#endif /* _SQUID_WIN32_ */
+#endif /* _SQUID_WINDOWS_ */
 #endif /* SQUID_OS_WINDOWS_H */
@@ -65,16 +65,20 @@
 #elif defined(__DragonFly__)
 #define _SQUID_DRAGONFLY_ 1
 
-#elif defined(__CYGWIN32__)  || defined(__CYGWIN__)
+#elif defined(__CYGWIN32__) || defined(__CYGWIN__)
 #define _SQUID_CYGWIN_ 1
-#define _SQUID_WIN32_ 1
+#define _SQUID_WINDOWS_ 1
+
+#elif defined(__MINGW32__) || defined(__MINGW__)
+#define _SQUID_MINGW_ 1
+#define _SQUID_WINDOWS_ 1
 
 #elif defined(WIN32) || defined(WINNT) || defined(__WIN32__) || defined(__WIN32)
 /* We are using _SQUID_MSWIN_ define in cf.data.pre, so
    it must be defined to 1 to avoid the build failure of cfgen.
  */
 #define _SQUID_MSWIN_ 1
-#define _SQUID_WIN32_ 1
+#define _SQUID_WINDOWS_ 1
 
 #elif defined(__APPLE__)
 #define _SQUID_APPLE_ 1
@@ -709,7 +709,7 @@ for fs in $squid_storeio_module_candidates none; do
       if ! test "x$squid_disk_module_candidates_AIO" = "xyes"; then
         AC_MSG_ERROR([COSS requires POSIX AIO which is not available.])
       fi
-      # Automake om MinGW needs explicit exe extension
+      # Automake on MinGW needs explicit exe extension
       # for STORE_TESTS substition
       STORE_TESTS="$STORE_TESTS tests/testCoss$EXEEXT"
       ;;
@@ -993,9 +993,9 @@ AC_ARG_ENABLE(snmp,
 ])
 SQUID_DEFINE_BOOL(SQUID_SNMP,${enable_snmp:=yes},
    [Define to enable SNMP monitoring of Squid])
-AM_CONDITIONAL(USE_SNMP, [test "x$enable_snmp" = "xyes"])
+AM_CONDITIONAL(ENABLE_SNMP, [test "x$enable_snmp" = "xyes"])
 if test "x$enable_snmp" = "xyes"; then
-    SNMPLIB='../snmplib/libsnmp.a'
+    SNMPLIB='../snmplib/libsnmplib.a'
     makesnmplib=snmplib
 fi
 AC_MSG_NOTICE([SNMP support enabled: $enable_snmp])
@@ -1024,7 +1024,7 @@ AC_ARG_ENABLE(cachemgr-hostname,
 
 AC_ARG_ENABLE(eui,
   AS_HELP_STRING([--disable-eui],
-                 [Enable use of ARP / MAC/ EUI (ether address)]), [
+                 [Disable use of ARP / MAC/ EUI (ether address)]), [
 SQUID_YESNO([$enableval],[--disable-eui expects no arguments])
 ])
 if test "x${enable_eui:=yes}" = "xyes" ; then
@@ -1189,7 +1189,13 @@ AC_ARG_ENABLE(select,
   AS_HELP_STRING([--disable-select],[Disable select(2) support.]),
 [
 SQUID_YESNO($enableval,[--disable-select takes no extra argument])
-test "x$enableval" = "xyes" && squid_opt_io_loop_engine="select"
+if test "x$enableval" = "xyes"; then
+  if test "x$squid_host_os" = "xmingw"; then
+    squid_opt_io_loop_engine="select_win32"
+  else
+    squid_opt_io_loop_engine="select"
+  fi
+fi
 ])
 AC_MSG_NOTICE([enabling select syscall for net I/O: ${enable_select:=auto}])
 
@@ -1563,8 +1569,8 @@ SQUID_YESNO([$enableval],
             [unrecognized argument to --enable-auth: $enableval])
 ])
 AC_MSG_NOTICE([Authentication support enabled: ${enable_auth:=yes}])
-SQUID_DEFINE_BOOL(USE_AUTH,$enable_auth,
-   [Enable support for authentication])
+SQUID_DEFINE_BOOL(USE_AUTH,$enable_auth,[Enable support for authentication])
+AM_CONDITIONAL(ENABLE_AUTH, test "x$enable_auth" != "xno")
 AUTH_MODULES=""
 
 AC_ARG_ENABLE(auth-basic,
@@ -2056,7 +2062,7 @@ if test "x$squid_require_sasl" = "xyes"; then
       AC_MSG_ERROR(Neither SASL nor SASL2 found)
     ])
   ])
-  case "$host_os" in
+  case "$squid_host_os" in
     Darwin)
       if test "$ac_cv_lib_sasl2_sasl_errstring" = "yes" ; then
         AC_DEFINE(HAVE_SASL_DARWIN,1,[Define to 1 if Mac Darwin without sasl.h])
@@ -2213,6 +2219,7 @@ AC_HEADER_DIRENT
 AC_HEADER_STDC
 
 AC_CHECK_HEADERS( \
+  algorithm \
   arpa/inet.h \
   arpa/nameser.h \
   assert.h \
@@ -2504,6 +2511,7 @@ AC_MSG_NOTICE([libcap2 headers are ok: $squid_cv_sys_capability_works])
 dnl Check for needed libraries
 AC_SEARCH_LIBS([gethostbyname],[nsl resolv bind])
 AC_SEARCH_LIBS([res_init],[resolv])
+AC_SEARCH_LIBS([__res_search],[resolv])
 AC_SEARCH_LIBS([bind],[socket])
 AC_SEARCH_LIBS([opcom_stack_trace],[opcom_stack])
 AC_SEARCH_LIBS([strlcpy], [bsd])
@@ -3102,11 +3110,10 @@ elif test "x$enable_devpoll" != "xno" ; then
   squid_opt_io_loop_engine="devpoll"
 elif test "x$enable_poll" != "xno" -a "x$ac_cv_func_poll" = "xyes" ; then
   squid_opt_io_loop_engine="poll"
-elif test "x$enable_select" != "xno" -a "x$ac_cv_func_select" = "xyes" ; then
+elif test "x$enable_select" != "xno" -a "x$ac_cv_func_select" = "xyes"; then
   squid_opt_io_loop_engine="select"
-  if test "x$squid_host_os" = "xmingw" ; then
-    squid_opt_io_loop_engine="select_win32"
-  fi
+elif test "x$enable_select" != "xno" -a "x$squid_host_os" = "xmingw"; then
+  squid_opt_io_loop_engine="select_win32"
 else
   AC_MSG_WARN([Eep!  Cannot find epoll, kqueue, /dev/poll, poll or select!])
   AC_MSG_WARN([Will try select and hope for the best.])
@@ -3118,7 +3125,6 @@ AC_MSG_NOTICE([Using ${squid_opt_io_loop_engine} for the IO loop.])
 AM_CONDITIONAL([USE_POLL], [test $squid_opt_io_loop_engine = poll])
 AM_CONDITIONAL([USE_EPOLL], [test $squid_opt_io_loop_engine = epoll])
 AM_CONDITIONAL([USE_SELECT], [test $squid_opt_io_loop_engine = select])
-AM_CONDITIONAL([USE_SELECT_SIMPLE], [test $squid_opt_io_loop_engine = select_simple])
 AM_CONDITIONAL([USE_SELECT_WIN32], [test $squid_opt_io_loop_engine = select_win32])
 AM_CONDITIONAL([USE_KQUEUE], [test $squid_opt_io_loop_engine = kqueue])
 AM_CONDITIONAL([USE_DEVPOLL], [test $squid_opt_io_loop_engine = devpoll])
@@ -3338,6 +3344,14 @@ AC_SUBST(XTRA_LIBS)
 AC_SUBST(SQUID_CFLAGS)
 AC_SUBST(SQUID_CXXFLAGS)
 
+AC_MSG_NOTICE([BUILD LIBRARIES: $LIBS])
+AC_MSG_NOTICE([BUILD EXTRA LIBRARIES: $XTRA_LIBS])
+AC_MSG_NOTICE([BUILD OBJECTS: $OBJS])
+AC_MSG_NOTICE([BUILD EXTRA OBJECTS: $XTRA_OBJS])
+AC_MSG_NOTICE([BUILD C FLAGS: $CFLAGS])
+AC_MSG_NOTICE([BUILD EXTRA C FLAGS: $SQUID_CFLAGS])
+AC_MSG_NOTICE([BUILD C++ FLAGS: $CXXFLAGS])
+AC_MSG_NOTICE([BUILD EXTRA C++ FLAGS: $SQUID_CXXFLAGS])
 
 dnl Clean up after OSF/1 core dump bug
 rm -f core 
@@ -3352,6 +3366,7 @@ AC_CONFIG_FILES([\
 	lib/smblib/Makefile \
 	scripts/Makefile \
 	src/Makefile \
+	src/anyp/Makefile \
 	src/base/Makefile \
 	src/acl/Makefile \
 	src/fs/Makefile \
@@ -3370,6 +3385,7 @@ AC_CONFIG_FILES([\
 	src/ipc/Makefile \
 	src/ssl/Makefile \
 	src/mgr/Makefile \
+	src/snmp/Makefile \
 	contrib/Makefile \
 	snmplib/Makefile \
 	icons/Makefile \
@@ -7,7 +7,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
-"POT-Creation-Date: 2010-11-06 03:27+1400\n"
+"POT-Creation-Date: 2011-02-06 22:40+1400\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.1.10 release notes</title>
+<title>Squid 3.1.11 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.1.10
+The Squid Team are pleased to announce the release of Squid-3.1.11
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.1/"> or the <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
 
@@ -686,8 +686,8 @@ This section gives a thorough account of those changes in three categories:
 	</verb>
 
 	<tag>ftp_eprt</tag>
-	<p>New directive to control whether Squid uses EPRT extension for
-	   efficient NAT handling and IPv6 protocol support in FTP.
+	<p>New directive added with squid-3.1.11 to control whether Squid uses EPRT extension
+	   for efficient NAT handling and IPv6 protocol support in FTP.
 
 	<tag>ftp_epsv</tag>
 	<p>New directive to control whether Squid uses EPSV extension for
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.2.0.4 release notes</title>
+<title>Squid 3.2.0.5 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.2.0.4 for testing.
+The Squid Team are pleased to announce the release of Squid-3.2.0.5 for testing.
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.2/"> or the <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
 
@@ -76,8 +76,9 @@ Most user-facing changes are reflected in squid.conf (see below).
    must coordinate caching activities (in-between environments are in a gray
    area requiring case-by-case analysis).
 
-<p>Cache manager and SNMP statistics are reported from a worker point of
-   view, for now.
+<p>Cache manager statistics are reported from a worker point of view, for now.
+   Though some reports are combined. SNMP statistics are combined across all
+   workers.
 
 <p>Startup, reconfiguration, shutdown, and log rotation are handled as for a
    monolithic Squid. Abnormally terminated workers are restarted while
@@ -29,6 +29,7 @@ ERROR_TEMPLATES =  \
 	templates/ERR_FTP_PUT_ERROR \
 	templates/ERR_FTP_PUT_MODIFIED \
 	templates/ERR_FTP_UNAVAILABLE \
+	templates/ERR_GATEWAY_FAILURE \
 	templates/ERR_ICAP_FAILURE \
 	templates/ERR_INVALID_REQ \
 	templates/ERR_INVALID_RESP \
@@ -3,7 +3,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-07-26 10:33+0200\n"
 "Last-Translator: F Wolff <friedel@translate.org.za>\n"
 "Language-Team: translate-discuss-af@lists.sourceforge.net\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "'n URL vir die aangevraagde URN kon nie verkry word nie"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Toegang geweier."
@@ -145,16 +151,17 @@ msgstr "Gids: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FOUT"
 
@@ -175,15 +182,16 @@ msgstr "FOUT: Oplaai na FTP het misluk"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FOUT: Die aangevraagde URL kon nie verkry word nie"
 
@@ -237,6 +245,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Aanstuur geweier."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -246,16 +258,17 @@ msgstr "Aanstuur geweier."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gegenereer op %T deur %h (%s)"
 
@@ -476,14 +489,15 @@ msgstr "Die volgende URL kon nie opgespoor word nie: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -513,15 +527,15 @@ msgstr "Die navraag of antwoord is te groot."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Die aangevraagde URL kon nie verkry word nie"
 
@@ -574,6 +588,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -694,15 +714,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Die kasbediener se administrateur is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -3,7 +3,7 @@
 az	Azerbaijani
 bg	Bulgarian
 ca	Catalan
-cz	Czech
+cs	Czech
 da	Danish
 de	German
 el	Greek
@@ -20,7 +20,7 @@ ja	Japanese
 ko	Korean
 lt	Lithuanian
 nl	Dutch
-po	Polish
+pl	Polish
 pt	Portuguese
 ro	Romanian
 ru	Russian-1251 Russian-koi8-r
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-27 20:36+0000\n"
 "Last-Translator: MaXeR <Unknown>\n"
 "Language-Team: Arabic <ar@li.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -137,16 +143,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "خطأ"
 
@@ -167,15 +174,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -227,6 +235,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -236,16 +248,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -450,14 +463,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -482,15 +496,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -541,6 +555,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -654,15 +674,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-05 17:49+0000\n"
 "Last-Translator: Elxan İsmayılov <elxan.i@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Sorğulanan URN üçün URL ilə əlaqə yaradılmadı"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Giriş qadağandır."
@@ -150,16 +156,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "SƏHV"
 
@@ -180,15 +187,16 @@ msgstr "SƏHV: FTP yükləmə uğursuzluqla başa çatdı"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "SƏHV: Sorğulanan URL ilə əlaqə yaradılmadı"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Yönləndirmə qadağandır."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Yönləndirmə qadağandır."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -500,14 +513,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -534,15 +548,15 @@ msgstr "Sorğu və ya cavab həddən ziyadə böyükdür."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Sorğulanan URL ilə əlaqə yaradılmadı"
 
@@ -606,6 +620,16 @@ msgstr ""
 "Sibling tipli əlaqə yaratmaq cəhdinə görə keş sorğunuzu yönləndirməyəcəkdir. "
 "Güman ki, %i müştərisi tələblərə uyğun olmayan keşdir."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Bu limitlər sizin keşi idarə edən Internet xidməti provayderi tərəfindən "
+"təyin olunmuşdur. Əgər bunun səhv olduğunu düşünürsünüzsə onlarla əlaqə "
+"saxlayın."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -733,15 +757,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 #, fuzzy
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Sizin keş administratorunuz <a href=\"%w%W\">%w</a>"
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-11-29 07:32+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Недостатъчна информация за локализиране на обекта"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Отказан достъп"
@@ -151,16 +157,17 @@ msgstr "директория: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ГРЕШКА"
 
@@ -181,15 +188,16 @@ msgstr "ГРЕШКА: Неуспешен опит за качване на фа
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ГРЕШКА: Заявената страница е недостъпна."
 
@@ -243,6 +251,10 @@ msgstr "За браузер Opera идете на: <ul>"
 msgid "Forwarding Denied."
 msgstr "Пренасочването на заявката е отказано."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Пренасочването на заявката е отказано."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Генерирано на %T от %h (%s)"
 
@@ -495,14 +508,15 @@ msgstr "Следният адрес е недостъпен: <a href=\"%U\">%U</
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +543,15 @@ msgstr "Заявката или отговорът са прекалено го
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Заявеният адрес е недостъпен."
 
@@ -599,6 +613,16 @@ msgstr ""
 "сървър за клиента, от който идва заявката. Вероятно клиентът %i е неправилно "
 "конфигуриран кеш сървър."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Тези ограничения са поставени от Интернет доставчика, който администрира "
+"този кеш сървър. Ако считате това за неправилно, моля обърнете се към "
+"администратора."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Неуспешна ICAP комуникация."
@@ -736,15 +760,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Вашият кеш администратор е <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-02-04 18:35+1300\n"
 "Last-Translator: Jordi Bruguera <jordi@dns1.grn.es>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "No es pot mostrar la URN que heu sol.licitat"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acc&eacute;s no autoritzat."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -180,15 +187,16 @@ msgstr "ERROR: Ha fallat l'enviament del fitxer FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: No es pot mostrar la URL que heu sol.licitat"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Reenviament denegat."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Reenviament denegat."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -495,14 +508,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -530,15 +544,15 @@ msgstr "La petici&oacute; o la resposta s&oacute;n massa llargues."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "No es pot mostrar la URL que heu sol.licitat"
 
@@ -603,6 +617,15 @@ msgstr ""
 "est&agrave; for&ccedil;ant una connexi&oacute; a una cachegermana.  Potser "
 "que el client %i sigui una cache mal configurada."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Aquests l&iacute;mits han estat establerts pel prove&iuml;dor Internet que "
+"opera aquesta cache. Contacta amb ells si creus que es tracta d'un error."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +758,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "L'administrador d'aquesta cache &eacute;s <a href=\"mailto:%w%W\">%w</a>."
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-11-20 17:14+0000\n"
 "Last-Translator: Kuvaly <kuvaly@seznam.cz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -45,6 +45,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Nelze získat URL pro požadované URN"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Přístup odepřen."
@@ -148,16 +154,17 @@ msgstr "Adresář: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "CHYBA"
 
@@ -178,15 +185,16 @@ msgstr "CHYBA: Selhalo nahrávání na FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "CHYBA: Nelze získat požadované URL"
 
@@ -241,6 +249,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -250,16 +262,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -492,14 +505,15 @@ msgstr "Požadovaný dokument na adrese: <a href=\"%U\">%U</a> nebyl nalezen."
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -525,15 +539,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Požadovaný dokument je nedostupný"
 
@@ -595,6 +609,15 @@ msgstr ""
 "hierarchické struktuře cache serverů. %i je pravděpodobně chybně "
 "nakonfigurovaný cache server."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Tento limit byl nastaven administrátorem této cache. Pokud si myslíte, že je "
+"potřeba tyto limity změnit, kontaktujte ho."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +743,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2008-11-07 17:17+1300\n"
 "Last-Translator: Morten S. Nielsen <mortensn@geocities.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL for den angivne URN kunne ikke hentes"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Adgang N&aelig;gtet."
@@ -146,16 +152,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEJL"
 
@@ -177,15 +184,16 @@ msgstr "FEJL: FTP upload fejlede"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEJL: Den angivne URL kunne ikke hentes"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Videresendelse N&aelig;gtet."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "Videresendelse N&aelig;gtet."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -484,14 +497,15 @@ msgstr "Den f&oslash;gende URL kunne ikke hentes: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -519,15 +533,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Den angivne URL kunne ikke hentes"
 
@@ -588,6 +602,12 @@ msgstr ""
 "ver at opretholde et s&oslash;skendeforhold. M&aring;ske er klienten "
 "p&aring; %i en fejlkonfigureret cache."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +740,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-06-10 10:13+0200\n"
 "Last-Translator: Robert Förster <Dessa@gmake.de>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,6 +48,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Eine URL für den angeforderten URN konnte nicht gefunden werden"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Zugriff verweigert."
@@ -151,16 +157,17 @@ msgstr "Verzeichnis: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEHLER"
 
@@ -181,15 +188,16 @@ msgstr "FEHLER: FTP Upload fehlgeschlagen"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEHLER: Die angeforderte URL konnte nicht gefunden werden"
 
@@ -243,6 +251,10 @@ msgstr "Für Opera Browser gehen sie zu: <ul>"
 msgid "Forwarding Denied."
 msgstr "Weiterleitung verweigert."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Weiterleitung verweigert."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Erzeugt am %T von %h (%s)"
 
@@ -489,14 +502,15 @@ msgstr "Die folgende URL konnte nicht gefunden werden: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -527,15 +541,15 @@ msgstr "Die Anfrage oder Antwort ist zu lang."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Die angeforderte URL konnte nicht gefunden werden"
 
@@ -596,6 +610,16 @@ msgstr ""
 "Geschwisterverhältnis zu erzwingen. Warscheinlich ist der Client auf %i ein "
 "Cache der falsch konfiguriert wurde."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Diese Einschränkungen wurden vom Internetdienstanbieter eingerichtet der "
+"diesen Cache betreibt. Bitte kontaktieren sie ihn falls sie denken, dass "
+"dies ein Fehler ist."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Das heißt, dass etwas mit der ICAP Kommunikation nicht stimmt."
@@ -741,15 +765,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Ihr Cache Administrator ist <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-02-25 14:35+1300\n"
 "Last-Translator: George Papamichelakis <george@step.gr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Δεν βρέθηκε διεύθυνση για το ζητούμενο όνομα"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Απαγορεύεται η Πρόσβαση."
@@ -150,16 +156,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ΣΦΑΛΜΑ"
 
@@ -181,15 +188,16 @@ msgstr "ΣΦΑΛΜΑ: Η μεταφόρτωση FTP απέτυχε"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ΣΦΑΛΜΑ: Αδύνατη η πρόσβαση στην αιτούμενη διεύθυνση"
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Απαγορεύεται η προώθηση."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Απαγορεύεται η προώθηση."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -501,14 +514,15 @@ msgstr "Η ακόλουθη διεύθυνση δεν βρέθηκε: <a href=\"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -536,15 +550,15 @@ msgstr "Το αίτημα ή η απάντηση είναι υπερμεγέθη
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 #, fuzzy
 msgid "The requested URL could not be retrieved"
 msgstr "Αδύνατη η πρόσβαση στην αιτούμενη διεύθυνση"
@@ -610,6 +624,16 @@ msgstr ""
 "συγγενική σχέση. Ίσως ο πελάτης στο %i είναι ένας μεσολαβητής ο οποίος δεν "
 "είναι σωστά ρυθμισμένος."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Τα όρια αυτά καθορίζονται από τον Παροχέα Υπηρεσιών Διαδικτύου που "
+"λειτουργεί αυτή την υπηρεσία. Παρακαλώ επικοινωνήστε μαζί τους αν νομίζετε "
+"οτι αυτό είναι λάθος."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -742,15 +766,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "Ο διαχειριστής του μεσολαβητή σας είναι ο <a href=\"mailto:%w%W\">%w</a>."
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-11-24 13:00+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -46,6 +46,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "A URL for the requested URN could not be retrieved"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Access Denied."
@@ -152,16 +158,17 @@ msgstr "Directory: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -182,15 +189,16 @@ msgstr "ERROR: FTP upload failed"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: The requested URL could not be retrieved"
 
@@ -242,6 +250,10 @@ msgstr "For Opera browsers go to: <ul>"
 msgid "Forwarding Denied."
 msgstr "Forwarding Denied."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Forwarding Denied."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generated %T by %h (%s)"
 
@@ -490,14 +503,15 @@ msgstr "The following URL could not be retrieved: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -526,15 +540,15 @@ msgstr "The request or reply is too large."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "The requested URL could not be retrieved"
 
@@ -595,6 +609,16 @@ msgstr ""
 "sibling relationship. Perhaps the client at %i is a cache which has been "
 "misconfigured."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"These limits have been established by the Internet Service Provider who "
+"operates this cache. Please contact them directly if you feel this is an "
+"error."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "This means that some aspect of the ICAP communication failed."
@@ -734,15 +758,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -4,7 +4,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -15,7 +15,7 @@ msgstr ""
 "#-#-#-#-#  ERR_AGENT_CONFIGURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -26,7 +26,7 @@ msgstr ""
 "#-#-#-#-#  ERR_AGENT_WPAD.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -37,7 +37,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CACHE_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,7 +48,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CACHE_MGR_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -59,7 +59,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CANNOT_FORWARD.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -70,7 +70,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CONNECT_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -81,7 +81,7 @@ msgstr ""
 "#-#-#-#-#  ERR_DIR_LISTING.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -92,7 +92,7 @@ msgstr ""
 "#-#-#-#-#  ERR_DNS_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -103,7 +103,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ESI.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -114,7 +114,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FORWARDING_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -125,7 +125,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_DISABLED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -136,7 +136,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -147,7 +147,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_FORBIDDEN.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -158,7 +158,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_NOT_FOUND.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -169,7 +169,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_CREATED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -180,7 +180,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -191,7 +191,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_MODIFIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -202,7 +202,18 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_UNAVAILABLE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
+"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Generator: Translate Toolkit 1.7.0\n"
+"#-#-#-#-#  ERR_GATEWAY_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
+"Project-Id-Version: Squid-3\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -213,7 +224,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ICAP_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -224,7 +235,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_REQ.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -235,7 +246,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_RESP.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -246,7 +257,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_URL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -257,7 +268,7 @@ msgstr ""
 "#-#-#-#-#  ERR_LIFETIME_EXP.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -268,7 +279,7 @@ msgstr ""
 "#-#-#-#-#  ERR_NO_RELAY.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -279,7 +290,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ONLY_IF_CACHED_MISS.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -290,7 +301,7 @@ msgstr ""
 "#-#-#-#-#  ERR_PRECONDITION_FAILED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -301,7 +312,7 @@ msgstr ""
 "#-#-#-#-#  ERR_READ_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -312,7 +323,7 @@ msgstr ""
 "#-#-#-#-#  ERR_READ_TIMEOUT.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -323,7 +334,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SECURE_CONNECT_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -334,7 +345,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SHUTTING_DOWN.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -345,7 +356,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SOCKET_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -356,7 +367,7 @@ msgstr ""
 "#-#-#-#-#  ERR_TOO_BIG.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -367,7 +378,7 @@ msgstr ""
 "#-#-#-#-#  ERR_UNSUP_HTTPVERSION.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -378,7 +389,7 @@ msgstr ""
 "#-#-#-#-#  ERR_UNSUP_REQ.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -389,7 +400,7 @@ msgstr ""
 "#-#-#-#-#  ERR_URN_RESOLVE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -400,7 +411,7 @@ msgstr ""
 "#-#-#-#-#  ERR_WRITE_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -411,7 +422,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ZERO_SIZE_OBJECT.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -446,6 +457,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -539,16 +556,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -569,15 +587,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -629,6 +648,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -638,16 +661,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -852,14 +876,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -884,15 +909,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -943,6 +968,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -1056,15 +1087,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-03-06 00:14+0000\n"
 "Last-Translator: juancarlospaco <juancarlospaco@hotmail.com>\n"
 "Language-Team: Spanish <es@li.org>\n"
@@ -52,6 +52,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "No se ha podido obtener una URL para el URN solicitado"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acceso Denegado"
@@ -156,16 +162,17 @@ msgstr "Directorio: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -186,15 +193,16 @@ msgstr "ERROR: falla en envio FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: El URL solicitado no se ha podido conseguir"
 
@@ -246,6 +254,10 @@ msgstr "Para navegadores Opera vaya a:"
 msgid "Forwarding Denied."
 msgstr "Reenv&iacute;o denegado."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -255,16 +267,17 @@ msgstr "Reenv&iacute;o denegado."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generado %T por %h (%s)"
 
@@ -507,14 +520,15 @@ msgstr "El siguiente URL no pudo ser obtenido: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -545,15 +559,15 @@ msgstr "La petición o la respuesta es demasiado larga."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "El URL solicitado no se ha podido conseguir"
 
@@ -613,6 +627,16 @@ msgstr ""
 "Este caché no transmitirá su solicitud, ya que intenta imponer una relación "
 "de conexión. Quizás el cliente en% i es un caché que se ha desconfigurado."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Estos límites han sido establecidos por el proveedor de servicios de "
+"Internet que opera este caché. Por favor, comuníquese con ellos directamente "
+"si cree que esto es un error"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Esto significa que falló algún aspecto de la comunicación ICAP."
@@ -761,15 +785,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Su administrador del cach&eacute; es <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-29 22:14+0000\n"
 "Last-Translator: Tanel Kurvits <Unknown>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "P&auml;ring URNile ei saa vastust"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Juurdep&auml;&auml;s keelatud."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "VIGA"
 
@@ -179,15 +186,16 @@ msgstr "VIGA: FTP PUT eba&otilde;nnestus"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "VIGA: P&auml;ring URLile ei saa vastust"
 
@@ -242,6 +250,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Edastamine keelatud."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Edastamine keelatud."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -497,14 +510,15 @@ msgstr "URLi <a href=\"%U\">%U</a> ei &otilde;nnestu lugeda"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 #, fuzzy
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
@@ -538,15 +552,15 @@ msgstr "Päring või vastus on liiga suur."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "P&auml;ring URLile ei saa vastust"
 
@@ -612,6 +626,16 @@ msgstr ""
 "edastamisel ainult naaber vahemälu serverite meetodit. Ilmselt on %i "
 "vigaselt konfigureeritud vahemälu server."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Need piirangus on seadnud teie teenusepakkuja, keshaldab seda vahemälu "
+"serverit. Kui te arvate, et tegemist on veaga, kontakteeruge palun otse oma "
+"teenusepakkujaga."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -743,15 +767,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Teie teenusepakkuja aadress on <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-06-07 23:05+0330\n"
 "Last-Translator: Mohsen Saeedi <mohsen.saeedi@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "آدرسی برای URN درخواست شده موجود نبود."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "دسترسی رد شد."
@@ -145,16 +151,17 @@ msgstr "مسیر: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "خطا"
 
@@ -175,15 +182,16 @@ msgstr "خطا: بارگذاری روی FTP با موفقیت همراه نبو
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "خطا: آدرس درخواست شده را نمی‌توانست دریافت شود"
 
@@ -238,6 +246,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "امکان Forward بسته شده است."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -247,16 +259,17 @@ msgstr "امکان Forward بسته شده است."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%T توسط %h(%s) تولید شد."
 
@@ -472,14 +485,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -504,15 +518,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -563,6 +577,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -676,15 +696,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-19 17:55+1300\n"
 "Last-Translator: Panu H_llfors <panupa@iki.fi>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pääsy evätty."
@@ -143,16 +149,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "VIRHE"
 
@@ -173,15 +180,16 @@ msgstr "VIRHE: FTP lähetys epäonnistui"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "VIRHE: Pyydettyä URL-osoitetta ei voitu hakea"
 
@@ -236,6 +244,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Edelleenohjaus evätty."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -245,16 +257,17 @@ msgstr "Edelleenohjaus evätty."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -482,14 +495,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -515,15 +529,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Pyydettyä URL-osoitetta ei voitu hakea"
 
@@ -581,6 +595,12 @@ msgstr ""
 "sisarsuhdetta. Ehkä asiakas osoitteessa %i on väärin konfiguroitu "
 "välityspalvelin."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -710,15 +730,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 #, fuzzy
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Välityspalvelintasi ylläpitää <a href=\"mailto:%w%W\">%w</a>."
@@ -2,8 +2,8 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
-"PO-Revision-Date: 2010-11-17 19:36+0200\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
+"PO-Revision-Date: 2011-02-24 19:27+0200\n"
 "Last-Translator: Bernard <fli4l.charrier@free.fr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
 "Language: fr\n"
@@ -47,6 +47,14 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "En utilisant URN, la requête URL n'a pas pu être chargée."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+"Une défaillance interne non-récupérable ou un problème de configuration "
+"empêchent cette requête de s'achever."
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accès interdit."
@@ -106,7 +114,7 @@ msgid ""
 "has failed."
 msgstr ""
 "Au moins une précondition indiquée dans l'en-tête de la requête du client "
-"HTTP  a échoué."
+"HTTP a échoué."
 
 #: templates/ERR_CACHE_ACCESS_DENIED:3 templates/ERR_CACHE_ACCESS_DENIED:5
 msgid "Cache Access Denied."
@@ -132,16 +140,16 @@ msgstr "La connexion %I a échouée."
 #: templates/ERR_INVALID_REQ:10
 msgid "Content-Length missing for POST or PUT requests."
 msgstr ""
-"Le champ \"Content-Length\" est absent, pour l'utilisation des requêtes POST "
-"ou PUT"
+"Le champ \"Content-Length\" est absent, pour l'utilisation des requêtes avec "
+"POST ou PUT"
 
 #: templates/ERR_DIR_LISTING:3
 msgid "Directory Content:"
 msgstr "Contenu du Répertoire :"
 
 #: templates/ERR_DIR_LISTING:4
 msgid "Directory Listing"
-msgstr "Listing du Répertoire"
+msgstr "Liste du répertoire"
 
 #: templates/ERR_DIR_LISTING:1
 msgid "Directory: %U"
@@ -158,16 +166,17 @@ msgstr "Répertoire : <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERREUR"
 
@@ -188,15 +197,16 @@ msgstr "ERREUR : envoi FTP défectueux"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERREUR : l'URL demandée n'a pas pu être chargée"
 
@@ -210,19 +220,19 @@ msgstr "Le traitement ESI a échoué."
 
 #: templates/ERR_FTP_PUT_CREATED:1 templates/ERR_FTP_PUT_MODIFIED:1
 msgid "FTP PUT Successful."
-msgstr "FTP PUT envoi du fichier réussi."
+msgstr "FTP avec PUT, envoi du fichier réussi."
 
 #: templates/ERR_FTP_PUT_ERROR:3
 msgid "FTP PUT upload failed"
-msgstr "FTP PUT échec à l'envoi du fichier"
+msgstr "FTP avec PUT, échec lors de l'envoi du fichier"
 
 #: templates/ERR_FTP_DISABLED:5
 msgid "FTP is Disabled"
 msgstr "FTP est désactivé"
 
 #: templates/ERR_SECURE_CONNECT_FAIL:5
 msgid "Failed to establish a secure connection to %I"
-msgstr "Il n'a pas été possible d'établir d'une connexion sécurisée vers %I"
+msgstr "Il n'a pas été possible d'établir une connexion sécurisée vers %I"
 
 #: templates/ERR_FTP_PUT_CREATED:3
 msgid "File created"
@@ -242,14 +252,17 @@ msgstr "Pour configurer Firefox, allez à : <ul>"
 msgid "For Internet Explorer browsers go to: <ul>"
 msgstr "Pour configurer Internet Explorer, allez à : <ul>"
 
-# Suggestion2 ok
 #: templates/ERR_AGENT_CONFIGURE:12 templates/ERR_AGENT_WPAD:11
 msgid "For Opera browsers go to: <ul>"
 msgstr "Pour configurer Opéra, allez à : <ul>"
 
 #: templates/ERR_FORWARDING_DENIED:5
 msgid "Forwarding Denied."
-msgstr "Retransmission interdite."
+msgstr "Transmission interdite."
+
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr "Défaillance de la passerelle Proxy"
 
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
@@ -260,23 +273,24 @@ msgstr "Retransmission interdite."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Générer le %T en %h (%s)"
 
 #: templates/ERR_INVALID_REQ:12
 msgid ""
 "HTTP/1.1 <q>Expect:</q> feature is being asked from an HTTP/1.0 software."
-msgstr "HTTP/1.1 <q>Expect:</ q> cette fonction a besoin du logiciel HTTP/1.0."
+msgstr "HTTP/1.1 <q>Expect:</q> cette fonction a besoin du logiciel HTTP/1.0."
 
 #: templates/ERR_URN_RESOLVE:6
 msgid "Hey, don't expect too much from URNs on %T :)"
@@ -297,15 +311,15 @@ msgid ""
 "If you are making a GET request, then the item you are trying to download is "
 "too large."
 msgstr ""
-"Si vous effectuez une requête GET, l'élément que vous essayez de télécharger "
-"est alors trop volumineux."
+"Si vous effectuez une requête avec GET, l'élément que vous essayez de "
+"télécharger est alors trop volumineux."
 
 #: templates/ERR_TOO_BIG:6
 msgid ""
 "If you are making a POST or PUT request, then the item you are trying to "
 "upload is too large."
 msgstr ""
-"Si vous effectuez une requête POST ou PUT, l'élément que vous essayez "
+"Si vous effectuez une requête avec POST ou PUT, l'élément que vous essayez "
 "d'envoyer est alors trop volumineux."
 
 #: templates/ERR_INVALID_REQ:11 templates/ERR_INVALID_URL:11
@@ -322,8 +336,8 @@ msgstr "Les double espaces ne sont pas valides dans une adresse URL"
 #: templates/ERR_AGENT_CONFIGURE:14
 msgid "In the HTTP proxy box type the proxy name %h and port 3128."
 msgstr ""
-"Dans l'onglet proxy HTTP, vous devez indiquer le chemin du proxy %h et le "
-"port 3128"
+"Vous devez indiquer le nom du proxy %h et le port 3128 dans l'onglet proxy "
+"du HTTP"
 
 #: templates/ERR_INVALID_URL:5
 msgid "Invalid URL"
@@ -370,9 +384,10 @@ msgid ""
 "have difficulties authenticating yourself or <a href=\"http://%h/cgi-bin/"
 "chpasswd.cgi\">change</a> your default password."
 msgstr ""
-"S'il vous plait, contacter <a href=\"mailto:%w%W\">administrateur du proxy</"
-"a> si vous avez des difficultés pour vous authentifier ou pour <a href="
-"\"http://%h/cgi-bin/chpasswd.cgi\">changez</a> votre mot de passe par défaut."
+"S'il vous plait, contacter <a href=\"mailto:%w%W\">l'administrateur du "
+"proxy</a> si vous avez des difficultés pour vous authentifier ou pour <a "
+"href=\"http://%h/cgi-bin/chpasswd.cgi\">changez</a> votre mot de passe par "
+"défaut."
 
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:7
 msgid ""
@@ -381,9 +396,9 @@ msgid ""
 "administrator, read Squid documentation on cache manager interface and check "
 "cache log for more detailed error messages."
 msgstr ""
-"S'il vous plait, contacter <a href=\"mailto:%w%W\">administrateur du proxy</"
-"a> si vous avez des difficultés pour vous authentifier ou si vous <em>êtes</"
-"em> l'administrateur, lisez la documentation Squid sur l'interface du "
+"S'il vous plait, contacter <a href=\"mailto:%w%W\">l'administrateur du "
+"proxy</a> si vous avez des difficultés pour vous authentifier ou si vous "
+"<em>êtes</em> administrateur, lisez la documentation Squid de l'interface du "
 "gestionnaire de cache, vérifiez aussi les fichiers logs du gestionnaire "
 "cache pour analyser en détails les messages d'erreurs."
 
@@ -405,7 +420,7 @@ msgstr "La requête est trop volumineuse"
 
 #: templates/ERR_AGENT_WPAD:10
 msgid "Select Automatically detect settings"
-msgstr "Sélectionnez détection automatique les paramètres"
+msgstr "Sélectionnez la détection automatique des paramètres"
 
 #: templates/ERR_AGENT_WPAD:13
 msgid "Select Use Automatic proxy configuration"
@@ -442,16 +457,16 @@ msgstr ""
 
 #: templates/ERR_ZERO_SIZE_OBJECT:6
 msgid "Squid did not receive any data for this request."
-msgstr "Squid n'a reçu toutes les données pour cette requête."
+msgstr "Squid n'a pas reçu toutes les données pour cette requête."
 
 #: templates/ERR_UNSUP_REQ:6
 msgid ""
 "Squid does not support all request methods for all access protocols. For "
 "example, you can not POST a Gopher request."
 msgstr ""
-"Squid ne prend pas en charge tout les types de requêtes par rapport à tous "
-"les protocoles d'accès. Vous ne pouvez pas par exemple utiliser le protocole "
-"POST dans une requête Gopher."
+"Squid ne prend pas en charge tous les types de requêtes par rapport à tous "
+"les protocoles d'accès. Vous ne pouvez pas par exemple utiliser une requête "
+"POST avec le protocole Gopher."
 
 #: templates/ERR_LIFETIME_EXP:6
 msgid ""
@@ -465,7 +480,7 @@ msgid ""
 "Squid is unable to create a TCP socket, presumably due to excessive load. "
 "Please retry your request."
 msgstr ""
-"Squid n'est pas en mesure d'ouvrir une socket TCP, probablement due à une "
+"Squid n'est pas en mesure d'ouvrir le socket TCP, probablement due à une "
 "surcharge. Veuillez renouveler votre requête."
 
 #: templates/ERR_FTP_FAILURE:5 templates/ERR_FTP_FORBIDDEN:5
@@ -485,16 +500,16 @@ msgstr "Le processeur ESI a répondu :"
 #: templates/ERR_FTP_UNAVAILABLE:4
 msgid "The FTP server was too busy to retrieve the URL: <a href=\"%U\">%U</a>"
 msgstr ""
-"Le serveur FTP était surchargé et ne permettent pas l'accès à l'URL : <a "
-"href=\"%U\">%U</a>"
+"Le serveur FTP est surchargé et ne permet pas d'accéder à l'URL : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_INVALID_RESP:5
 msgid ""
 "The HTTP Response message received from the contacted server could not be "
 "understood or was otherwise malformed. Please contact the site operator."
 msgstr ""
-"Le message reçu par le serveur HTTP contacté, n'a pas pu être compris ou a "
-"été mal formulé. Veuillez contacter le responsable du site."
+"La réponse HTTP reçu, qui a été envoyée par le serveur n'a pas pu être "
+"compris ou a été mal formulé. Veuillez contacter le responsable du site."
 
 #: templates/ERR_ICAP_FAILURE:9
 msgid "The ICAP server is not reachable."
@@ -508,28 +523,29 @@ msgstr "L'URL suivante n'a pas pu être chargée : <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
 msgstr ""
-"En essayant d'accéder à l'URL <a href=\"%U\">%U</a> l'erreur suivante a été "
-"rencontrée :"
+"L'erreur suivante s'est produite en essayant d'accéder à l'URL : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_URN_RESOLVE:4
 msgid ""
 "The following error was encountered while trying to retrieve the URN: <a "
 "href=\"%U\">%U</a>"
 msgstr ""
-"En essayant d'accéder à l'URN <a href=\"%U\">%U</a> l'erreur suivante a été "
-"rencontrée :"
+"l'erreur suivante s'est produite en essayant d'accéder à l'URN : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_CONNECT_FAIL:7
 msgid "The remote host or network may be down. Please try the request again."
@@ -546,15 +562,15 @@ msgstr "La requête ou la réponse est trop volumineuse."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "L'URL demandée n'a pas pu être trouvé"
 
@@ -615,6 +631,15 @@ msgstr ""
 "application une interaction. Le client %i est peut-être un cache mal "
 "configuré."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ces limites ont été fixées par le Fournisseur d'Accès Internet et agissent "
+"sur ce proxy. Si vous pensez que c'est une erreur, contactez le fournisseur "
+"d'accès."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Cela signifie que certains aspects de la communication ICAP a échoués."
@@ -625,7 +650,7 @@ msgid ""
 "file. Check the path, permissions, diskspace and try again."
 msgstr ""
 "Cela signifie que le serveur FTP n'a pas les autorisations ou pas assez "
-"d'espace pour stocker ce fichier. Veuillez vérifier l'emplacement, les "
+"d'espace pour stocker ce fichier. Veuillez vérifier le chemin, les "
 "autorisations et l'espace disque puis essayez de nouveau."
 
 #: templates/ERR_DNS_FAIL:7
@@ -654,9 +679,9 @@ msgid ""
 "comply with RFC 1738). If this is the cause, then the file can be found at "
 "<a href=\"%B\">%B</a>."
 msgstr ""
-"Cela pourrait être causé par une URL FTP qui contient les chemins absolus "
-"(ce qui n'est pas compatible avec la RFC 1738). Si tel est le cas, le "
-"fichier peut être disponible à l'adresse <a% href=\\\"%B\\\"> B </ a>."
+"Cela pourrait être causé par une URL FTP qui contient un chemin absolut (ce "
+"qui n'est pas compatible avec la RFC 1738). Si tel est le cas, le fichier "
+"peut être disponible à l'adresse <a href=\"%B\">%B</a>."
 
 #: templates/ERR_SECURE_CONNECT_FAIL:7
 msgid ""
@@ -666,7 +691,7 @@ msgid ""
 "the host security credentials."
 msgstr ""
 "Ce proxy et l'hôte distant n'ont pas pu négocier mutuellement une connexion "
-"de sécurité pour le traitement de votre requête. Il est possible que l'hôte "
+"sécurisée pour le traitement de votre requête. Il est possible que l'hôte "
 "distant ne supporte pas les connexions sécurisées, ou que le proxy n'est pas "
 "satisfait du certificat de sécurité de l'hôte distant."
 
@@ -721,8 +746,8 @@ msgid ""
 "Valid document was not found in the cache and <q>only-if-cached</q> "
 "directive was specified."
 msgstr ""
-"Aucun document valide n'a été trouvé dans le cache et la directive <q>only-"
-"if-cached</q> a été spécifiée."
+"Aucun document valide n'a été trouvé dans le cache, de plus la directive "
+"<q>only-if-cached</q> a été spécifiée."
 
 #: templates/ERR_AGENT_CONFIGURE:1 templates/ERR_AGENT_CONFIGURE:3
 #: templates/ERR_AGENT_WPAD:1 templates/ERR_AGENT_WPAD:3
@@ -757,17 +782,18 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
-msgstr "Votre administrateur proxy est <a href=\"mailto:%w\">%w</a>."
+msgstr "Votre administrateur proxy est <a href=\"mailto:%w%W\">%w</a>."
 
 #: templates/ERR_INVALID_RESP:6
 msgid ""
@@ -783,7 +809,7 @@ msgstr "Votre webmaster est <a href=\"mailto:%w\">%w</a>."
 
 #: templates/ERR_ZERO_SIZE_OBJECT:5
 msgid "Zero Sized Reply"
-msgstr "Réponse de longueur nulle"
+msgstr "Réponse de taille zéro"
 
 #~ msgid "ERROR: The requested URN not be retrieved"
 #~ msgstr "ERREUR : L'URN demandée n'a pu être chargée"
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-07 15:11+1300\n"
 "Last-Translator: yoav <yoavb@zavit.net.il>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "הגישה נדחית"
@@ -143,16 +149,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "שגיאה"
 
@@ -173,15 +180,16 @@ msgstr "שגיאה: העלאת קובץ ל-FTP נכשלה"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "שגיאה: הכתובת המבוקשת לא נגישה"
 
@@ -236,6 +244,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "העברה נדחית."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -245,16 +257,17 @@ msgstr "העברה נדחית."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -480,14 +493,15 @@ msgstr "לא ניתן לגשת אל הכתובת הנ\"ל: <a href=\"%U\">%U</a>
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -513,15 +527,15 @@ msgstr "הבקשה או התשובה גדולים מדי."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "לא ניתן לגשת אל הכתובת המבוקשת"
 
@@ -581,6 +595,15 @@ msgstr ""
 "השרת לא יעביר את בקשתך בגלל שהיא מנסה לחייב קשרי ילדים. אולי הלקוח ב %i הוא "
 "שרת פרוקסי שלא הוגדר נכון."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"הגבלות אלו הוצבו ע\"י ספק האינטרנט אשר מתחזק שרת זה. אנא צור עמם רשק אם "
+"לדעתך זוהי טעות."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -700,15 +723,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "מנהל השרת הוא <a href=\"mailto:%w%W\">%w</a>. "
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-09-30 09:51+0000\n"
 "Last-Translator: Muszela Balázs <bazsi86@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Az URN egy URL-je nem tölthető le"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Hozzáférés megtagadva."
@@ -147,16 +153,17 @@ msgstr "FTP Könyvtár: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "HIBA"
 
@@ -177,15 +184,16 @@ msgstr "HIBA: FTP feltöltési hiba"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "HIBA: A kért URL nem tölthető le"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Kéréstovábbítás megtagadva."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "Kéréstovábbítás megtagadva."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -496,14 +509,15 @@ msgstr "Az alábbi URL nem tölthető le: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -531,15 +545,15 @@ msgstr "A kérés vagy a válasz túl nagy méretű."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A kért URL nem tölthető le"
 
@@ -603,6 +617,16 @@ msgstr ""
 "szeretne kierőszakolni a klienstől. Feltehetőleg a kliens (%i) egy olyan "
 "cache szerver, amelyik félre lett konfigurálva."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"A cache-t működtető Internet szolgáltató vezette be ezeket a korlátozásokat. "
+"Kérjük, forduljon közvetlenül szolgáltatójához amennyiben a szerver "
+"helytelen beállításában látja a hiba okát."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,16 +2,16 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
-"PO-Revision-Date: 2010-08-21 17:08+0200\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
+"PO-Revision-Date: 2011-01-20 21:35+0200\n"
 "Last-Translator: Arthur <arthurtumanyan@yahoo.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
 "Language: hy\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=1; plural=0;\n"
-"X-Generator: Pootle 2.0.1\n"
+"X-Generator: Pootle 2.0.5\n"
 
 #: templates/ERR_DIR_LISTING:6
 msgid "<a href=\"../\">Parent Directory</a> (<a href=\"/\">Root Directory</a>)"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Պահանջվող URN-ի համար URL-ն հնարավոր չէ ստանալ"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Մուտքն արգելված է."
@@ -100,7 +106,7 @@ msgstr ""
 msgid ""
 "At least one precondition specified by the HTTP client in the request header "
 "has failed."
-msgstr ""
+msgstr "HTTP հարցումի նախապայմաններից առնվազն մեկը անհնար է մշակել"
 
 #: templates/ERR_CACHE_ACCESS_DENIED:3 templates/ERR_CACHE_ACCESS_DENIED:5
 msgid "Cache Access Denied."
@@ -112,17 +118,16 @@ msgid "Cache Manager Access Denied."
 msgstr "Քեշի կառավառման մուտքն արգելված է."
 
 #: templates/ERR_URN_RESOLVE:5
-#, fuzzy
 msgid "Cannot Resolve URN"
-msgstr "Cannot Resolve URN"
+msgstr "Չհաջողվեց մշակել URN հարցումը"
 
 #: templates/ERR_LIFETIME_EXP:5
 msgid "Connection Lifetime Expired"
 msgstr "Կապի հաստատման ժամանակը սպառվեց"
 
 #: templates/ERR_CONNECT_FAIL:5
 msgid "Connection to %I failed."
-msgstr ""
+msgstr "Չհաջողվեց կապ հաստատել %I -ի հետ"
 
 #: templates/ERR_INVALID_REQ:10
 msgid "Content-Length missing for POST or PUT requests."
@@ -134,7 +139,7 @@ msgstr "Դիրեկտորիայի պարունակությունը:"
 
 #: templates/ERR_DIR_LISTING:4
 msgid "Directory Listing"
-msgstr ""
+msgstr "Դիրեկտորիայի պարունակությունը"
 
 #: templates/ERR_DIR_LISTING:1
 msgid "Directory: %U"
@@ -151,16 +156,17 @@ msgstr "Դիրեկտորիա: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ՍԽԱԼ"
 
@@ -181,15 +187,16 @@ msgstr "ՍԽԱԼ; FTP upload գործողությունը խափանվեց"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ՍԽԱԼ: Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
@@ -199,7 +206,7 @@ msgstr "ՍԽԱԼ: Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
 #: templates/ERR_ESI:5
 msgid "ESI Processing failed."
-msgstr ""
+msgstr "Չհաջողվեց մշակել ESI հարցումը"
 
 #: templates/ERR_FTP_PUT_CREATED:1 templates/ERR_FTP_PUT_MODIFIED:1
 msgid "FTP PUT Successful."
@@ -241,6 +248,10 @@ msgstr "Opera բրաուզերի համար այցելեք: <ul>"
 msgid "Forwarding Denied."
 msgstr "Վերահասցեագրումն արգելված է."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -250,16 +261,17 @@ msgstr "Վերահասցեագրումն արգելված է."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Ստեղծված է %T by %h (%s)"
 
@@ -281,25 +293,19 @@ msgstr "Ինչպես փնտրել այս կարգաբերումները քո բ
 
 #: templates/ERR_ICAP_FAILURE:5
 msgid "ICAP protocol error."
-msgstr ""
+msgstr "ICAP արձանարության սխալ"
 
 #: templates/ERR_TOO_BIG:7
-#, fuzzy
 msgid ""
 "If you are making a GET request, then the item you are trying to download is "
 "too large."
-msgstr ""
-"Եթե Դուք GET հարցում եք ձևակերպում, ապա տարրը ,որը Դուք փորձում եք "
-"բեռնավորել, շատ մեծ ծավալ ունի."
+msgstr "GET հարցման օբյեկտը շատ մեծ ծավալ ունի."
 
 #: templates/ERR_TOO_BIG:6
-#, fuzzy
 msgid ""
 "If you are making a POST or PUT request, then the item you are trying to "
 "upload is too large."
-msgstr ""
-"Եթե Դուք POST կամ PUT  հարցում եք ձևակերպում, ապա տարրը ,որը Դուք փորձում եք "
-"բեռնավորել, շատ մեծ ծավալ ունի"
+msgstr "POST հարցման օբյեկտը շատ մեծ ծավալ ունի."
 
 #: templates/ERR_INVALID_REQ:11 templates/ERR_INVALID_URL:11
 msgid "Illegal character in hostname; underscores are not allowed."
@@ -376,7 +382,7 @@ msgstr ""
 
 #: templates/ERR_PRECONDITION_FAILED:5
 msgid "Precondition Failed."
-msgstr ""
+msgstr "Չհաջողվեց մշակել նախապայմանը"
 
 #: templates/ERR_READ_ERROR:5
 msgid "Read Error"
@@ -466,9 +472,8 @@ msgid "The DNS server returned:"
 msgstr "DNS սերվերի պատասխանը:"
 
 #: templates/ERR_ESI:6
-#, fuzzy
 msgid "The ESI processor returned:"
-msgstr "ESI պրոցեսորը պատասխանեց:"
+msgstr "ESI հարցման պատասխանն է։"
 
 #: templates/ERR_FTP_UNAVAILABLE:4
 msgid "The FTP server was too busy to retrieve the URL: <a href=\"%U\">%U</a>"
@@ -496,14 +501,15 @@ msgstr "Հետևյալ URL-ն հնարավոր չէ ստանալ: <a href=\"%U\"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +535,15 @@ msgstr "Հարցումը կամ պատասխանը շատ մեծ ծավալ ու
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
@@ -597,6 +603,15 @@ msgstr ""
 "փոխհարաբերություններ հաստատելու պատճառով: Հավանական է, որ %i -ն սխալ "
 "սարքաբերված քեշ է."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Այս սահմանափակումը իրականացված է Ձեր ինտերնետ կապ ապահովողի կողմից: Եթե Դուք "
+"սա սխալ եք համարում, դիմեք նրան:"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Սա նշանակում է, որ ICAP կոմունիկացիայի որոշ ասպեկտներ սխալ են:"
@@ -733,15 +748,16 @@ msgstr "Այս ցանցից օգտվելու համար Ձեր բրաուզեր
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Ձեր քեշի կառավարիչը <a href=\"mailto:%w%W\">%w</a> է."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2008-11-02 03:46+1300\n"
 "Last-Translator: Ramdhani Fathurrohman <kontak@ramdhani.net>\n"
 "Language-Team: Indonesian <id@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL untuk URN yang diminta tidak bisa didapatkan kembali"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Akses Ditolak"
@@ -157,16 +163,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -187,15 +194,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -248,6 +256,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -257,16 +269,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -471,14 +484,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -503,15 +517,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -562,6 +576,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -675,15 +695,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-05-05 13:38+0200\n"
 "Last-Translator: Francesco Chemolli <kinkie@squid-cache.org>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -50,6 +50,12 @@ msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 "Non è stato possibile ottenere una URL corrispondente alla URN richiesta."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accesso negato."
@@ -153,16 +159,17 @@ msgstr "Directory: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRORE"
 
@@ -183,15 +190,16 @@ msgstr "ERRORE: l'invio del file via FTP non è riuscito."
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRORE: non è possibile accedere alla URL richiesta"
 
@@ -245,6 +253,10 @@ msgstr "Per configurare i browser Opera: <ul>"
 msgid "Forwarding Denied."
 msgstr "Inoltro negato."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -254,16 +266,17 @@ msgstr "Inoltro negato."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generato da %h (%s) il %T."
 
@@ -499,14 +512,15 @@ msgstr "Non è stato possibile accedere alla URL: <a href=\"%U\">%U</a>."
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -537,15 +551,15 @@ msgstr "La richesta o la risposta è di dimensioni troppo grandi."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Non è stato possibile accedere alla URL richiesta."
 
@@ -607,6 +621,15 @@ msgstr ""
 "relazione di parentela. Forse il client all'indirizzo %i è un proxy "
 "configurato in modo errato."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Questi limiti sono stati stabiliti dall'ISP che gestisce questo proxy. Se "
+"ritieni sia un errore, contatta il fornitore del servizio."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -755,15 +778,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "L'amministratore del proxy è <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-30 20:02+1300\n"
 "Last-Translator: Takahiro Kambe <taca@back-street.net>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,6 +48,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "リクエストされたURNのURLを調べられませんでした。"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "アクセスを拒否されました。"
@@ -157,16 +163,17 @@ msgstr "ディレクトリ: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "エラー"
 
@@ -187,15 +194,16 @@ msgstr "エラー: FTP アップロードは失敗しました"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "エラー: 要求されたURLからデータを取り出せませんでした。"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "転送は拒否されました。"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "転送は拒否されました。"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%Tに%h (%s)が生成しました。"
 
@@ -493,14 +506,15 @@ msgstr "以下のURLを取得できませんでした: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -528,15 +542,15 @@ msgstr "リクエストまたはリプライが大きすぎます。"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "リクエストされた URL は取得できませんでした"
 
@@ -598,6 +612,15 @@ msgstr ""
 "シュはあなたのリクエストを転送できませんでした．%i のキャッシュが誤った設定と"
 "なっているかもしれません．"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"これらの制限は、このキャッシュの運用者によって課されています。これがエラーだ"
+"と感じるときは直接運用者に連絡して下さい。"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -730,15 +753,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 17:23+1300\n"
 "Last-Translator: Jaeyeon Jung <jjung@cosmos.kaist.ac.kr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "서버 이용 요구가 거절되었습니다."
@@ -145,16 +151,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "에러"
 
@@ -177,15 +184,16 @@ msgstr "에러: FTP upload 실패"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "에러: 요청된 URL을 가져올 수 없습니다"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "포워딩 불가"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "포워딩 불가"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -485,14 +498,15 @@ msgstr "다음 URL이 처리되지 못했습니다: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -518,15 +532,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "요청된 URL을 가져올 수 없습니다."
 
@@ -586,6 +600,12 @@ msgstr ""
 "이 캐쉬는 sibling 관계로 설정되어 있기 때문에 이 요청을 처리할 수 없습니다. "
 "%i 의 client가 잘못 설정된 캐쉬일 수 있습니다."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -713,15 +733,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-07 19:27+1300\n"
 "Last-Translator: DVM <dvm382@takas.lt>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "puslapis nurodytam URN negali būti atsiųstas"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Priėjimas draudžiamas."
@@ -146,16 +152,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "KLAIDA"
 
@@ -176,15 +183,16 @@ msgstr "KLAIDA: FTP uploadas nepavyko"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "KLAIDA: Puslapis nurodytu adresu negali būti atsiųstas"
 
@@ -239,6 +247,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Pervedimo komanda neleistina."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -248,16 +260,17 @@ msgstr "Pervedimo komanda neleistina."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -497,14 +510,15 @@ msgstr "Nepavyko atsiųsti puslapio: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -532,15 +546,15 @@ msgstr "Užklausa arba atsakymas yra per dideli."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Puslapis nurodytu adresu negali būti atsiųstas"
 
@@ -603,6 +617,15 @@ msgstr ""
 "Šis kešas negali perkelti jūsų užklausos, kadangi ji bando sukurti sibling "
 "tipo ryšius. Gal būt klientas %i yra kešas, kuris klaidingai sukonfigūruotas."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Šie apribojimai yra uždėti jūsų Interneto tiekėjo. Prašome kreiptis į savo "
+"administratorių arba Interneto tiekėją, jei manote, kad tai neteisinga."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -733,15 +756,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-28 12:47+0000\n"
 "Last-Translator: Mārtiņš Bruņenieks <Unknown>\n"
 "Language-Team: Latvian <lv@li.org>\n"
@@ -50,6 +50,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pieeja liegta"
@@ -157,16 +163,17 @@ msgstr "Direktorijs: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "Kļūda"
 
@@ -187,15 +194,16 @@ msgstr "Kļūda: FTP augšupielāde nav atļauta"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "KĻŪDA: Pieprasītā adrese nav atrodama"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Pārsūtīšana aizliegta."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "Pārsūtīšana aizliegta."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Ģenerēts %T by %h (%s)"
 
@@ -494,14 +507,15 @@ msgstr "Nevar atvērt sekojošu adresi: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +543,15 @@ msgstr "Pieprasījums vai atbilde ir par lielu."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Nevar atvērt pieprasīto adresi."
 
@@ -597,6 +611,15 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Šos limitus ir uzstādījis pakalpojuma sniedzējs, kurš uztur šo kešatmiņu. "
+"Lūdzu sazinieties ar viņu, ja uzskatat, ka šī ir kļūda."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Tas nozīmē, ka ir problēmas ar ICAP komunikācijas niansēm."
@@ -719,15 +742,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Jūsu kešatmiņas administrators ir <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 23:33+0000\n"
 "Last-Translator: Mohamad Faizul bin Zulkifli <piju@mylinux.net.my>\n"
 "Language-Team: Malay <ms@li.org>\n"
@@ -50,6 +50,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL yang diminta tidak dapat dimuaturun"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Akses Disekat"
@@ -147,16 +153,17 @@ msgstr "Direktori: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "RALAT"
 
@@ -177,15 +184,16 @@ msgstr "RALAT: FTP Gagal"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "RALAT: URL yang diminta tidak dapat diterima"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Dibuat pada %T by %h (%s)"
 
@@ -463,14 +476,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -495,15 +509,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -554,6 +568,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -667,15 +687,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Pengurus Proxy anda ialah <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-18 23:24+0200\n"
 "Last-Translator: Rene Wijninga <r.wijninga@whine.nl>\n"
 "Language-Team: Dutch <nl@li.org>\n"
@@ -52,6 +52,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "De gevraagde URN kon niet worden benaderd"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Toegang niet toegestaan."
@@ -156,16 +162,17 @@ msgstr "Map: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FOUT"
 
@@ -186,15 +193,16 @@ msgstr "FOUT: FTP upload mislukt"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FOUT: De gevraagde URL kon niet worden opgehaald"
 
@@ -249,6 +257,10 @@ msgstr "Voor Opera browsers ga naar: <ul>"
 msgid "Forwarding Denied."
 msgstr "Doorsturen niet toegestaan."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -258,16 +270,17 @@ msgstr "Doorsturen niet toegestaan."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gegenereerd %T door %h (%s)"
 
@@ -501,14 +514,15 @@ msgstr "De volgende URL kon niet worden opgehaald: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -539,15 +553,15 @@ msgstr "De aanvraag of het antwoord is te groot."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "De gevraagde URL kon niet worden opgehaald"
 
@@ -609,6 +623,16 @@ msgstr ""
 "tracht te bewerkstelligen. Wellicht dat de client op %i een fout ingestelde "
 "cache is."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Deze grootte-beperkingen zijn ingesteld door de beheerder van deze cache.  "
+"Neem contact op met de beheerder van deze cache, wanneer U van mening bent "
+"dat deze beperking onjuist is."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Dit betekent dat een onderdeel van de ICAP communicatie is mislukt."
@@ -755,15 +779,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "De beheerder van deze cache is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -38,6 +38,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accès interdich."
@@ -131,16 +137,17 @@ msgstr "Repertòri : <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -161,15 +168,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERREUR : L'URL demandada a pas pogut èsser cargada"
 
@@ -221,6 +229,10 @@ msgstr "Per Opera, anatz a : <ul>"
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -230,16 +242,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generada lo %T per %h (%s)"
 
@@ -444,14 +457,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -478,15 +492,15 @@ msgstr "La requèsta o la responsa es tròp gròssa."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "L'URL demandada a pas pogut èsser cargada"
 
@@ -537,6 +551,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -650,15 +670,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vòstre administrator d'amagatal es <a href=\"mailto:%w\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-01-02 23:51+0000\n"
 "Last-Translator: Jarosław Ogrodnik <nobodythere@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -46,6 +46,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL dla żądanego URN nie może zostać sprowadzony"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Dostęp zabroniony."
@@ -146,16 +152,17 @@ msgstr "Katalog: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "BŁĄD"
 
@@ -176,15 +183,16 @@ msgstr "BŁĄD: Nieudany FTP upload"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "BŁĄD: Żądany URL nie może zostać pobrany"
 
@@ -239,6 +247,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Przekazanie żądania zabronione."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -248,16 +260,17 @@ msgstr "Przekazanie żądania zabronione."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Utworzono %T przez %h (%s)"
 
@@ -485,14 +498,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -519,15 +533,15 @@ msgstr "Zapytanie lub odpowiedź jest zbyt długa."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Żądany URL nie może zostać pobrany"
 
@@ -584,6 +598,12 @@ msgstr ""
 "Ten serwer cache nie przekaże Twojego żądania ponieważ wymusza ono relację "
 "typu sibling. Być może klient %i jest błędnie skonfigurowanym serwerem cache."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -710,15 +730,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-09-25 09:18+1300\n"
 "Last-Translator: Aecio F. Neto <aecioneto@gmail.com>\n"
 "Language-Team: Brazilian Portuguese <pt_BR@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Uma URL para a URN requisitada não pode ser recuperada"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acesso Negado."
@@ -157,16 +163,17 @@ msgstr "Directório: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRO"
 
@@ -187,15 +194,16 @@ msgstr "ERRO: upload via FTP falhou"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRO: A URL requisitada não pode ser recuperada"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Encaminhamento Negado."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "Encaminhamento Negado."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gerado %T por %h (%s)"
 
@@ -501,14 +514,15 @@ msgstr "A seguinte URL não pôde ser recuperada: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -540,15 +554,15 @@ msgstr "A requisição ou a resposta é muito grande."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A URL requisitada não pôde ser recuperada"
 
@@ -612,6 +626,16 @@ msgstr ""
 "Este cache não encaminhará sua requisição porque está tentando forçar um "
 "relacionamento. Talvez o cliente em %i é um cache que está mal configurado."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Esses limites foram estabelecidos pelo Provedor de Serviço Internet em que "
+"este cache opera. Por favor, contate-os diretamente se você acha que isso é "
+"um erro."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Isto significa que alguma característica da comunicação ICAP falhou."
@@ -750,15 +774,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Seu administrador do cache é <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-14 14:41+1300\n"
 "Last-Translator: Pedro Lineu Orso <orso@pop.hsbcbamerindus.com.br>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Uma URL para requisição URN não pode ser recuperada"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Proibido o Acesso."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRO"
 
@@ -179,15 +186,16 @@ msgstr "ERRO: Erro no FTP upload"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRO: A URL solicitada não pode ser recuperada"
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Expedição proibida."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Expedição proibida."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -498,14 +511,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -533,15 +547,15 @@ msgstr "A requisição ou resposta é muito grande."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A URL solicitada não pode ser recuperada"
 
@@ -605,6 +619,16 @@ msgstr ""
 "relacionamentos. Talvez o usuário em %i é um cache que não está configurado "
 "corretamente."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Os limites foram estabelecidos pelo administrador deste cache. Por favor, "
+"entre em contato caso acredite que este cache está configurado "
+"incorretamente."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-20 16:29+0200\n"
 "Last-Translator: Arthur <arthur@psw.ro>\n"
 "Language-Team: Romanian <ro@li.org>\n"
@@ -54,6 +54,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Un URL pentru URN-ul cerut nu a putut fi accesat"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acces interzis."
@@ -158,16 +164,17 @@ msgstr "Directorul: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "EROARE"
 
@@ -188,15 +195,16 @@ msgstr "EROARE: Operaţia FTP de încărcare a eşuat"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "EROARE: URL-ul cerut nu a putut fi accesat"
 
@@ -251,6 +259,10 @@ msgstr "Pentru navigatorul Opera mergeţi la: <ul>"
 msgid "Forwarding Denied."
 msgstr "Înaintarea cererii este interzisă."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -260,16 +272,17 @@ msgstr "Înaintarea cererii este interzisă."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generat %T de către %h (%s)"
 
@@ -504,14 +517,15 @@ msgstr "URL-ul următor nu a putut fi accesat: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -542,15 +556,15 @@ msgstr "Cererea sau răspunsul este prea mare."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "URL-ul cerut nu a putut fi accesat"
 
@@ -612,6 +626,16 @@ msgstr ""
 "stabilească o relaţie de echivalenţă. Poate că clientul %i este un cache "
 "care a fost configurat greşit."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Aceste limite au fost impuse de către organizaţia care oferă serviciile de "
+"Internet şi care administreză acest cache. Vă rugăm să îi contactaţi în mod "
+"direct dacă sunteţi de părere că este o greşeală."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Aceasta însemnă că o parte din comunicarea ICAP a eşuat."
@@ -756,15 +780,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Administratorul cache-ului este <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-14 11:47+0000\n"
 "Last-Translator: Amos Jeffries <Unknown>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL для запрошенного URN не может быть получен"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Доступ запрещён."
@@ -142,16 +148,17 @@ msgstr "Каталог: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ОШИБКА"
 
@@ -172,15 +179,16 @@ msgstr "ОШИБКА: Отправка по FTP не удалась"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ОШИБКА: Запрошенный URL не может быть получен"
 
@@ -234,6 +242,10 @@ msgstr "Для браузера Opera перейдите в: <ul>"
 msgid "Forwarding Denied."
 msgstr "Пересылка запрещена."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -243,16 +255,17 @@ msgstr "Пересылка запрещена."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Создано %T на %h (%s)"
 
@@ -478,14 +491,15 @@ msgstr "Следующий URL не может быть получен: <a href=
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -510,15 +524,15 @@ msgstr "Запрос или ответ слишком велик."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Запрошенный URL не может быть получен"
 
@@ -580,6 +594,15 @@ msgstr ""
 "принудительно установить братские взаимоотношения (sibling relationship). "
 "Скорее всего, клиент %i - неправильно сконфигурированный кэш."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Эти ограничения были установлены администратором. Свяжитесь с ним для "
+"получения информации."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Это означает, что какой-то этап связи по протоколу ICAP не удался."
@@ -723,15 +746,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Администратор Вашего кэша: <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-19 18:57+0100\n"
 "Last-Translator: Ivan Masár <helix84@centrum.sk>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL pre požadované URN je nedostupné"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Prístup zamietnutý."
@@ -150,16 +156,17 @@ msgstr "Adresár: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "CHYBA"
 
@@ -180,15 +187,16 @@ msgstr "CHYBA: Nahrávanie prostredníctvom FTP zlyhalo"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "CHYBA: Požadovaný URL nebolo možné získať"
 
@@ -243,6 +251,10 @@ msgstr "Prehliadače Opera - choďte na: <ul>"
 msgid "Forwarding Denied."
 msgstr "Preposielanie zamietnuté."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Preposielanie zamietnuté."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Vytvoril %T, %h (%s)"
 
@@ -495,14 +508,15 @@ msgstr "Nasledovný URL je nedostupný: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -531,15 +545,15 @@ msgstr "Požiadavka alebo odpoveď je príliš veľká."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Požadovaný URL nebolo možné získať"
 
@@ -599,6 +613,15 @@ msgstr ""
 "vzťahu súrodenec. Možno je klient na %i cache server, ktorý bol zle "
 "nakonfigurovaný."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Tieto obmedzenia zaviedol poskytovateľ tohto cache servera. Prosím, "
+"kontaktujte ho priamo ak máte pocit, že to je chyba."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "To znamená, že niektorá časť komunikácie ICAP zlyhala."
@@ -741,15 +764,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vaším správcom cache je <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -38,6 +38,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -131,16 +137,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -161,15 +168,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -221,6 +229,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -230,16 +242,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -444,14 +457,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -476,15 +490,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -535,6 +549,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -648,15 +668,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-08 23:50+0200\n"
 "Last-Translator: Bratislav <batailic@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -45,6 +45,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Adresa (URL) za traženi podatak (URN) ne može da se učita"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pristup nije dozvoljen."
@@ -150,16 +156,17 @@ msgstr "Direktorijum: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "GREŠKA"
 
@@ -180,15 +187,16 @@ msgstr "GREŠKA: FTP upis/upload nije uspeo"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "GREŠKA: Tražena adresa (URL) ne može da se učita"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Prosleđivanje nije dozvoljeno."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Prosleđivanje nije dozvoljeno."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generisano %T sa %h (%s)"
 
@@ -492,14 +505,15 @@ msgstr "Adresa (URL) nije dostupna: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -525,15 +539,15 @@ msgstr "Zahtev ili odgovor je prevelik."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Tražena adresa (URL) ne može da se učita"
 
@@ -598,6 +612,16 @@ msgstr ""
 "sibling odnose.  Možda je klijent na %i proksi serveru koji je pogrešno "
 "konfigurisan."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ove limite postavio je intenet servis provajder koji upravlja ovim proksi "
+"serverom.  Ako smatrate da je to greška, molimo stupite u kontakt sa "
+"administratorom."
+
 #: templates/ERR_ICAP_FAILURE:7
 #, fuzzy
 msgid "This means that some aspect of the ICAP communication failed."
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vaš keš/proksi administrator je: <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-02-10 23:51+0000\n"
 "Last-Translator: Henrik Nordström <henrik@henriknordstrom.net>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "En URL f&ouml;r beg&auml;rd URN kunde inte h&auml;mtas"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Tilltr&auml;de Nekas."
@@ -154,16 +160,17 @@ msgstr "Katalog: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEL"
 
@@ -184,15 +191,16 @@ msgstr "FEL: FTP uppladdning misslyckades"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEL: Beg&auml;rd URL kunde inte h&auml;mtas"
 
@@ -247,6 +255,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Vidarebefodran Nekad."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -256,16 +268,17 @@ msgstr "Vidarebefodran Nekad."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Skapad %T av %h (%s)"
 
@@ -505,14 +518,15 @@ msgstr "F&ouml;ljande URL kunde inte h&auml;mtas: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -544,15 +558,15 @@ msgstr "Beg&auml;ran &auml;r f&ouml;r stor."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Den beg&auml;rda URL:en kunde inte h&auml;mtas"
 
@@ -618,6 +632,16 @@ msgstr ""
 "rs&ouml;ker att tvinga sig till en r&auml;ttighet som den inte har.  Kanske "
 "klienten vid %i &auml;r en cache som &auml;r felkonfigurerad."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Dessa gr&auml;nser &auml;r inst&auml;llda av den Internet Leverant&ouml;r "
+"som handhar den h&auml;r cacheservern.  Var v&auml;nlig kontakta dem direkt "
+"ifall du anser att detta &auml;r ett fel."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Detta betyder att ICAP kommunikationen misslyckades."
@@ -760,15 +784,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "Din cacheserver administrat&ouml;r &auml;r <a href=\"mailto:%w%W\">%w</a>."
@@ -24,7 +24,7 @@ body
 
 <table id="dirlisting" summary="Directory Listing">
 <tr>
-<th><a href="../"><img border="0" src="/squid-internal-static/icons/anthony-dirup.gif" alt="Parent Directory"></a></th>
+<th><a href="../"><img border="0" src="/squid-internal-static/icons/silk/arrow_up.png" alt=""></a></th>
 <th nowrap="nowrap"><a href="../">Parent Directory</a> (<a href="/">Root Directory</a>)</th>
 </tr>
 
@@ -0,0 +1,39 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
+<html><head>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ERROR: The requested URL could not be retrieved</title>
+<style type="text/css"><!-- 
+ %l
+
+body
+:lang(fa) { direction: rtl; font-size: 100%; font-family: Tahoma, Roya, sans-serif; float: right; }
+:lang(he) { direction: rtl; float: right; }
+ --></style>
+</head><body>
+<div id="titles">
+<h1>ERROR</h1>
+<h2>The requested URL could not be retrieved</h2>
+</div>
+<hr>
+
+<div id="content">
+<p>The following error was encountered while trying to retrieve the URL: <a href="%U">%U</a></p>
+
+<blockquote id="error">
+<p><b>Gateway Proxy Failure</b></p>
+</blockquote>
+
+<p>A non-recoverable internal failure or configuration problem prevents this request from being completed.</p>
+
+<p>This may be due to limits established by the Internet Service Provider who operates this cache. Please contact them directly for more information.</p>
+
+<p>Your cache administrator is <a href="mailto:%w%W">%w</a>.</p>
+<br>
+</div>
+
+<hr>
+<div id="footer">
+<p>Generated %T by %h (%s)</p>
+<!-- %c -->
+</div>
+</body></html>
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-11 06:25+0000\n"
 "Last-Translator: Anon Sricharoenchai <Unknown>\n"
 "Language-Team: Thai <th@li.org>\n"
@@ -45,6 +45,12 @@ msgstr "มีภาวะข้อผิดผลาดระหว่างท
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "ไม่สามารถเรียกดู URL สำหรับ URN ที่ได้รับการร้องขอ"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -140,16 +146,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -170,15 +177,16 @@ msgstr "ERROR: ส่งไฟล์ขึ้น FTP ไม่สำเร็จ
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: ไม่สามารถเรียกดู URL ที่ได้รับการร้องขอ"
 
@@ -233,6 +241,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "การส่งต่อ (forwarding) ไม่ได้รับอนุญาต"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -242,16 +254,17 @@ msgstr "การส่งต่อ (forwarding) ไม่ได้รับอ
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -458,14 +471,15 @@ msgstr "ไม่สามารถเรียกดู URL ต่อไปน
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -490,15 +504,15 @@ msgstr "คำร้องขอหรือคำตอบกลับมีข
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "ไม่สามารถเรียกดู URL ที่ได้รับการร้องขอ"
 
@@ -552,6 +566,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -665,15 +685,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "ผู้ดูแลระบบแคชของคุณคือ <a href=\"mailto:%w%W\">%w</a>"
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-01-10 15:46+0000\n"
 "Last-Translator: Hüseyin Sevgi <hsevgi@msn.com>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN'ye erişmek için bir URL alınamadı."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Erişim Yasak."
@@ -149,16 +155,17 @@ msgstr "Dizin: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "HATA"
 
@@ -179,15 +186,16 @@ msgstr "HATA: FTP dosya yüklemesi yapılamadı"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "HATA: İstenilen URL'e ulaşılamadı"
 
@@ -242,6 +250,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Yönlendirme yasak."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Yönlendirme yasak."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%h (%s) tarafından %T oluşturuldu"
 
@@ -483,14 +496,15 @@ msgstr "URL adresine erişilemiyor: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -518,15 +532,15 @@ msgstr "Talep veya cevap çok büyük."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "İstenilen URL'e ulaşılamadı"
 
@@ -591,6 +605,16 @@ msgstr ""
 "dolayı isteğinizi yönlendirememektedir. %i isimli Cache Sunucu ayarlarında "
 "bir yanlışlık olabilir."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Bu sınırlar internet servis sağlayıcınız tarafından kurulmuştur. Eğer bunun "
+"bir hata olduğnu düşünüyorsanız lütfen servis sağlayıcınızla irtibata "
+"geçiniz."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +744,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Önbellk yöneticiniz <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-12-03 12:10+1300\n"
 "Last-Translator: Feshchuk Yuriy <swopster@meta.ua>\n"
 "Language-Team: Ukrainian <uk@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL для запитуваного URN не може бути отриманий"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Доступ заборонено"
@@ -155,16 +161,17 @@ msgstr "Директорія: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ПОМИЛКА"
 
@@ -185,15 +192,16 @@ msgstr "ПОМИЛКА: Невдала пересилка по FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ПОМИЛКА: Запитаний URL не може бути отриманий"
 
@@ -248,6 +256,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Пересилку заборонено"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -257,16 +269,17 @@ msgstr "Пересилку заборонено"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Згенеровано %T на %h (%s)"
 
@@ -496,14 +509,15 @@ msgstr "Наступний URL: <a href=\"%U\"> %U</a> не може бути о
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -530,15 +544,15 @@ msgstr "Запит або відповідь завеликі"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Запитаний URL не може бути отриманий."
 
@@ -600,6 +614,15 @@ msgstr ""
 "Цей кеш не перешле Ваш запит, через намагання встановити родинні "
 "взаємовідносини. Скоріш за все клієнт %i - невірно сконфігурований кеш."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ці ліміти встановлено Інтернет постачальником, котрий керує даним кешом. "
+"Будь-ласка, зв'яжіться з ним, якщо Ви вважаєте дане повідомлення помилкою."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Це означає, що деякі елементи ICAP з'єднання несправні."
@@ -739,15 +762,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Адміністратор даного кешу <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-03-14 16:45+0000\n"
 "Last-Translator: Akmal Xushvaqov <akmalxster@gmail.com>\n"
 "Language-Team: Uzbek <uz@li.org>\n"
@@ -49,6 +49,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Сўралган URN учун URL топилмади"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Рухсат берилмаган."
@@ -151,16 +157,17 @@ msgstr "Директория: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ХАТО"
 
@@ -181,15 +188,16 @@ msgstr "ХАТО: FTP'га юклаш муваффақиятсиз якунла
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ХАТО: Сўралган URL топилмади."
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Узатиш рад қилинди."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Узатиш рад қилинди."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%h (%s) томонидан  %T яратилган"
 
@@ -481,14 +494,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -516,15 +530,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Сўралган URL топилмади"
 
@@ -577,6 +591,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -690,15 +710,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-04-28 16:17+0200\n"
 "Last-Translator:  <clytie@riverland.net.au>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Không thể lấy được một địa chỉ URL cho URN yêu cầu"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Truy cập bị từ chối."
@@ -141,16 +147,17 @@ msgstr "Thư mục: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "LỖI"
 
@@ -171,15 +178,16 @@ msgstr "LỖI: không tải lên được qua FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "LỖI: không thể lấy địa chỉ URL yêu cầu"
 
@@ -234,6 +242,10 @@ msgstr "Đối với trình duyệt Opera thì thăm: <ul>"
 msgid "Forwarding Denied."
 msgstr "Chuyển tiếp bị từ chối."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -243,16 +255,17 @@ msgstr "Chuyển tiếp bị từ chối."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Tạo %T bởi %h (%s)"
 
@@ -474,14 +487,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -506,15 +520,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -565,6 +579,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -678,15 +698,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-28 11:35+0000\n"
 "Last-Translator: 王英华 <wantinghard@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN 中的一个网址（URL）无法获取"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "访问被拒绝。"
@@ -139,16 +145,17 @@ msgstr "文件夹： <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "错误"
 
@@ -169,15 +176,16 @@ msgstr "错误: FTP上传失败"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "错误: 不能获取请求的 URL"
 
@@ -232,6 +240,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "拒绝转送"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -241,16 +253,17 @@ msgstr "拒绝转送"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "已由 %h (%s) 生成 %T"
 
@@ -469,14 +482,15 @@ msgstr "无法取回下面的 URL： <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -502,15 +516,15 @@ msgstr "请求或响应太大"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "您所请求的网址（URL）无法获取"
 
@@ -569,6 +583,15 @@ msgstr ""
 "本缓存服务器无法转送您的请求，也许您是通过一个并未被本缓存服务器设定为允许存"
 "取的缓存服务器 %i 来访问的。"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"这些长度限制由操作本缓存服务器的服务提供者制定。如果您觉得这是错误的，请与他"
+"们直接联系。"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "这意味着 ICAP 通信的某些地方失败了。"
@@ -700,15 +723,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "缓存服务器的管理员 <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 16:09+1300\n"
 "Last-Translator: Erick C. Chang <erick@mail.thu.edu.tw>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN 中的一個網址（URL）無法被傳回"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "存取被拒絕"
@@ -142,16 +148,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "錯誤"
 
@@ -172,15 +179,16 @@ msgstr "錯誤: 檔案傳輸上傳（PUT）失敗"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "錯誤: 欲連結之網址（URL）無法正確的傳回"
 
@@ -235,6 +243,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "轉送要求被拒"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -244,16 +256,17 @@ msgstr "轉送要求被拒"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -477,14 +490,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -510,15 +524,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "欲連結之網址（URL）無法正確的傳回"
 
@@ -577,6 +591,12 @@ msgstr ""
 "本快取伺服器將無法替您轉向您的連線要求，也許是因為您所使用的快取伺服器（%i）"
 "並未被本快取伺服器設定為准許進行存取。"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -702,15 +722,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -63,7 +63,7 @@
 #if HAVE_FCNTL_H
 #include <fcntl.h>
 #endif
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #include <io.h>
 #endif
 #if HAVE_CTYPE_H
@@ -375,6 +375,7 @@ authenticate(int socket_fd, const char *username, const char *passwd)
         *ptr++ = len + 2;
         memcpy(ptr, identifier, len);
         ptr += len;
+        total_length += len + 2;
     } else {
         *ptr++ = PW_NAS_IP_ADDRESS;
         *ptr++ = 6;
@@ -36,7 +36,10 @@
 #endif
 
 /* Check if we try to compile on a Windows Platform */
-#if defined(_SQUID_CYGWIN_) || defined(_SQUID_MSWIN_)
+#if !_SQUID_WINDOWS_
+/* NON Windows Platform !!! */
+#error NON WINDOWS PLATFORM
+#endif
 
 #include "valid.h"
 
@@ -174,9 +177,3 @@ main(int argc, char **argv)
     }
     return 0;
 }
-
-#else  /* NON Windows Platform !!! */
-
-#error NON WINDOWS PLATFORM
-
-#endif
@@ -30,9 +30,12 @@
 #include "util.h"
 
 /* Check if we try to compile on a Windows Platform */
-#if defined(_SQUID_CYGWIN_) || defined(_SQUID_MSWIN_)
+#if !_SQUID_WINDOWS_
+/* NON Windows Platform !!! */
+#error NON WINDOWS PLATFORM
+#endif
 
-#if defined(_SQUID_CYGWIN_)
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 #endif
 #include "valid.h"
@@ -175,8 +178,3 @@ Valid_User(char *UserName, char *Password, char *Group)
     }
     return result;
 }
-#else  /* NON Windows Platform !!! */
-
-#error NON WINDOWS PLATFORM
-
-#endif
@@ -28,7 +28,7 @@
 #ifndef _VALID_H_
 #define _VALID_H_
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <windows.h>
 #endif
 #include <lm.h>
@@ -61,7 +61,7 @@
 #include "helpers/defines.h"
 #include "include/util.h"
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 int _wcsicmp(const wchar_t *, const wchar_t *);
 #endif
@@ -72,7 +72,7 @@
 #include "include/util.h"
 
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 int _wcsicmp(const wchar_t *, const wchar_t *);
 #endif
@@ -56,14 +56,14 @@ rotate(const char *path, int rotate_count)
         i--;
         snprintf(from, MAXPATHLEN, "%s.%d", path, i - 1);
         snprintf(to, MAXPATHLEN, "%s.%d", path, i);
-#if defined(_SQUID_OS2_) || defined(_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         remove(to);
 #endif
         rename(from, to);
     }
     if (rotate_count > 0) {
         snprintf(to, MAXPATHLEN, "%s.%d", path, 0);
-#if defined(_SQUID_OS2_) || defined(_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         remove(to);
 #endif
         rename(path, to);
@@ -84,7 +84,7 @@
 #else
 /* no gcc, no debugging. varargs macros are a gcc extension */
 #define SEND2(X,Y) debug("sending '" X "' to squid\n",Y); printf(X "\n",Y);
-#define SEND4(X,Y,Z,W) debug("sending '" X "' to squid\n",Y,Z); printf(X "\n",Y,Z);
+#define SEND4(X,Y,Z,W) debug("sending '" X "' to squid\n",Y,Z,W); printf(X "\n",Y,Z,W);
 #endif
 
 const char *authenticate_ntlm_domain = "WORKGROUP";
@@ -1,37 +1,12 @@
-# $Id$
-#
+include $(top_srcdir)/icons/list
 
-ICONS	=	anthony-binhex.gif \
-		anthony-bomb.gif \
-		anthony-box.gif \
-		anthony-box2.gif \
-		anthony-c.gif \
-		anthony-compressed.gif \
-		anthony-dir.gif \
-		anthony-dirup.gif \
-		anthony-dvi.gif \
-		anthony-f.gif \
-		anthony-image.gif \
-		anthony-image2.gif \
-		anthony-layout.gif \
-		anthony-link.gif \
-		anthony-movie.gif \
-		anthony-pdf.gif \
-		anthony-portal.gif \
-		anthony-ps.gif \
-		anthony-quill.gif \
-		anthony-script.gif \
-		anthony-sound.gif \
-		anthony-tar.gif \
-		anthony-tex.gif \
-		anthony-text.gif \
-		anthony-unknown.gif \
-		anthony-xbm.gif \
-		anthony-xpm.gif
-
-icondir = $(datadir)/icons
+icondir = $(localstatedir)/www/squid/icons/silk
 icon_DATA = $(ICONS)
-EXTRA_DIST = $(ICONS)
+EXTRA_DIST = $(ICONS) list SN.png
 DISTCLEANFILES = 
 
-## DEFAULT_ICON_DIR        = $(sysconfdir)/icons
+install-data-local: SN.png install-iconDATA
+	$(INSTALL_DATA) $(srcdir)/SN.png "$(DESTDIR)$(localstatedir)/www/squid/icons/"
+
+uninstall-local:
+	$(RM) $(DESTDIR)$(localstatedir)/www/squid/icons/SN.png
@@ -0,0 +1,11 @@
+--2011-02-07 01:21:41--  http://www.squid-cache.org/Artwork/SN.png
+Resolving www.squid-cache.org... 198.186.193.234, 209.169.10.131
+Connecting to www.squid-cache.org|198.186.193.234|:80... connected.
+HTTP request sent, awaiting response... 200 OK
+Length: 12716 (12K) [image/png]
+Saving to: `SN.png'
+
+     0K .......... ..                                         100% 27.0K=0.5s
+
+2011-02-07 01:21:42 (27.0 KB/s) - `SN.png' saved [12716/12716]
+
@@ -0,0 +1,51 @@
+ICONS= \
+    silk/application.png \
+    silk/arrow_up.png \
+    silk/bomb.png \
+    silk/box.png \
+    silk/bricks.png \
+    silk/bullet_red.png \
+    silk/cd.png \
+    silk/chart_line.png \
+    silk/compress.png \
+    silk/computer_link.png \
+    silk/css.png \
+    silk/cup.png \
+    silk/database.png \
+    silk/database_table.png \
+    silk/drive_disk.png \
+    silk/film.png \
+    silk/film_key.png \
+    silk/folder.png \
+    silk/folder_table.png \
+    silk/image.png \
+    silk/information.png \
+    silk/layers.png \
+    silk/layout.png \
+    silk/link.png \
+    silk/music.png \
+    silk/package.png \
+    silk/package_go.png \
+    silk/page_code.png \
+    silk/page_excel.png \
+    silk/page_green.png \
+    silk/page_white.png \
+    silk/page_white_acrobat.png \
+    silk/page_white_c.png \
+    silk/page_white_cplusplus.png \
+    silk/page_white_flash.png \
+    silk/page_white_magnify.png \
+    silk/page_white_picture.png \
+    silk/page_white_powerpoint.png \
+    silk/page_white_stack.png \
+    silk/page_white_text.png \
+    silk/page_white_word.png \
+    silk/page_white_zip.png \
+    silk/page_world.png \
+    silk/photo.png \
+    silk/picture.png \
+    silk/plugin.png \
+    silk/plugin_add.png \
+    silk/script.png \
+    silk/script_gear.png \
+    silk/script_palette.png 
@@ -42,7 +42,7 @@
 
 /* represents [start, end) */
 
-template <class C>
+template <class C, class S = size_t>
 class Range
 {
 
@@ -52,35 +52,35 @@ class Range
     C start;
     C end;
     Range intersection (Range const &) const;
-    C size() const;
+    S size() const;
 };
 
-template <class C>
-std::ostream& operator << (std::ostream &os, Range<C> const &aRange)
+template <class C, class S>
+std::ostream& operator << (std::ostream &os, Range<C, S> const &aRange)
 {
     os << "[" << aRange.start << "," << aRange.end << ")";
     return os;
 }
 
-template<class C>
-Range<C>::Range () : start(), end() {}
+template<class C, class S>
+Range<C, S>::Range () : start(), end() {}
 
-template<class C>
-Range<C>::Range (C start_, C end_) : start(start_), end(end_) {}
+template<class C, class S>
+Range<C, S>::Range (C start_, C end_) : start(start_), end(end_) {}
 
-template<class C>
-Range<C>
-Range<C>::intersection (Range const &rhs) const
+template<class C, class S>
+Range<C, S>
+Range<C, S>::intersection (Range const &rhs) const
 {
-    Range<C> result (max(start, rhs.start), min(end, rhs.end));
+    Range<C, S> result (max(start, rhs.start), min(end, rhs.end));
     return result;
 }
 
-template<class C>
-C
-Range<C>::size() const
+template<class C, class S>
+S
+Range<C, S>::size() const
 {
-    return end > start ? end - start : 0;
+    return (S) (end > start ? end - start : 0);
 }
 
 #endif /* SQUID_RANGE_H */
@@ -33,7 +33,7 @@
 #ifndef _INC_SQUID_WINDOWS_H
 #define _INC_SQUID_WINDOWS_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #ifndef ACL
 #define ACL WindowsACL
@@ -45,6 +45,5 @@
 #undef _MSWIN_ACL_WAS_NOT_DEFINED
 #endif
 
-#endif /* _SQUID_WIN32_ */
-
+#endif /* _SQUID_WINDOWS_ */
 #endif /* _INC_SQUID_WINDOWS_H */
@@ -34,13 +34,13 @@
 #ifndef _LIBSSPWIN32_H_
 #define _LIBSSPWIN32_H_
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #define SECURITY_WIN32
 #define NTLM_PACKAGE_NAME "NTLM"
 #define NEGOTIATE_PACKAGE_NAME "Negotiate"
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 #define _T(x) TEXT(x)
 #else
@@ -77,6 +77,5 @@ const char * WINAPI SSP_MakeNegotiateBlob(PVOID, int, PBOOL, int *, char *);
 extern BOOL Use_Unicode;
 extern BOOL NTLM_LocalCall;
 
-#endif /* _SQUID_WIN32_ */
-
+#endif /* _SQUID_WINDOWS_ */
 #endif /* LIBSSPWIN32_H_ */
@@ -430,12 +430,15 @@ MemImplementingAllocator::~MemImplementingAllocator()
 {
     MemImplementingAllocator *find_pool, *prev_pool;
 
-    assert(MemPools::GetInstance().pools != NULL && "Called MemImplementingAllocator::~MemImplementingAllocator, but no pool exists!");
+    /* Abort if the associated pool doesn't exist */
+    assert(MemPools::GetInstance().pools != NULL );
 
     /* Pool clean, remove it from List and free */
     for (find_pool = MemPools::GetInstance().pools, prev_pool = NULL; (find_pool && this != find_pool); find_pool = find_pool->next)
         prev_pool = find_pool;
-    assert(find_pool != NULL && "pool to destroy not found");
+
+    /* make sure that we found the pool to destroy */
+    assert(find_pool != NULL);
 
     if (prev_pool)
         prev_pool->next = next;
@@ -321,7 +321,7 @@ MemPoolChunked::~MemPoolChunked()
 
     flushMetersFull();
     clean(0);
-    assert(meter.inuse.level == 0 && "While trying to destroy pool");
+    assert(meter.inuse.level == 0);
 
     chunk = Chunks;
     while ( (fchunk = chunk) != NULL) {
@@ -120,7 +120,7 @@ MemPoolMalloc::MemPoolMalloc(char const *aLabel, size_t aSize) : MemImplementing
 
 MemPoolMalloc::~MemPoolMalloc()
 {
-    assert(meter.inuse.level == 0 && "While trying to destroy pool");
+    assert(meter.inuse.level == 0);
     clean(0);
 }
 
@@ -62,19 +62,34 @@ AC_LTDL_DLLIB
 AC_SUBST(INCLTDL)
 AC_SUBST(LIBLTDL)
 
-
 dnl set useful flags
+TRIE_CFLAGS=
+TRIE_CXXFLAGS=
 if test "$GCC" = "yes"; then
-   TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
-   TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wcomments"
-else
-   TRIE_CFLAGS=
-   TRIE_CXXFLAGS=
-fi
+  TRIE_CFLAGS="-Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
+  TRIE_CXXFLAGS="-Wall -Wpointer-arith -Wwrite-strings -Wcomments"
+
+  AC_ARG_ENABLE(strict-error-checking,
+    AS_HELP_STRING([--disable-strict-error-checking],[By default compile
+                   with all possible static compiler error-checks enabled.
+                   This flag disables the behavior]), [
+    case $enableval in
+      yes|1|true)
+	enable_strict_error_checking=yes
+	;;
+      *)
+	enable_strict_error_checking=no
+	;;
+    esac
+  ])
+  AC_MSG_NOTICE([strict error checking enabled: ${enable_strict_error_checking:=yes}])
+  if test "x${enable_strict_error_checking:=yes}" = "xyes"; then
+     TRIE_CFLAGS="-Werror $TRIE_CFLAGS"
+     TRIE_CXXFLAGS="-Werror $TRIE_CXXFLAGS"
+  fi
 
-if test "$GCC" = "yes" ; then
-	AC_TEST_CHECKFORHUGEOBJECTS
-	TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
+  AC_TEST_CHECKFORHUGEOBJECTS
+  TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
 fi
 
 AC_SUBST(TRIE_CFLAGS)
@@ -209,22 +209,16 @@ parse_rfc1123(const char *str)
     t = mktime(tm);
     if (t != -1) {
         time_t dst = 0;
-#if defined (_TIMEZONE)
-#elif defined (_timezone)
-#elif defined(_SQUID_AIX_)
-#elif defined(_SQUID_CYGWIN_)
-#elif defined(_SQUID_MSWIN_)
-#elif defined(_SQUID_SGI_)
-#else
-    extern long timezone;
+#if !(defined(_TIMEZONE) || defined(_timezone) || _SQUID_AIX_ || _SQUID_WINDOWS_ || _SQUID_SGI_)
+        extern long timezone;
 #endif
         /*
          * The following assumes a fixed DST offset of 1 hour,
          * which is probably wrong.
          */
         if (tm->tm_isdst > 0)
             dst = -3600;
-#if defined ( _timezone) || defined(_SQUID_WIN32_)
+#if defined(_timezone) || _SQUID_WINDOWS_
         t -= (_timezone + dst);
 #else
     t -= (timezone + dst);
@@ -38,7 +38,6 @@
 
 #include "smblib/smblib-priv.h"
 #define uchar unsigned char
-extern int DEBUGLEVEL;
 
 #include "rfcnb/byteorder.h"
 
@@ -48,11 +48,13 @@ int SMB_Types[] = {SMB_P_Core,
                    -1
                   };
 
+#if UNDEFINED
 char *SMB_DOSTimToStr(int DOS_time);
 char *SMB_AtrToStr(int attribs, BOOL verbose);
 int SMB_Get_Tree_MBS(SMB_Tree_Handle tree);
 int SMB_Get_Max_Buf_Siz(SMB_Handle_Type Con_Handle);
 int SMB_Get_Protocol_IDX(SMB_Handle_Type Con_Handle);
+#endif /* UNDEFINED */
 int SMB_Get_Protocol(SMB_Handle_Type Con_Handle);
 int SMB_Figure_Protocol(const char *dialects[], int prot_index);
 int SMB_TreeDisconnect(SMB_Tree_Handle Tree_Handle, BOOL discard);
@@ -80,6 +82,7 @@ void SMB_Print_Pkt(FILE fd, RFCNB_Pkt *pkt, BOOL command, int Offset, int Len)
 
 /* Convert a DOS Date_Time to a local host type date time for printing */
 
+#if UNDEFINED
 char *SMB_DOSTimToStr(int DOS_time)
 
 {
@@ -172,6 +175,7 @@ int SMB_Get_Protocol_IDX(SMB_Handle_Type Con_Handle)
     }
 
 }
+#endif /* UNDEFINED */
 
 /* Pick up the protocol from the connection structure                       */
 
@@ -127,6 +127,17 @@ echo "#endif" >>${ROOT}/lib/profiler/list
 echo "#endif" >>${ROOT}/lib/profiler/list
 mv ${ROOT}/lib/profiler/list ${ROOT}/lib/profiler/xprof_type.h
 
+# Build icons install include form current icons available
+(
+echo -n "ICONS="
+for f in `ls -1 ${ROOT}/icons/silk/*`
+do
+	echo " \\"
+	echo -n "    ${f}"
+done
+echo " "
+)| sed s%${ROOT}/icons/%%g >${ROOT}/icons/list
+
 # Run formating
 echo "" >${ROOT}/doc/debug-sections.tmp
 srcformat || exit 1
@@ -202,13 +202,14 @@ ($$)
 my (@chained);
 
 my $in_options = 0;
-sub start_option($)
+sub start_option($$)
 {
-    my ($name) = @_;
+    my ($name, $type) = @_;
     if (!$in_options) {
 	print $index "<ul>\n";
 	$in_options = 1;
     }
+    return if $type eq "obsolete";
     print $index '    <li><a href="' . htmlescape(section_link($name)) . '" name="toc_' . htmlescape($name) . '">' . htmlescape($name) . "</a></li>\n";
 }
 sub end_options()
@@ -241,12 +242,12 @@ ($)
 		$data->{'name'} = $name;
 		$data->{'aliases'} = \@aliases;
 
-		start_option($name);
 		print "DEBUG: new option: $name\n" if $verbose;
 	} elsif ($_ =~ /^COMMENT: (.*)$/) {
 		$data->{"comment"} = $1;
 	} elsif ($_ =~ /^TYPE: (.*)$/) {
 		$data->{"type"} = $1;
+		start_option($data->{"name"}, $data->{"type"});
 	} elsif ($_ =~ /^DEFAULT: (.*)$/) {
 		if ($1 eq "none") {
 		    $data->{"default"} = "$1";
@@ -4,8 +4,8 @@
 ## 
 AM_CFLAGS = $(SQUID_CFLAGS)
 AM_CXXFLAGS = $(SQUID_CXXFLAGS)
-noinst_LIBRARIES = libsnmp.a
-libsnmp_a_SOURCES  = asn1.c parse.c snmp_vars.c \
+noinst_LIBRARIES = libsnmplib.a
+libsnmplib_a_SOURCES  = asn1.c parse.c snmp_vars.c \
 	coexistance.c snmp_api.c snmp_error.c  \
 	mib.c snmp_api_error.c   \
 	snmp_msg.c \
@@ -18,7 +18,9 @@
 #include "acl/DestinationDomain.h"
 #include "acl/DestinationIp.h"
 #include "acl/DomainData.h"
+#if USE_AUTH
 #include "acl/ExtUser.h"
+#endif
 #include "acl/FilledChecklist.h"
 #include "acl/Gadgets.h"
 #include "acl/HierCodeData.h"
@@ -64,8 +66,10 @@
 #include "acl/UrlPath.h"
 #include "acl/UrlPort.h"
 #include "acl/UserData.h"
+#if USE_AUTH
 #include "auth/AclProxyAuth.h"
 #include "auth/AclMaxUserIp.h"
+#endif
 #if USE_IDENT
 #include "ident/AclIdent.h"
 #endif
@@ -79,10 +83,12 @@ ACL::Prototype ACLDestinationDomain::RegexRegistryProtoype(&ACLDestinationDomain
 ACLStrategised<char const *> ACLDestinationDomain::RegexRegistryEntry_(new ACLRegexData,ACLDestinationDomainStrategy::Instance() ,"dstdom_regex");
 ACL::Prototype ACLDestinationIP::RegistryProtoype(&ACLDestinationIP::RegistryEntry_, "dst");
 ACLDestinationIP ACLDestinationIP::RegistryEntry_;
+#if USE_AUTH
 ACL::Prototype ACLExtUser::UserRegistryProtoype(&ACLExtUser::UserRegistryEntry_, "ext_user");
 ACLExtUser ACLExtUser::UserRegistryEntry_(new ACLUserData, "ext_user");
 ACL::Prototype ACLExtUser::RegexRegistryProtoype(&ACLExtUser::RegexRegistryEntry_, "ext_user_regex" );
 ACLExtUser ACLExtUser::RegexRegistryEntry_(new ACLRegexData, "ext_user_regex");
+#endif
 ACL::Prototype ACLHierCode::RegistryProtoype(&ACLHierCode::RegistryEntry_, "hier_code");
 ACLStrategised<hier_code> ACLHierCode::RegistryEntry_(new ACLHierCodeData, ACLHierCodeStrategy::Instance(), "hier_code");
 ACL::Prototype ACLHTTPRepHeader::RegistryProtoype(&ACLHTTPRepHeader::RegistryEntry_, "rep_header");
@@ -104,7 +110,7 @@ ACLStrategised<const char *> ACLMyPortName::RegistryEntry_(new ACLStringData, AC
 ACL::Prototype ACLPeerName::RegistryProtoype(&ACLPeerName::RegistryEntry_, "peername");
 ACLStrategised<const char *> ACLPeerName::RegistryEntry_(new ACLStringData, ACLPeerNameStrategy::Instance(), "peername");
 ACL::Prototype ACLProtocol::RegistryProtoype(&ACLProtocol::RegistryEntry_, "proto");
-ACLStrategised<protocol_t> ACLProtocol::RegistryEntry_(new ACLProtocolData, ACLProtocolStrategy::Instance(), "proto");
+ACLStrategised<AnyP::ProtocolType> ACLProtocol::RegistryEntry_(new ACLProtocolData, ACLProtocolStrategy::Instance(), "proto");
 ACL::Prototype ACLRandom::RegistryProtoype(&ACLRandom::RegistryEntry_, "random");
 ACLRandom ACLRandom::RegistryEntry_("random");
 ACL::Prototype ACLReferer::RegistryProtoype(&ACLReferer::RegistryEntry_, "referer_regex");
@@ -152,14 +158,15 @@ ACL::Prototype ACLIdent::RegexRegistryProtoype(&ACLIdent::RegexRegistryEntry_, "
 ACLIdent ACLIdent::RegexRegistryEntry_(new ACLRegexData, "ident_regex");
 #endif
 
-
+#if USE_AUTH
 ACL::Prototype ACLProxyAuth::UserRegistryProtoype(&ACLProxyAuth::UserRegistryEntry_, "proxy_auth");
 ACLProxyAuth ACLProxyAuth::UserRegistryEntry_(new ACLUserData, "proxy_auth");
 ACL::Prototype ACLProxyAuth::RegexRegistryProtoype(&ACLProxyAuth::RegexRegistryEntry_, "proxy_auth_regex" );
 ACLProxyAuth ACLProxyAuth::RegexRegistryEntry_(new ACLRegexData, "proxy_auth_regex");
 
 ACL::Prototype ACLMaxUserIP::RegistryProtoype(&ACLMaxUserIP::RegistryEntry_, "max_user_ip");
 ACLMaxUserIP ACLMaxUserIP::RegistryEntry_("max_user_ip");
+#endif
 
 ACL::Prototype ACLTag::RegistryProtoype(&ACLTag::RegistryEntry_, "tag");
 ACLStrategised<const char *> ACLTag::RegistryEntry_(new ACLStringData, ACLTagStrategy::Instance(), "tag");
@@ -1,4 +1,7 @@
 #include "config.h"
+
+#if USE_AUTH
+
 #include "Debug.h"
 #include "protos.h"
 
@@ -41,3 +44,5 @@ InitAuthSchemes()
 #endif
     debugs(29,1,"Initializing Authentication Schemes Complete.");
 }
+
+#endif /* USE_AUTH */
@@ -148,7 +148,6 @@ BodyPipe::~BodyPipe()
 void BodyPipe::setBodySize(uint64_t aBodySize)
 {
     assert(!bodySizeKnown());
-    assert(aBodySize >= 0);
     assert(thePutSize <= aBodySize);
 
     // If this assert fails, we need to add code to check for eof and inform
@@ -176,6 +176,7 @@ class CommAcceptCbPtrFun: public CallDialer,
 {
 public:
     typedef CommAcceptCbParams Params;
+    typedef RefCount<CommAcceptCbPtrFun> Pointer;
 
     CommAcceptCbPtrFun(IOACB *aHandler, const CommAcceptCbParams &aParams);
     void dial();
@@ -259,11 +260,18 @@ template <class Dialer>
 class CommCbFunPtrCallT: public AsyncCall
 {
 public:
+    typedef RefCount<CommCbFunPtrCallT<Dialer> > Pointer;
     typedef typename Dialer::Params Params;
 
     inline CommCbFunPtrCallT(int debugSection, int debugLevel,
                              const char *callName, const Dialer &aDialer);
 
+    inline CommCbFunPtrCallT(const CommCbFunPtrCallT &o) :
+            AsyncCall(o.debugSection, o.debugLevel, o.name),
+            dialer(o.dialer) {}
+
+    ~CommCbFunPtrCallT() {}
+
     virtual CallDialer* getDialer() { return &dialer; }
 
 public:
@@ -272,6 +280,9 @@ class CommCbFunPtrCallT: public AsyncCall
 protected:
     inline virtual bool canFire();
     inline virtual void fire();
+
+private:
+    CommCbFunPtrCallT & operator=(const CommCbFunPtrCallT &); // not defined. not permitted.
 };
 
 // Conveninece wrapper: It is often easier to call a templated function than
@@ -75,9 +75,8 @@ ConfigParser::strtokFile(void)
                     return (NULL);
                 }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
                 setmode(fileno(wordFile), O_TEXT);
-
 #endif
 
                 fromFile = 1;
@@ -100,7 +100,7 @@ class Debug
 
 extern FILE *debug_log;
 
-const size_t BuildPrefixInit();
+size_t BuildPrefixInit();
 const char * SkipBuildPrefix(const char* path);
 
 /* Debug stream */
@@ -86,7 +86,7 @@ void
 AIODiskFile::open(int flags, mode_t mode, RefCount<IORequestor> callback)
 {
     /* Simulate async calls */
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     fd = aio_open(path.termedBuf(), flags);
 #else
     fd = file_open(path.termedBuf() , flags);
@@ -232,11 +232,9 @@ void
 AIODiskFile::close ()
 {
     assert (!closed);
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     aio_close(fd);
 #else
-
     file_close(fd);
 #endif
 
@@ -37,7 +37,7 @@
 #include "comm.h"
 #include "aio_win32.h"
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 VOID CALLBACK IoCompletionRoutine(DWORD dwErrorCode,
                                   DWORD dwNumberOfBytesTransfered, LPOVERLAPPED lpOverlapped)
 {
@@ -351,4 +351,4 @@ ssize_t aio_return64(struct aiocb64 * aiocbp)
 {
     return aiocbp->aio_sigevent.sigev_signo;
 }
-#endif /* _SQUID_WIN32_ */
+#endif /* _SQUID_WINDOWS_ */
@@ -36,7 +36,7 @@
 
 #if USE_DISKIO_AIO
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include "squid_windows.h"
 #endif
 
@@ -3,7 +3,7 @@
 
 #if USE_DISKIO_AIO
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #include "aio_win32.h"
 #else
 #if HAVE_AIO_H
@@ -84,9 +84,10 @@ ExternalACLEntry::update(ExternalACLEntryData const &someData)
 {
     date = squid_curtime;
     result = someData.result;
-
+#if USE_AUTH
     user = someData.user;
     password = someData.password;
+#endif
     message = someData.message;
     tag = someData.tag;
     log = someData.log;
@@ -61,8 +61,11 @@ class ExternalACLEntryData
     ExternalACLEntryData() : result (-1) {}
 
     int result;
+#if USE_AUTH
+    // TODO use an AuthUser to hold this info
     String user;
     String password;
+#endif
     String message;
     String tag;
     String log;
@@ -88,8 +91,10 @@ class ExternalACLEntry: public hash_link
     dlink_node lru;
     int result;
     time_t date;
+#if USE_AUTH
     String user;
     String password;
+#endif
     String message;
     String tag;
     String log;
@@ -23,7 +23,7 @@ HelperChildConfig::operator =(const HelperChildConfig &rhs)
     return *this;
 }
 
-const int
+int
 HelperChildConfig::needNew() const
 {
     /* during the startup and reconfigure use our special amount... */
@@ -21,7 +21,7 @@ class HelperChildConfig
      * \retval N < 0   Error. No more helpers may be started.
      * \retval N       N more helpers may be started immediately.
      */
-    const int needNew() const;
+    int needNew() const;
     void parseConfig();
 
     /* values from squid.conf */
@@ -383,18 +383,37 @@ HttpHeader::HttpHeader() : owner (hoNone), len (0)
     httpHeaderMaskInit(&mask, 0);
 }
 
-HttpHeader::HttpHeader(http_hdr_owner_type const &anOwner) : owner (anOwner), len (0)
+HttpHeader::HttpHeader(const http_hdr_owner_type anOwner): owner(anOwner), len(0)
 {
     assert(anOwner > hoNone && anOwner <= hoReply);
     debugs(55, 7, "init-ing hdr: " << this << " owner: " << owner);
     httpHeaderMaskInit(&mask, 0);
 }
 
+HttpHeader::HttpHeader(const HttpHeader &other): owner(other.owner), len(other.len)
+{
+    httpHeaderMaskInit(&mask, 0);
+    update(&other, NULL); // will update the mask as well
+}
+
 HttpHeader::~HttpHeader()
 {
     clean();
 }
 
+HttpHeader &
+HttpHeader::operator =(const HttpHeader &other)
+{
+    if (this != &other) {
+        // we do not really care, but the caller probably does
+        assert(owner == other.owner);
+        clean();
+        update(&other, NULL); // will update the mask as well
+        len = other.len;
+    }
+    return *this;
+}
+
 void
 HttpHeader::clean()
 {
@@ -437,6 +456,7 @@ HttpHeader::clean()
     }
     entries.clean();
     httpHeaderMaskInit(&mask, 0);
+    len = 0;
     PROF_stop(HttpHeaderClean);
 }
 
@@ -500,10 +520,7 @@ HttpHeader::update (HttpHeader const *fresh, HttpHeaderMask const *denied_mask)
 int
 HttpHeader::reset()
 {
-    http_hdr_owner_type ho;
-    ho = owner;
     clean();
-    *this = HttpHeader(ho);
     return 0;
 }
 
@@ -205,8 +205,12 @@ class HttpHeader
 
 public:
     HttpHeader();
-    HttpHeader(http_hdr_owner_type const &owner);
+    explicit HttpHeader(const http_hdr_owner_type owner);
+    HttpHeader(const HttpHeader &other);
     ~HttpHeader();
+
+    HttpHeader &operator =(const HttpHeader &other);
+
     /* Interface functions */
     void clean();
     void append(const HttpHeader * src);
@@ -271,10 +275,6 @@ class HttpHeader
 
 private:
     HttpHeaderEntry *findLastEntry(http_hdr_type id) const;
-    /// Made it non-copyable. Our destructor is a bit nasty...
-    HttpHeader(const HttpHeader &);
-    //assignment is used by the reset method, can't block it..
-    //const HttpHeader operator=(const HttpHeader &);
 };
 
 
@@ -48,7 +48,7 @@ class HttpHdrRangeSpec
 
 public:
     MEMPROXY_CLASS(HttpHdrRangeSpec);
-    typedef Range<int64_t> HttpRange;
+    typedef Range<int64_t, uint64_t> HttpRange;
     static int64_t const UnknownPosition;
 
     HttpHdrRangeSpec();
@@ -38,7 +38,7 @@
 #include "MemBuf.h"
 
 HttpMsg::HttpMsg(http_hdr_owner_type owner): header(owner),
-        cache_control(NULL), hdr_sz(0), content_length(0), protocol(PROTO_NONE),
+        cache_control(NULL), hdr_sz(0), content_length(0), protocol(AnyP::PROTO_NONE),
         pstate(psReadyToParseStartLine), lock_count(0)
 {}
 
@@ -326,21 +326,6 @@ HttpMsg::persistent() const
          */
         return !httpHeaderHasConnDir(&header, "close");
     } else {
-        /*
-         * Persistent connections in Netscape 3.x are allegedly broken,
-         * return false if it is a browser connection.  If there is a
-         * VIA header, then we assume this is NOT a browser connection.
-         */
-        const char *agent = header.getStr(HDR_USER_AGENT);
-
-        if (agent && !header.has(HDR_VIA)) {
-            if (!strncasecmp(agent, "Mozilla/3.", 10))
-                return 0;
-
-            if (!strncasecmp(agent, "Netscape/3.", 11))
-                return 0;
-        }
-
         /* for old versions of HTTP: persistent if has "keep-alive" */
         return httpHeaderHasConnDir(&header, "keep-alive");
     }
@@ -89,7 +89,7 @@ class HttpMsg
 
     int64_t content_length;
 
-    protocol_t protocol;
+    AnyP::ProtocolType protocol;
 
     HttpMsgParseState pstate;   /* the current parsing state */
 
@@ -220,8 +220,7 @@ class HttpMsgPointerT
     const Msg &operator *() const { return *msg; }
     Msg *operator ->() { return msg; }
     const Msg *operator ->() const { return msg; }
-    operator Msg *() { return msg; }
-    operator const Msg *() const { return msg; }
+    operator Msg *() const { return msg; }
     // add more as needed
 
     /// public access for HttpMsgPointerT copying and assignment; avoid
@@ -36,7 +36,9 @@
 
 #include "squid.h"
 #include "HttpRequest.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "HttpHeaderRange.h"
 #include "MemBuf.h"
 #include "Store.h"
@@ -51,7 +53,7 @@ HttpRequest::HttpRequest() : HttpMsg(hoRequest)
     init();
 }
 
-HttpRequest::HttpRequest(const HttpRequestMethod& aMethod, protocol_t aProtocol, const char *aUrlpath) : HttpMsg(hoRequest)
+HttpRequest::HttpRequest(const HttpRequestMethod& aMethod, AnyP::ProtocolType aProtocol, const char *aUrlpath) : HttpMsg(hoRequest)
 {
     static unsigned int id = 1;
     debugs(93,7, HERE << "constructed, this=" << this << " id=" << ++id);
@@ -66,7 +68,7 @@ HttpRequest::~HttpRequest()
 }
 
 void
-HttpRequest::initHTTP(const HttpRequestMethod& aMethod, protocol_t aProtocol, const char *aUrlpath)
+HttpRequest::initHTTP(const HttpRequestMethod& aMethod, AnyP::ProtocolType aProtocol, const char *aUrlpath)
 {
     method = aMethod;
     protocol = aProtocol;
@@ -77,12 +79,14 @@ void
 HttpRequest::init()
 {
     method = METHOD_NONE;
-    protocol = PROTO_NONE;
+    protocol = AnyP::PROTO_NONE;
     urlpath = NULL;
     login[0] = '\0';
     host[0] = '\0';
     host_is_numeric = -1;
+#if USE_AUTH
     auth_user_request = NULL;
+#endif
     pinned_connection = NULL;
     port = 0;
     canonical = NULL;
@@ -107,8 +111,10 @@ HttpRequest::init()
     vary_headers = NULL;
     myportname = null_string;
     tag = null_string;
+#if USE_AUTH
     extacl_user = null_string;
     extacl_passwd = null_string;
+#endif
     extacl_log = null_string;
     extacl_message = null_string;
     pstate = psReadyToParseStartLine;
@@ -130,9 +136,9 @@ HttpRequest::clean()
     // we used to assert that the pipe is NULL, but now the request only
     // points to a pipe that is owned and initiated by another object.
     body_pipe = NULL;
-
+#if USE_AUTH
     auth_user_request = NULL;
-
+#endif
     safe_free(canonical);
 
     safe_free(vary_headers);
@@ -157,11 +163,10 @@ HttpRequest::clean()
     myportname.clean();
 
     tag.clean();
-
+#if USE_AUTH
     extacl_user.clean();
-
     extacl_passwd.clean();
-
+#endif
     extacl_log.clean();
 
     extacl_message.clean();
@@ -216,8 +221,10 @@ HttpRequest::clone() const
 
     copy->myportname = myportname;
     copy->tag = tag;
+#if USE_AUTH
     copy->extacl_user = extacl_user;
     copy->extacl_passwd = extacl_passwd;
+#endif
     copy->extacl_log = extacl_log;
     copy->extacl_message = extacl_message;
 
@@ -502,7 +509,7 @@ void HttpRequest::packFirstLineInto(Packer * p, bool full_uri) const
 }
 
 /*
- * Indicate whether or not we would usually expect an entity-body
+ * Indicate whether or not we would expect an entity-body
  * along with this request
  */
 bool
@@ -511,28 +518,18 @@ HttpRequest::expectingBody(const HttpRequestMethod& unused, int64_t& theSize) co
     bool expectBody = false;
 
     /*
-     * GET and HEAD don't usually have bodies, but we should be prepared
-     * to accept one if the request_entities directive is set
+     * Note: Checks for message validity is in clientIsContentLengthValid().
+     * this just checks if a entity-body is expected based on HTTP message syntax
      */
-
-    if (method == METHOD_GET || method == METHOD_HEAD)
-        expectBody = Config.onoff.request_entities ? true : false;
-    else if (method == METHOD_PUT || method == METHOD_POST)
-        expectBody = true;
-    else if (header.chunked())
+    if (header.chunked()) {
         expectBody = true;
-    else if (content_length >= 0)
+        theSize = -1;
+    } else if (content_length >= 0) {
         expectBody = true;
-    else
+        theSize = content_length;
+    } else {
         expectBody = false;
-
-    if (expectBody) {
-        if (header.chunked())
-            theSize = -1;
-        else if (content_length >= 0)
-            theSize = content_length;
-        else
-            theSize = -1;
+        // theSize undefined
     }
 
     return expectBody;
@@ -568,7 +565,7 @@ HttpRequest::CreateFromUrl(char * url)
 bool
 HttpRequest::cacheable() const
 {
-    if (protocol == PROTO_HTTP)
+    if (protocol == AnyP::PROTO_HTTP)
         return httpCachable(method);
 
     /*
@@ -583,10 +580,10 @@ HttpRequest::cacheable() const
      * XXX POST may be cached sometimes.. ignored
      * for now
      */
-    if (protocol == PROTO_GOPHER)
+    if (protocol == AnyP::PROTO_GOPHER)
         return gopherCachable(this);
 
-    if (protocol == PROTO_CACHEOBJ)
+    if (protocol == AnyP::PROTO_CACHEOBJ)
         return false;
 
     return true;
@@ -631,9 +628,9 @@ bool HttpRequest::inheritProperties(const HttpMsg *aMsg)
 
     errType = aReq->errType;
     errDetail = aReq->errDetail;
-
+#if USE_AUTH
     auth_user_request = aReq->auth_user_request;
-
+#endif
     if (aReq->pinned_connection) {
         pinned_connection = cbdataReference(aReq->pinned_connection);
     }
@@ -73,7 +73,7 @@ class HttpRequest: public HttpMsg
 
     MEMPROXY_CLASS(HttpRequest);
     HttpRequest();
-    HttpRequest(const HttpRequestMethod& aMethod, protocol_t aProtocol, const char *aUrlpath);
+    HttpRequest(const HttpRequestMethod& aMethod, AnyP::ProtocolType aProtocol, const char *aUrlpath);
     ~HttpRequest();
     virtual void reset();
 
@@ -82,7 +82,7 @@ class HttpRequest: public HttpMsg
         return static_cast<HttpRequest*>(HttpMsg::_lock());
     };
 
-    void initHTTP(const HttpRequestMethod& aMethod, protocol_t aProtocol, const char *aUrlpath);
+    void initHTTP(const HttpRequestMethod& aMethod, AnyP::ProtocolType aProtocol, const char *aUrlpath);
 
     virtual HttpRequest *clone() const;
 
@@ -111,7 +111,7 @@ class HttpRequest: public HttpMsg
         }
     };
     inline const char* GetHost(void) const { return host; };
-    inline const int GetHostIsNumeric(void) const { return host_is_numeric; };
+    inline int GetHostIsNumeric(void) const { return host_is_numeric; };
 
 #if USE_ADAPTATION
     /// Returns possibly nil history, creating it if adapt. logging is enabled
@@ -158,9 +158,9 @@ class HttpRequest: public HttpMsg
 
 public:
     Ip::Address host_addr;
-
+#if USE_AUTH
     AuthUserRequest::Pointer auth_user_request;
-
+#endif
     u_short port;
 
     String urlpath;
@@ -137,10 +137,10 @@ class HttpRequestMethod
      \retval METHOD_OTHER  the method is not recognized and has no unique ID
      \retval *             the method is on of the recognized HTTP methods.
      */
-    _method_t const id() const { return theMethod; }
+    _method_t id() const { return theMethod; }
 
     /** Get a char string representation of the method. */
-    char const* image() const;
+    char const * image() const;
 
     bool isCacheble() const;
     bool purgesOthers() const;
@@ -60,7 +60,7 @@ void
 httpStatusLineSet(HttpStatusLine * sline, HttpVersion version, http_status status, const char *reason)
 {
     assert(sline);
-    sline->protocol = PROTO_HTTP;
+    sline->protocol = AnyP::PROTO_HTTP;
     sline->version = version;
     sline->status = status;
     /* Note: no xstrdup for 'reason', assumes constant 'reasons' */
@@ -77,7 +77,7 @@ httpStatusLinePackInto(const HttpStatusLine * sline, Packer * p)
     assert(sline && p);
 
     /* handle ICY protocol status line specially. Pass on the bad format. */
-    if (sline->protocol == PROTO_ICY) {
+    if (sline->protocol == AnyP::PROTO_ICY) {
         debugs(57, 9, "packing sline " << sline << " using " << p << ":");
         debugs(57, 9, "FORMAT=" << IcyStatusLineFormat );
         debugs(57, 9, "ICY " << sline->status << " " << (sline->reason ? sline->reason : httpStatusString(sline->status)) );
@@ -108,7 +108,7 @@ httpStatusLineParse(HttpStatusLine * sline, const String &protoPrefix, const cha
 
     if (protoPrefix.cmp("ICY", 3) == 0) {
         debugs(57, 3, "httpStatusLineParse: Invalid HTTP identifier. Detected ICY protocol istead.");
-        sline->protocol = PROTO_ICY;
+        sline->protocol = AnyP::PROTO_ICY;
         start += protoPrefix.size();
     } else if (protoPrefix.caseCmp(start, protoPrefix.size()) == 0) {
 
@@ -36,10 +36,9 @@
 class Packer;
 class String;
 
-/* for http_status and protocol_t */
-#include "enums.h"
-
+#include "HttpStatusCode.h"
 #include "HttpVersion.h"
+#include "anyp/ProtocolType.h"
 #include "SquidString.h"
 
 /**
@@ -54,10 +53,10 @@ class HttpStatusLine
 
     /**
      * By rights protocol name should be a constant "HTTP", with no need for this field to exist.
-     * However there are protocols which violate HTTP by sending their wn custom formats
-     * back with other protocol names (ICY streaming format being the current major problem)
+     * However there are protocols which violate HTTP by sending their own custom formats
+     * back with other protocol names (ICY streaming format being the current major problem).
      */
-    protocol_t protocol;
+    AnyP::ProtocolType protocol;
 
     HttpVersion version;     ///< breakdown of protocol version labels: 0.9 1.0 1.1
     http_status status;      ///< status code. ie 200 404
@@ -24,22 +24,25 @@ SBUF_SOURCE= \
 	MemBlob.h \
 	MemBlob.cc
 
-SNMP_ALL_SOURCE = \
-	snmp_core.cc \
-	snmp_agent.cc
-if USE_SNMP
-SNMP_SOURCE = $(SNMP_ALL_SOURCE)
-else
-SNMP_SOURCE = 
-endif
-
 LOADABLE_MODULES_SOURCES = \
 	LoadableModule.h \
 	LoadableModule.cc \
 	LoadableModules.h \
 	LoadableModules.cc
 
-SUBDIRS	= base comm eui acl fs repl auth ip icmp ident log ipc mgr
+SUBDIRS	= base anyp comm eui acl fs repl
+DIST_SUBDIRS = base anyp comm eui acl fs repl
+
+if ENABLE_AUTH
+SUBDIRS += auth
+AUTH_LIBS= auth/libauth.la
+AUTH_ACL_LIBS= auth/libacls.la
+check_PROGRAMS+= tests/testAuth tests/testACLMaxUserIP
+endif
+DIST_SUBDIRS += auth
+
+SUBDIRS	+= ip icmp ident log ipc mgr
+DIST_SUBDIRS += ip icmp ident log ipc mgr
 
 if ENABLE_SSL
 SUBDIRS += ssl
@@ -49,10 +52,25 @@ SSL_LIBS = \
 else
 SSL_LOCAL_LIBS =
 endif
+DIST_SUBDIRS += ssl
+
+SNMP_ALL_SOURCE = \
+	snmp_core.h \
+	snmp_core.cc \
+	snmp_agent.cc
+if ENABLE_SNMP
+SNMP_SOURCE = $(SNMP_ALL_SOURCE)
+SUBDIRS += snmp
+SNMP_LIBS = snmp/libsnmp.la $(SNMPLIB)
+else
+SNMP_SOURCE = 
+endif
+DIST_SUBDIRS += snmp
 
 if USE_ADAPTATION
 SUBDIRS += adaptation
 endif
+DIST_SUBDIRS += adaptation
 
 if USE_ESI
 SUBDIRS += esi
@@ -65,6 +83,7 @@ ESI_LIBS = $(ESI_LOCAL_LIBS) \
 else
 ESI_LIBS = 
 endif
+DIST_SUBDIRS += esi
 
 DELAY_POOL_ALL_SOURCE = \
 	CommonPool.h \
@@ -161,12 +180,12 @@ noinst_LTLIBRARIES = libsquid.la
 
 # libraries used by many targets
 COMMON_LIBS = \
-	auth/libacls.la \
+	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
-	auth/libauth.la \
+	$(AUTH_LIBS) \
 	acl/libapi.la \
 	base/libbase.la \
 	libsquid.la \
@@ -535,6 +554,7 @@ nodist_squid_SOURCES = \
 
 squid_LDADD = \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
 	comm/libcomm.la \
 	eui/libeui.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
@@ -546,10 +566,10 @@ squid_LDADD = \
 	$(DISK_OS_LIBS) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
+	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -563,8 +583,7 @@ squid_DEPENDENCIES = \
 	$(DISK_LIBS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
-	$(SNMPLIB) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LOCAL_LIBS) \
 	$(SSL_LIBS) \
 	$(COMMON_LIBS)
@@ -646,7 +665,6 @@ ufsdump_LDADD = \
 	$(REPL_OBJS) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
 	$(EPOLL_LIBS) \
@@ -757,13 +775,13 @@ DEFAULT_PINGER		= $(libexecdir)/`echo pinger | sed '$(transform);s/$$/$(EXEEXT)/
 DEFAULT_UNLINKD		= $(libexecdir)/`echo unlinkd | sed '$(transform);s/$$/$(EXEEXT)/'`
 DEFAULT_LOGFILED	= $(libexecdir)/`echo log_file_daemon | sed '$(transform);s/$$/$(EXEEXT)/'`
 DEFAULT_DISKD		= $(libexecdir)/`echo diskd | sed '$(transform);s/$$/$(EXEEXT)/'`
-DEFAULT_ICON_DIR	= $(datadir)/icons
+DEFAULT_ICON_DIR	= $(localstatedir)/www/squid/icons
 DEFAULT_ERROR_DIR	= $(datadir)/errors
 
 # Make location configure settings available to the code
 DEFS += -DDEFAULT_CONFIG_FILE=\"$(DEFAULT_CONFIG_FILE)\" -DDEFAULT_SQUID_DATA_DIR=\"$(datadir)\" -DDEFAULT_SQUID_CONFIG_DIR=\"$(sysconfdir)\"
 
-snmp_core.o snmp_agent.o: ../snmplib/libsnmp.a $(top_srcdir)/include/cache_snmp.h
+snmp_core.o snmp_agent.o: ../snmplib/libsnmplib.a $(top_srcdir)/include/cache_snmp.h
 
 globals.cc: globals.h mk-globals-c.awk
 	$(AWK) -f $(srcdir)/mk-globals-c.awk < $(srcdir)/globals.h > $@ || ($(RM) -f $@ && exit 1)
@@ -816,7 +834,7 @@ cf.data: cf.data.pre Makefile
 	sed \
 	-e "s%[@]DEFAULT_HTTP_PORT[@]%$(DEFAULT_HTTP_PORT)%g" \
 	-e "s%[@]DEFAULT_ICP_PORT[@]%$(DEFAULT_ICP_PORT)%g" \
-	-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%${CACHE_EFFECTIVE_USER}%g" \
+	-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%$(CACHE_EFFECTIVE_USER)%g" \
 	-e "s%[@]DEFAULT_MIME_TABLE[@]%$(DEFAULT_MIME_TABLE)%g" \
 	-e "s%[@]DEFAULT_DNSSERVER[@]%$(DEFAULT_DNSSERVER)%g" \
 	-e "s%[@]DEFAULT_SSL_CRTD[@]%$(DEFAULT_SSL_CRTD)%g" \
@@ -894,9 +912,7 @@ TESTSOURCES= \
 TEST_CALL_SOURCES = \
 	event.cc
 
-
-check_PROGRAMS+= tests/testAuth \
-	tests/testACLMaxUserIP \
+check_PROGRAMS+=\
 	tests/testBoilerplate \
 	tests/testCacheManager \
 	tests/testDiskIO \
@@ -986,7 +1002,7 @@ tests_testHttpReply_LDFLAGS = $(LIBADD_DL)
 tests_testHttpReply_LDADD=\
 	acl/libapi.la \
 	acl/libstate.la \
-	auth/libauth.la \
+	$(AUTH_LIBS) \
 	ip/libip.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
@@ -1029,6 +1045,7 @@ nodist_tests_testAuth_SOURCES = \
 
 tests_testAuth_LDADD= \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -1097,7 +1114,17 @@ tests_testACLMaxUserIP_SOURCES= \
 nodist_tests_testACLMaxUserIP_SOURCES= \
 	$(TESTSOURCES)
 tests_testACLMaxUserIP_LDADD= \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	acl/libapi.la \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -1140,6 +1167,7 @@ tests_testCacheManager_SOURCES = \
 	tests/testCacheManager.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1263,19 +1291,32 @@ nodist_tests_testCacheManager_SOURCES = \
 	$(BUILT_SOURCES)
 # comm.cc only requires comm/libcomm.la until fdc_table is dead.
 tests_testCacheManager_LDADD = \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	acl/libapi.la \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
+	ipc/libipc.la \
+	mgr/libmgr.la \
+	$(SNMP_LIBS) \
 	comm/libcomm.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
+	anyp/libanyp.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1303,14 +1344,25 @@ nodist_tests_testDiskIO_SOURCES= \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testDiskIO_LDADD = \
+	anyp/libanyp.la \
 	SquidConfig.o \
 	CommCalls.o \
 	DnsLookupDetails.o \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
+	mgr/libmgr.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -1342,6 +1394,7 @@ tests_testEvent_SOURCES = \
 	tests/testEvent.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1464,18 +1517,19 @@ nodist_tests_testEvent_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testEvent_LDADD = \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1502,6 +1556,7 @@ tests_testEventLoop_SOURCES = \
 	tests/testEventLoop.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1624,18 +1679,19 @@ nodist_tests_testEventLoop_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testEventLoop_LDADD = \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1672,6 +1728,7 @@ tests_test_http_range_SOURCES = \
 	CpuAffinitySet.cc \
 	CpuAffinitySet.h \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	debug.cc \
 	$(DELAY_POOL_SOURCE) \
 	disk.cc \
@@ -1779,18 +1836,19 @@ nodist_tests_test_http_range_SOURCES = \
 	$(BUILT_SOURCES)
 tests_test_http_range_LDADD = \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1815,6 +1873,7 @@ tests_testHttpRequest_SOURCES = \
 	tests/testHttpRequestMethod.cc \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1939,18 +1998,19 @@ nodist_tests_testHttpRequest_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testHttpRequest_LDADD = \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -2037,6 +2097,7 @@ nodist_tests_testStore_SOURCES= \
 
 tests_testStore_LDADD= \
 	$(COMMON_LIBS) \
+	anyp/libanyp.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -2068,7 +2129,9 @@ tests_testString_SOURCES = \
 nodist_tests_testString_SOURCES = \
 	$(TESTSOURCES)
 tests_testString_LDADD = \
-	$(COMMON_LIBS) \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
@@ -2137,6 +2200,7 @@ nodist_tests_testUfs_SOURCES = \
 	SquidMath.h \
 	swap_log_op.cc
 tests_testUfs_LDADD = \
+	anyp/libanyp.la \
 	CommCalls.o \
 	DnsLookupDetails.o \
 	$(COMMON_LIBS) \
@@ -2231,6 +2295,7 @@ tests_testURL_SOURCES = \
 	tests/testMain.cc \
 	tests/stub_debug.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -2350,16 +2415,17 @@ tests_testURL_SOURCES = \
 nodist_tests_testURL_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testURL_LDADD = \
+	anyp/libanyp.la \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REGEXLIB) \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
-	$(SNMPLIB) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -207,10 +207,12 @@ struct StoreClientStats : public unary_function<store_client, void> {
 };
 
 void
-MemObject::stat (MemBuf * mb) const
+MemObject::stat(MemBuf * mb) const
 {
     mb->Printf("\t%s %s\n",
                RequestMethodStr(method), log_url);
+    if (vary_headers)
+        mb->Printf("\tvary_headers: %s\n", vary_headers);
     mb->Printf("\tinmem_lo: %"PRId64"\n", inmem_lo);
     mb->Printf("\tinmem_hi: %"PRId64"\n", data_hdr.endOffset());
     mb->Printf("\tswapout: %"PRId64" bytes queued\n",
@@ -100,13 +100,11 @@ xprof_comp(xprof_stats_node ** ii, xprof_stats_node ** jj)
 static void
 xprof_sorthist(TimersArray * xprof_list)
 {
-    int i;
-
-    for (i = 0; i < XPROF_LAST; i++) {
+    for (int i = 0; i < XPROF_LAST; i++) {
         sortlist[i] = xprof_list[i];
     }
 
-    qsort(&sortlist[XPROF_hash_lookup], XPROF_LAST - XPROF_hash_lookup, sizeof(xprof_stats_node *), (QS *) xprof_comp);
+    qsort(&sortlist[XPROF_PROF_UNACCOUNTED+1], XPROF_LAST - XPROF_PROF_UNACCOUNTED+1, sizeof(xprof_stats_node *), (QS *) xprof_comp);
 }
 
 static double time_frame;
@@ -3,23 +3,28 @@
  */
 
 #include "squid.h"
+#include "comm.h"
 #include "ProtoPort.h"
 #if HAVE_LIMITS
 #include <limits>
 #endif
 
-http_port_list::http_port_list(const char *aProtocol)
+http_port_list::http_port_list(const char *aProtocol) :
+        listenFd(-1)
 #if USE_SSL
-        :
-        http(*this), dynamicCertMemCacheSize(std::numeric_limits<size_t>::max())
+        , http(*this)
+        , dynamicCertMemCacheSize(std::numeric_limits<size_t>::max())
 #endif
 {
     protocol = xstrdup(aProtocol);
 }
 
 http_port_list::~http_port_list()
 {
-    delete listener;
+    if (listenFd >= 0) {
+        comm_close(listenFd);
+        listenFd = -1;
+    }
 
     safe_free(name);
     safe_free(defaultsite);
@@ -4,9 +4,7 @@
 #ifndef SQUID_PROTO_PORT_H
 #define SQUID_PROTO_PORT_H
 
-//#include "typedefs.h"
 #include "cbdata.h"
-#include "comm/ListenStateData.h"
 
 #if USE_SSL
 #include "ssl/gadgets.h"
@@ -43,11 +41,11 @@ struct http_port_list {
     } tcp_keepalive;
 
     /**
-     * The FD listening socket handler.
-     * If not NULL we are actively listening for client requests.
-     * delete to close the socket.
+     * The FD listening socket.
+     * If >= 0 we are actively listening for client requests.
+     * use comm_close(listenFd) to stop.
      */
-    Comm::ListenStateData *listener;
+    int listenFd;
 
 #if USE_SSL
     // XXX: temporary hack to ease move of SSL options to http_port
@@ -174,7 +174,8 @@ String::set(char const *loc, char const ch)
 void
 String::cut(String::size_type newLength)
 {
-    if (newLength < 0 || newLength > len_) return;
+    // size_type is size_t, unsigned. No need to check for newLength <0
+    if (newLength > len_) return;
 
     len_ = newLength;
 
@@ -33,25 +33,24 @@
  *
  */
 
-#include "squid.h"
+#include "config.h"
 #include "URLScheme.h"
 #include "wordlist.h"
 
-const char *ProtocolStr[] = {
-    "NONE",
-    "http",
-    "ftp",
-    "gopher",
-    "wais",
-    "cache_object",
-    "icp",
-#if USE_HTCP
-    "htcp",
-#endif
-    "urn",
-    "whois",
-    "internal",
-    "https",
-    "icy",
-    "TOTAL"
-};
+char const *
+URLScheme::const_str() const
+{
+    if (theScheme_ == AnyP::PROTO_UNKNOWN)
+        return "(unknown)";
+
+    static char out[BUFSIZ];
+    int p = 0;
+
+    if (theScheme_ > AnyP::PROTO_NONE && theScheme_ < AnyP::PROTO_MAX) {
+        const char *in = AnyP::ProtocolType_str[theScheme_];
+        for (; p < (BUFSIZ-1) && in[p] != '\0'; ++p)
+            out[p] = xtolower(in[p]);
+    }
+    out[p] = '\0';
+    return out;
+}
@@ -34,40 +34,36 @@
 #ifndef SQUID_URLSCHEME_H
 #define SQUID_URLSCHEME_H
 
-/* For the definition of NULL and protocol_t */
-#include "squid.h"
-
+#include "anyp/ProtocolType.h"
+#if HAVE_IOSFWD
 #include <iosfwd>
+#endif
 
-extern const char *ProtocolStr[];
-
-/* This class represents a URL Scheme such as HTTPS, HTTP, WAIS etc.
+/** This class represents a URL Scheme such as HTTPS, HTTP, WAIS etc.
  * It does not represent the PROTOCOL that such schemes refer to.
  */
-
 class URLScheme
 {
 
 public:
-    URLScheme() : theScheme(PROTO_NONE) {}
+    URLScheme() : theScheme_(AnyP::PROTO_NONE) {}
+    URLScheme(AnyP::ProtocolType const aScheme) : theScheme_(aScheme) {}
+    ~URLScheme() {}
 
-    URLScheme(protocol_t const aScheme) : theScheme(aScheme) {}
+    operator AnyP::ProtocolType() const { return theScheme_; }
 
-    operator protocol_t() const { return theScheme; }
+    bool operator != (AnyP::ProtocolType const & aProtocol) const { return theScheme_ != aProtocol; }
 
-    bool operator != (protocol_t const & aProtocol) const { return theScheme != aProtocol;}
-
-    /* Get a char string representation of the scheme. */
-    char const *const_str() const { return ProtocolStr[theScheme]; }
+    /** Get a char string representation of the scheme.
+     * An upper bound length of BUFSIZ bytes converted. Remainder will be truncated.
+     * The result of this call will remain usable only until any subsequest call
+     * and must be copied if persistence is needed.
+     */
+    char const *const_str() const;
 
 private:
-    /* This is a typecode for now - TODO make the varying methods virtual
-     * Doing that without doubling the storage size will require having
-     * something like a flyweight. perhaps the strategy pattern is appropiate:
-     * one strategy per scheme, and an object that is nothing but a pointer
-     * into the registry of schemes.
-     */
-    protocol_t theScheme;
+    /// This is a typecode pointer into the enum/registry of protocols handled.
+    AnyP::ProtocolType theScheme_;
 };
 
 inline std::ostream &
@@ -74,8 +74,8 @@ splaystrcmp (T&l, T&r)
 static int
 aclHostDomainCompare( char *const &a, char * const &b)
 {
-    const char *h = (const char *)a;
-    const char *d = (const char *)b;
+    const char *h = static_cast<const char *>(a);
+    const char *d = static_cast<const char *>(b);
     return matchDomainName(h, d);
 }
 
@@ -86,22 +86,29 @@ template<class T>
 int
 aclDomainCompare(T const &a, T const &b)
 {
-    char * const d1 = (char *const)b;
-    char * const d2 = (char *const )a;
+    char * const d1 = static_cast<char *>(b);
+    char * const d2 = static_cast<char *>(a);
     int ret;
     ret = aclHostDomainCompare(d1, d2);
 
     if (ret != 0) {
         char *const d3 = d2;
         char *const d4 = d1;
         ret = aclHostDomainCompare(d3, d4);
-    }
-
-    /* FIXME this warning may display d1 and d2 when it should display d3 and d4 */
-    if (ret == 0) {
-        debugs(28, 0, "WARNING: '" << d1 << "' is a subdomain of '" << d2 << "'");
-        debugs(28, 0, "WARNING: because of this '" << (char *) a << "' is ignored to keep splay tree searching predictable");
-        debugs(28, 0, "WARNING: You should probably remove '" << d1 << "' from the ACL named '" << AclMatchedName << "'");
+        if (ret == 0) {
+            // When a.example.com comes after .example.com in an ACL
+            // sub-domain is ignored. That is okay. Just important
+            debugs(28, DBG_IMPORTANT, "WARNING: '" << d3 << "' is a subdomain of '" << d4 << "'");
+            debugs(28, DBG_IMPORTANT, "WARNING: because of this '" << d3 << "' is ignored to keep splay tree searching predictable");
+            debugs(28, DBG_IMPORTANT, "WARNING: You should remove '" << (*d3=='.'?d4:d3) << "' from the ACL named '" << AclMatchedName << "'");
+        }
+    } else if (ret == 0) {
+        // When a.example.com comes before .example.com in an ACL
+        // discarding the wildcard is critically bad.
+        debugs(28, DBG_CRITICAL, "ERROR: '" << d1 << "' is a subdomain of '" << d2 << "'");
+        debugs(28, DBG_CRITICAL, "ERROR: because of this '" << d2 << "' is ignored to keep splay tree searching predictable");
+        debugs(28, DBG_CRITICAL, "ERROR: You should remove '" << (*d1=='.'?d2:d1) << "' from the ACL named '" << AclMatchedName << "'");
+        self_destruct();
     }
 
     return ret;
@@ -35,6 +35,9 @@
  */
 
 #include "squid.h"
+
+#if USE_AUTH
+
 #include "acl/ExtUser.h"
 #include "acl/FilledChecklist.h"
 #include "acl/RegexData.h"
@@ -103,3 +106,4 @@ ACLExtUser::clone() const
     return new ACLExtUser(*this);
 }
 
+#endif /* USE_AUTH */
@@ -35,6 +35,8 @@
 #ifndef SQUID_EXTUSER_H
 #define SQUID_EXTUSER_H
 
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Checklist.h"
 #include "acl/Data.h"
@@ -70,4 +72,5 @@ class ACLExtUser : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLExtUser);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_EXTUSER_H */
@@ -2,8 +2,10 @@
 #include "HttpRequest.h"
 #include "HttpReply.h"
 #include "client_side.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
 #include "auth/AclProxyAuth.h"
+#endif
 #include "acl/FilledChecklist.h"
 
 CBDATA_CLASS_INIT(ACLFilledChecklist);
@@ -13,6 +15,7 @@ ACLFilledChecklist::checkCallback(allow_t answer)
 {
     debugs(28, 5, HERE << this << " answer=" << answer);
 
+#if USE_AUTH
     /* During reconfigure, we can end up not finishing call
      * sequences into the auth code */
 
@@ -24,6 +27,7 @@ ACLFilledChecklist::checkCallback(allow_t answer)
             conn()->auth_user_request = NULL;
         }
     }
+#endif
 
     ACLChecklist::checkCallback(answer); // may delete us
 }
@@ -51,7 +55,9 @@ ACLFilledChecklist::ACLFilledChecklist() :
         dst_rdns(NULL),
         request (NULL),
         reply (NULL),
+#if USE_AUTH
         auth_user_request (NULL),
+#endif
 #if SQUID_SNMP
         snmp_community(NULL),
 #endif
@@ -161,7 +167,9 @@ ACLFilledChecklist::ACLFilledChecklist(const acl_access *A, HttpRequest *http_re
         dst_rdns(NULL),
         request(NULL),
         reply(NULL),
+#if USE_AUTh
         auth_user_request(NULL),
+#endif
 #if SQUID_SNMP
         snmp_community(NULL),
 #endif
@@ -2,7 +2,9 @@
 #define SQUID_ACLFILLED_CHECKLIST_H
 
 #include "acl/Checklist.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 
 class ExternalACLEntry;
 class ConnStateData;
@@ -53,8 +55,9 @@ class ACLFilledChecklist: public ACLChecklist
     HttpReply *reply;
 
     char rfc931[USER_IDENT_SZ];
+#if USE_AUTH
     AuthUserRequest::Pointer auth_user_request;
-
+#endif
 #if SQUID_SNMP
     char *snmp_community;
 #endif
@@ -35,7 +35,7 @@
  */
 
 #include "config.h"
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <squid_windows.h>
 #endif
 #include "squid.h"
@@ -41,7 +41,7 @@
 
 /* explicit template instantiation required for some systems */
 
-template class ACLStrategised<protocol_t>;
+template class ACLStrategised<AnyP::ProtocolType>;
 
 
 
@@ -35,10 +35,12 @@
 
 #ifndef SQUID_ACLPROTOCOL_H
 #define SQUID_ACLPROTOCOL_H
+
 #include "acl/Strategy.h"
 #include "acl/Strategised.h"
+#include "anyp/ProtocolType.h"
 
-class ACLProtocolStrategy : public ACLStrategy<protocol_t>
+class ACLProtocolStrategy : public ACLStrategy<AnyP::ProtocolType>
 {
 
 public:
@@ -63,7 +65,7 @@ class ACLProtocol
 
 private:
     static ACL::Prototype RegistryProtoype;
-    static ACLStrategised<protocol_t> RegistryEntry_;
+    static ACLStrategised<AnyP::ProtocolType> RegistryEntry_;
 };
 
 #endif /* SQUID_ACLPROTOCOL_H */
@@ -55,25 +55,25 @@ ACLProtocolData::~ACLProtocolData()
 }
 
 bool
-ACLProtocolData::match(protocol_t toFind)
+ACLProtocolData::match(AnyP::ProtocolType toFind)
 {
     return values->findAndTune (toFind);
 }
 
 /* explicit instantiation required for some systems */
 
 /// \cond AUTODOCS-IGNORE
-template cbdata_type CbDataList<protocol_t>::CBDATA_CbDataList;
+template cbdata_type CbDataList<AnyP::ProtocolType>::CBDATA_CbDataList;
 /// \endcond
 
 wordlist *
 ACLProtocolData::dump()
 {
     wordlist *W = NULL;
-    CbDataList<protocol_t> *data = values;
+    CbDataList<AnyP::ProtocolType> *data = values;
 
     while (data != NULL) {
-        wordlistAdd(&W, ProtocolStr[data->element]);
+        wordlistAdd(&W, AnyP::ProtocolType_str[data->element]);
         data = data->next;
     }
 
@@ -83,14 +83,21 @@ ACLProtocolData::dump()
 void
 ACLProtocolData::parse()
 {
-    CbDataList<protocol_t> **Tail;
+    CbDataList<AnyP::ProtocolType> **Tail;
     char *t = NULL;
 
     for (Tail = &values; *Tail; Tail = &((*Tail)->next));
     while ((t = strtokFile())) {
-        CbDataList<protocol_t> *q = new CbDataList<protocol_t> (urlParseProtocol(t));
-        *(Tail) = q;
-        Tail = &q->next;
+        for (int p = AnyP::PROTO_NONE; p < AnyP::PROTO_UNKNOWN; ++p) {
+            if (strcasecmp(t, AnyP::ProtocolType_str[p]) != 0) {
+                CbDataList<AnyP::ProtocolType> *q = new CbDataList<AnyP::ProtocolType>(static_cast<AnyP::ProtocolType>(p));
+                *(Tail) = q;
+                Tail = &q->next;
+                break;
+            } else {
+                debugs(28, DBG_IMPORTANT, "WARNING: Ignoring unknown protocol '" << t << "' in the ACL named '" << AclMatchedName << "'");
+            }
+        }
     }
 }
 
@@ -100,7 +107,7 @@ ACLProtocolData::empty() const
     return values == NULL;
 }
 
-ACLData<protocol_t> *
+ACLData<AnyP::ProtocolType> *
 ACLProtocolData::clone() const
 {
     /* Splay trees don't clone yet. */
@@ -35,11 +35,13 @@
 
 #ifndef SQUID_ACLPROTOCOLDATA_H
 #define SQUID_ACLPROTOCOLDATA_H
+
 #include "acl/Acl.h"
 #include "acl/Data.h"
+#include "anyp/ProtocolType.h"
 #include "CbDataList.h"
 
-class ACLProtocolData : public ACLData<protocol_t>
+class ACLProtocolData : public ACLData<AnyP::ProtocolType>
 {
 
 public:
@@ -49,13 +51,13 @@ class ACLProtocolData : public ACLData<protocol_t>
     ACLProtocolData(ACLProtocolData const &);
     ACLProtocolData &operator= (ACLProtocolData const &);
     virtual ~ACLProtocolData();
-    bool match(protocol_t);
+    bool match(AnyP::ProtocolType);
     wordlist *dump();
     void parse();
     bool empty() const;
-    virtual ACLData<protocol_t> *clone() const;
+    virtual ACLData<AnyP::ProtocolType> *clone() const;
 
-    CbDataList<protocol_t> *values;
+    CbDataList<AnyP::ProtocolType> *values;
 };
 
 MEMPROXY_CLASS_INLINE(ACLProtocolData);
@@ -28,6 +28,7 @@ Adaptation::Ecap::Host::Host()
     // this code can run only once
 
     libecap::headerReferer.assignHostId(HDR_REFERER);
+    libecap::headerContentLength.assignHostId(HDR_CONTENT_LENGTH);
 
     libecap::protocolHttp.assignHostId(PROTO_HTTP);
     libecap::protocolHttps.assignHostId(PROTO_HTTPS);
@@ -48,6 +48,9 @@ Adaptation::Ecap::HeaderRep::add(const Name &name, const Value &value)
     HttpHeaderEntry *e = new HttpHeaderEntry(squidId, name.image().c_str(),
             value.toString().c_str());
     theHeader.addEntry(e);
+
+    if (squidId == HDR_CONTENT_LENGTH)
+        theMessage.content_length = theHeader.getInt64(HDR_CONTENT_LENGTH);
 }
 
 void
@@ -58,6 +61,9 @@ Adaptation::Ecap::HeaderRep::removeAny(const Name &name)
         theHeader.delByName(name.image().c_str());
     else
         theHeader.delById(squidId);
+
+    if (squidId == HDR_CONTENT_LENGTH)
+        theMessage.content_length = theHeader.getInt64(HDR_CONTENT_LENGTH);
 }
 
 libecap::Area
@@ -1422,13 +1422,15 @@ void Adaptation::Icap::ModXact::makeAllowHeader(MemBuf &buf)
 
 void Adaptation::Icap::ModXact::makeUsernameHeader(const HttpRequest *request, MemBuf &buf)
 {
+#if USE_AUTH
     if (request->auth_user_request != NULL) {
         char const *name = request->auth_user_request->username();
         if (name) {
             const char *value = TheConfig.client_username_encode ? base64_encode(name) : name;
             buf.Printf("%s: %s\r\n", TheConfig.client_username_header, value);
         }
     }
+#endif
 }
 
 void Adaptation::Icap::ModXact::encapsulateHead(MemBuf &icapBuf, const char *section, MemBuf &httpBuf, const HttpMsg *head)
@@ -0,0 +1,13 @@
+include $(top_srcdir)/src/Common.am
+include $(top_srcdir)/src/TestHeaders.am
+
+noinst_LTLIBRARIES = libanyp.la
+
+libanyp_la_SOURCES = \
+	ProtocolType.cc \
+	ProtocolType.h
+
+ProtocolType.cc: ProtocolType.h $(top_srcdir)/src/mk-string-arrays.awk
+	($(AWK) -f $(top_srcdir)/src/mk-string-arrays.awk <$(srcdir)/ProtocolType.h | sed -e 's%PROTO_%%' >$@) || ($(RM) -f $@ && exit 1)
+
+CLEANFILES += ProtocolType.cc
@@ -0,0 +1,53 @@
+#ifndef _SQUID_SRC_ANYP_PROTOCOLTYPE_H
+#define _SQUID_SRC_ANYP_PROTOCOLTYPE_H
+
+#if HAVE_OSTREAM
+#include <ostream>
+#endif
+
+namespace AnyP {
+
+/**
+ * List of all protocols known and supported.
+ * This is a combined list. It is used as type-codes where needed and
+ * the AnyP::ProtocolType_Str array of strings may be used for display
+ */
+typedef enum {
+    PROTO_NONE = 0,
+    PROTO_HTTP,
+    PROTO_FTP,
+    PROTO_HTTPS,
+    PROTO_GOPHER,
+    PROTO_WAIS,
+    PROTO_CACHEOBJ,
+    PROTO_ICP,
+#if USE_HTCP
+    PROTO_HTCP,
+#endif
+    PROTO_URN,
+    PROTO_WHOIS,
+    PROTO_INTERNAL,
+    PROTO_ICY,
+    PROTO_UNKNOWN,
+    PROTO_MAX
+} ProtocolType;
+
+extern const char *ProtocolType_str[];
+
+/** Display the registered Protocol Type (in upper case).
+ *  If the protocol is not a registered AnyP::ProtocolType nothing will be displayed.
+ * The caller is responsible for any alternative text.
+ */
+inline std::ostream &
+operator <<(std::ostream &os, ProtocolType const &p)
+{
+    if (PROTO_NONE <= p && p < PROTO_MAX)
+        os << ProtocolType_str[p];
+    else
+        os << static_cast<int>(p);
+    return os;
+}
+
+} // namespace AnyP
+
+#endif /* _SQUID_SRC_ANYP_PROTOCOLTYPE_H */
@@ -1,6 +1,8 @@
 #ifndef SQUID_AUTH_ACL_H
 #define SQUID_AUTH_ACL_H
 
+#if USE_AUTH
+
 // ACL-related code used by authentication-related code. This code is not in
 // auth/Gadgets to avoid making auth/libauth dependent on acl/libstate because
 // acl/libstate already depends on auth/libauth.
@@ -9,4 +11,5 @@ class ACLChecklist;
 /// \ingroup AuthAPI
 extern int AuthenticateAcl(ACLChecklist *ch);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTH_ACL_H */
@@ -35,6 +35,8 @@
 #ifndef SQUID_ACLMAXUSERIP_H
 #define SQUID_ACLMAXUSERIP_H
 
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Checklist.h"
 #include "auth/UserRequest.h"
@@ -81,4 +83,5 @@ class ACLMaxUserIP : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLMaxUserIP);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_ACLMAXUSERIP_H */
@@ -34,6 +34,9 @@
 
 #ifndef SQUID_ACLPROXYAUTH_H
 #define SQUID_ACLPROXYAUTH_H
+
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Data.h"
 #include "acl/Checklist.h"
@@ -97,4 +100,5 @@ class ACLProxyAuth : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLProxyAuth);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_ACLPROXYAUTH_H */
@@ -1,11 +1,14 @@
 #ifndef _SQUID__SRC_AUTH_AUTHACLSTATE_H
 #define _SQUID__SRC_AUTH_AUTHACLSTATE_H
 
+#if USE_AUTH
+
 typedef enum {
     AUTH_ACL_CHALLENGE = -2,
     AUTH_ACL_HELPER = -1,
     AUTH_ACL_CANNOT_AUTHENTICATE = 0,
     AUTH_AUTHENTICATED = 1
 } AuthAclState;
 
-#endif
+#endif /* USE_AUTH */
+#endif /* _SQUID__SRC_AUTH_AUTHACLSTATE_H */
@@ -1,6 +1,8 @@
 #ifndef _SQUID__SRC_AUTH_AUTHTYPE_H
 #define _SQUID__SRC_AUTH_AUTHTYPE_H
 
+#if USE_AUTH
+
 typedef enum {
     AUTH_UNKNOWN,               /* default */
     AUTH_BASIC,
@@ -12,4 +14,5 @@ typedef enum {
 
 extern const char *AuthType_str[];
 
+#endif /* USE_AUTH */
 #endif
@@ -32,6 +32,8 @@
 #ifndef SQUID_AUTHCONFIG_H
 #define SQUID_AUTHCONFIG_H
 
+#if USE_AUTH
+
 #include "auth/UserRequest.h"
 #include "HelperChildConfig.h"
 
@@ -142,4 +144,5 @@ extern authConfig TheConfig;
 
 } // namespace Auth
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHCONFIG_H */
@@ -33,6 +33,8 @@
 #ifndef SQUID_AUTH_GADGETS_H
 #define SQUID_AUTH_GADGETS_H
 
+#if USE_AUTH
+
 #include "hash.h"
 #include "MemPool.h"
 #include "auth/Config.h"
@@ -107,4 +109,5 @@ extern int authenticateSchemeCount(void);
 /// \ingroup AuthAPI
 extern void authenticateOnCloseConnection(ConnStateData * conn);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTH_GADGETS_H */
@@ -33,6 +33,8 @@
 #ifndef SQUID_AUTHSCHEME_H
 #define SQUID_AUTHSCHEME_H
 
+#if USE_AUTH
+
 #include "Array.h"
 #include "RefCount.h"
 
@@ -100,4 +102,5 @@ class AuthScheme : public RefCountable
     static Vector<AuthScheme::Pointer> *_Schemes;
 };
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHSCHEME_H */
@@ -1,6 +1,8 @@
 #ifndef __AUTH_AUTHENTICATE_STATE_T__
 #define __AUTH_AUTHENTICATE_STATE_T__
 
+#if USE_AUTH
+
 #include "auth/UserRequest.h"
 
 /**
@@ -16,4 +18,5 @@ extern CBDATA_GLOBAL_TYPE(authenticateStateData);
 
 extern void authenticateStateFree(authenticateStateData * r);
 
+#endif /* USE_AUTH */
 #endif /* __AUTH_AUTHENTICATE_STATE_T__ */
@@ -34,6 +34,8 @@
 #ifndef SQUID_AUTHUSER_H
 #define SQUID_AUTHUSER_H
 
+#if USE_AUTH
+
 #include "auth/AuthType.h"
 #include "dlink.h"
 #include "ip/Address.h"
@@ -134,4 +136,5 @@ extern const char *CredentialsState_str[];
 #include "auth/User.cci"
 #endif
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHUSER_H */
@@ -35,6 +35,8 @@
 #ifndef SQUID_AUTHUSERREQUEST_H
 #define SQUID_AUTHUSERREQUEST_H
 
+#if USE_AUTH
+
 #include "auth/AuthAclState.h"
 #include "auth/Scheme.h"
 #include "auth/User.h"
@@ -200,5 +202,5 @@ extern int authenticateDirection(AuthUserRequest::Pointer);
 /// See AuthUserRequest::authenticated()
 extern int authenticateUserAuthenticated(AuthUserRequest::Pointer);
 
-
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHUSERREQUEST_H */
@@ -160,7 +160,6 @@ AuthBasicConfig::done()
 BasicUser::~BasicUser()
 {
     safe_free(passwd);
-    safe_free(cleartext);
 }
 
 static void
@@ -301,109 +300,46 @@ authBasicAuthUserFindUsername(const char *username)
     return NULL;
 }
 
-void
-BasicUser::deleteSelf() const
-{
-    delete this;
-}
-
 BasicUser::BasicUser(AuthConfig *aConfig) :
         AuthUser(aConfig),
         passwd(NULL),
         auth_queue(NULL),
-        cleartext(NULL),
-        currentRequest(NULL),
-        httpAuthHeader(NULL)
+        currentRequest(NULL)
 {}
 
-bool
-BasicUser::decodeCleartext()
-{
-    char *sent_auth = NULL;
-
-    /* username and password */
-    sent_auth = xstrdup(httpAuthHeader);
-
-    /* Trim trailing \n before decoding */
-    strtok(sent_auth, "\n");
-
-    cleartext = uudecode(sent_auth);
-
-    safe_free(sent_auth);
-
-    if (!cleartext)
-        return false;
-
-    /*
-     * Don't allow NL or CR in the credentials.
-     * Oezguer Kesim <oec@codeblau.de>
-     */
-    debugs(29, 9, HERE << "'" << cleartext << "'");
-
-    if (strcspn(cleartext, "\r\n") != strlen(cleartext)) {
-        debugs(29, 1, HERE << "bad characters in authorization header '" << httpAuthHeader << "'");
-        safe_free(cleartext);
-        return false;
-    }
-    return true;
-}
-
-void
-BasicUser::extractUsername()
+char *
+AuthBasicConfig::decodeCleartext(const char *httpAuthHeader)
 {
-    char * seperator = strchr(cleartext, ':');
-
-    if (seperator == NULL) {
-        username(cleartext);
-    } else {
-        /* terminate the username */
-        *seperator = '\0';
+    const char *proxy_auth = httpAuthHeader;
 
-        username(cleartext);
-
-        /* replace the colon so we can find the password */
-        *seperator = ':';
-    }
-
-    if (!static_cast<AuthBasicConfig*>(config)->casesensitive)
-        Tolower((char *)username());
-}
+    /* trim BASIC from string */
+    while (xisgraph(*proxy_auth))
+        proxy_auth++;
 
-void
-BasicUser::extractPassword()
-{
-    passwd = strchr(cleartext, ':');
+    /* Trim leading whitespace before decoding */
+    while (xisspace(*proxy_auth))
+        proxy_auth++;
 
-    if (passwd == NULL) {
-        debugs(29, 4, HERE << "no password in proxy authorization header '" << httpAuthHeader << "'");
-        passwd = NULL;
-        currentRequest->setDenyMessage("no password was present in the HTTP [proxy-]authorization header. This is most likely a browser bug");
-    } else {
-        ++passwd;
-        if (*passwd == '\0') {
-            debugs(29, 4, HERE << "Disallowing empty password,user is '" << username() << "'");
-            passwd = NULL;
-            currentRequest->setDenyMessage("Request denied because you provided an empty password. Users MUST have a password.");
-        } else {
-            passwd = xstrndup(passwd, USER_IDENT_SZ);
+    /* Trim trailing \n before decoding */
+    // XXX: really? is the \n actually still there? does the header parse not drop it?
+    char *eek = xstrdup(proxy_auth);
+    strtok(eek, "\n");
+    char *cleartext = uudecode(eek);
+    safe_free(eek);
+
+    if (cleartext) {
+        /*
+         * Don't allow NL or CR in the credentials.
+         * Oezguer Kesim <oec@codeblau.de>
+         */
+        debugs(29, 9, HERE << "'" << cleartext << "'");
+
+        if (strcspn(cleartext, "\r\n") != strlen(cleartext)) {
+            debugs(29, DBG_IMPORTANT, "WARNING: Bad characters in authorization header '" << httpAuthHeader << "'");
+            safe_free(cleartext);
         }
     }
-}
-
-void
-BasicUser::decode(char const *proxy_auth, AuthUserRequest::Pointer auth_user_request)
-{
-    currentRequest = auth_user_request;
-    httpAuthHeader = proxy_auth;
-    if (decodeCleartext()) {
-        extractUsername();
-        extractPassword();
-    }
-    currentRequest = NULL; // AYJ: why ?? we have only just filled it with data!
-    // so that we dont have circular UserRequest->User->UseRequest loops persisting outside the auth decode sequence????
-
-    // okay we dont need the original buffer string any more.
-    httpAuthHeader = NULL;
+    return cleartext;
 }
 
 bool
@@ -416,26 +352,6 @@ BasicUser::valid() const
     return true;
 }
 
-/**
- * Generate a duplicate of the bad credentials before clearing the working copy.
- */
-void
-BasicUser::makeLoggingInstance(AuthUserRequest::Pointer auth_user_request)
-{
-    if (username()) {
-        /* log the username */
-        debugs(29, 9, HERE << "Creating new user for logging '" << username() << "'");
-        /* new scheme data */
-        AuthUser::Pointer basic_auth = dynamic_cast<AuthUser*>(new BasicUser(config));
-        auth_user_request->user(basic_auth);
-        /* save the credentials */
-        basic_auth->username(username());
-        username(NULL);
-        /* set the auth_user type */
-        basic_auth->auth_type = AUTH_BROKEN;
-    }
-}
-
 void
 BasicUser::updateCached(BasicUser *from)
 {
@@ -469,43 +385,70 @@ AuthBasicConfig::decode(char const *proxy_auth)
 {
     AuthUserRequest::Pointer auth_user_request = dynamic_cast<AuthUserRequest*>(new AuthBasicUserRequest);
     /* decode the username */
-    /* trim BASIC from string */
 
-    while (xisgraph(*proxy_auth))
-        proxy_auth++;
+    // retrieve the cleartext (in a dynamically allocated char*)
+    char *cleartext = decodeCleartext(proxy_auth);
 
-    /* decoder copy. maybe temporary. maybe added to hash if none already existing. */
-    BasicUser *local_basic = new BasicUser(this);
+    // empty header? no auth details produced...
+    if (!cleartext)
+        return auth_user_request;
 
-    /* Trim leading whitespace before decoding */
-    while (xisspace(*proxy_auth))
-        proxy_auth++;
+    AuthUser::Pointer lb;
+    /* permitted because local_basic is purely local function scope. */
+    BasicUser *local_basic = NULL;
+
+    char *seperator = strchr(cleartext, ':');
+
+    lb = local_basic = new BasicUser(this);
+    if (seperator == NULL) {
+        local_basic->username(cleartext);
+    } else {
+        /* terminate the username */
+        *seperator = '\0';
+        local_basic->username(cleartext);
+        local_basic->passwd = xstrdup(seperator+1);
+    }
+
+    if (!casesensitive)
+        Tolower((char *)local_basic->username());
+
+    if (local_basic->passwd == NULL) {
+        debugs(29, 4, HERE << "no password in proxy authorization header '" << proxy_auth << "'");
+        auth_user_request->setDenyMessage("no password was present in the HTTP [proxy-]authorization header. This is most likely a browser bug");
+    } else {
+        if (local_basic->passwd[0] == '\0') {
+            debugs(29, 4, HERE << "Disallowing empty password. User is '" << local_basic->username() << "'");
+            safe_free(local_basic->passwd);
+            auth_user_request->setDenyMessage("Request denied because you provided an empty password. Users MUST have a password.");
+        }
+    }
 
-    local_basic->decode(proxy_auth, auth_user_request);
+    xfree(cleartext);
 
     if (!local_basic->valid()) {
-        local_basic->makeLoggingInstance(auth_user_request);
+        lb->auth_type = AUTH_BROKEN;
+        auth_user_request->user(lb);
         return auth_user_request;
     }
 
     /* now lookup and see if we have a matching auth_user structure in memory. */
     AuthUser::Pointer auth_user;
 
-    if ((auth_user = authBasicAuthUserFindUsername(local_basic->username())) == NULL) {
+    if ((auth_user = authBasicAuthUserFindUsername(lb->username())) == NULL) {
         /* the user doesn't exist in the username cache yet */
         /* save the credentials */
-        debugs(29, 9, HERE << "Creating new user '" << local_basic->username() << "'");
+        debugs(29, 9, HERE << "Creating new user '" << lb->username() << "'");
         /* set the auth_user type */
-        local_basic->auth_type = AUTH_BASIC;
+        lb->auth_type = AUTH_BASIC;
         /* current time for timeouts */
-        local_basic->expiretime = current_time.tv_sec;
+        lb->expiretime = current_time.tv_sec;
 
         /* this basic_user struct is the 'lucky one' to get added to the username cache */
         /* the requests after this link to the basic_user */
         /* store user in hash */
-        local_basic->addToNameCache();
+        lb->addToNameCache();
 
-        auth_user = dynamic_cast<AuthUser*>(local_basic);
+        auth_user = lb;
         assert(auth_user != NULL);
     } else {
         /* replace the current cached password with the new one */
@@ -31,17 +31,13 @@ class BasicUser : public AuthUser
 public:
     MEMPROXY_CLASS(BasicUser);
 
-    virtual void deleteSelf() const;
     BasicUser(AuthConfig *);
     ~BasicUser();
     bool authenticated() const;
     void queueRequest(AuthUserRequest::Pointer auth_user_request, RH * handler, void *data);
     void submitRequest(AuthUserRequest::Pointer auth_user_request, RH * handler, void *data);
-    void decode(char const *credentials, AuthUserRequest::Pointer);
-    char *getCleartext() {return cleartext;}
 
     bool valid() const;
-    void makeLoggingInstance(AuthUserRequest::Pointer auth_user_request);
 
     /** Update the cached password for a username. */
     void updateCached(BasicUser *from);
@@ -52,12 +48,7 @@ class BasicUser : public AuthUser
     BasicAuthQueueNode *auth_queue;
 
 private:
-    bool decodeCleartext();
-    void extractUsername();
-    void extractPassword();
-    char *cleartext;
     AuthUserRequest::Pointer currentRequest;
-    char const *httpAuthHeader;
 };
 
 MEMPROXY_CLASS_INLINE(BasicUser);
@@ -79,12 +70,16 @@ class AuthBasicConfig : public AuthConfig
     virtual void fixHeader(AuthUserRequest::Pointer, HttpReply *, http_hdr_type, HttpRequest *);
     virtual void init(AuthConfig *);
     virtual void parse(AuthConfig *, int, char *);
+    void decode(char const *httpAuthHeader, AuthUserRequest::Pointer);
     virtual void registerWithCacheManager(void);
     virtual const char * type() const;
     char *basicAuthRealm;
     time_t credentialsTTL;
     int casesensitive;
     int utf8;
+
+private:
+    char * decodeCleartext(const char *httpAuthHeader);
 };
 
 #endif /* __AUTH_BASIC_H__ */
@@ -443,7 +443,7 @@ authDigestNonceIsStale(digest_nonce_h * nonce)
  * \retval  0    the digest is not stale yet
  * \retval -1    the digest will be stale on the next request
  */
-const int
+int
 authDigestNonceLastRequest(digest_nonce_h * nonce)
 {
     if (!nonce)
@@ -73,7 +73,7 @@ struct _digest_nonce_h : public hash_link {
 extern void authDigestNonceUnlink(digest_nonce_h * nonce);
 extern int authDigestNonceIsValid(digest_nonce_h * nonce, char nc[9]);
 extern const char *authenticateDigestNonceNonceb64(const digest_nonce_h * nonce);
-extern const int authDigestNonceLastRequest(digest_nonce_h * nonce);
+extern int authDigestNonceLastRequest(digest_nonce_h * nonce);
 
 /* configuration runtime data */
 
@@ -147,17 +147,6 @@ AuthNegotiateConfig::parse(AuthConfig * scheme, int n_configured, char *param_st
     } else {
         debugs(29, 0, "AuthNegotiateConfig::parse: unrecognised negotiate auth scheme parameter '" << param_str << "'");
     }
-
-    /*
-     * disable client side request pipelining. There is a race with
-     * Negotiate when the client sends a second request on an Negotiate
-     * connection before the authenticate challenge is sent. With
-     * this patch, the client may fail to authenticate, but squid's
-     * state will be preserved.  Caveats: this should be a post-parse
-     * test, but that can wait for the modular parser to be integrated.
-     */
-    if (authenticate)
-        Config.onoff.pipeline_prefetch = 0;
 }
 
 const char *
@@ -331,12 +320,6 @@ AuthNegotiateConfig::decode(char const *proxy_auth)
     return auth_user_request;
 }
 
-void
-NegotiateUser::deleteSelf() const
-{
-    delete this;
-}
-
 NegotiateUser::NegotiateUser(AuthConfig *aConfig) : AuthUser (aConfig)
 {
     proxy_auth_list.head = proxy_auth_list.tail = NULL;
@@ -29,7 +29,6 @@ class NegotiateUser : public AuthUser
     MEMPROXY_CLASS(NegotiateUser);
     NegotiateUser(AuthConfig *);
     ~NegotiateUser();
-    virtual void deleteSelf() const;
     virtual int32_t ttl() const;
 
     dlink_list proxy_auth_list;
@@ -135,17 +135,6 @@ AuthNTLMConfig::parse(AuthConfig * scheme, int n_configured, char *param_str)
     } else {
         debugs(29, 0, "AuthNTLMConfig::parse: unrecognised ntlm auth scheme parameter '" << param_str << "'");
     }
-
-    /*
-     * disable client side request pipelining. There is a race with
-     * NTLM when the client sends a second request on an NTLM
-     * connection before the authenticate challenge is sent. With
-     * this patch, the client may fail to authenticate, but squid's
-     * state will be preserved.  Caveats: this should be a post-parse
-     * test, but that can wait for the modular parser to be integrated.
-     */
-    if (authenticate)
-        Config.onoff.pipeline_prefetch = 0;
 }
 
 const char *
@@ -305,12 +294,6 @@ AuthNTLMConfig::decode(char const *proxy_auth)
     return auth_user_request;
 }
 
-void
-NTLMUser::deleteSelf() const
-{
-    delete this;
-}
-
 NTLMUser::NTLMUser (AuthConfig *aConfig) : AuthUser (aConfig)
 {
     proxy_auth_list.head = proxy_auth_list.tail = NULL;
@@ -21,7 +21,6 @@ class NTLMUser : public AuthUser
     NTLMUser(AuthConfig *);
     ~NTLMUser();
 
-    virtual void deleteSelf() const;
     virtual int32_t ttl() const;
 
     dlink_list proxy_auth_list;
@@ -84,6 +84,10 @@ class AsyncCall: public RefCountable
 
 private:
     const char *isCanceled; // set to the cancelation reason by cancel()
+
+    // not implemented to prevent nil calls from being passed around and unknowingly scheduled, for now.
+    AsyncCall();
+    AsyncCall(const AsyncCall &);
 };
 
 inline
@@ -122,6 +126,12 @@ class AsyncCallT: public AsyncCall
                const Dialer &aDialer): AsyncCall(aDebugSection, aDebugLevel, aName),
             dialer(aDialer) {}
 
+    AsyncCallT(const AsyncCallT<Dialer> &o):
+            AsyncCall(o.debugSection, o.debugLevel, o.name),
+            dialer(o.dialer) {}
+
+    ~AsyncCallT() {}
+
     CallDialer *getDialer() { return &dialer; }
 
 protected:
@@ -132,6 +142,9 @@ class AsyncCallT: public AsyncCall
     virtual void fire() { dialer.dial(*this); }
 
     Dialer dialer;
+
+private:
+    AsyncCallT & operator=(const AsyncCallT &); // not defined. call assignments not permitted.
 };
 
 template <class Dialer>
@@ -41,12 +41,12 @@ class InstanceId
 
 /// convenience macro to instantiate Class-specific stuff in .cc files
 #define InstanceIdDefinitions(Class, prefix) \
+    template<> const char *InstanceId<Class>::Prefix = prefix; \
+    template<> InstanceId<Class>::Value InstanceId<Class>::Last = 0; \
     template<> std::ostream & \
     InstanceId<Class>::print(std::ostream &os) const { \
         return os << Prefix << value; \
-    } \
-    template<> const char *InstanceId<Class>::Prefix = prefix; \
-    template<> InstanceId<Class>::Value InstanceId<Class>::Last = 0
+    }
 
 
 /// print the id
@@ -42,7 +42,7 @@ class CallSubscription: public Subscription
 public:
     /// Must be passed an object. nil pointers are not permitted.
     explicit CallSubscription(const RefCount<Call_> &aCall) : call(aCall) { assert(aCall != NULL); }
-    virtual AsyncCall::Pointer callback() const { return new Call_(call); }
+    virtual AsyncCall::Pointer callback() const { return new Call_(*call); }
 
 private:
     const RefCount<Call_> call; ///< gets copied to create callback calls
@@ -63,7 +63,7 @@ FileNameHashCached(const char *fname)
 ///  Avoids "defined but not used" warnings for FileNameHashCached
 class FileNameHashCacheUser
 {
-    bool use(void *ptr=NULL) { return ptr != &FileNameHashCached;}
+    bool use(void *ptr=NULL) { return ptr != (void*)&FileNameHashCached; }
 };
 
 #if !defined(TexcHere)
@@ -50,8 +50,10 @@
 #include "ssl/support.h"
 #include "ssl/Config.h"
 #endif
+#if USE_AUTH
 #include "auth/Config.h"
 #include "auth/Scheme.h"
+#endif
 #include "ConfigParser.h"
 #include "CpuAffinityMap.h"
 #include "eui/Config.h"
@@ -419,10 +421,8 @@ parseOneConfigFile(const char *file_name, unsigned int depth)
     if (fp == NULL)
         fatalf("Unable to open configuration file: %s: %s", file_name, xstrerror());
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     SetConfigFilename(file_name, bool(is_pipe));
@@ -916,6 +916,24 @@ configDoConfigure(void)
                " Change client_request_buffer_max or request_header_max_size limits.",
                (uint32_t)Config.maxRequestBufferSize, (uint32_t)Config.maxRequestHeaderSize);
     }
+
+#if USE_AUTH
+    /*
+     * disable client side request pipelining. There is a race with
+     * Negotiate and NTLM when the client sends a second request on an
+     * connection before the authenticate challenge is sent. With
+     * pipelining OFF, the client may fail to authenticate, but squid's
+     * state will be preserved.
+     */
+    if (Config.onoff.pipeline_prefetch) {
+        AuthConfig *nego = AuthConfig::Find("Negotiate");
+        AuthConfig *ntlm = AuthConfig::Find("NTLM");
+        if ((nego && nego->active()) || (ntlm && ntlm->active())) {
+            debugs(3, DBG_IMPORTANT, "WARNING: pipeline_prefetch breaks NTLM and Negotiate authentication. Forced OFF.");
+            Config.onoff.pipeline_prefetch = 0;
+        }
+    }
+#endif
 }
 
 /** Parse a line containing an obsolete directive.
@@ -1811,6 +1829,7 @@ check_null_string(char *s)
     return s == NULL;
 }
 
+#if USE_AUTH
 static void
 parse_authparam(Auth::authConfig * config)
 {
@@ -1869,6 +1888,7 @@ dump_authparam(StoreEntry * entry, const char *name, authConfig cfg)
     for (authConfig::iterator  i = cfg.begin(); i != cfg.end(); ++i)
         (*i)->dump(entry, name, (*i));
 }
+#endif /* USE_AUTH */
 
 /* TODO: just return the object, the # is irrelevant */
 static int
@@ -2208,13 +2228,15 @@ parse_peer(peer ** head)
                 fatalf("parse_peer: non-parent carp peer %s/%d\n", p->host, p->http_port);
 
             p->options.carp = 1;
-
         } else if (!strcasecmp(token, "userhash")) {
+#if USE_AUTH
             if (p->type != PEER_PARENT)
                 fatalf("parse_peer: non-parent userhash peer %s/%d\n", p->host, p->http_port);
 
             p->options.userhash = 1;
-
+#else
+            fatalf("parse_peer: userhash requires authentication. peer %s/%d\n", p->host, p->http_port);
+#endif
         } else if (!strcasecmp(token, "sourcehash")) {
             if (p->type != PEER_PARENT)
                 fatalf("parse_peer: non-parent sourcehash peer %s/%d\n", p->host, p->http_port);
@@ -146,9 +146,8 @@ cacheIndexAddLog(CacheIndex * idx, const char *fname)
         return 0;
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(file), O_BINARY);
-
 #endif
 
     scanned_count = cacheIndexScan(idx, fname, file);
@@ -172,6 +172,7 @@ COMMENT_END
 
 NAME: auth_param
 TYPE: authparam
+IFDEF: USE_AUTH
 LOC: Auth::TheConfig
 DEFAULT: none
 DOC_START
@@ -770,7 +771,9 @@ DOC_START
 
 	acl aclname maxconn number
 	  # This will be matched when the client's IP address has
-	  # more than <number> HTTP connections established. [fast]
+	  # more than <number> TCP connections established. [fast]
+	  # NOTE: This only measures direct TCP links so X-Forwarded-For
+	  # indirect clients are not counted.
 
 	acl aclname max_user_ip [-s] number
 	  # This will be matched when the user attempts to log in from more
@@ -943,6 +946,9 @@ DOC_START
 	Controls whether the indirect client address
 	(see follow_x_forwarded_for) is used instead of the
 	direct client address in acl matching.
+
+	NOTE: maxconn ACL considers direct TCP links and indirect
+	      clients will always have zero. So no match.
 DOC_END
 
 NAME: delay_pool_uses_indirect_client
@@ -1765,14 +1771,18 @@ DOC_START
 	an additional ACL needs to be used which ensures the IPv6-bound traffic
 	is never forced or permitted out the IPv4 interface.
 
+	# IPv6 destination test along with a dummy access control to perofrm the required DNS
+	# This MUST be place before any ALLOW rules.
 	acl to_ipv6 dst ipv6
-	tcp_outgoing_address 2002::c001 good_service_net to_ipv6
+	http_access deny ipv6 !all
+
+	tcp_outgoing_address 2001:db8::c001 good_service_net to_ipv6
 	tcp_outgoing_address 10.1.0.2 good_service_net !to_ipv6
 
-	tcp_outgoing_address 2002::beef normal_service_net to_ipv6
+	tcp_outgoing_address 2001:db8::beef normal_service_net to_ipv6
 	tcp_outgoing_address 10.1.0.1 normal_service_net !to_ipv6
 
-	tcp_outgoing_address 2002::1 to_ipv6
+	tcp_outgoing_address 2001:db8::1 to_ipv6
 	tcp_outgoing_address 10.1.0.3 !to_ipv6
 
 	WARNING:
@@ -7332,6 +7342,8 @@ DOC_START
 
 	Defaults to off for bandwidth management and access logging
 	reasons.
+
+	WARNING: pipelining breaks NTLM and Negotiate/Kerberos authentication.
 DOC_END
 
 NAME: high_response_time_warning
@@ -239,7 +239,7 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
 
 #endif
@@ -465,9 +465,8 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     fprintf(fp,
@@ -501,9 +500,8 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     gen_conf(entries, fp, 1);
@@ -514,7 +512,7 @@ main(int argc, char *argv[])
         perror(conf_filename_short);
         exit(1);
     }
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
 #endif
     gen_conf(entries, fp, 0);
@@ -143,7 +143,7 @@ ClientInfo * clientdbGetInfo(const Ip::Address &addr)
 }
 #endif
 void
-clientdbUpdate(const Ip::Address &addr, log_type ltype, protocol_t p, size_t size)
+clientdbUpdate(const Ip::Address &addr, log_type ltype, AnyP::ProtocolType p, size_t size)
 {
     char key[MAX_IPSTRLEN];
     ClientInfo *c;
@@ -161,14 +161,14 @@ clientdbUpdate(const Ip::Address &addr, log_type ltype, protocol_t p, size_t siz
     if (c == NULL)
         debug_trap("clientdbUpdate: Failed to add entry");
 
-    if (p == PROTO_HTTP) {
+    if (p == AnyP::PROTO_HTTP) {
         c->Http.n_requests++;
         c->Http.result_hist[ltype]++;
         kb_incr(&c->Http.kbytes_out, size);
 
         if (logTypeIsATcpHit(ltype))
             kb_incr(&c->Http.hit_kbytes_out, size);
-    } else if (p == PROTO_ICP) {
+    } else if (p == AnyP::PROTO_ICP) {
         c->Icp.n_requests++;
         c->Icp.result_hist[ltype]++;
         kb_incr(&c->Icp.kbytes_out, size);
@@ -84,7 +84,9 @@
 #include "squid.h"
 
 #include "acl/FilledChecklist.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "base/TextException.h"
 #include "ChunkedCodingParser.h"
 #include "client_side.h"
@@ -96,9 +98,10 @@
 #include "ClientRequestContext.h"
 #include "clientStream.h"
 #include "comm.h"
-#include "comm/Write.h"
-#include "comm/ListenStateData.h"
+#include "CommCalls.h"
 #include "comm/Loops.h"
+#include "comm/Write.h"
+#include "comm/TcpAcceptor.h"
 #include "ConnectionDetail.h"
 #include "eui/Config.h"
 #include "fde.h"
@@ -108,6 +111,7 @@
 #include "ident/Config.h"
 #include "ident/Ident.h"
 #include "ip/Intercept.h"
+#include "ipc/FdNotes.h"
 #include "ipc/StartListening.h"
 #include "MemBuf.h"
 #include "MemObject.h"
@@ -134,34 +138,33 @@
 #define comm_close comm_lingering_close
 #endif
 
-/// dials clientHttpConnectionOpened or clientHttpsConnectionOpened call
+/// dials clientListenerConnectionOpened call
 class ListeningStartedDialer: public CallDialer, public Ipc::StartListeningCb
 {
 public:
-    typedef void (*Handler)(int fd, int errNo, http_port_list *portCfg);
-    ListeningStartedDialer(Handler aHandler, http_port_list *aPortCfg):
-            handler(aHandler), portCfg(aPortCfg) {}
+    typedef void (*Handler)(int fd, int flags, int errNo, http_port_list *portCfg, const Ipc::FdNoteId note, const Subscription::Pointer &sub);
+    ListeningStartedDialer(Handler aHandler, int openFlags, http_port_list *aPortCfg, const Ipc::FdNoteId note, const Subscription::Pointer &aSub):
+            handler(aHandler), portCfg(aPortCfg), portTypeNote(note), commOpenListenerFlags(openFlags), sub(aSub) {}
 
     virtual void print(std::ostream &os) const {
         startPrint(os) <<
         ", port=" << (void*)portCfg << ')';
     }
 
     virtual bool canDial(AsyncCall &) const { return true; }
-    virtual void dial(AsyncCall &) { (handler)(fd, errNo, portCfg); }
+    virtual void dial(AsyncCall &) { (handler)(fd, commOpenListenerFlags, errNo, portCfg, portTypeNote, sub); }
 
 public:
     Handler handler;
 
 private:
-    http_port_list *portCfg; ///< from Config.Sockaddr.http
+    http_port_list *portCfg;   ///< from Config.Sockaddr.http
+    Ipc::FdNoteId portTypeNote;    ///< Type of IPC socket being opened
+    int commOpenListenerFlags; ///< flags used by comm_open_listener
+    Subscription::Pointer sub; ///< The handler to be subscribed for this connetion listener
 };
 
-
-static void clientHttpConnectionOpened(int fd, int errNo, http_port_list *s);
-#if USE_SSL
-static void clientHttpsConnectionOpened(int fd, int errNo, http_port_list *s);
-#endif
+static void clientListenerConnectionOpened(int fd, int flags, int errNo, http_port_list *s, const Ipc::FdNoteId portTypeNote, const Subscription::Pointer &sub);
 
 /* our socket-related context */
 
@@ -598,13 +601,12 @@ prepareLogWithRequestDetails(HttpRequest * request, AccessLogEntry * aLogEntry)
         aLogEntry->cache.requestSize += request->content_length;
     aLogEntry->cache.extuser = request->extacl_user.termedBuf();
 
+#if USE_AUTH
     if (request->auth_user_request != NULL) {
-
         if (request->auth_user_request->username())
             aLogEntry->cache.authuser = xstrdup(request->auth_user_request->username());
-
-// WTF??        request->auth_user_request = NULL;
     }
+#endif
 
     if (aLogEntry->request) {
         aLogEntry->request->errType = request->errType;
@@ -677,7 +679,7 @@ ClientHttpRequest::logRequest()
             updateCounters();
 
             if (getConn() != NULL)
-                clientdbUpdate(getConn()->peer, logType, PROTO_HTTP, out.size);
+                clientdbUpdate(getConn()->peer, logType, AnyP::PROTO_HTTP, out.size);
         }
 
         delete checklist;
@@ -762,12 +764,12 @@ ConnStateData::swanSong()
     clientdbEstablished(peer, -1);	/* decrement */
     assert(areAllContextsForThisConnection());
     freeAllContexts();
-
+#if USE_AUTH
     if (auth_user_request != NULL) {
         debugs(33, 4, "ConnStateData::swanSong: freeing auth_user_request '" << auth_user_request << "' (this is '" << this << "')");
         auth_user_request->onConnectionClose(this);
     }
-
+#endif
     if (pinning.fd >= 0)
         comm_close(pinning.fd);
 
@@ -825,12 +827,6 @@ clientIsContentLengthValid(HttpRequest * r)
 {
     switch (r->method.id()) {
 
-    case METHOD_PUT:
-
-    case METHOD_POST:
-        /* PUT/POST requires a request entity */
-        return (r->content_length >= 0);
-
     case METHOD_GET:
 
     case METHOD_HEAD:
@@ -1060,7 +1056,7 @@ ClientSocketContext::packRange(StoreIOBuffer const &source, MemBuf * mb)
              * intersection of "have" and "need" ranges must not be empty
              */
             assert(http->out.offset < i->currentSpec()->offset + i->currentSpec()->length);
-            assert(http->out.offset + available.size() > i->currentSpec()->offset);
+            assert(http->out.offset + (int64_t)available.size() > i->currentSpec()->offset);
 
             /*
              * put boundary and headers at the beginning of a range in a
@@ -1094,11 +1090,6 @@ ClientSocketContext::packRange(StoreIOBuffer const &source, MemBuf * mb)
 
         }
 
-        /*
-         * paranoid check
-         */
-        assert((available.size() >= 0 && i->debt() >= 0) || i->debt() == -1);
-
         if (!canPackMoreRanges()) {
             debugs(33, 3, "clientPackRange: Returning because !canPackMoreRanges.");
 
@@ -1118,7 +1109,7 @@ ClientSocketContext::packRange(StoreIOBuffer const &source, MemBuf * mb)
         /* adjust for not to be transmitted bytes */
         http->out.offset = nextOffset;
 
-        if (available.size() <= skip)
+        if (available.size() <= (uint64_t)skip)
             return;
 
         available.start += skip;
@@ -2494,7 +2485,7 @@ clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *c
     }
 
     if (http->flags.internal) {
-        request->protocol = PROTO_HTTP;
+        request->protocol = AnyP::PROTO_HTTP;
         request->login[0] = '\0';
     }
 
@@ -2556,7 +2547,8 @@ clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *c
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_REQ, HTTP_EXPECTATION_FAILED, request->method, http->uri, conn->peer, request, NULL, NULL);
+            repContext->setReplyToError(ERR_INVALID_REQ, HTTP_EXPECTATION_FAILED, request->method,
+                                        http->uri, conn->peer, request, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
             goto finish;
@@ -3121,14 +3113,14 @@ connStateCreate(const Ip::Address &peer, const Ip::Address &me, int fd, http_por
 
 /** Handle a new connection on HTTP socket. */
 void
-httpAccept(int sock, int newfd, ConnectionDetail *details,
-           comm_err_t flag, int xerrno, void *data)
+httpAccept(int, int newfd, ConnectionDetail *details, comm_err_t flag, int xerrno, void *data)
 {
     http_port_list *s = (http_port_list *)data;
     ConnStateData *connState = NULL;
 
     if (flag != COMM_OK) {
-        debugs(33, 1, "httpAccept: FD " << sock << ": accept failure: " << xstrerr(xerrno));
+        // Its possible the call was still queued when the client disconnected
+        debugs(33, 2, "httpAccept: FD " << s->listenFd << ": accept failure: " << xstrerr(xerrno));
         return;
     }
 
@@ -3367,15 +3359,14 @@ clientNegotiateSSL(int fd, void *data)
 
 /** handle a new HTTPS connection */
 static void
-httpsAccept(int sock, int newfd, ConnectionDetail *details,
-            comm_err_t flag, int xerrno, void *data)
+httpsAccept(int, int newfd, ConnectionDetail *details, comm_err_t flag, int xerrno, void *data)
 {
     https_port_list *s = (https_port_list *)data;
     SSL_CTX *sslContext = s->staticSslContext.get();
 
     if (flag != COMM_OK) {
-        errno = xerrno;
-        debugs(33, 1, "httpsAccept: FD " << sock << ": accept failure: " << xstrerr(xerrno));
+        // Its possible the call was still queued when the client disconnected
+        debugs(33, 2, "httpsAccept: FD " << s->listenFd << ": accept failure: " << xstrerr(xerrno));
         return;
     }
 
@@ -3558,15 +3549,15 @@ ConnStateData::switchToHttps(const char *host)
 
 /// check FD after clientHttp[s]ConnectionOpened, adjust HttpSockets as needed
 static bool
-OpenedHttpSocket(int fd, const char *msgIfFail)
+OpenedHttpSocket(int fd, const Ipc::FdNoteId portType)
 {
     if (fd < 0) {
         Must(NHttpSockets > 0); // we tried to open some
         --NHttpSockets; // there will be fewer sockets than planned
         Must(HttpSockets[NHttpSockets] < 0); // no extra fds received
 
         if (!NHttpSockets) // we could not open any listen sockets at all
-            fatal(msgIfFail);
+            fatalf("Unable to open %s",FdNote(portType));
 
         return false;
     }
@@ -3622,13 +3613,16 @@ clientHttpConnectionsOpen(void)
         const int openFlags = COMM_NONBLOCKING |
                               (s->spoof_client_ip ? COMM_TRANSPARENT : 0);
 
-        AsyncCall::Pointer callback = asyncCall(33,2,
-                                                "clientHttpConnectionOpened",
-                                                ListeningStartedDialer(&clientHttpConnectionOpened, s));
-        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags,
-                            Ipc::fdnHttpSocket, callback);
+        // setup the subscriptions such that new connections accepted by listenConn are handled by HTTP
+        typedef CommCbFunPtrCallT<CommAcceptCbPtrFun> AcceptCall;
+        RefCount<AcceptCall> subCall = commCbCall(5, 5, "httpAccept", CommAcceptCbPtrFun(httpAccept, s));
+        Subscription::Pointer sub = new CallSubscription<AcceptCall>(subCall);
+
+        AsyncCall::Pointer listenCall = asyncCall(33,2, "clientListenerConnectionOpened",
+                                        ListeningStartedDialer(&clientListenerConnectionOpened, openFlags, s, Ipc::fdnHttpSocket, sub));
+        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags, Ipc::fdnHttpSocket, listenCall);
 
-        HttpSockets[NHttpSockets++] = -1; // set in clientHttpConnectionOpened
+        HttpSockets[NHttpSockets++] = -1; // set in clientListenerConnectionOpened
     }
 
 #if USE_SSL
@@ -3641,27 +3635,27 @@ clientHttpConnectionsOpen(void)
 
 /// process clientHttpConnectionsOpen result
 static void
-clientHttpConnectionOpened(int fd, int, http_port_list *s)
+clientListenerConnectionOpened(int fd, int flags, int errNo, http_port_list *s, const Ipc::FdNoteId portTypeNote, const Subscription::Pointer &sub)
 {
-    if (!OpenedHttpSocket(fd, "Cannot open HTTP Port"))
+    s->listenFd = fd;
+    if (!OpenedHttpSocket(s->listenFd, portTypeNote))
         return;
 
     Must(s);
+    Must(s->listenFd >= 0);
 
-    AsyncCall::Pointer call = commCbCall(5,5, "SomeCommAcceptHandler(httpAccept)",
-                                         CommAcceptCbPtrFun(httpAccept, s));
+    // TCP: setup a job to handle accept() with subscribed handler
+    AsyncJob::Start(new Comm::TcpAcceptor(s->listenFd, s->s, flags, FdNote(portTypeNote), sub));
 
-    s->listener = new Comm::ListenStateData(fd, call, true);
-
-    debugs(1, 1, "Accepting " <<
+    debugs(1, 1, "Accepting" <<
            (s->intercepted ? " intercepted" : "") <<
            (s->spoof_client_ip ? " spoofing" : "") <<
            (s->sslBump ? " bumpy" : "") <<
            (s->accel ? " accelerated" : "")
-           << " HTTP connections at " << s->s
-           << ", FD " << fd << "." );
+           << FdNote(portTypeNote) << " connections at "
+           << " FD " << s->listenFd << " on " << s->s);
 
-    Must(AddOpenedHttpSocket(fd)); // otherwise, we have received a fd we did not ask for
+    Must(AddOpenedHttpSocket(s->listenFd)); // otherwise, we have received a fd we did not ask for
 }
 
 #if USE_SSL
@@ -3683,35 +3677,23 @@ clientHttpsConnectionsOpen(void)
             continue;
         }
 
-        AsyncCall::Pointer call = asyncCall(33, 2, "clientHttpsConnectionOpened",
-                                            ListeningStartedDialer(&clientHttpsConnectionOpened, &s->http));
-
-        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->http.s, COMM_NONBLOCKING,
-                            Ipc::fdnHttpsSocket, call);
-
-        HttpSockets[NHttpSockets++] = -1;
-    }
-}
-
-/// process clientHttpsConnectionsOpen result
-static void
-clientHttpsConnectionOpened(int fd, int, http_port_list *s)
-{
-    if (!OpenedHttpSocket(fd, "Cannot open HTTPS Port"))
-        return;
-
-    Must(s);
+        const int openFlags = COMM_NONBLOCKING |
+                              (s->spoof_client_ip ? COMM_TRANSPARENT : 0);
 
-    AsyncCall::Pointer call = commCbCall(5,5, "SomeCommAcceptHandler(httpsAccept)",
-                                         CommAcceptCbPtrFun(httpsAccept, s));
+        // setup the subscriptions such that new connections accepted by listenConn are handled by HTTPS
+        typedef CommCbFunPtrCallT<CommAcceptCbPtrFun> AcceptCall;
+        RefCount<AcceptCall> subCall = commCbCall(5, 5, "httpsAccept", CommAcceptCbPtrFun(httpsAccept, s));
+        Subscription::Pointer sub = new CallSubscription<AcceptCall>(subCall);
 
-    s->listener = new Comm::ListenStateData(fd, call, true);
+        AsyncCall::Pointer listenCall = asyncCall(33, 2, "clientListenerConnectionOpened",
+                                        ListeningStartedDialer(&clientListenerConnectionOpened, openFlags,
+                                                               &s->http, Ipc::fdnHttpsSocket, sub));
 
-    debugs(1, 1, "Accepting HTTPS connections at " << s->s << ", FD " << fd << ".");
+        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags, Ipc::fdnHttpsSocket, listenCall);
 
-    Must(AddOpenedHttpSocket(fd)); // otherwise, we have received a fd we did not ask for
+        HttpSockets[NHttpSockets++] = -1;
+    }
 }
-
 #endif
 
 void
@@ -3730,19 +3712,19 @@ void
 clientHttpConnectionsClose(void)
 {
     for (http_port_list *s = Config.Sockaddr.http; s; s = s->next) {
-        if (s->listener) {
-            debugs(1, 1, "FD " << s->listener->fd << " Closing HTTP connection");
-            delete s->listener;
-            s->listener = NULL;
+        if (s->listenFd >= 0) {
+            debugs(1, 1, "FD " << s->listenFd << " Closing HTTP connection");
+            comm_close(s->listenFd);
+            s->listenFd = -1;
         }
     }
 
 #if USE_SSL
     for (http_port_list *s = Config.Sockaddr.https; s; s = s->next) {
-        if (s->listener) {
-            debugs(1, 1, "FD " << s->listener->fd << " Closing HTTPS connection");
-            delete s->listener;
-            s->listener = NULL;
+        if (s->listenFd >= 0) {
+            debugs(1, 1, "FD " << s->listenFd << " Closing HTTPS connection");
+            comm_close(s->listenFd);
+            s->listenFd = -1;
         }
     }
 #endif
@@ -33,7 +33,9 @@
 #ifndef SQUID_CLIENTSIDE_H
 #define SQUID_CLIENTSIDE_H
 
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "base/AsyncJob.h"
 #include "BodyPipe.h"
 #include "comm.h"
@@ -50,9 +52,6 @@ class clientStreamNode;
 class ChunkedCodingParser;
 class HttpParser;
 
-template <class T>
-class Range;
-
 class ClientSocketContext : public RefCountable
 {
 
@@ -184,11 +183,13 @@ class ConnStateData : public BodyProducer, public HttpControlMsgSink
      */
     int64_t mayNeedToReadMoreBody() const;
 
+#if USE_AUTH
     /**
      * note this is ONLY connection based because NTLM and Negotiate is against HTTP spec.
      * the user details for connection based authentication
      */
     AuthUserRequest::Pointer auth_user_request;
+#endif
 
     /**
      * used by the owner of the connection, opaque otherwise
@@ -40,7 +40,9 @@
 #include "squid.h"
 #include "acl/FilledChecklist.h"
 #include "acl/Gadgets.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "client_side.h"
 #include "client_side_reply.h"
 #include "clientStream.h"
@@ -97,7 +99,12 @@ void
 clientReplyContext::setReplyToError(
     err_type err, http_status status, const HttpRequestMethod& method, char const *uri,
     Ip::Address &addr, HttpRequest * failedrequest, const char *unparsedrequest,
-    AuthUserRequest::Pointer auth_user_request)
+#if USE_AUTH
+    AuthUserRequest::Pointer auth_user_request
+#else
+    void*
+#endif
+)
 {
     ErrorState *errstate = clientBuildError(err, status, uri, addr, failedrequest);
 
@@ -111,9 +118,9 @@ clientReplyContext::setReplyToError(
     http->al.http.code = errstate->httpStatus;
 
     createStoreEntry(method, request_flags());
-
+#if USE_AUTH
     errstate->auth_user_request = auth_user_request;
-
+#endif
     assert(errstate->callback_data == NULL);
     errorAppendEntry(http->storeEntry(), errstate);
     /* Now the caller reads to get this */
@@ -544,7 +551,7 @@ clientReplyContext::cacheHit(StoreIOBuffer result)
              */
             http->logType = LOG_TCP_CLIENT_REFRESH_MISS;
             processMiss();
-        } else if (r->protocol == PROTO_HTTP) {
+        } else if (r->protocol == AnyP::PROTO_HTTP) {
             /*
              * Object needs to be revalidated
              * XXX This could apply to FTP as well, if Last-Modified is known.
@@ -651,7 +658,7 @@ clientReplyContext::processMiss()
 
         /** Check for internal requests. Update Protocol info if so. */
         if (http->flags.internal)
-            r->protocol = PROTO_INTERNAL;
+            r->protocol = AnyP::PROTO_INTERNAL;
 
         r->clientConnection = http->getConn();
 
@@ -1330,8 +1337,9 @@ clientReplyContext::buildReplyHeader()
         else if (http->storeEntry()->timestamp > 0)
             hdr->insertTime(HDR_DATE, http->storeEntry()->timestamp);
         else {
-            debugs(88,1,"WARNING: An error inside Squid has caused an HTTP reply without Date:. Please report this");
-            /* TODO: dump something useful about the problem */
+            debugs(88,DBG_IMPORTANT,"WARNING: An error inside Squid has caused an HTTP reply without Date:. Please report this:");
+            /* dump something useful about the problem */
+            http->storeEntry()->dump(DBG_IMPORTANT);
         }
     }
 
@@ -1343,7 +1351,6 @@ clientReplyContext::buildReplyHeader()
     }
 
     /* Filter unproxyable authentication types */
-
     if (http->logType != LOG_TCP_DENIED &&
             hdr->has(HDR_WWW_AUTHENTICATE)) {
         HttpHeaderPos pos = HttpHeaderInitPos;
@@ -1386,6 +1393,7 @@ clientReplyContext::buildReplyHeader()
             hdr->refreshMask();
     }
 
+#if USE_AUTH
     /* Handle authentication headers */
     if (http->logType == LOG_TCP_DENIED &&
             ( reply->sline.status == HTTP_PROXY_AUTHENTICATION_REQUIRED ||
@@ -1400,6 +1408,7 @@ clientReplyContext::buildReplyHeader()
         authenticateFixHeader(reply, request->auth_user_request, request, 0, 1);
     } else if (request->auth_user_request != NULL)
         authenticateFixHeader(reply, request->auth_user_request, request, http->flags.accel, 0);
+#endif
 
     /* Append X-Cache */
     httpHeaderPutStrf(hdr, HDR_X_CACHE, "%s from %s",
@@ -1495,7 +1504,7 @@ clientReplyContext::cloneReply()
 
     reply = HTTPMSGLOCK(rep);
 
-    if (reply->sline.protocol == PROTO_HTTP) {
+    if (reply->sline.protocol == AnyP::PROTO_HTTP) {
         /* RFC 2616 requires us to advertise our 1.1 version (but only on real HTTP traffic) */
         reply->sline.version = HttpVersion(1,1);
     }
@@ -2139,7 +2148,7 @@ clientReplyContext::createStoreEntry(const HttpRequestMethod& m, request_flags r
      */
 
     if (http->request == NULL)
-        http->request = HTTPMSGLOCK(new HttpRequest(m, PROTO_NONE, null_string));
+        http->request = HTTPMSGLOCK(new HttpRequest(m, AnyP::PROTO_NONE, null_string));
 
     StoreEntry *e = storeCreateEntry(http->uri, http->log_uri, reqFlags, m);
 
@@ -71,8 +71,12 @@ class clientReplyContext : public RefCountable, public StoreClient
     void identifyFoundObject(StoreEntry *entry);
     int storeOKTransferDone() const;
     int storeNotOKTransferDone() const;
-
-    void setReplyToError(err_type, http_status, const HttpRequestMethod&, char const *, Ip::Address &, HttpRequest *, const char *, AuthUserRequest::Pointer);
+    void setReplyToError(err_type, http_status, const HttpRequestMethod&, char const *, Ip::Address &, HttpRequest *, const char *,
+#if USE_AUTH
+                         AuthUserRequest::Pointer);
+#else
+                         void * unused);
+#endif
     void createStoreEntry(const HttpRequestMethod& m, request_flags flags);
     void removeStoreReference(store_client ** scp, StoreEntry ** ep);
     void removeClientStoreReference(store_client **scp, ClientHttpRequest *http);
@@ -53,7 +53,9 @@
 #include "adaptation/icap/History.h"
 #endif
 #endif
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "clientStream.h"
 #include "client_side.h"
 #include "client_side_reply.h"
@@ -576,21 +578,24 @@ ClientRequestContext::clientAccessCheckDone(int answer)
            (answer == ACCESS_ALLOWED ? "ALLOWED" : "DENIED") <<
            ", because it matched '" <<
            (AclMatchedName ? AclMatchedName : "NO ACL's") << "'" );
-    char const *proxy_auth_msg = "<null>";
 
+#if USE_AUTH
+    char const *proxy_auth_msg = "<null>";
     if (http->getConn() != NULL && http->getConn()->auth_user_request != NULL)
         proxy_auth_msg = http->getConn()->auth_user_request->denyMessage("<null>");
     else if (http->request->auth_user_request != NULL)
         proxy_auth_msg = http->request->auth_user_request->denyMessage("<null>");
+#endif
 
     if (answer != ACCESS_ALLOWED) {
         /* Send an error */
         int require_auth = (answer == ACCESS_REQ_PROXY_AUTH || aclIsProxyAuth(AclMatchedName));
         debugs(85, 5, "Access Denied: " << http->uri);
         debugs(85, 5, "AclMatchedName = " << (AclMatchedName ? AclMatchedName : "<null>"));
-
+#if USE_AUTH
         if (require_auth)
             debugs(33, 5, "Proxy Auth Message = " << (proxy_auth_msg ? proxy_auth_msg : "<null>"));
+#endif
 
         /*
          * NOTE: get page_id here, based on AclMatchedName because if
@@ -603,14 +608,18 @@ ClientRequestContext::clientAccessCheckDone(int answer)
         http->logType = LOG_TCP_DENIED;
 
         if (require_auth) {
+#if USE_AUTH
             if (!http->flags.accel) {
                 /* Proxy authorisation needed */
                 status = HTTP_PROXY_AUTHENTICATION_REQUIRED;
             } else {
                 /* WWW authorisation needed */
                 status = HTTP_UNAUTHORIZED;
             }
-
+#else
+            // need auth, but not possible to do.
+            status = HTTP_FORBIDDEN;
+#endif
             if (page_id == ERR_NONE)
                 page_id = ERR_CACHE_ACCESS_DENIED;
         } else {
@@ -630,9 +639,12 @@ ClientRequestContext::clientAccessCheckDone(int answer)
                                     http->getConn() != NULL ? http->getConn()->peer : tmpnoaddr,
                                     http->request,
                                     NULL,
+#if USE_AUTH
                                     http->getConn() != NULL && http->getConn()->auth_user_request != NULL ?
                                     http->getConn()->auth_user_request : http->request->auth_user_request);
-
+#else
+                                    NULL);
+#endif
         node = (clientStreamNode *)http->client_stream.tail->data;
         clientStreamRead(node, http, node->readBuffer);
         return;
@@ -751,19 +763,18 @@ clientHierarchical(ClientHttpRequest * http)
     if (request->flags.loopdetect)
         return 0;
 
-    if (request->protocol == PROTO_HTTP)
+    if (request->protocol == AnyP::PROTO_HTTP)
         return httpCachable(method);
 
-    if (request->protocol == PROTO_GOPHER)
+    if (request->protocol == AnyP::PROTO_GOPHER)
         return gopherCachable(request);
 
-    if (request->protocol == PROTO_CACHEOBJ)
+    if (request->protocol == AnyP::PROTO_CACHEOBJ)
         return 0;
 
     return 1;
 }
 
-
 static void
 clientCheckPinning(ClientHttpRequest * http)
 {
@@ -1037,8 +1048,9 @@ ClientRequestContext::clientRedirectDone(char *result)
         new_request->my_addr = old_request->my_addr;
         new_request->flags = old_request->flags;
         new_request->flags.redirected = 1;
+#if USE_AUTH
         new_request->auth_user_request = old_request->auth_user_request;
-
+#endif
         if (old_request->body_pipe != NULL) {
             new_request->body_pipe = old_request->body_pipe;
             old_request->body_pipe = NULL;
@@ -40,9 +40,9 @@
 #include "comm/AcceptLimiter.h"
 #include "comm/comm_internal.h"
 #include "comm/IoCallback.h"
-#include "comm/Write.h"
-#include "comm/ListenStateData.h"
 #include "comm/Loops.h"
+#include "comm/Write.h"
+#include "comm/TcpAcceptor.h"
 #include "CommIO.h"
 #include "CommRead.h"
 #include "ConnectionDetail.h"
@@ -62,7 +62,7 @@
 #endif
 
 #include "cbdata.h"
-#if defined(_SQUID_CYGWIN_)
+#if _SQUID_CYGWIN_
 #include <sys/ioctl.h>
 #endif
 #ifdef HAVE_NETINET_TCP_H
@@ -144,7 +144,7 @@ fd_debug_t *fdd_table = NULL;
 bool
 isOpen(const int fd)
 {
-    return fd_table[fd].flags.open != 0;
+    return fd >= 0 && fd_table[fd].flags.open != 0;
 }
 
 /**
@@ -1661,12 +1661,10 @@ commSetNonBlocking(int fd)
     int flags;
     int dummy = 0;
 #endif
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     int nonblocking = TRUE;
 
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     if (fd_table[fd].type != FD_PIPE) {
 #endif
 
@@ -1675,8 +1673,7 @@ commSetNonBlocking(int fd)
             return COMM_ERROR;
         }
 
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     } else {
 #endif
 #endif
@@ -1693,10 +1690,8 @@ commSetNonBlocking(int fd)
         }
 
 #endif
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     }
-
 #endif
     fd_table[fd].flags.nonblocking = 1;
 
@@ -1,6 +1,6 @@
 #include "config.h"
 #include "comm/AcceptLimiter.h"
-#include "comm/ListenStateData.h"
+#include "comm/TcpAcceptor.h"
 #include "fde.h"
 
 Comm::AcceptLimiter Comm::AcceptLimiter::Instance_;
@@ -11,22 +11,41 @@ Comm::AcceptLimiter &Comm::AcceptLimiter::Instance()
 }
 
 void
-Comm::AcceptLimiter::defer(Comm::ListenStateData *afd)
+Comm::AcceptLimiter::defer(Comm::TcpAcceptor *afd)
 {
     afd->isLimited++;
     debugs(5, 5, HERE << "FD " << afd->fd << " x" << afd->isLimited);
     deferred.push_back(afd);
 }
 
+void
+Comm::AcceptLimiter::removeDead(const Comm::TcpAcceptor *afd)
+{
+    for (unsigned int i = 0; i < deferred.size() && afd->isLimited > 0; i++) {
+        if (deferred[i] == afd) {
+            deferred[i]->isLimited--;
+            deferred[i] = NULL; // fast. kick() will skip empty entries later.
+            debugs(5, 5, HERE << "FD " << afd->fd << " x" << afd->isLimited);
+        }
+    }
+}
+
 void
 Comm::AcceptLimiter::kick()
 {
+    // TODO: this could be optimized further with an iterator to search
+    //       looking for first non-NULL, followed by dumping the first N
+    //       with only one shift()/pop_front operation
+
     debugs(5, 5, HERE << " size=" << deferred.size());
-    if (deferred.size() > 0 && fdNFree() >= RESERVED_FD) {
-        debugs(5, 5, HERE << " doing one.");
+    while (deferred.size() > 0 && fdNFree() >= RESERVED_FD) {
         /* NP: shift() is equivalent to pop_front(). Giving us a FIFO queue. */
-        ListenStateData *temp = deferred.shift();
-        temp->isLimited--;
-        temp->acceptNext();
+        TcpAcceptor *temp = deferred.shift();
+        if (temp != NULL) {
+            debugs(5, 5, HERE << " doing one.");
+            temp->isLimited--;
+            temp->acceptNext();
+            break;
+        }
     }
 }
@@ -6,7 +6,7 @@
 namespace Comm
 {
 
-class ListenStateData;
+class TcpAcceptor;
 
 /**
  * FIFO Queue holding listener socket handlers which have been activated
@@ -25,7 +25,10 @@ class AcceptLimiter
     static AcceptLimiter &Instance();
 
     /** delay accepting a new client connection. */
-    void defer(Comm::ListenStateData *afd);
+    void defer(Comm::TcpAcceptor *afd);
+
+    /** remove all records of an acceptor. Only to be called by the ConnAcceptor::swanSong() */
+    void removeDead(const Comm::TcpAcceptor *afd);
 
     /** try to accept and begin processing any delayed client connections. */
     void kick();
@@ -34,7 +37,7 @@ class AcceptLimiter
     static AcceptLimiter Instance_;
 
     /** FIFO queue */
-    Vector<Comm::ListenStateData*> deferred;
+    Vector<Comm::TcpAcceptor*> deferred;
 };
 
 }; // namepace Comm
@@ -1,54 +0,0 @@
-#ifndef SQUID_LISTENERSTATEDATA_H
-#define SQUID_LISTENERSTATEDATA_H
-
-#include "base/AsyncCall.h"
-#include "comm.h"
-#if HAVE_MAP
-#include <map>
-#endif
-
-class ConnectionDetail;
-
-namespace Comm
-{
-
-class ListenStateData
-{
-
-public:
-    ListenStateData(int fd, AsyncCall::Pointer &call, bool accept_many);
-    ListenStateData(const ListenStateData &r); // not implemented.
-    ~ListenStateData();
-
-    void subscribe(AsyncCall::Pointer &call);
-    void acceptNext();
-    void notify(int newfd, comm_err_t flag, const ConnectionDetail &details);
-
-    int fd;
-
-    /// errno code of the last accept() or listen() action if one occurred.
-    int errcode;
-
-    /// whether this socket is delayed and on the AcceptLimiter queue.
-    int32_t isLimited;
-
-private:
-    /// Method to test if there are enough file escriptors to open a new client connection
-    /// if not the accept() will be postponed
-    static bool okToAccept();
-
-    /// Method callback for whenever an FD is ready to accept a client connection.
-    static void doAccept(int fd, void *data);
-
-    void acceptOne();
-    int oldAccept(ConnectionDetail &details);
-
-    AsyncCall::Pointer theCallback;
-    bool mayAcceptMore;
-
-    void setListen();
-};
-
-} // namespace Comm
-
-#endif /* SQUID_LISTENERSTATEDATA_H */
@@ -7,15 +7,15 @@ noinst_LTLIBRARIES = libcomm.la
 libcomm_la_SOURCES= \
 	AcceptLimiter.cc \
 	AcceptLimiter.h \
-	ListenStateData.cc \
-	ListenStateData.h \
 	Loops.h \
 	ModDevPoll.cc \
 	ModEpoll.cc \
 	ModKqueue.cc \
 	ModPoll.cc \
 	ModSelect.cc \
 	ModSelectWin32.cc \
+	TcpAcceptor.cc \
+	TcpAcceptor.h \
 	\
 	IoCallback.cc \
 	IoCallback.h \
@@ -240,7 +240,7 @@ Comm::ResetSelect(int fd)
  */
 
 comm_err_t
-Comm::Select(int msec)
+Comm::DoSelect(int msec)
 {
     int num, i;
 
@@ -33,16 +33,105 @@
  */
 
 #include "squid.h"
+#include "base/TextException.h"
 #include "CommCalls.h"
 #include "comm/AcceptLimiter.h"
 #include "comm/comm_internal.h"
-#include "comm/ListenStateData.h"
 #include "comm/Loops.h"
+#include "comm/TcpAcceptor.h"
 #include "ConnectionDetail.h"
 #include "fde.h"
 #include "protos.h"
 #include "SquidTime.h"
 
+namespace Comm
+{
+CBDATA_CLASS_INIT(TcpAcceptor);
+};
+
+Comm::TcpAcceptor::TcpAcceptor(const int listenFd, const Ip::Address &laddr, int flags,
+                               const char *note, const Subscription::Pointer &aSub) :
+        AsyncJob("Comm::TcpAcceptor"),
+        errcode(0),
+        fd(listenFd),
+        isLimited(0),
+        theCallSub(aSub),
+        local_addr(laddr)
+{}
+
+void
+Comm::TcpAcceptor::subscribe(const Subscription::Pointer &aSub)
+{
+    debugs(5, 5, HERE << status() << " AsyncCall Subscription: " << aSub);
+    unsubscribe("subscription change");
+    theCallSub = aSub;
+}
+
+void
+Comm::TcpAcceptor::unsubscribe(const char *reason)
+{
+    debugs(5, 5, HERE << status() << " AsyncCall Subscription " << theCallSub << " removed: " << reason);
+    theCallSub = NULL;
+}
+
+void
+Comm::TcpAcceptor::start()
+{
+    debugs(5, 5, HERE << status() << " AsyncCall Subscription: " << theCallSub);
+
+    Must(isOpen(fd));
+
+    setListen();
+
+    // if no error so far start accepting connections.
+    if (errcode == 0)
+        SetSelect(fd, COMM_SELECT_READ, doAccept, this, 0);
+}
+
+bool
+Comm::TcpAcceptor::doneAll() const
+{
+    // stop when FD is closed
+    if (!isOpen(fd)) {
+        return AsyncJob::doneAll();
+    }
+
+    // stop when handlers are gone
+    if (theCallSub == NULL) {
+        return AsyncJob::doneAll();
+    }
+
+    // open FD with handlers...keep accepting.
+    return false;
+}
+
+void
+Comm::TcpAcceptor::swanSong()
+{
+    debugs(5,5, HERE);
+    unsubscribe("swanSong");
+    fd = -1;
+    AcceptLimiter::Instance().removeDead(this);
+    AsyncJob::swanSong();
+}
+
+const char *
+Comm::TcpAcceptor::status() const
+{
+    static char ipbuf[MAX_IPSTRLEN] = {'\0'};
+    if (ipbuf[0] == '\0')
+        local_addr.ToHostname(ipbuf, MAX_IPSTRLEN);
+
+    static MemBuf buf;
+    buf.reset();
+    buf.Printf(" FD %d, %s",fd, ipbuf);
+
+    const char *jobStatus = AsyncJob::status();
+    buf.append(jobStatus, strlen(jobStatus));
+
+    return buf.content();
+}
+
 /**
  * New-style listen and accept routines
  *
@@ -51,11 +140,11 @@
  * accept()ed some time later.
  */
 void
-Comm::ListenStateData::setListen()
+Comm::TcpAcceptor::setListen()
 {
     errcode = 0; // reset local errno copy.
     if (listen(fd, Squid_MaxFD >> 2) < 0) {
-        debugs(50, 0, HERE << "listen(FD " << fd << ", " << (Squid_MaxFD >> 2) << "): " << xstrerror());
+        debugs(50, DBG_CRITICAL, "ERROR: listen(" << status() << ", " << (Squid_MaxFD >> 2) << "): " << xstrerror());
         errcode = errno;
         return;
     }
@@ -67,37 +156,19 @@ Comm::ListenStateData::setListen()
         debugs(5, DBG_IMPORTANT, "Installing accept filter '" << Config.accept_filter << "' on FD " << fd);
         xstrncpy(afa.af_name, Config.accept_filter, sizeof(afa.af_name));
         if (setsockopt(fd, SOL_SOCKET, SO_ACCEPTFILTER, &afa, sizeof(afa)) < 0)
-            debugs(5, DBG_CRITICAL, "SO_ACCEPTFILTER '" << Config.accept_filter << "': '" << xstrerror());
+            debugs(5, DBG_CRITICAL, "WARNING: SO_ACCEPTFILTER '" << Config.accept_filter << "': '" << xstrerror());
 #elif defined(TCP_DEFER_ACCEPT)
         int seconds = 30;
         if (strncmp(Config.accept_filter, "data=", 5) == 0)
             seconds = atoi(Config.accept_filter + 5);
         if (setsockopt(fd, IPPROTO_TCP, TCP_DEFER_ACCEPT, &seconds, sizeof(seconds)) < 0)
-            debugs(5, DBG_CRITICAL, "TCP_DEFER_ACCEPT '" << Config.accept_filter << "': '" << xstrerror());
+            debugs(5, DBG_CRITICAL, "WARNING: TCP_DEFER_ACCEPT '" << Config.accept_filter << "': '" << xstrerror());
 #else
-        debugs(5, DBG_CRITICAL, "accept_filter not supported on your OS");
+        debugs(5, DBG_CRITICAL, "WARNING: accept_filter not supported on your OS");
 #endif
     }
 }
 
-Comm::ListenStateData::ListenStateData(int aFd, AsyncCall::Pointer &call, bool accept_many) :
-        fd(aFd),
-        theCallback(call),
-        mayAcceptMore(accept_many)
-{
-    assert(aFd >= 0);
-    debugs(5, 5, HERE << "FD " << fd << " AsyncCall: " << call);
-    assert(isOpen(aFd));
-    setListen();
-    SetSelect(fd, COMM_SELECT_READ, doAccept, this, 0);
-}
-
-Comm::ListenStateData::~ListenStateData()
-{
-    comm_close(fd);
-    fd = -1;
-}
-
 /**
  * This private callback is called whenever a filedescriptor is ready
  * to dupe itself and fob off an accept()ed connection
@@ -108,23 +179,30 @@ Comm::ListenStateData::~ListenStateData()
  * done later when enough sockets become available.
  */
 void
-Comm::ListenStateData::doAccept(int fd, void *data)
+Comm::TcpAcceptor::doAccept(int fd, void *data)
 {
-    debugs(5, 2, HERE << "New connection on FD " << fd);
+    try {
+        debugs(5, 2, HERE << "New connection on FD " << fd);
 
-    assert(isOpen(fd));
-    ListenStateData *afd = static_cast<ListenStateData*>(data);
+        Must(isOpen(fd));
+        TcpAcceptor *afd = static_cast<TcpAcceptor*>(data);
+
+        if (!okToAccept()) {
+            AcceptLimiter::Instance().defer(afd);
+        } else {
+            afd->acceptNext();
+        }
+        SetSelect(fd, COMM_SELECT_READ, Comm::TcpAcceptor::doAccept, afd, 0);
 
-    if (!okToAccept()) {
-        AcceptLimiter::Instance().defer(afd);
-    } else {
-        afd->acceptNext();
+    } catch (const std::exception &e) {
+        fatalf("FATAL: error while accepting new client connection: %s\n", e.what());
+    } catch (...) {
+        fatal("FATAL: error while accepting new client connection: [unkown]\n");
     }
-    SetSelect(fd, COMM_SELECT_READ, Comm::ListenStateData::doAccept, afd, 0);
 }
 
 bool
-Comm::ListenStateData::okToAccept()
+Comm::TcpAcceptor::okToAccept()
 {
     static time_t last_warn = 0;
 
@@ -140,7 +218,7 @@ Comm::ListenStateData::okToAccept()
 }
 
 void
-Comm::ListenStateData::acceptOne()
+Comm::TcpAcceptor::acceptOne()
 {
     /*
      * We don't worry about running low on FDs here.  Instead,
@@ -149,69 +227,75 @@ Comm::ListenStateData::acceptOne()
      */
 
     /* Accept a new connection */
-    ConnectionDetail connDetails;
-    int newfd = oldAccept(connDetails);
+    ConnectionDetail newConnDetails;
+    int newFd = -1;
+    const comm_err_t flag = oldAccept(newConnDetails, &newFd);
 
     /* Check for errors */
-    if (newfd < 0) {
+    if (!isOpen(newFd)) {
 
-        if (newfd == COMM_NOMESSAGE) {
+        if (flag == COMM_NOMESSAGE) {
             /* register interest again */
-            debugs(5, 5, HERE << "try later: FD " << fd << " handler: " << theCallback);
+            debugs(5, 5, HERE << "try later: FD " << fd << " handler Subscription: " << theCallSub);
             SetSelect(fd, COMM_SELECT_READ, doAccept, this, 0);
             return;
         }
 
         // A non-recoverable error; notify the caller */
-        debugs(5, 5, HERE << "non-recoverable error: FD " << fd << " handler: " << theCallback);
-        notify(-1, COMM_ERROR, connDetails);
-        mayAcceptMore = false;
+        debugs(5, 5, HERE << "non-recoverable error:" << status() << " handler Subscription: " << theCallSub);
+        notify(flag, newConnDetails, newFd);
+        mustStop("Listener socket closed");
         return;
     }
 
-    debugs(5, 5, HERE << "accepted: FD " << fd <<
-           " newfd: " << newfd << " from: " << connDetails.peer <<
-           " handler: " << theCallback);
-    notify(newfd, COMM_OK, connDetails);
+    debugs(5, 5, HERE << "Listener: FD " << fd <<
+           " accepted new connection from " << newConnDetails.peer <<
+           " handler Subscription: " << theCallSub);
+    notify(flag, newConnDetails, newFd);
 }
 
 void
-Comm::ListenStateData::acceptNext()
+Comm::TcpAcceptor::acceptNext()
 {
-    assert(isOpen(fd));
+    Must(isOpen(fd));
     debugs(5, 2, HERE << "connection on FD " << fd);
     acceptOne();
 }
 
+// XXX: obsolete comment?
+// NP: can't be a const function because syncWithComm() side effects hit theCallSub->callback().
 void
-Comm::ListenStateData::notify(int newfd, comm_err_t flag, const ConnectionDetail &connDetails)
+Comm::TcpAcceptor::notify(const comm_err_t flag, const ConnectionDetail &connDetails, int newFd) const
 {
     // listener socket handlers just abandon the port with COMM_ERR_CLOSING
     // it should only happen when this object is deleted...
     if (flag == COMM_ERR_CLOSING) {
         return;
     }
 
-    if (theCallback != NULL) {
-        typedef CommAcceptCbParams Params;
-        Params &params = GetCommParams<Params>(theCallback);
+    if (theCallSub != NULL) {
+        AsyncCall::Pointer call = theCallSub->callback();
+        CommAcceptCbParams &params = GetCommParams<CommAcceptCbParams>(call);
         params.fd = fd;
-        params.nfd = newfd;
+        params.nfd = newFd;
         params.details = connDetails;
         params.flag = flag;
         params.xerrno = errcode;
-        ScheduleCallHere(theCallback);
-        if (!mayAcceptMore)
-            theCallback = NULL;
+        ScheduleCallHere(call);
     }
 }
 
 /**
  * accept() and process
- * Wait for an incoming connection on FD.
+ * Wait for an incoming connection on our listener socket.
+ *
+ * \retval COMM_OK         success. details parameter filled.
+ * \retval COMM_NOMESSAGE  attempted accept() but nothing useful came in.
+ * \retval COMM_ERROR      an outright failure occured.
+ *                         Or if this client has too many connections already.
  */
-int
-Comm::ListenStateData::oldAccept(ConnectionDetail &details)
+comm_err_t
+Comm::TcpAcceptor::oldAccept(ConnectionDetail &details, int *newFd)
 {
     PROF_start(comm_accept);
     statCounter.syscalls.sock.accepts++;
@@ -228,17 +312,19 @@ Comm::ListenStateData::oldAccept(ConnectionDetail &details)
         PROF_stop(comm_accept);
 
         if (ignoreErrno(errno)) {
-            debugs(50, 5, HERE << "FD " << fd << ": " << xstrerror());
+            debugs(50, 5, HERE << status() << ": " << xstrerror());
             return COMM_NOMESSAGE;
         } else if (ENFILE == errno || EMFILE == errno) {
-            debugs(50, 3, HERE << "FD " << fd << ": " << xstrerror());
+            debugs(50, 3, HERE << status() << ": " << xstrerror());
             return COMM_ERROR;
         } else {
-            debugs(50, 1, HERE << "FD " << fd << ": " << xstrerror());
+            debugs(50, 1, HERE << status() << ": " << xstrerror());
             return COMM_ERROR;
         }
     }
 
+    Must(sock >= 0);
+    *newFd = sock;
     details.peer = *gai;
 
     if ( Config.client_ip_max_connections >= 0) {
@@ -249,15 +335,16 @@ Comm::ListenStateData::oldAccept(ConnectionDetail &details)
         }
     }
 
+    // lookup the local-end details of this new connection
     details.me.InitAddrInfo(gai);
-
     details.me.SetEmpty();
     getsockname(sock, gai->ai_addr, &gai->ai_addrlen);
     details.me = *gai;
-
-    commSetCloseOnExec(sock);
+    details.me.FreeAddrInfo(gai);
 
     /* fdstat update */
+    // XXX : these are not all HTTP requests. use a note about type and ip:port details->
+    // so we end up with a uniform "(HTTP|FTP-data|HTTPS|...) remote-ip:remote-port"
     fd_open(sock, FD_SOCKET, "HTTP Request");
 
     fdd_table[sock].close_file = NULL;
@@ -266,15 +353,16 @@ Comm::ListenStateData::oldAccept(ConnectionDetail &details)
     fde *F = &fd_table[sock];
     details.peer.NtoA(F->ipaddr,MAX_IPSTRLEN);
     F->remote_port = details.peer.GetPort();
-    F->local_addr.SetPort(details.me.GetPort());
+    F->local_addr = details.me;
     F->sock_family = details.me.IsIPv6()?AF_INET6:AF_INET;
-    details.me.FreeAddrInfo(gai);
 
+    // set socket flags
+    commSetCloseOnExec(sock);
     commSetNonBlocking(sock);
 
     /* IFF the socket is (tproxy) transparent, pass the flag down to allow spoofing */
     F->flags.transparent = fd_table[fd].flags.transparent;
 
     PROF_stop(comm_accept);
-    return sock;
+    return COMM_OK;
 }
@@ -0,0 +1,99 @@
+#ifndef SQUID_COMM_TCPACCEPTOR_H
+#define SQUID_COMM_TCPACCEPTOR_H
+
+#include "base/AsyncCall.h"
+#include "base/Subscription.h"
+#include "CommCalls.h"
+#include "comm_err_t.h"
+#include "comm/TcpAcceptor.h"
+#include "ip/Address.h"
+
+#if HAVE_MAP
+#include <map>
+#endif
+
+namespace Comm
+{
+
+class AcceptLimiter;
+
+/**
+ * Listens on an FD for new incoming connections and
+ * emits an active FD descriptor for the new client.
+ *
+ * Handles all event limiting required to quash inbound connection
+ * floods within the global FD limits of available Squid_MaxFD and
+ * client_ip_max_connections.
+ *
+ * Fills the emitted connection with all connection details able to
+ * be looked up. Currently these are the local/remote IP:port details
+ * and the listening socket transparent-mode flag.
+ */
+class TcpAcceptor : public AsyncJob
+{
+private:
+    virtual void start();
+    virtual bool doneAll() const;
+    virtual void swanSong();
+    virtual const char *status() const;
+
+    TcpAcceptor(const TcpAcceptor &); // not implemented.
+
+public:
+    TcpAcceptor(const int listenFd, const Ip::Address &laddr, int flags,
+                const char *note, const Subscription::Pointer &aSub);
+
+    /** Subscribe a handler to receive calls back about new connections.
+     * Unsubscribes any existing subscribed handler.
+     */
+    void subscribe(const Subscription::Pointer &aSub);
+
+    /** Remove the currently waiting callback subscription.
+     * Already scheduled callbacks remain scheduled.
+     */
+    void unsubscribe(const char *reason);
+
+    /** Try and accept another connection (synchronous).
+     * If one is pending already the subscribed callback handler will be scheduled
+     * to handle it before this method returns.
+     */
+    void acceptNext();
+
+    /// Call the subscribed callback handler with details about a new connection.
+    void notify(const comm_err_t flags, const ConnectionDetail &newConnDetails, const int newFd) const;
+
+    /// errno code of the last accept() or listen() action if one occurred.
+    int errcode;
+
+    /// conn being listened on for new connections
+    /// Reserved for read-only use.
+    // NP: public only until we can hide it behind connection handles
+    int fd;
+
+protected:
+    friend class AcceptLimiter;
+    int32_t isLimited;                   ///< whether this socket is delayed and on the AcceptLimiter queue.
+
+private:
+    Subscription::Pointer theCallSub;    ///< used to generate AsyncCalls handling our events.
+
+    /// IP Address and port being listened on
+    Ip::Address local_addr;
+
+    /// Method to test if there are enough file descriptors to open a new client connection
+    /// if not the accept() will be postponed
+    static bool okToAccept();
+
+    /// Method callback for whenever an FD is ready to accept a client connection.
+    static void doAccept(int fd, void *data);
+
+    void acceptOne();
+    comm_err_t oldAccept(ConnectionDetail &newConnDetails, int *fd);
+    void setListen();
+
+    CBDATA_CLASS2(TcpAcceptor);
+};
+
+} // namespace Comm
+
+#endif /* SQUID_COMM_TCPACCEPTOR_H */
@@ -255,9 +255,8 @@ debugOpenLog(const char *logfile)
         debug_log = stderr;
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(debug_log), O_TEXT);
-
 #endif
 }
 
@@ -783,7 +782,7 @@ Debug::xassert(const char *msg, const char *file, int line)
 
 std::ostringstream (*Debug::CurrentDebug)(NULL);
 
-const size_t
+size_t
 BuildPrefixInit()
 {
     // XXX: This must be kept in sync with the actual debug.cc location
@@ -272,7 +272,7 @@
 #define	HTTP_REQBUF_SZ	4096
 
 /* CygWin & Windows NT Port */
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #define _WIN_SQUID_SERVICE_CONTROL_STOP SERVICE_CONTROL_STOP
 #define _WIN_SQUID_SERVICE_CONTROL_SHUTDOWN SERVICE_CONTROL_SHUTDOWN
 #define _WIN_SQUID_SERVICE_CONTROL_INTERROGATE SERVICE_CONTROL_INTERROGATE
@@ -40,7 +40,7 @@
 static PF diskHandleRead;
 static PF diskHandleWrite;
 
-#if defined(_SQUID_WIN32_) || defined(_SQUID_OS2_)
+#if _SQUID_WINDOWS_ || _SQUID_OS2_
 static int
 diskWriteIsComplete(int fd)
 {
@@ -110,25 +110,18 @@ file_close(int fd)
     }
 
     if (F->flags.write_daemon) {
-#if defined(_SQUID_WIN32_) || defined(_SQUID_OS2_)
+#if _SQUID_WINDOWS_ || _SQUID_OS2_
         /*
          * on some operating systems, you can not delete or rename
          * open files, so we won't allow delayed close.
          */
-
         while (!diskWriteIsComplete(fd))
             diskHandleWrite(fd, NULL);
-
 #else
-
         F->flags.close_request = 1;
-
         debugs(6, 2, "file_close: FD " << fd << ", delaying close");
-
         PROF_stop(file_close);
-
         return;
-
 #endif
 
     }
@@ -522,7 +515,7 @@ int
 xrename(const char *from, const char *to)
 {
     debugs(21, 2, "xrename: renaming " << from << " to " << to);
-#if defined (_SQUID_OS2_) || defined (_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
     remove(to);
 #endif
 
@@ -59,7 +59,7 @@
    using external DNS process.
  */
 #if !USE_DNSSERVERS
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #include "squid_windows.h"
 #define REG_TCPIP_PARA_INTERFACES "SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters\\Interfaces"
 #define REG_TCPIP_PARA "SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters"
@@ -226,7 +226,7 @@ static void idnsParseNameservers(void);
 #ifndef _SQUID_MSWIN_
 static void idnsParseResolvConf(void);
 #endif
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 static void idnsParseWIN32Registry(void);
 static void idnsParseWIN32SearchList(const char *);
 #endif
@@ -364,9 +364,8 @@ idnsParseResolvConf(void)
         return;
     }
 
-#if defined(_SQUID_CYGWIN_)
+#if _SQUID_CYGWIN_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     while (fgets(buf, RESOLV_BUFSZ, fp)) {
@@ -434,7 +433,7 @@ idnsParseResolvConf(void)
 
 #endif
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 static void
 idnsParseWIN32SearchList(const char * Separator)
 {
@@ -1512,20 +1511,16 @@ idnsInit(void)
         idnsParseResolvConf();
 
 #endif
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     if (0 == nns)
         idnsParseWIN32Registry();
-
 #endif
 
     if (0 == nns) {
         debugs(78, 1, "Warning: Could not find any nameservers. Trying to use localhost");
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
         debugs(78, 1, "Please check your TCP-IP settings or /etc/resolv.conf file");
 #else
-
         debugs(78, 1, "Please check your /etc/resolv.conf file");
 #endif
 
@@ -1664,11 +1659,9 @@ idnsALookup(const char *name, IDNSCB * callback, void *data)
            ", id = 0x" << std::hex << q->msg_id);
 
     q->callback = callback;
-
     q->callback_data = cbdataReference(data);
 
     idnsCacheQuery(q);
-
     idnsSendQuery(q);
 }
 
@@ -1716,11 +1709,9 @@ idnsPTRLookup(const Ip::Address &addr, IDNSCB * callback, void *data)
            ", id = 0x" << std::hex << q->msg_id);
 
     q->callback = callback;
-
     q->callback_data = cbdataReference(data);
 
     idnsCacheQuery(q);
-
     idnsSendQuery(q);
 }
 
@@ -143,25 +143,6 @@ typedef enum {
     STORE_DISK_CLIENT
 } store_client_t;
 
-typedef enum {
-    PROTO_NONE,
-    PROTO_HTTP,
-    PROTO_FTP,
-    PROTO_GOPHER,
-    PROTO_WAIS,
-    PROTO_CACHEOBJ,
-    PROTO_ICP,
-#if USE_HTCP
-    PROTO_HTCP,
-#endif
-    PROTO_URN,
-    PROTO_WHOIS,
-    PROTO_INTERNAL,
-    PROTO_HTTPS,
-    PROTO_ICY,
-    PROTO_MAX
-} protocol_t;
-
 /*
  * These are for StoreEntry->flag, which is defined as a SHORT
  *
@@ -326,7 +307,7 @@ enum {
 
 
 /* CygWin & Windows NT Port */
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 /*
  * Supported Windows OS types codes
  */
@@ -52,6 +52,9 @@ typedef enum {
     /* ICAP Errors */
     ERR_ICAP_FAILURE,
 
+    /* Squid problem */
+    ERR_GATEWAY_FAILURE,
+
     /* Special Cases */
     ERR_DIR_LISTING,            /* Display of remote directory (FTP, Gopher) */
     ERR_SQUID_SIGNATURE,        /* not really an error */
@@ -34,7 +34,9 @@
 #include "config.h"
 #include "comm/Write.h"
 #include "errorpage.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "SquidTime.h"
 #include "Store.h"
 #include "html_quote.h"
@@ -548,7 +550,9 @@ errorStateFree(ErrorState * err)
     wordlistDestroy(&err->ftp.server_msg);
     safe_free(err->ftp.request);
     safe_free(err->ftp.reply);
+#if USE_AUTH
     err->auth_user_request = NULL;
+#endif
     safe_free(err->err_msg);
 #if USE_ERR_LOCALES
     if (err->err_language != Config.errorDefaultLanguage)
@@ -582,10 +586,10 @@ ErrorState::Dump(MemBuf * mb)
     } else {
         str.Printf("Err: [none]\r\n");
     }
-
+#if USE_AUTH
     if (auth_user_request->denyMessage())
         str.Printf("Auth ErrMsg: %s\r\n", auth_user_request->denyMessage());
-
+#endif
     if (dnsError.size() > 0)
         str.Printf("DNS ErrMsg: %s\r\n", dnsError.termedBuf());
 
@@ -659,12 +663,13 @@ ErrorState::Convert(char token, bool building_deny_info_url, bool allowRecursion
     switch (token) {
 
     case 'a':
+#if USE_AUTH
         if (request && request->auth_user_request != NULL)
             p = request->auth_user_request->username();
         if (!p)
+#endif
             p = "-";
         break;
-
     case 'B':
         if (building_deny_info_url) break;
         p = request ? ftpUrlWith2f(request) : "[no URL]";
@@ -773,7 +778,11 @@ ErrorState::Convert(char token, bool building_deny_info_url, bool allowRecursion
 
     case 'm':
         if (building_deny_info_url) break;
+#if USE_AUTH
         p = auth_user_request->denyMessage("[not available]");
+#else
+        p = "-";
+#endif
         break;
 
     case 'M':
@@ -799,7 +808,7 @@ ErrorState::Convert(char token, bool building_deny_info_url, bool allowRecursion
 
     case 'P':
         if (request) {
-            p = ProtocolStr[request->protocol];
+            p = AnyP::ProtocolType_str[request->protocol];
         } else if (!building_deny_info_url) {
             p = "[unknown protocol]";
         }
@@ -1057,6 +1066,7 @@ ErrorState::BuildContent()
     String hdr;
     char dir[256];
     int l = 0;
+    const char *freePage = NULL;
 
     /** error_directory option in squid.conf overrides translations.
      * Custom errors are always found either in error_directory or the templates directory.
@@ -1130,6 +1140,7 @@ ErrorState::BuildContent()
                 if (m) {
                     /* store the language we found for the Content-Language reply header */
                     err_language = xstrdup(reset);
+                    freePage = m;
                     break;
                 } else if (Config.errorLogMissingLanguages) {
                     debugs(4, DBG_IMPORTANT, "WARNING: Error Pages Missing Language: " << reset);
@@ -1166,7 +1177,12 @@ ErrorState::BuildContent()
         debugs(4, 2, HERE << "No existing error page language negotiated for " << errorPageName(page_id) << ". Using default error file.");
     }
 
-    return ConvertText(m, true);
+    MemBuf *result = ConvertText(m, true);
+#if USE_ERR_LOCALES
+    safe_free(freePage);
+#endif
+
+    return result;
 }
 
 MemBuf *ErrorState::ConvertText(const char *text, bool allowRecursion)
@@ -35,7 +35,9 @@
 #define   SQUID_ERRORPAGE_H
 
 #include "squid.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "cbdata.h"
 #include "ip/Address.h"
 #if USE_SSL
@@ -140,7 +142,9 @@ class ErrorState
     int page_id;
     char *err_language;
     http_status httpStatus;
+#if USE_AUTH
     AuthUserRequest::Pointer auth_user_request;
+#endif
     HttpRequest *request;
     char *url;
     int xerrno;
@@ -52,8 +52,7 @@
          and can be wrapped
  */
 
-#if _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
 struct arpreq {
 
     Ip::Address arp_pa;   /* protocol address */
@@ -160,9 +159,9 @@ bool
 Eui::Eui48::lookup(Ip::Address &c)
 {
     struct arpreq arpReq;
-#if !_SQUID_WIN32_
+#if !_SQUID_WINDOWS_
     struct sockaddr_in *sa = NULL;
-#endif /* !_SQUID_WIN32_ */
+#endif /* !_SQUID_WINDOWS_ */
 
     Ip::Address ipAddr = c;
     ipAddr.SetPort(0);
@@ -451,7 +450,7 @@ Eui::Eui48::lookup(Ip::Address &c)
     set(arpReq.arp_ha.sa_data, 6);
     return true;
 
-#elif _SQUID_WIN32_
+#elif _SQUID_WINDOWS_
 
     DWORD           dwNetTable = 0;
 
@@ -44,7 +44,11 @@
 #include "mgr/Registration.h"
 #include "ExternalACL.h"
 #include "ExternalACLEntry.h"
+#if USE_AUTH
+#include "auth/Acl.h"
+#include "auth/Gadgets.h"
 #include "auth/UserRequest.h"
+#endif
 #include "SquidTime.h"
 #include "Store.h"
 #include "fde.h"
@@ -57,8 +61,6 @@
 #include "client_side.h"
 #include "HttpRequest.h"
 #include "HttpReply.h"
-#include "auth/Acl.h"
-#include "auth/Gadgets.h"
 #include "helper.h"
 #include "MemBuf.h"
 #include "rfc1738.h"
@@ -124,13 +126,15 @@ class external_acl
 
     dlink_list queue;
 
+#if USE_AUTH
     /**
      * Configuration flag. May only be altered by the configuration parser.
      *
      * Indicates that all uses of this external_acl_type helper require authentication
      * details to be processed. If none are available its a fail match.
      */
     bool require_auth;
+#endif
 
     enum {
         QUOTE_METHOD_SHELL = 1,
@@ -143,7 +147,9 @@ class external_acl
 struct _external_acl_format {
     enum format_type {
         EXT_ACL_UNKNOWN,
+#if USE_AUTH
         EXT_ACL_LOGIN,
+#endif
 #if USE_IDENT
         EXT_ACL_IDENT,
 #endif
@@ -178,7 +184,9 @@ struct _external_acl_format {
         EXT_ACL_USER_CERT_RAW,
         EXT_ACL_USER_CERTCHAIN_RAW,
 #endif
+#if USE_AUTH
         EXT_ACL_EXT_USER,
+#endif
         EXT_ACL_END
     } type;
     external_acl_format *next;
@@ -399,9 +407,11 @@ parse_externalAclHelper(external_acl ** list)
             parse_header_token(format, (token+3), _external_acl_format::EXT_ACL_HEADER_REQUEST);
         } else if (strncmp(token, "%<{", 3) == 0) {
             parse_header_token(format, (token+3), _external_acl_format::EXT_ACL_HEADER_REPLY);
+#if USE_AUTH
         } else if (strcmp(token, "%LOGIN") == 0) {
             format->type = _external_acl_format::EXT_ACL_LOGIN;
             a->require_auth = true;
+#endif
         }
 
 #if USE_IDENT
@@ -450,8 +460,10 @@ parse_externalAclHelper(external_acl ** list)
             format->header = xstrdup(token + 11);
         }
 #endif
+#if USE_AUTH
         else if (strcmp(token, "%EXT_USER") == 0)
             format->type = _external_acl_format::EXT_ACL_EXT_USER;
+#endif
         else {
             debugs(0,0, "ERROR: Unknown Format token " << token);
             self_destruct();
@@ -546,8 +558,9 @@ dump_externalAclHelper(StoreEntry * sentry, const char *name, const external_acl
             case _external_acl_format::EXT_ACL_##a: \
                 storeAppendPrintf(sentry, " %%%s", #a); \
                 break
-
+#if USE_AUTH
                 DUMP_EXT_ACL_TYPE(LOGIN);
+#endif
 #if USE_IDENT
 
                 DUMP_EXT_ACL_TYPE(IDENT);
@@ -586,9 +599,9 @@ dump_externalAclHelper(StoreEntry * sentry, const char *name, const external_acl
                 storeAppendPrintf(sentry, " %%USER_CERT_%s", format->header);
                 break;
 #endif
-
+#if USE_AUTH
                 DUMP_EXT_ACL_TYPE(EXT_USER);
-
+#endif
             default:
                 fatal("unknown external_acl format error");
                 break;
@@ -693,6 +706,7 @@ ACLExternal::parse()
 bool
 ACLExternal::valid () const
 {
+#if USE_AUTH
     if (data->def->require_auth) {
         if (authenticateSchemeCount() == 0) {
             debugs(28, 0, "Can't use proxy auth because no authentication schemes were compiled.");
@@ -704,6 +718,7 @@ ACLExternal::valid () const
             return false;
         }
     }
+#endif
 
     return true;
 }
@@ -726,15 +741,20 @@ aclMatchExternal(external_acl_data *acl, ACLFilledChecklist *ch)
     int result;
     external_acl_entry *entry;
     const char *key = "";
-    debugs(82, 9, "aclMatchExternal: acl=\"" << acl->def->name << "\"");
+    debugs(82, 9, HERE << "acl=\"" << acl->def->name << "\"");
     entry = ch->extacl_entry;
 
     if (entry) {
-        if (cbdataReferenceValid(entry) && entry->def == acl->def &&
-                strcmp((char *)entry->key, key) == 0) {
+        if (cbdataReferenceValid(entry) && entry->def == acl->def) {
             /* Ours, use it.. */
         } else {
             /* Not valid, or not ours.. get rid of it */
+            debugs(82, 9, HERE << "entry " << entry << " not valid or not ours. Discarded.");
+            if (entry) {
+                debugs(82, 9, HERE << "entry def=" << entry->def << ", our def=" << acl->def);
+                key = makeExternalAclKey(ch, acl);
+                debugs(82, 9, HERE << "entry key='" << (char *)entry->key << "', our key='" << key << "'");
+            }
             cbdataReferenceDone(ch->extacl_entry);
             entry = NULL;
         }
@@ -743,18 +763,19 @@ aclMatchExternal(external_acl_data *acl, ACLFilledChecklist *ch)
     external_acl_message = "MISSING REQUIRED INFORMATION";
 
     if (!entry) {
+        debugs(82, 9, HERE << "No helper entry available");
+#if USE_AUTH
         if (acl->def->require_auth) {
             int ti;
             /* Make sure the user is authenticated */
             debugs(82, 3, "aclMatchExternal: " << acl->def->name << " check user authenticated.");
-
             if ((ti = AuthenticateAcl(ch)) != 1) {
                 debugs(82, 2, "aclMatchExternal: " << acl->def->name << " user not authenticated (" << ti << ")");
                 return ti;
             }
             debugs(82, 3, "aclMatchExternal: " << acl->def->name << " user is authenticated.");
         }
-
+#endif
         key = makeExternalAclKey(ch, acl);
 
         if (!key) {
@@ -799,12 +820,13 @@ aclMatchExternal(external_acl_data *acl, ACLFilledChecklist *ch)
     debugs(82, 2, "aclMatchExternal: " << acl->def->name << " = " << result);
 
     if (ch->request) {
+#if USE_AUTH
         if (entry->user.size())
             ch->request->extacl_user = entry->user;
 
         if (entry->password.size())
             ch->request->extacl_passwd = entry->password;
-
+#endif
         if (!ch->request->tag.size())
             ch->request->tag = entry->tag;
 
@@ -850,6 +872,10 @@ ACLExternal::dump() const
 static void
 external_acl_cache_touch(external_acl * def, external_acl_entry * entry)
 {
+    // this must not be done when nothing is being cached.
+    if (def->cache_size <= 0 || (def->ttl <= 0 && entry->result == 1) || (def->negative_ttl <= 0 && entry->result != 1))
+        return;
+
     dlinkDelete(&entry->lru, &def->lru_list);
     dlinkAdd(entry, &entry->lru, &def->lru_list);
 }
@@ -871,13 +897,13 @@ makeExternalAclKey(ACLFilledChecklist * ch, external_acl_data * acl_data)
         String sb;
 
         switch (format->type) {
-
+#if USE_AUTH
         case _external_acl_format::EXT_ACL_LOGIN:
             assert (ch->auth_user_request != NULL);
             str = ch->auth_user_request->username();
             break;
+#endif
 #if USE_IDENT
-
         case _external_acl_format::EXT_ACL_IDENT:
             str = ch->rfc931;
 
@@ -928,7 +954,7 @@ makeExternalAclKey(ACLFilledChecklist * ch, external_acl_data * acl_data)
             break;
 
         case _external_acl_format::EXT_ACL_PROTO:
-            str = ProtocolStr[request->protocol];
+            str = AnyP::ProtocolType_str[request->protocol];
             break;
 
         case _external_acl_format::EXT_ACL_PORT:
@@ -1037,11 +1063,11 @@ makeExternalAclKey(ACLFilledChecklist * ch, external_acl_data * acl_data)
 
             break;
 #endif
-
+#if USE_AUTH
         case _external_acl_format::EXT_ACL_EXT_USER:
             str = request->extacl_user.termedBuf();
             break;
-
+#endif
         case _external_acl_format::EXT_ACL_UNKNOWN:
 
         case _external_acl_format::EXT_ACL_END:
@@ -1091,6 +1117,9 @@ makeExternalAclKey(ACLFilledChecklist * ch, external_acl_data * acl_data)
 static int
 external_acl_entry_expired(external_acl * def, external_acl_entry * entry)
 {
+    if (def->cache_size <= 0)
+        return 1;
+
     if (entry->date + (entry->result == 1 ? def->ttl : def->negative_ttl) < squid_curtime)
         return 1;
     else
@@ -1100,11 +1129,14 @@ external_acl_entry_expired(external_acl * def, external_acl_entry * entry)
 static int
 external_acl_grace_expired(external_acl * def, external_acl_entry * entry)
 {
+    if (def->cache_size <= 0)
+        return 1;
+
     int ttl;
     ttl = entry->result == 1 ? def->ttl : def->negative_ttl;
     ttl = (ttl * (100 - def->grace)) / 100;
 
-    if (entry->date + ttl < squid_curtime)
+    if (entry->date + ttl <= squid_curtime)
         return 1;
     else
         return 0;
@@ -1113,20 +1145,32 @@ external_acl_grace_expired(external_acl * def, external_acl_entry * entry)
 static external_acl_entry *
 external_acl_cache_add(external_acl * def, const char *key, ExternalACLEntryData const & data)
 {
-    ExternalACLEntry *entry = static_cast<ExternalACLEntry *>(hash_lookup(def->cache, key));
+    ExternalACLEntry *entry;
+
+    // do not bother caching this result if TTL is going to expire it immediately
+    if (def->cache_size <= 0 || (def->ttl <= 0 && data.result == 1) || (def->negative_ttl <= 0 && data.result != 1)) {
+        debugs(82,6, HERE);
+        entry = new ExternalACLEntry;
+        entry->key = xstrdup(key);
+        entry->update(data);
+        entry->def = def;
+        return entry;
+    }
+
+    entry = static_cast<ExternalACLEntry *>(hash_lookup(def->cache, key));
     debugs(82, 2, "external_acl_cache_add: Adding '" << key << "' = " << data.result);
 
     if (entry) {
         debugs(82, 3, "ExternalACLEntry::update: updating existing entry");
-        entry->update (data);
+        entry->update(data);
         external_acl_cache_touch(def, entry);
 
         return entry;
     }
 
     entry = new ExternalACLEntry;
     entry->key = xstrdup(key);
-    entry->update (data);
+    entry->update(data);
 
     def->add(entry);
 
@@ -1136,7 +1180,7 @@ external_acl_cache_add(external_acl * def, const char *key, ExternalACLEntryData
 static void
 external_acl_cache_delete(external_acl * def, external_acl_entry * entry)
 {
-    assert (entry->def == def);
+    assert(def->cache_size > 0 && entry->def == def);
     hash_remove_link(def->cache, entry);
     dlinkDelete(&entry->lru, &def->lru_list);
     def->cache_entries -= 1;
@@ -1200,7 +1244,7 @@ externalAclHandleReply(void *data, char *reply)
     char *status;
     char *token;
     char *value;
-    char *t;
+    char *t = NULL;
     ExternalACLEntryData entryData;
     entryData.result = 0;
     external_acl_entry *entry = NULL;
@@ -1222,22 +1266,24 @@ externalAclHandleReply(void *data, char *reply)
                 if (state->def->quote == external_acl::QUOTE_METHOD_URL)
                     rfc1738_unescape(value);
 
-                if (strcmp(token, "user") == 0)
-                    entryData.user = value;
-                else if (strcmp(token, "message") == 0)
+                if (strcmp(token, "message") == 0)
                     entryData.message = value;
                 else if (strcmp(token, "error") == 0)
                     entryData.message = value;
                 else if (strcmp(token, "tag") == 0)
                     entryData.tag = value;
                 else if (strcmp(token, "log") == 0)
                     entryData.log = value;
+#if USE_AUTH
+                else if (strcmp(token, "user") == 0)
+                    entryData.user = value;
                 else if (strcmp(token, "password") == 0)
                     entryData.password = value;
                 else if (strcmp(token, "passwd") == 0)
                     entryData.password = value;
                 else if (strcmp(token, "login") == 0)
                     entryData.user = value;
+#endif
             }
         }
     }
@@ -1282,6 +1328,7 @@ ACLExternal::ExternalAclLookup(ACLChecklist *checklist, ACLExternal * me, EAH *
     bool graceful = 0;
 
     ACLFilledChecklist *ch = Filled(checklist);
+#if USE_AUTH
     if (acl->def->require_auth) {
         int ti;
         /* Make sure the user is authenticated */
@@ -1295,6 +1342,7 @@ ACLExternal::ExternalAclLookup(ACLChecklist *checklist, ACLExternal * me, EAH *
         }
         debugs(82, 3, "aclMatchExternal: " << acl->def->name << " user is authenticated.");
     }
+#endif
 
     const char *key = makeExternalAclKey(ch, acl);
 
@@ -1313,12 +1361,15 @@ ACLExternal::ExternalAclLookup(ACLChecklist *checklist, ACLExternal * me, EAH *
         entry = NULL;
 
     /* Check for a pending lookup to hook into */
-    for (node = def->queue.head; node; node = node->next) {
-        externalAclState *oldstatetmp = static_cast<externalAclState *>(node->data);
+    // only possible if we are caching results.
+    if (def->cache_size > 0) {
+        for (node = def->queue.head; node; node = node->next) {
+            externalAclState *oldstatetmp = static_cast<externalAclState *>(node->data);
 
-        if (strcmp(key, oldstatetmp->key) == 0) {
-            oldstate = oldstatetmp;
-            break;
+            if (strcmp(key, oldstatetmp->key) == 0) {
+                oldstate = oldstatetmp;
+                break;
+            }
         }
     }
 
@@ -1389,9 +1440,13 @@ ACLExternal::ExternalAclLookup(ACLChecklist *checklist, ACLExternal * me, EAH *
 
         if (entry != NULL) {
             debugs(82, 4, "externalAclLookup: entry = { date=" <<
-                   (long unsigned int) entry->date << ", result=" <<
-                   entry->result << ", user=" << entry->user << " tag=" <<
-                   entry->tag << " log=" << entry->log << " }");
+                   (long unsigned int) entry->date <<
+                   ", result=" << entry->result <<
+                   " tag=" << entry->tag <<
+                   " log=" << entry->log << " }");
+#if USE_AUTH
+            debugs(82, 4, "externalAclLookup: user=" << entry->user);
+#endif
 
         }
 
@@ -1531,5 +1586,9 @@ ACLExternal::typeString() const
 bool
 ACLExternal::isProxyAuth() const
 {
+#if USE_AUTH
     return data->def->require_auth;
+#else
+    return false;
+#endif
 }
@@ -203,7 +203,7 @@ FwdState::fwdStart(int client_fd, StoreEntry *entry, HttpRequest *request)
      */
 
     if ( Config.accessList.miss && !request->client_addr.IsNoAddr() &&
-            request->protocol != PROTO_INTERNAL && request->protocol != PROTO_CACHEOBJ) {
+            request->protocol != AnyP::PROTO_INTERNAL && request->protocol != AnyP::PROTO_CACHEOBJ) {
         /**
          * Check if this host is allowed to fetch MISSES from us (miss_access)
          */
@@ -247,15 +247,15 @@ FwdState::fwdStart(int client_fd, StoreEntry *entry, HttpRequest *request)
 
     switch (request->protocol) {
 
-    case PROTO_INTERNAL:
+    case AnyP::PROTO_INTERNAL:
         internalStart(request, entry);
         return;
 
-    case PROTO_CACHEOBJ:
+    case AnyP::PROTO_CACHEOBJ:
         CacheManager::GetInstance()->Start(client_fd, request, entry);
         return;
 
-    case PROTO_URN:
+    case AnyP::PROTO_URN:
         urnStart(request, entry);
         return;
 
@@ -752,7 +752,7 @@ FwdState::connectDone(int aServerFD, const DnsLookupDetails &dns, comm_err_t sta
 #if USE_SSL
 
         if ((fs->_peer && fs->_peer->use_ssl) ||
-                (!fs->_peer && request->protocol == PROTO_HTTPS)) {
+                (!fs->_peer && request->protocol == AnyP::PROTO_HTTPS)) {
             initiateSSL();
             return;
         }
@@ -1069,36 +1069,36 @@ FwdState::dispatch()
         switch (request->protocol) {
 #if USE_SSL
 
-        case PROTO_HTTPS:
+        case AnyP::PROTO_HTTPS:
             httpStart(this);
             break;
 #endif
 
-        case PROTO_HTTP:
+        case AnyP::PROTO_HTTP:
             httpStart(this);
             break;
 
-        case PROTO_GOPHER:
+        case AnyP::PROTO_GOPHER:
             gopherStart(this);
             break;
 
-        case PROTO_FTP:
+        case AnyP::PROTO_FTP:
             ftpStart(this);
             break;
 
-        case PROTO_CACHEOBJ:
+        case AnyP::PROTO_CACHEOBJ:
 
-        case PROTO_INTERNAL:
+        case AnyP::PROTO_INTERNAL:
 
-        case PROTO_URN:
+        case AnyP::PROTO_URN:
             fatal_dump("Should never get here");
             break;
 
-        case PROTO_WHOIS:
+        case AnyP::PROTO_WHOIS:
             whoisStart(this);
             break;
 
-        case PROTO_WAIS:	/* Not implemented */
+        case AnyP::PROTO_WAIS:	/* Not implemented */
 
         default:
             debugs(17, 1, "fwdDispatch: Cannot retrieve '" << entry->url() << "'" );
@@ -152,6 +152,9 @@ static long fqdncache_low = 180;
 /// \ingroup FQDNCacheInternal
 static long fqdncache_high = 200;
 
+/// \ingroup FQDNCacheInternal
+inline int fqdncacheCount() { return fqdn_table ? fqdn_table->count : 0; }
+
 int
 fqdncache_entry::age() const
 {
@@ -229,7 +232,7 @@ fqdncache_purgelru(void *notused)
     eventAdd("fqdncache_purgelru", fqdncache_purgelru, NULL, 10.0, 1);
 
     for (m = lru_list.tail; m; m = prev) {
-        if (memInUse(MEM_FQDNCACHE_ENTRY) < fqdncache_low)
+        if (fqdncacheCount() < fqdncache_low)
             break;
 
         prev = m->prev;
@@ -698,9 +701,12 @@ fqdnStats(StoreEntry * sentry)
 
     storeAppendPrintf(sentry, "FQDN Cache Statistics:\n");
 
-    storeAppendPrintf(sentry, "FQDNcache Entries: %d\n",
+    storeAppendPrintf(sentry, "FQDNcache Entries In Use: %d\n",
                       memInUse(MEM_FQDNCACHE_ENTRY));
 
+    storeAppendPrintf(sentry, "FQDNcache Entries Cached: %d\n",
+                      fqdncacheCount());
+
     storeAppendPrintf(sentry, "FQDNcache Requests: %d\n",
                       FqdncacheStats.requests);
 
@@ -882,7 +888,7 @@ snmp_netFqdnFn(variable_list * Var, snint * ErrP)
 
     case FQDN_ENT:
         Answer = snmp_var_new_integer(Var->name, Var->name_length,
-                                      memInUse(MEM_FQDNCACHE_ENTRY),
+                                      fqdncacheCount(),
                                       SMI_GAUGE32);
         break;
 
@@ -836,10 +836,9 @@ CossSwapDir::writeCleanDone()
     /* rename */
 
     if (state->fd >= 0) {
-#if defined(_SQUID_OS2_) || defined(_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         file_close(state->fd);
         state->fd = -1;
-
 #endif
 
         xrename(state->newLog, state->cur);
@@ -986,10 +986,9 @@ UFSSwapDir::writeCleanDone()
     /* rename */
 
     if (state->fd >= 0) {
-#if defined(_SQUID_OS2_) || defined (_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         file_close(state->fd);
         state->fd = -1;
-
 #endif
 
         xrename(state->newLog, state->cur);
@@ -34,8 +34,9 @@
 
 #include "squid.h"
 #include "comm.h"
+#include "CommCalls.h"
+#include "comm/TcpAcceptor.h"
 #include "comm/Write.h"
-#include "comm/ListenStateData.h"
 #include "compat/strtoll.h"
 #include "ConnectionDetail.h"
 #include "errorpage.h"
@@ -153,13 +154,11 @@ class FtpChannel
 
     void clear(); /// just resets fd and close handler. does not close active connections.
 
-    int fd; /// channel descriptor; \todo: remove because the closer has it
+    int fd; /// channel descriptor
 
-    /** Current listening socket handler. delete on shutdown or abort.
-     * FTP stores a copy of the FD in the field fd above.
-     * Use close() to properly close the channel.
-     */
-    Comm::ListenStateData *listener;
+    Ip::Address local; ///< The local IP address:port this channel is using
+
+    int flags; ///< socket flags used when opening.
 
 private:
     AsyncCall::Pointer closer; /// Comm close handler callback
@@ -245,6 +244,12 @@ class FtpStateData : public ServerStateData
     void completedListing(void);
     void dataComplete();
     void dataRead(const CommIoCbParams &io);
+
+    /// ignore timeout on CTRL channel. set read timeout on DATA channel.
+    void switchTimeoutToDataChannel();
+    /// create a data channel acceptor and start listening.
+    void listenForDataChannel(const int fd, const char *note);
+
     int checkAuth(const HttpHeader * req_hdr);
     void checkUrlpath();
     void buildTitleUrl();
@@ -443,6 +448,7 @@ FTPSM *FTP_SM_FUNCS[] = {
 void
 FtpStateData::ctrlClosed(const CommCloseCbParams &io)
 {
+    debugs(9, 4, HERE);
     ctrl.clear();
     deleteThis("FtpStateData::ctrlClosed");
 }
@@ -451,10 +457,10 @@ FtpStateData::ctrlClosed(const CommCloseCbParams &io)
 void
 FtpStateData::dataClosed(const CommCloseCbParams &io)
 {
-    if (data.listener) {
-        delete data.listener;
-        data.listener = NULL;
-        data.fd = -1;
+    debugs(9, 4, HERE);
+    if (data.fd >= 0) {
+        comm_close(data.fd);
+        // NP clear() does the: data.fd = -1;
     }
     data.clear();
     failed(ERR_FTP_FAILURE, 0);
@@ -605,6 +611,46 @@ FtpStateData::loginParser(const char *login, int escaped)
     debugs(9, 9, HERE << ": OUT: login='" << login << "', escaped=" << escaped << ", user=" << user << ", password=" << password);
 }
 
+void
+FtpStateData::switchTimeoutToDataChannel()
+{
+    commSetTimeout(ctrl.fd, -1, NULL, NULL);
+
+    typedef CommCbMemFunT<FtpStateData, CommTimeoutCbParams> TimeoutDialer;
+    AsyncCall::Pointer timeoutCall = JobCallback(9, 5, TimeoutDialer, this, FtpStateData::ftpTimeout);
+    commSetTimeout(data.fd, Config.Timeout.read, timeoutCall);
+}
+
+void
+FtpStateData::listenForDataChannel(const int fd, const char *note)
+{
+    assert(data.fd < 0);
+
+    typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> AcceptDialer;
+    typedef AsyncCallT<AcceptDialer> AcceptCall;
+    RefCount<AcceptCall> call = static_cast<AcceptCall*>(JobCallback(11, 5, AcceptDialer, this, FtpStateData::ftpAcceptDataConnection));
+    Subscription::Pointer sub = new CallSubscription<AcceptCall>(call);
+
+    /* open the conn if its not already open */
+    int newFd = fd;
+    if (newFd < 0) {
+        newFd = comm_open_listener(SOCK_STREAM, IPPROTO_TCP, data.local, data.flags, note);
+        if (newFd < 0) {
+            debugs(5, DBG_CRITICAL, HERE << "comm_open_listener failed:" << data.local << " error: " << errno);
+            return;
+        }
+        debugs(9, 3, HERE << "Unconnected data socket created on FD " << newFd << ", " << data.local);
+    }
+
+    assert(newFd >= 0);
+    Comm::TcpAcceptor *tmp = new Comm::TcpAcceptor(newFd, data.local, data.flags, note, sub);
+    AsyncJob::Start(tmp);
+
+    // Ensure we have a copy of the FD opened for listening and a close handler on it.
+    data.opened(newFd, dataCloser());
+    switchTimeoutToDataChannel();
+}
+
 void
 FtpStateData::ftpTimeout(const CommTimeoutCbParams &io)
 {
@@ -1066,10 +1112,16 @@ FtpStateData::parseListing()
 
     usable = end - sbuf;
 
-    debugs(9, 3, HERE << "usable = " << usable);
+    debugs(9, 3, HERE << "usable = " << usable << " of " << len << " bytes.");
 
     if (usable == 0) {
-        debugs(9, 3, HERE << "didn't find end for " << entry->url()  );
+        if (buf[0] == '\0' && len == 1) {
+            debugs(9, 3, HERE << "NIL ends data from " << entry->url() << " transfer problem?");
+            data.readBuf->consume(len);
+        } else {
+            debugs(9, 3, HERE << "didn't find end for " << entry->url());
+            debugs(9, 3, HERE << "buffer remains (" << len << " bytes) '" << rfc1738_do_escape(buf,0) << "'");
+        }
         xfree(sbuf);
         return;
     }
@@ -1138,7 +1190,14 @@ FtpStateData::dataComplete()
      * status code after the data command.  FtpStateData was being
      * deleted in the middle of dataRead().
      */
-    scheduleReadControlReply(0);
+    /* AYJ: 2011-01-13: Bug 2581.
+     * 226 status is possibly waiting in the ctrl buffer.
+     * The connection will hang if we DONT send buffered_ok.
+     * This happens on all transfers which can be completly sent by the
+     * server before the 150 started status message is read in by Squid.
+     * ie all transfers of about one packet hang.
+     */
+    scheduleReadControlReply(1);
 }
 
 void
@@ -1412,7 +1471,7 @@ FtpStateData::buildTitleUrl()
 
     title_url.append(request->GetHost());
 
-    if (request->port != urlDefaultPort(PROTO_FTP)) {
+    if (request->port != urlDefaultPort(AnyP::PROTO_FTP)) {
         title_url.append(":");
         title_url.append(xitoa(request->port));
     }
@@ -1434,7 +1493,7 @@ FtpStateData::buildTitleUrl()
 
     base_href.append(request->GetHost());
 
-    if (request->port != urlDefaultPort(PROTO_FTP)) {
+    if (request->port != urlDefaultPort(AnyP::PROTO_FTP)) {
         base_href.append(":");
         base_href.append(xitoa(request->port));
     }
@@ -1674,7 +1733,7 @@ FtpStateData::scheduleReadControlReply(int buffered_ok)
          * establish one on the control socket.
          */
 
-        if (data.fd > -1) {
+        if (data.fd >= 0) {
             AsyncCall::Pointer nullCall =  NULL;
             commSetTimeout(data.fd, -1, nullCall);
         }
@@ -2722,27 +2781,24 @@ FtpStateData::ftpPasvCallback(int fd, const DnsLookupDetails &dns, comm_err_t st
 static int
 ftpOpenListenSocket(FtpStateData * ftpState, int fallback)
 {
-    int fd;
-    Ip::Address addr;
     struct addrinfo *AI = NULL;
-    int on = 1;
     int x = 0;
 
     /// Close old data channels, if any. We may open a new one below.
-    ftpState->data.close();
+    if ((ftpState->data.flags & COMM_REUSEADDR))
+        // NP: in fact it points to the control channel. just clear it.
+        ftpState->data.clear();
+    else
+        ftpState->data.close();
 
     /*
      * Set up a listen socket on the same local address as the
      * control connection.
      */
-
-    addr.InitAddrInfo(AI);
-
+    ftpState->data.local.InitAddrInfo(AI);
     x = getsockname(ftpState->ctrl.fd, AI->ai_addr, &AI->ai_addrlen);
-
-    addr = *AI;
-
-    addr.FreeAddrInfo(AI);
+    ftpState->data.local = *AI;
+    ftpState->data.local.FreeAddrInfo(AI);
 
     if (x) {
         debugs(9, DBG_CRITICAL, HERE << "getsockname(" << ftpState->ctrl.fd << ",..): " << xstrerror());
@@ -2754,38 +2810,18 @@ ftpOpenListenSocket(FtpStateData * ftpState, int fallback)
      * used for both control and data.
      */
     if (fallback) {
+        int on = 1;
         setsockopt(ftpState->ctrl.fd, SOL_SOCKET, SO_REUSEADDR, (char *) &on, sizeof(on));
+        ftpState->ctrl.flags |= COMM_REUSEADDR;
+        ftpState->data.flags |= COMM_REUSEADDR;
     } else {
         /* if not running in fallback mode a new port needs to be retrieved */
-        addr.SetPort(0);
-    }
-
-    fd = comm_open(SOCK_STREAM,
-                   IPPROTO_TCP,
-                   addr,
-                   COMM_NONBLOCKING | (fallback ? COMM_REUSEADDR : 0),
-                   ftpState->entry->url());
-    debugs(9, 3, HERE << "Unconnected data socket created on FD " << fd  );
-
-    if (fd < 0) {
-        debugs(9, DBG_CRITICAL, HERE << "comm_open failed");
-        return -1;
-    }
-
-    typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> acceptDialer;
-    AsyncCall::Pointer acceptCall = JobCallback(11, 5,
-                                    acceptDialer, ftpState, FtpStateData::ftpAcceptDataConnection);
-    ftpState->data.listener = new Comm::ListenStateData(fd, acceptCall, false);
-
-    if (!ftpState->data.listener || ftpState->data.listener->errcode != 0) {
-        comm_close(fd);
-        return -1;
+        ftpState->data.local.SetPort(0);
+        ftpState->data.flags = COMM_NONBLOCKING;
     }
 
-    ftpState->data.opened(fd, ftpState->dataCloser());
-    ftpState->data.port = comm_local_port(fd);
-    ftpState->data.host = NULL;
-    return fd;
+    ftpState->listenForDataChannel((fallback?ftpState->ctrl.fd:-1), ftpState->entry->url());
+    return ftpState->data.fd;
 }
 
 /// \ingroup ServerProtocolFTPInternal
@@ -2881,6 +2917,7 @@ ftpSendEPRT(FtpStateData * ftpState)
     debugs(9, 3, HERE);
     ftpState->flags.pasv_supported = 0;
     fd = ftpOpenListenSocket(ftpState, 0);
+    debugs(9, 3, "Listening for FTP data connection with FD " << fd);
 
     Ip::Address::InitAddrInfo(AI);
 
@@ -2933,77 +2970,68 @@ ftpReadEPRT(FtpStateData * ftpState)
  */
 void FtpStateData::ftpAcceptDataConnection(const CommAcceptCbParams &io)
 {
-    char ntoapeer[MAX_IPSTRLEN];
-    debugs(9, 3, "ftpAcceptDataConnection");
-
-    // one connection accepted. the handler has stopped listening. drop our local pointer to it.
-    data.listener = NULL;
+    debugs(9, 3, HERE);
 
     if (EBIT_TEST(entry->flags, ENTRY_ABORTED)) {
         abortTransaction("entry aborted when accepting data conn");
         return;
     }
 
+    if (io.flag != COMM_OK) {
+        data.close();
+        debugs(9, DBG_IMPORTANT, "FTP AcceptDataConnection: FD " << io.fd << ": " << xstrerr(io.xerrno));
+        /** \todo Need to send error message on control channel*/
+        ftpFail(this);
+        return;
+    }
+
+    /* data listening conn is no longer even open. abort. */
+    if (data.fd <= 0 || fd_table[data.fd].flags.open == 0) {
+        data.clear(); // ensure that it's cleared and not just closed.
+        return;
+    }
+
     /** \par
      * When squid.conf ftp_sanitycheck is enabled, check the new connection is actually being
      * made by the remote client which is connected to the FTP control socket.
+     * Or the one which we were told to listen for by control channel messages (may differ under NAT).
      * This prevents third-party hacks, but also third-party load balancing handshakes.
      */
     if (Config.Ftp.sanitycheck) {
+        char ntoapeer[MAX_IPSTRLEN];
         io.details.peer.NtoA(ntoapeer,MAX_IPSTRLEN);
 
-        if (strcmp(fd_table[ctrl.fd].ipaddr, ntoapeer) != 0) {
+        if (strcmp(fd_table[ctrl.fd].ipaddr, ntoapeer) != 0 &&
+                strcmp(fd_table[data.fd].ipaddr, ntoapeer) != 0) {
             debugs(9, DBG_IMPORTANT,
                    "FTP data connection from unexpected server (" <<
                    io.details.peer << "), expecting " <<
-                   fd_table[ctrl.fd].ipaddr);
+                   fd_table[ctrl.fd].ipaddr << " or " << fd_table[data.fd].ipaddr);
 
-            /* close the bad soures connection down ASAP. */
+            /* close the bad sources connection down ASAP. */
             comm_close(io.nfd);
 
-            /* we are ony accepting once, so need to re-open the listener socket. */
-            typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> acceptDialer;
-            AsyncCall::Pointer acceptCall = JobCallback(11, 5,
-                                            acceptDialer, this, FtpStateData::ftpAcceptDataConnection);
-            data.listener = new Comm::ListenStateData(data.fd, acceptCall, false);
+            /* drop the bad connection (io) by ignoring the attempt. */
             return;
         }
     }
 
-    if (io.flag != COMM_OK) {
-        debugs(9, DBG_IMPORTANT, "ftpHandleDataAccept: FD " << io.nfd << ": " << xstrerr(io.xerrno));
-        /** \todo XXX Need to set error message */
-        ftpFail(this);
-        return;
-    }
-
     /**\par
-     * Replace the Listen socket with the accepted data socket */
+     * Replace the Listening socket with the accepted data socket */
     data.close();
     data.opened(io.nfd, dataCloser());
     data.port = io.details.peer.GetPort();
-    io.details.peer.NtoA(data.host,SQUIDHOSTNAMELEN);
+    data.host = xstrdup(fd_table[io.nfd].ipaddr);
 
     debugs(9, 3, "ftpAcceptDataConnection: Connected data socket on " <<
            "FD " << io.nfd << " to " << io.details.peer << " FD table says: " <<
            "ctrl-peer= " << fd_table[ctrl.fd].ipaddr << ", " <<
            "data-peer= " << fd_table[data.fd].ipaddr);
 
+    assert(haveControlChannel("ftpAcceptDataConnection"));
+    assert(ctrl.message == NULL);
 
-    AsyncCall::Pointer nullCall = NULL;
-    commSetTimeout(ctrl.fd, -1, nullCall);
-
-    typedef CommCbMemFunT<FtpStateData, CommTimeoutCbParams> TimeoutDialer;
-    AsyncCall::Pointer timeoutCall =  JobCallback(9, 5,
-                                      TimeoutDialer, this, FtpStateData::ftpTimeout);
-    commSetTimeout(data.fd, Config.Timeout.read, timeoutCall);
-
-    /*\todo XXX We should have a flag to track connect state...
-     *    host NULL -> not connected, port == local port
-     *    host set  -> connected, port == remote port
-     */
-    /* Restart state (SENT_NLST/LIST/RETR) */
-    FTP_SM_FUNCS[state] (this);
+    // Ctrl channel operations will determine what happens to this data connection
 }
 
 /// \ingroup ServerProtocolFTPInternal
@@ -3075,34 +3103,17 @@ void FtpStateData::readStor()
             return;
         }
 
-        /*\par
-         * When client status is 125, or 150 without a hostname, Begin data transfer. */
+        /* When client status is 125, or 150 without a hostname, Begin data transfer. */
         debugs(9, 3, HERE << "starting data transfer");
+        switchTimeoutToDataChannel();
         sendMoreRequestBody();
-        /** \par
-         * Cancel the timeout on the Control socket and
-         * establish one on the data socket.
-         */
-        AsyncCall::Pointer nullCall = NULL;
-        commSetTimeout(ctrl.fd, -1, nullCall);
-
-        typedef CommCbMemFunT<FtpStateData, CommTimeoutCbParams> TimeoutDialer;
-        AsyncCall::Pointer timeoutCall =  JobCallback(9, 5,
-                                          TimeoutDialer, this, FtpStateData::ftpTimeout);
-
-        commSetTimeout(data.fd, Config.Timeout.read, timeoutCall);
-
         state = WRITING_DATA;
         debugs(9, 3, HERE << "writing data channel");
     } else if (code == 150) {
         /*\par
-         * When client code is 150 with a hostname, Accept data channel. */
+         * When client code is 150 without a hostname, Accept data channel. */
         debugs(9, 3, "ftpReadStor: accepting data channel");
-        typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> acceptDialer;
-        AsyncCall::Pointer acceptCall = JobCallback(11, 5,
-                                        acceptDialer, this, FtpStateData::ftpAcceptDataConnection);
-
-        data.listener = new Comm::ListenStateData(data.fd, acceptCall, false);
+        listenForDataChannel(data.fd, data.host);
     } else {
         debugs(9, DBG_IMPORTANT, HERE << "Unexpected reply code "<< std::setfill('0') << std::setw(3) << code);
         ftpFail(this);
@@ -3222,34 +3233,15 @@ ftpReadList(FtpStateData * ftpState)
 
     if (code == 125 || (code == 150 && ftpState->data.host)) {
         /* Begin data transfer */
-        /* XXX what about Config.Timeout.read? */
+        debugs(9, 3, HERE << "begin data transfer from " << ftpState->data.host << " (" << ftpState->data.local << ")");
+        ftpState->switchTimeoutToDataChannel();
         ftpState->maybeReadVirginBody();
         ftpState->state = READING_DATA;
-        /*
-         * Cancel the timeout on the Control socket and establish one
-         * on the data socket
-         */
-        AsyncCall::Pointer nullCall = NULL;
-        commSetTimeout(ftpState->ctrl.fd, -1, nullCall);
         return;
     } else if (code == 150) {
         /* Accept data channel */
-        typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> acceptDialer;
-        AsyncCall::Pointer acceptCall = JobCallback(11, 5,
-                                        acceptDialer, ftpState, FtpStateData::ftpAcceptDataConnection);
-
-        ftpState->data.listener = new Comm::ListenStateData(ftpState->data.fd, acceptCall, false);
-        /*
-         * Cancel the timeout on the Control socket and establish one
-         * on the data socket
-         */
-        AsyncCall::Pointer nullCall = NULL;
-        commSetTimeout(ftpState->ctrl.fd, -1, nullCall);
-
-        typedef CommCbMemFunT<FtpStateData, CommTimeoutCbParams> TimeoutDialer;
-        AsyncCall::Pointer timeoutCall =  JobCallback(9, 5,
-                                          TimeoutDialer, ftpState,FtpStateData::ftpTimeout);
-        commSetTimeout(ftpState->data.fd, Config.Timeout.read, timeoutCall);
+        debugs(9, 3, HERE << "accept data channel from " << ftpState->data.host << " (" << ftpState->data.local << ")");
+        ftpState->listenForDataChannel(ftpState->data.fd, ftpState->data.host);
         return;
     } else if (!ftpState->flags.tried_nlst && code > 300) {
         ftpSendNlst(ftpState);
@@ -3285,32 +3277,12 @@ ftpReadRetr(FtpStateData * ftpState)
     if (code == 125 || (code == 150 && ftpState->data.host)) {
         /* Begin data transfer */
         debugs(9, 3, HERE << "reading data channel");
-        /* XXX what about Config.Timeout.read? */
+        ftpState->switchTimeoutToDataChannel();
         ftpState->maybeReadVirginBody();
         ftpState->state = READING_DATA;
-        /*
-         * Cancel the timeout on the Control socket and establish one
-         * on the data socket
-         */
-        AsyncCall::Pointer nullCall = NULL;
-        commSetTimeout(ftpState->ctrl.fd, -1, nullCall);
     } else if (code == 150) {
         /* Accept data channel */
-        typedef CommCbMemFunT<FtpStateData, CommAcceptCbParams> acceptDialer;
-        AsyncCall::Pointer acceptCall = JobCallback(11, 5,
-                                        acceptDialer, ftpState, FtpStateData::ftpAcceptDataConnection);
-        ftpState->data.listener = new Comm::ListenStateData(ftpState->data.fd, acceptCall, false);
-        /*
-         * Cancel the timeout on the Control socket and establish one
-         * on the data socket
-         */
-        AsyncCall::Pointer nullCall = NULL;
-        commSetTimeout(ftpState->ctrl.fd, -1, nullCall);
-
-        typedef CommCbMemFunT<FtpStateData, CommTimeoutCbParams> TimeoutDialer;
-        AsyncCall::Pointer timeoutCall =  JobCallback(9, 5,
-                                          TimeoutDialer, ftpState,FtpStateData::ftpTimeout);
-        commSetTimeout(ftpState->data.fd, Config.Timeout.read, timeoutCall);
+        ftpState->listenForDataChannel(ftpState->data.fd, ftpState->data.host);
     } else if (code >= 300) {
         if (!ftpState->flags.try_slash_hack) {
             /* Try this as a directory missing trailing slash... */
@@ -3801,7 +3773,7 @@ ftpUrlWith2f(HttpRequest * request)
 {
     String newbuf = "%2f";
 
-    if (request->protocol != PROTO_FTP)
+    if (request->protocol != AnyP::PROTO_FTP)
         return NULL;
 
     if ( request->urlpath[0]=='/' ) {
@@ -3965,22 +3937,25 @@ FtpChannel::opened(int aFd, const AsyncCall::Pointer &aCloser)
     fd = aFd;
     closer = aCloser;
     comm_add_close_handler(fd, closer);
+
+    // grab the local IP address:port details for this connection
+    struct addrinfo *AI = NULL;
+    local.InitAddrInfo(AI);
+    getsockname(aFd, AI->ai_addr, &AI->ai_addrlen);
+    local = *AI;
+    local.FreeAddrInfo(AI);
 }
 
 /// planned close: removes the close handler and calls comm_close
 void
 FtpChannel::close()
 {
     // channels with active listeners will be closed when the listener handler dies.
-    if (listener) {
-        delete listener;
-        listener = NULL;
-        comm_remove_close_handler(fd, closer);
-        closer = NULL;
-        fd = -1;
-    } else if (fd >= 0) {
-        comm_remove_close_handler(fd, closer);
-        closer = NULL;
+    if (fd >= 0) {
+        if (closer != NULL) {
+            comm_remove_close_handler(fd, closer);
+            closer = NULL;
+        }
         comm_close(fd); // we do not expect to be called back
         fd = -1;
     }
@@ -148,8 +148,7 @@ extern "C" {
 
     extern unsigned int WIN32_Socks_initialized;	/* 0 */
 #endif
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     extern unsigned int WIN32_OS_version;	/* 0 */
     extern char *WIN32_OS_string;           /* NULL */
     extern char *WIN32_Service_name;        /* NULL */
@@ -30,6 +30,6 @@ typedef enum {
 
 extern const char *hier_code_str[];
 
-inline const hier_code operator++(hier_code &i) { return (hier_code)(i+1); }
+inline hier_code operator++(hier_code &i) { return (hier_code)(i+1); }
 
 #endif /* SQUID__HIER_CODE_H */
@@ -1358,10 +1358,10 @@ htcpHandleMsg(char *buf, int sz, Ip::Address &from)
     htcpDataHeader hdr;
     char *hbuf;
     int hsz;
-    assert (sz >= 0);
 
-    if ((size_t)sz < sizeof(htcpHeader)) {
-        debugs(31, 3, "htcpHandle: msg size less than htcpHeader size");
+    if (sz < 0 || (size_t)sz < sizeof(htcpHeader)) {
+        // These are highly likely to be attack packets. Should probably get a bigger warning.
+        debugs(31, 2, "htcpHandle: msg size less than htcpHeader size from " << from);
         return;
     }
 
@@ -41,7 +41,9 @@
 #include "squid.h"
 
 #include "acl/FilledChecklist.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "base/AsyncJobCalls.h"
 #include "base/TextException.h"
 #include "base64.h"
@@ -715,14 +717,14 @@ HttpStateData::processReplyHeader()
 
     newrep->removeStaleWarnings();
 
-    if (newrep->sline.protocol == PROTO_HTTP && newrep->sline.status >= 100 && newrep->sline.status < 200) {
+    if (newrep->sline.protocol == AnyP::PROTO_HTTP && newrep->sline.status >= 100 && newrep->sline.status < 200) {
         handle1xx(newrep);
         ctx_exit(ctx);
         return;
     }
 
     flags.chunked = 0;
-    if (newrep->sline.protocol == PROTO_HTTP && newrep->header.chunked()) {
+    if (newrep->sline.protocol == AnyP::PROTO_HTTP && newrep->header.chunked()) {
         flags.chunked = 1;
         httpChunkDecoder = new ChunkedCodingParser;
     }
@@ -1595,8 +1597,10 @@ httpFixupAuthentication(HttpRequest * request, HttpRequest * orig_request, const
 
         if (orig_request->extacl_user.size())
             username = orig_request->extacl_user.termedBuf();
+#if USE_AUTH
         else if (orig_request->auth_user_request != NULL)
             username = orig_request->auth_user_request->username();
+#endif
 
         snprintf(loginbuf, sizeof(loginbuf), "%s%s", username, orig_request->peer_login + 1);
 
@@ -1619,7 +1623,7 @@ httpFixupAuthentication(HttpRequest * request, HttpRequest * orig_request, const
     }
 
     /* Kerberos login to peer */
-#if HAVE_KRB5 && HAVE_GSSAPI
+#if HAVE_AUTH_MODULE_NEGOTIATE && HAVE_KRB5 && HAVE_GSSAPI
     if (strncmp(orig_request->peer_login, "NEGOTIATE",strlen("NEGOTIATE")) == 0) {
         char *Token=NULL;
         char *PrincipalName=NULL,*p;
@@ -1812,7 +1816,7 @@ HttpStateData::httpBuildRequestHeader(HttpRequest * request,
 
     /* append Front-End-Https */
     if (flags.front_end_https) {
-        if (flags.front_end_https == 1 || request->protocol == PROTO_HTTPS)
+        if (flags.front_end_https == 1 || request->protocol == AnyP::PROTO_HTTPS)
             hdr_out->putStr(HDR_FRONT_END_HTTPS, "On");
     }
 
@@ -46,14 +46,10 @@
 #include <netinet/ip_icmp.h>
 #endif
 
-#ifndef _SQUID_LINUX_
-#ifndef _SQUID_CYGWIN_
-#ifndef _SQUID_MSWIN_
+#if !_SQUID_LINUX_ && !_SQUID_WINDOWS_
 #define icmphdr icmp
 #define iphdr ip
 #endif
-#endif
-#endif
 
 /* Linux uses its own field names. */
 #if defined (_SQUID_LINUX_)
@@ -87,8 +83,7 @@
    to use the native Windows port definitions.
  */
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
 #include "fde.h"
 
 #ifdef _SQUID_MSWIN_
@@ -214,7 +214,7 @@ icpLogIcp(const Ip::Address &caddr, log_type logcode, int len, const char *url,
     if (LOG_ICP_QUERY == logcode)
         return;
 
-    clientdbUpdate(caddr, logcode, PROTO_ICP, len);
+    clientdbUpdate(caddr, logcode, AnyP::PROTO_ICP, len);
 
     if (!Config.onoff.log_udp)
         return;
@@ -425,7 +425,7 @@ icpDenyAccess(Ip::Address &from, char *url, int reqnum, int fd)
          * count this DENIED query in the clientdb, even though
          * we're not sending an ICP reply...
          */
-        clientdbUpdate(from, LOG_UDP_DENIED, PROTO_ICP, 0);
+        clientdbUpdate(from, LOG_UDP_DENIED, AnyP::PROTO_ICP, 0);
     } else {
         icpCreateAndSend(ICP_DENIED, 0, url, reqnum, 0, fd, from);
     }
@@ -125,7 +125,7 @@ internalRemoteUri(const char *host, u_short port, const char *dir, const char *n
     mb.Printf("http://%s", lc_host);
 
     /* append port if not default */
-    if (port && port != urlDefaultPort(PROTO_HTTP))
+    if (port && port != urlDefaultPort(AnyP::PROTO_HTTP))
         mb.Printf(":%d", port);
 
     if (dir)
@@ -116,7 +116,7 @@ Ip::Address::GetCIDR() const
     return len;
 }
 
-const int
+int
 Ip::Address::ApplyMask(Ip::Address const &mask_addr)
 {
     uint32_t *p1 = (uint32_t*)(&m_SocketAddr.sin6_addr);
@@ -822,7 +822,7 @@ Ip::Address::NtoA(char* buf, const unsigned int blen, int force) const
     /* some external code may have blindly memset a parent. */
     /* thats okay, our default is known */
     if ( IsAnyAddr() ) {
-        memcpy(buf,"::\0", min((const unsigned int)3,blen));
+        memcpy(buf,"::\0", min(static_cast<unsigned int>(3),blen));
         return buf;
     }
 
@@ -832,7 +832,7 @@ Ip::Address::NtoA(char* buf, const unsigned int blen, int force) const
     /* However IPv4 CAN. */
     if ( force == AF_INET && !IsIPv4() ) {
         if ( IsIPv6() ) {
-            memcpy(buf, "{!IPv4}\0", min((const unsigned int)8,blen));
+            memcpy(buf, "{!IPv4}\0", min(static_cast<unsigned int>(8),blen));
         }
         return buf;
     }
@@ -851,7 +851,7 @@ Ip::Address::NtoA(char* buf, const unsigned int blen, int force) const
                force << "). accepted={" << AF_UNSPEC << "," << AF_INET << "," << AF_INET6 << "}");
         fprintf(stderr,"WARNING: Corrupt IP Address details OR required to display in unknown format (%d). accepted={%d,%d,%d} ",
                 force, AF_UNSPEC, AF_INET, AF_INET6);
-        memcpy(buf,"dead:beef::\0", min((const unsigned int)13,blen));
+        memcpy(buf,"dead:beef::\0", min(static_cast<unsigned int>(13),blen));
         assert(false);
     }
 
@@ -228,7 +228,7 @@ class Address
     /** Apply a mask to the stored address.
      \param mask Netmask format to be bit-mask-AND'd over the stored address.
      */
-    const int ApplyMask(const Address &mask);
+    int ApplyMask(const Address &mask);
 
     /** Apply a mask to the stored address.
      *  CIDR will be converted appropriate to map the stored content.
@@ -11,13 +11,15 @@
 #include "CacheManager.h"
 #include "comm.h"
 #include "ipc/Coordinator.h"
-#include "ipc/FdNotes.h"
 #include "ipc/SharedListen.h"
 #include "mgr/Inquirer.h"
 #include "mgr/Request.h"
 #include "mgr/Response.h"
-#include "mgr/StoreToCommWriter.h"
-
+#if SQUID_SNMP
+#include "snmp/Inquirer.h"
+#include "snmp/Request.h"
+#include "snmp/Response.h"
+#endif
 
 CBDATA_NAMESPACED_CLASS_INIT(Ipc, Coordinator);
 Ipc::Coordinator* Ipc::Coordinator::TheInstance = NULL;
@@ -64,15 +66,35 @@ void Ipc::Coordinator::receive(const TypedMsgHdr& message)
         handleSharedListenRequest(SharedListenRequest(message));
         break;
 
-    case mtCacheMgrRequest:
+    case mtCacheMgrRequest: {
         debugs(54, 6, HERE << "Cache manager request");
-        handleCacheMgrRequest(Mgr::Request(message));
-        break;
+        const Mgr::Request req(message);
+        handleCacheMgrRequest(req);
+    }
+    break;
 
-    case mtCacheMgrResponse:
+    case mtCacheMgrResponse: {
         debugs(54, 6, HERE << "Cache manager response");
-        handleCacheMgrResponse(Mgr::Response(message));
-        break;
+        const Mgr::Response resp(message);
+        handleCacheMgrResponse(resp);
+    }
+    break;
+
+#if SQUID_SNMP
+    case mtSnmpRequest: {
+        debugs(54, 6, HERE << "SNMP request");
+        const Snmp::Request req(message);
+        handleSnmpRequest(req);
+    }
+    break;
+
+    case mtSnmpResponse: {
+        debugs(54, 6, HERE << "SNMP response");
+        const Snmp::Response resp(message);
+        handleSnmpResponse(resp);
+    }
+    break;
+#endif
 
     default:
         debugs(54, 1, HERE << "Unhandled message type: " << message.type());
@@ -123,8 +145,7 @@ Ipc::Coordinator::handleCacheMgrRequest(const Mgr::Request& request)
 
     Mgr::Action::Pointer action =
         CacheManager::GetInstance()->createRequestedAction(request.params);
-    AsyncJob::Start(new Mgr::Inquirer(action,
-                                      Mgr::ImportHttpFdIntoComm(request.fd), request, strands_));
+    AsyncJob::Start(new Mgr::Inquirer(action, request, strands_));
 }
 
 void
@@ -133,6 +154,28 @@ Ipc::Coordinator::handleCacheMgrResponse(const Mgr::Response& response)
     Mgr::Inquirer::HandleRemoteAck(response);
 }
 
+#if SQUID_SNMP
+void
+Ipc::Coordinator::handleSnmpRequest(const Snmp::Request& request)
+{
+    debugs(54, 4, HERE);
+
+    Snmp::Response response(request.requestId);
+    TypedMsgHdr message;
+    response.pack(message);
+    SendMessage(MakeAddr(strandAddrPfx, request.requestorId), message);
+
+    AsyncJob::Start(new Snmp::Inquirer(request, strands_));
+}
+
+void
+Ipc::Coordinator::handleSnmpResponse(const Snmp::Response& response)
+{
+    debugs(54, 4, HERE);
+    Snmp::Inquirer::HandleRemoteAck(response);
+}
+#endif
+
 int
 Ipc::Coordinator::openListenSocket(const SharedListenRequest& request,
                                    int &errNo)
@@ -15,7 +15,9 @@
 #include "ipc/SharedListen.h"
 #include "ipc/StrandCoords.h"
 #include "mgr/forward.h"
-
+#if SQUID_SNMP
+#include "snmp/forward.h"
+#endif
 #include <map>
 
 namespace Ipc
@@ -46,7 +48,10 @@ class Coordinator: public Port
     void handleSharedListenRequest(const SharedListenRequest& request);
     void handleCacheMgrRequest(const Mgr::Request& request);
     void handleCacheMgrResponse(const Mgr::Response& response);
-
+#if SQUID_SNMP
+    void handleSnmpRequest(const Snmp::Request& request);
+    void handleSnmpResponse(const Snmp::Response& response);
+#endif
     /// calls comm_open_listener()
     int openListenSocket(const SharedListenRequest& request, int &errNo);
 
@@ -17,8 +17,10 @@ Ipc::FdNote(int fdNoteId)
         "None", // fdnNone
         "HTTP Socket", // fdnHttpSocket
         "HTTPS Socket", // fdnHttpsSocket
+#if SQUID_SNMP
         "Incoming SNMP Socket", // fdnInSnmpSocket
         "Outgoing SNMP Socket", // fdnOutSnmpSocket
+#endif
         "Incoming ICP Socket", // fdnInIcpSocket
         "Incoming HTCP Socket" // fdnInHtcpSocket
     };
@@ -15,7 +15,9 @@ namespace Ipc
 
 /// fd_note() label ID
 typedef enum { fdnNone, fdnHttpSocket, fdnHttpsSocket,
+#if SQUID_SNMP
                fdnInSnmpSocket, fdnOutSnmpSocket,
+#endif
                fdnInIcpSocket, fdnInHtcpSocket, fdnEnd
              } FdNoteId;
 
@@ -0,0 +1,177 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#include "config.h"
+#include "base/AsyncJobCalls.h"
+#include "base/TextException.h"
+#include "ipc/Forwarder.h"
+#include "ipc/Port.h"
+#include "ipc/TypedMsgHdr.h"
+
+
+CBDATA_NAMESPACED_CLASS_INIT(Ipc, Forwarder);
+
+Ipc::Forwarder::RequestsMap Ipc::Forwarder::TheRequestsMap;
+unsigned int Ipc::Forwarder::LastRequestId = 0;
+
+Ipc::Forwarder::Forwarder(Request::Pointer aRequest, double aTimeout):
+        AsyncJob("Ipc::Forwarder"),
+        request(aRequest), timeout(aTimeout)
+{
+    debugs(54, 5, HERE);
+}
+
+Ipc::Forwarder::~Forwarder()
+{
+    debugs(54, 5, HERE);
+    Must(request->requestId == 0);
+    cleanup();
+}
+
+/// perform cleanup actions
+void
+Ipc::Forwarder::cleanup()
+{
+}
+
+void
+Ipc::Forwarder::start()
+{
+    debugs(54, 3, HERE);
+
+    typedef NullaryMemFunT<Forwarder> Dialer;
+    AsyncCall::Pointer callback = JobCallback(54, 5, Dialer, this, Forwarder::handleRemoteAck);
+    if (++LastRequestId == 0) // don't use zero value as request->requestId
+        ++LastRequestId;
+    request->requestId = LastRequestId;
+    TheRequestsMap[request->requestId] = callback;
+    TypedMsgHdr message;
+
+    try {
+        request->pack(message);
+    } catch (...) {
+        // assume the pack() call failed because the message did not fit
+        // TODO: add a more specific exception?
+        handleError();
+    }
+
+    SendMessage(coordinatorAddr, message);
+    eventAdd("Ipc::Forwarder::requestTimedOut", &Forwarder::RequestTimedOut,
+             this, timeout, 0, false);
+}
+
+void
+Ipc::Forwarder::swanSong()
+{
+    debugs(54, 5, HERE);
+    removeTimeoutEvent();
+    if (request->requestId > 0) {
+        DequeueRequest(request->requestId);
+        request->requestId = 0;
+    }
+    cleanup();
+}
+
+bool
+Ipc::Forwarder::doneAll() const
+{
+    debugs(54, 5, HERE);
+    return request->requestId == 0;
+}
+
+/// called when Coordinator starts processing the request
+void
+Ipc::Forwarder::handleRemoteAck()
+{
+    debugs(54, 3, HERE);
+    request->requestId = 0;
+}
+
+/// Ipc::Forwarder::requestTimedOut wrapper
+void
+Ipc::Forwarder::RequestTimedOut(void* param)
+{
+    debugs(54, 3, HERE);
+    Must(param != NULL);
+    Forwarder* fwdr = static_cast<Forwarder*>(param);
+    // use async call to enable job call protection that time events lack
+    CallJobHere(54, 5, fwdr, Forwarder, requestTimedOut);
+}
+
+/// called when Coordinator fails to start processing the request [in time]
+void
+Ipc::Forwarder::requestTimedOut()
+{
+    debugs(54, 3, HERE);
+    handleTimeout();
+}
+
+void
+Ipc::Forwarder::handleError()
+{
+    mustStop("error");
+}
+
+void
+Ipc::Forwarder::handleTimeout()
+{
+    mustStop("timeout");
+}
+
+/// terminate with an error
+void
+Ipc::Forwarder::handleException(const std::exception& e)
+{
+    debugs(54, 3, HERE << e.what());
+    mustStop("exception");
+}
+
+void
+Ipc::Forwarder::callException(const std::exception& e)
+{
+    try {
+        handleException(e);
+    } catch (const std::exception& ex) {
+        debugs(54, DBG_CRITICAL, HERE << ex.what());
+    }
+    AsyncJob::callException(e);
+}
+
+/// returns and forgets the right Forwarder callback for the request
+AsyncCall::Pointer
+Ipc::Forwarder::DequeueRequest(unsigned int requestId)
+{
+    debugs(54, 3, HERE);
+    Must(requestId != 0);
+    AsyncCall::Pointer call;
+    RequestsMap::iterator request = TheRequestsMap.find(requestId);
+    if (request != TheRequestsMap.end()) {
+        call = request->second;
+        Must(call != NULL);
+        TheRequestsMap.erase(request);
+    }
+    return call;
+}
+
+/// called when we are no longer waiting for Coordinator to respond
+void
+Ipc::Forwarder::removeTimeoutEvent()
+{
+    if (eventFind(&Forwarder::RequestTimedOut, this))
+        eventDelete(&Forwarder::RequestTimedOut, this);
+}
+
+void
+Ipc::Forwarder::HandleRemoteAck(unsigned int requestId)
+{
+    debugs(54, 3, HERE);
+    Must(requestId != 0);
+
+    AsyncCall::Pointer call = DequeueRequest(requestId);
+    if (call != NULL)
+        ScheduleCallHere(call);
+}
@@ -0,0 +1,68 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#ifndef SQUID_IPC_FORWARDER_H
+#define SQUID_IPC_FORWARDER_H
+
+#include "base/AsyncJob.h"
+#include "ipc/Request.h"
+#include <map>
+
+
+namespace Ipc
+{
+
+/** Forwards a worker request to coordinator.
+ * Waits for an ACK from Coordinator
+ * Send the data unit with an error response if forwarding fails.
+ */
+class Forwarder: public AsyncJob
+{
+public:
+    Forwarder(Request::Pointer aRequest, double aTimeout);
+    virtual ~Forwarder();
+
+    /// finds and calls the right Forwarder upon Coordinator's response
+    static void HandleRemoteAck(unsigned int requestId);
+
+    /* has-to-be-public AsyncJob API */
+    virtual void callException(const std::exception& e);
+
+protected:
+    /* AsyncJob API */
+    virtual void start();
+    virtual void swanSong();
+    virtual bool doneAll() const;
+
+    virtual void cleanup(); ///< perform cleanup actions
+    virtual void handleError();
+    virtual void handleTimeout();
+    virtual void handleException(const std::exception& e);
+    virtual void handleRemoteAck();
+
+private:
+    static void RequestTimedOut(void* param);
+    void requestTimedOut();
+    void removeTimeoutEvent();
+    static AsyncCall::Pointer DequeueRequest(unsigned int requestId);
+
+protected:
+    Request::Pointer request;
+    const double timeout; ///< response wait timeout in seconds
+
+    /// maps request->id to Forwarder::handleRemoteAck callback
+    typedef std::map<unsigned int, AsyncCall::Pointer> RequestsMap;
+    static RequestsMap TheRequestsMap; ///< pending Coordinator requests
+
+    static unsigned int LastRequestId; ///< last requestId used
+
+    CBDATA_CLASS2(Forwarder);
+};
+
+} // namespace Ipc
+
+#endif /* SQUID_IPC_FORWARDER_H */
@@ -0,0 +1,206 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#include "config.h"
+#include "base/TextException.h"
+#include "comm/Write.h"
+#include "ipc/Inquirer.h"
+#include "ipc/Port.h"
+#include "ipc/TypedMsgHdr.h"
+#include "MemBuf.h"
+#include <algorithm>
+
+
+CBDATA_NAMESPACED_CLASS_INIT(Ipc, Inquirer);
+
+Ipc::Inquirer::RequestsMap Ipc::Inquirer::TheRequestsMap;
+unsigned int Ipc::Inquirer::LastRequestId = 0;
+
+/// compare Ipc::StrandCoord using kidId, for std::sort() below
+static bool
+LesserStrandByKidId(const Ipc::StrandCoord &c1, const Ipc::StrandCoord &c2)
+{
+    return c1.kidId < c2.kidId;
+}
+
+Ipc::Inquirer::Inquirer(Request::Pointer aRequest, const StrandCoords& coords,
+                        double aTimeout):
+        AsyncJob("Ipc::Inquirer"),
+        request(aRequest), strands(coords), pos(strands.begin()), timeout(aTimeout)
+{
+    debugs(54, 5, HERE);
+
+    // order by ascending kid IDs; useful for non-aggregatable stats
+    std::sort(strands.begin(), strands.end(), LesserStrandByKidId);
+}
+
+Ipc::Inquirer::~Inquirer()
+{
+    debugs(54, 5, HERE);
+    cleanup();
+}
+
+void
+Ipc::Inquirer::cleanup()
+{
+}
+
+void
+Ipc::Inquirer::start()
+{
+    request->requestId = 0;
+}
+
+void
+Ipc::Inquirer::inquire()
+{
+    if (pos == strands.end()) {
+        Must(done());
+        return;
+    }
+
+    Must(request->requestId == 0);
+    AsyncCall::Pointer callback = asyncCall(54, 5, "Mgr::Inquirer::handleRemoteAck",
+                                            HandleAckDialer(this, &Inquirer::handleRemoteAck, NULL));
+    if (++LastRequestId == 0) // don't use zero value as request->requestId
+        ++LastRequestId;
+    request->requestId = LastRequestId;
+    const int kidId = pos->kidId;
+    debugs(54, 4, HERE << "inquire kid: " << kidId << status());
+    TheRequestsMap[request->requestId] = callback;
+    TypedMsgHdr message;
+    request->pack(message);
+    SendMessage(Port::MakeAddr(strandAddrPfx, kidId), message);
+    eventAdd("Ipc::Inquirer::requestTimedOut", &Inquirer::RequestTimedOut,
+             this, timeout, 0, false);
+}
+
+/// called when a strand is done writing its output
+void
+Ipc::Inquirer::handleRemoteAck(Response::Pointer response)
+{
+    debugs(54, 4, HERE << status());
+    request->requestId = 0;
+    removeTimeoutEvent();
+    if (aggregate(response)) {
+        Must(!done()); // or we should not be called
+        ++pos; // advance after a successful inquiry
+        inquire();
+    } else {
+        mustStop("error");
+    }
+}
+
+void
+Ipc::Inquirer::swanSong()
+{
+    debugs(54, 5, HERE);
+    removeTimeoutEvent();
+    if (request->requestId > 0) {
+        DequeueRequest(request->requestId);
+        request->requestId = 0;
+    }
+    sendResponse();
+    cleanup();
+}
+
+bool
+Ipc::Inquirer::doneAll() const
+{
+    return pos == strands.end();
+}
+
+void
+Ipc::Inquirer::handleException(const std::exception& e)
+{
+    debugs(54, 3, HERE << e.what());
+    mustStop("exception");
+}
+
+void
+Ipc::Inquirer::callException(const std::exception& e)
+{
+    debugs(54, 3, HERE);
+    try {
+        handleException(e);
+    } catch (const std::exception& ex) {
+        debugs(54, DBG_CRITICAL, HERE << ex.what());
+    }
+    AsyncJob::callException(e);
+}
+
+/// returns and forgets the right Inquirer callback for strand request
+AsyncCall::Pointer
+Ipc::Inquirer::DequeueRequest(unsigned int requestId)
+{
+    debugs(54, 3, HERE << " requestId " << requestId);
+    Must(requestId != 0);
+    AsyncCall::Pointer call;
+    RequestsMap::iterator request = TheRequestsMap.find(requestId);
+    if (request != TheRequestsMap.end()) {
+        call = request->second;
+        Must(call != NULL);
+        TheRequestsMap.erase(request);
+    }
+    return call;
+}
+
+void
+Ipc::Inquirer::HandleRemoteAck(const Response& response)
+{
+    Must(response.requestId != 0);
+    AsyncCall::Pointer call = DequeueRequest(response.requestId);
+    if (call != NULL) {
+        HandleAckDialer* dialer = dynamic_cast<HandleAckDialer*>(call->getDialer());
+        Must(dialer);
+        dialer->arg1 = response.clone();
+        ScheduleCallHere(call);
+    }
+}
+
+/// called when we are no longer waiting for the strand to respond
+void
+Ipc::Inquirer::removeTimeoutEvent()
+{
+    if (eventFind(&Inquirer::RequestTimedOut, this))
+        eventDelete(&Inquirer::RequestTimedOut, this);
+}
+
+/// Ipc::Inquirer::requestTimedOut wrapper
+void
+Ipc::Inquirer::RequestTimedOut(void* param)
+{
+    debugs(54, 3, HERE);
+    Must(param != NULL);
+    Inquirer* cmi = static_cast<Inquirer*>(param);
+    // use async call to enable job call protection that time events lack
+    CallJobHere(54, 5, cmi, Inquirer, requestTimedOut);
+}
+
+/// called when the strand failed to respond (or finish responding) in time
+void
+Ipc::Inquirer::requestTimedOut()
+{
+    debugs(54, 3, HERE);
+    if (request->requestId != 0) {
+        DequeueRequest(request->requestId);
+        request->requestId = 0;
+        Must(!done()); // or we should not be called
+        ++pos; // advance after a failed inquiry
+        inquire();
+    }
+}
+
+const char*
+Ipc::Inquirer::status() const
+{
+    static MemBuf buf;
+    buf.reset();
+    buf.Printf(" [request->requestId %u]", request->requestId);
+    buf.terminate();
+    return buf.content();
+}
@@ -0,0 +1,85 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#ifndef SQUID_IPC_INQUIRER_H
+#define SQUID_IPC_INQUIRER_H
+
+#include "base/AsyncJobCalls.h"
+#include "base/AsyncJob.h"
+#include "ipc/forward.h"
+#include "ipc/Request.h"
+#include "ipc/Response.h"
+#include "ipc/StrandCoords.h"
+#include <map>
+
+
+namespace Ipc
+{
+
+/// Coordinator's job that sends a cache manage request to each strand,
+/// aggregating individual strand responses and dumping the result if needed
+class Inquirer: public AsyncJob
+{
+public:
+    Inquirer(Request::Pointer aRequest, const Ipc::StrandCoords& coords, double aTimeout);
+    virtual ~Inquirer();
+
+    /// finds and calls the right Inquirer upon strand's response
+    static void HandleRemoteAck(const Response& response);
+
+    /* has-to-be-public AsyncJob API */
+    virtual void callException(const std::exception& e);
+
+protected:
+    /* AsyncJob API */
+    virtual void start();
+    virtual void swanSong();
+    virtual bool doneAll() const;
+    virtual const char *status() const;
+
+    /// inquire the next strand
+    virtual void inquire();
+    /// perform cleanup actions on completion of job
+    virtual void cleanup();
+    /// do specific exception handling
+    virtual void handleException(const std::exception& e);
+    /// send response to client
+    virtual void sendResponse() = 0;
+    /// perform aggregating of responses and returns true if need to continue
+    virtual bool aggregate(Response::Pointer aResponse) = 0;
+
+private:
+    typedef UnaryMemFunT<Inquirer, Response::Pointer, Response::Pointer> HandleAckDialer;
+
+    void handleRemoteAck(Response::Pointer response);
+
+    static AsyncCall::Pointer DequeueRequest(unsigned int requestId);
+
+    static void RequestTimedOut(void* param);
+    void requestTimedOut();
+    void removeTimeoutEvent();
+
+protected:
+    Request::Pointer request; ///< cache manager request received from client
+
+    Ipc::StrandCoords strands; ///< all strands we want to query, in order
+    Ipc::StrandCoords::const_iterator pos; ///< strand we should query now
+
+    const double timeout; ///< number of seconds to wait for strand response
+
+    /// maps request->id to Inquirer::handleRemoteAck callback
+    typedef std::map<unsigned int, AsyncCall::Pointer> RequestsMap;
+    static RequestsMap TheRequestsMap; ///< pending strand requests
+
+    static unsigned int LastRequestId; ///< last requestId used
+
+    CBDATA_CLASS2(Inquirer);
+};
+
+} // namespace Ipc
+
+#endif /* SQUID_IPC_INQUIRER_H */
@@ -56,7 +56,7 @@ Kid* Kids::find(pid_t pid)
 /// returns the kid by index, useful for kids iteration
 Kid& Kids::get(size_t i)
 {
-    assert(i >= 0 && i < count());
+    assert(i < count());
     return storage[i];
 }
 
@@ -28,7 +28,12 @@ libipc_la_SOURCES = \
 	Port.h \
 	Strand.cc \
 	Strand.h \
-	\
-	forward.h
+	forward.h \
+	Forwarder.cc \
+	Forwarder.h \
+	Inquirer.cc \
+	Inquirer.h \
+	Request.h \
+	Response.h
 
 DEFS += -DDEFAULT_PREFIX=\"$(prefix)\"
@@ -8,10 +8,7 @@
 #ifndef SQUID_IPC_MESSAGES_H
 #define SQUID_IPC_MESSAGES_H
 
-#include "ipc/forward.h"
-#include <sys/types.h>
-
-/** Declarations used by varios IPC messages */
+/** Declarations used by various IPC messages */
 
 namespace Ipc
 {
@@ -20,6 +17,10 @@ namespace Ipc
 typedef enum { mtNone = 0, mtRegistration,
                mtSharedListenRequest, mtSharedListenResponse,
                mtCacheMgrRequest, mtCacheMgrResponse
+#if SQUID_SNMP
+               ,
+               mtSnmpRequest, mtSnmpResponse
+#endif
              } MessageType;
 
 } // namespace Ipc;
@@ -0,0 +1,43 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#ifndef SQUID_IPC_REQUEST_H
+#define SQUID_IPC_REQUEST_H
+
+#include "ipc/forward.h"
+#include "RefCount.h"
+
+
+namespace Ipc
+{
+
+/// IPC request
+class Request: public RefCountable
+{
+public:
+    typedef RefCount<Request> Pointer;
+
+public:
+    Request(int aRequestorId, unsigned int aRequestId):
+            requestorId(aRequestorId), requestId(aRequestId) {}
+
+    virtual void pack(TypedMsgHdr& msg) const = 0; ///< prepare for sendmsg()
+    virtual Pointer clone() const = 0; ///< returns a copy of this
+
+private:
+    Request(const Request&); // not implemented
+    Request& operator= (const Request&); // not implemented
+
+public:
+    int requestorId; ///< kidId of the requestor; used for response destination
+    unsigned int requestId; ///< unique for sender; matches request w/ response
+};
+
+
+} // namespace Ipc
+
+#endif /* SQUID_IPC_REQUEST_H */
@@ -0,0 +1,49 @@
+/*
+ * $Id$
+ *
+ * DEBUG: section 54    Interprocess Communication
+ *
+ */
+
+#ifndef SQUID_IPC_RESPONSE_H
+#define SQUID_IPC_RESPONSE_H
+
+#include "ipc/forward.h"
+#include "RefCount.h"
+
+
+namespace Ipc
+{
+
+/// A response to Ipc::Request.
+class Response: public RefCountable
+{
+public:
+    typedef RefCount<Response> Pointer;
+
+public:
+    explicit Response(unsigned int aRequestId):
+            requestId(aRequestId) {}
+
+    virtual void pack(TypedMsgHdr& msg) const = 0; ///< prepare for sendmsg()
+    virtual Pointer clone() const = 0; ///< returns a copy of this
+
+private:
+    Response(const Response&); // not implemented
+    Response& operator= (const Response&); // not implemented
+
+public:
+    unsigned int requestId; ///< ID of request we are responding to
+};
+
+inline
+std::ostream& operator << (std::ostream &os, const Response& response)
+{
+    os << "[response.requestId %u]" << response.requestId << '}';
+    return os;
+}
+
+
+} // namespace Ipc
+
+#endif /* SQUID_IPC_RESPONSE_H */
@@ -6,8 +6,8 @@
  */
 
 #include "config.h"
-#include "comm.h"
 #include "base/TextException.h"
+#include "comm.h"
 #include "ipc/SharedListen.h"
 #include "ipc/StartListening.h"
 
@@ -25,34 +25,29 @@ std::ostream &Ipc::StartListeningCb::startPrint(std::ostream &os) const
     return os << "(FD " << fd << ", err=" << errNo;
 }
 
-
-void Ipc::StartListening(int sock_type, int proto, Ip::Address &addr,
-                         int flags, FdNoteId fdNote, AsyncCall::Pointer &callback)
+void
+Ipc::StartListening(int sock_type, int proto, Ip::Address &addr, int flags,
+                    FdNoteId fdNote, AsyncCall::Pointer &callback)
 {
-    OpenListenerParams p;
-    p.sock_type = sock_type;
-    p.proto = proto;
-    p.addr = addr;
-    p.flags = flags;
-    p.fdNote = fdNote;
-
     if (UsingSmp()) { // if SMP is on, share
+        OpenListenerParams p;
+        p.sock_type = sock_type;
+        p.proto = proto;
+        p.addr = addr;
+        p.flags = flags;
+        p.fdNote = fdNote;
         Ipc::JoinSharedListen(p, callback);
         return; // wait for the call back
     }
 
+    StartListeningCb *cbd = dynamic_cast<StartListeningCb*>(callback->getDialer());
+    Must(cbd);
+
     enter_suid();
-    const int sock = comm_open_listener(p.sock_type, p.proto, p.addr, p.flags,
-                                        FdNote(p.fdNote));
-    const int errNo = (sock >= 0) ? 0 : errno;
+    cbd->fd = comm_open_listener(sock_type, proto, addr, flags, FdNote(fdNote));
+    cbd->errNo = cbd->fd >= 0 ? 0 : errno;
     leave_suid();
 
-    debugs(54, 3, HERE << "opened listen FD " << sock << " for " << p.addr);
-
-    StartListeningCb *cbd =
-        dynamic_cast<StartListeningCb*>(callback->getDialer());
-    Must(cbd);
-    cbd->fd = sock;
-    cbd->errNo = errNo;
+    debugs(54, 3, HERE << "opened listen FD " << cbd->fd << " on " << addr);
     ScheduleCallHere(callback);
 }
@@ -16,7 +16,11 @@
 #include "mgr/Response.h"
 #include "mgr/Forwarder.h"
 #include "CacheManager.h"
-
+#if SQUID_SNMP
+#include "snmp/Forwarder.h"
+#include "snmp/Request.h"
+#include "snmp/Response.h"
+#endif
 
 CBDATA_NAMESPACED_CLASS_INIT(Ipc, Strand);
 
@@ -56,13 +60,31 @@ void Ipc::Strand::receive(const TypedMsgHdr &message)
         SharedListenJoined(SharedListenResponse(message));
         break;
 
-    case mtCacheMgrRequest:
-        handleCacheMgrRequest(Mgr::Request(message));
-        break;
+    case mtCacheMgrRequest: {
+        const Mgr::Request req(message);
+        handleCacheMgrRequest(req);
+    }
+    break;
 
-    case mtCacheMgrResponse:
-        handleCacheMgrResponse(Mgr::Response(message));
-        break;
+    case mtCacheMgrResponse: {
+        const Mgr::Response resp(message);
+        handleCacheMgrResponse(resp);
+    }
+    break;
+
+#if SQUID_SNMP
+    case mtSnmpRequest: {
+        const Snmp::Request req(message);
+        handleSnmpRequest(req);
+    }
+    break;
+
+    case mtSnmpResponse: {
+        const Snmp::Response resp(message);
+        handleSnmpResponse(resp);
+    }
+    break;
+#endif
 
     default:
         debugs(54, 1, HERE << "Unhandled message type: " << message.type());
@@ -95,6 +117,20 @@ void Ipc::Strand::handleCacheMgrResponse(const Mgr::Response& response)
     Mgr::Forwarder::HandleRemoteAck(response.requestId);
 }
 
+#if SQUID_SNMP
+void Ipc::Strand::handleSnmpRequest(const Snmp::Request& request)
+{
+    debugs(54, 6, HERE);
+    Snmp::SendResponse(request.requestId, request.pdu);
+}
+
+void Ipc::Strand::handleSnmpResponse(const Snmp::Response& response)
+{
+    debugs(54, 6, HERE);
+    Snmp::Forwarder::HandleRemoteAck(response.requestId);
+}
+#endif
+
 void Ipc::Strand::timedout()
 {
     debugs(54, 6, HERE << isRegistered);
@@ -10,7 +10,9 @@
 
 #include "ipc/Port.h"
 #include "mgr/forward.h"
-
+#if SQUID_SNMP
+#include "snmp/forward.h"
+#endif
 
 namespace Ipc
 {
@@ -34,6 +36,10 @@ class Strand: public Port
     void handleRegistrationResponse(const StrandCoord &strand);
     void handleCacheMgrRequest(const Mgr::Request& request);
     void handleCacheMgrResponse(const Mgr::Response& response);
+#if SQUID_SNMP
+    void handleSnmpRequest(const Snmp::Request& request);
+    void handleSnmpResponse(const Snmp::Response& response);
+#endif
 
 private:
     bool isRegistered; ///< whether Coordinator ACKed registration (unused)
@@ -153,7 +153,6 @@ Ipc::TypedMsgHdr::putFixed(const void *raw, size_t size)
 void
 Ipc::TypedMsgHdr::getRaw(void *raw, size_t size) const
 {
-    Must(size >= 0);
     if (size > 0) {
         Must(size <= data.size - offset);
         memcpy(raw, data.raw + offset, size);
@@ -165,7 +164,6 @@ Ipc::TypedMsgHdr::getRaw(void *raw, size_t size) const
 void
 Ipc::TypedMsgHdr::putRaw(const void *raw, size_t size)
 {
-    Must(size >= 0);
     if (size > 0) {
         Must(size <= sizeof(data.raw) - data.size);
         memcpy(data.raw + data.size, raw, size);
@@ -113,7 +113,7 @@ void Ipc::UdsSender::write()
 
 void Ipc::UdsSender::wrote(const CommIoCbParams& params)
 {
-    debugs(54, 5, HERE << "FD " << params.fd << " flag " << params.flag << " [" << this << ']');
+    debugs(54, 5, HERE << "FD " << params.fd << " flag " << params.flag << " retries " << retries << " [" << this << ']');
     writing = false;
     if (params.flag != COMM_OK && retries-- > 0) {
         sleep(1); // do not spend all tries at once; XXX: use an async timed event instead of blocking here; store the time when we started writing so that we do not sleep if not needed?
@@ -132,3 +132,23 @@ void Ipc::SendMessage(const String& toAddress, const TypedMsgHdr &message)
 {
     AsyncJob::Start(new UdsSender(toAddress, message));
 }
+
+int Ipc::ImportFdIntoComm(int fd, int socktype, int protocol, Ipc::FdNoteId noteId)
+{
+    struct sockaddr_in addr;
+    socklen_t len = sizeof(addr);
+    if (getsockname(fd, reinterpret_cast<sockaddr*>(&addr), &len) == 0) {
+        Ip::Address ipAddr(addr);
+        struct addrinfo* addr_info = NULL;
+        ipAddr.GetAddrInfo(addr_info);
+        addr_info->ai_socktype = socktype;
+        addr_info->ai_protocol = protocol;
+        comm_import_opened(fd, ipAddr, COMM_NONBLOCKING, Ipc::FdNote(noteId), addr_info);
+        ipAddr.FreeAddrInfo(addr_info);
+    } else {
+        debugs(54, DBG_CRITICAL, HERE << "ERROR: FD " << fd << ' ' << xstrerror());
+        ::close(fd);
+        fd = -1;
+    }
+    return fd;
+}
@@ -12,6 +12,7 @@
 #include "SquidString.h"
 #include "base/AsyncJob.h"
 #include "ipc/TypedMsgHdr.h"
+#include "ipc/FdNotes.h"
 
 class CommTimeoutCbParams;
 class CommIoCbParams;
@@ -90,6 +91,8 @@ class UdsSender: public UdsOp
 
 
 void SendMessage(const String& toAddress, const TypedMsgHdr& message);
+/// import socket fd from another strand into our Comm state
+int ImportFdIntoComm(int fd, int socktype, int protocol, FdNoteId noteId);
 
 
 }
@@ -13,6 +13,10 @@ namespace Ipc
 
 class TypedMsgHdr;
 class StrandCoord;
+class Forwarder;
+class Inquirer;
+class Request;
+class Response;
 
 } // namespace Ipc
 
@@ -161,6 +161,9 @@ static long ipcache_high = 200;
 extern int _dns_ttl_;
 #endif
 
+/// \ingroup IPCacheInternal
+inline int ipcacheCount() { return ip_table ? ip_table->count : 0; }
+
 int
 ipcache_entry::age() const
 {
@@ -235,7 +238,7 @@ ipcache_purgelru(void *voidnotused)
     eventAdd("ipcache_purgelru", ipcache_purgelru, NULL, 10.0, 1);
 
     for (m = lru_list.tail; m; m = prev) {
-        if (memInUse(MEM_IPCACHE_ENTRY) < ipcache_low)
+        if (ipcacheCount() < ipcache_low)
             break;
 
         prev = m->prev;
@@ -855,8 +858,10 @@ stat_ipcache_get(StoreEntry * sentry)
     dlink_node *m;
     assert(ip_table != NULL);
     storeAppendPrintf(sentry, "IP Cache Statistics:\n");
-    storeAppendPrintf(sentry, "IPcache Entries:  %d\n",
+    storeAppendPrintf(sentry, "IPcache Entries In Use:  %d\n",
                       memInUse(MEM_IPCACHE_ENTRY));
+    storeAppendPrintf(sentry, "IPcache Entries Cached:  %d\n",
+                      ipcacheCount());
     storeAppendPrintf(sentry, "IPcache Requests: %d\n",
                       IpcacheStats.requests);
     storeAppendPrintf(sentry, "IPcache Hits:            %d\n",
@@ -1231,7 +1236,7 @@ snmp_netIpFn(variable_list * Var, snint * ErrP)
 
     case IP_ENT:
         Answer = snmp_var_new_integer(Var->name, Var->name_length,
-                                      memInUse(MEM_IPCACHE_ENTRY),
+                                      ipcacheCount(),
                                       SMI_GAUGE32);
         break;
 
@@ -206,6 +206,8 @@ logfile_mod_stdio_open(Logfile * lf, const char *path, size_t bufsz, int fatal_f
                    "\tThe parent directory must be writeable by the\n"
                    "\tuser '%s', which is the cache_effective_user\n"
                    "\tset in squid.conf.", path, Config.effectiveUser);
+        } else if (EISDIR == errno && fatal_flag) {
+            fatalf("Cannot open '%s' because it is a directory, not a file.\n", path);
         } else {
             debugs(50, DBG_IMPORTANT, "logfileOpen (stdio): " <<  path << ": " << xstrerror());
             return 0;
@@ -37,7 +37,9 @@
 #if ICAP_CLIENT
 #include "adaptation/icap/icap_log.h"
 #endif
+#if USE_AUTH
 #include "auth/Gadgets.h"
+#endif
 #include "base/TextException.h"
 #if USE_DELAY_POOLS
 #include "ClientDelayConfig.h"
@@ -231,10 +233,10 @@ SignalEngine::doShutdown(time_t wait)
 
     /* run the closure code which can be shared with reconfigure */
     serverConnectionsClose();
-
+#if USE_AUTH
     /* detach the auth components (only do this on full shutdown) */
     AuthScheme::FreeAll();
-
+#endif
     eventAdd("SquidShutdown", &StopEventLoop, this, (double) (wait + 1), 1, false);
 }
 
@@ -667,7 +669,9 @@ serverConnectionsOpen(void)
         peerSelectInit();
 
         carpInit();
+#if USE_AUTH
         peerUserHashInit();
+#endif
         peerSourceHashInit();
     }
 }
@@ -736,7 +740,9 @@ mainReconfigureStart(void)
     Ssl::TheGlobalContextStorage.reconfigureStart();
 #endif
     redirectShutdown();
+#if USE_AUTH
     authenticateReset();
+#endif
     externalAclShutdown();
     storeDirCloseSwapLogs();
     storeLogClose();
@@ -821,7 +827,9 @@ mainReconfigureFinish(void *)
 #endif
 
     redirectInit();
+#if USE_AUTH
     authenticateInit(&Auth::TheConfig);
+#endif
     externalAclInit();
 
     if (IamPrimaryProcess()) {
@@ -870,7 +878,9 @@ mainRotate(void)
     dnsShutdown();
 #endif
     redirectShutdown();
+#if USE_AUTH
     authenticateRotate();
+#endif
     externalAclShutdown();
 
     _db_rotate_log();		/* cache.log */
@@ -885,7 +895,9 @@ mainRotate(void)
     dnsInit();
 #endif
     redirectInit();
+#if USE_AUTH
     authenticateInit(&Auth::TheConfig);
+#endif
     externalAclInit();
 }
 
@@ -966,14 +978,12 @@ mainInitialize(void)
 
     debugs(1, 0, "Starting Squid Cache version " << version_string << " for " << CONFIG_HOST_TYPE << "...");
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     if (WIN32_run_mode == _WIN_SQUID_RUN_MODE_SERVICE) {
         debugs(1, 0, "Running as " << WIN32_Service_name << " Windows System Service on " << WIN32_OS_string);
         debugs(1, 0, "Service command line is: " << WIN32_Service_Command_Line);
     } else
         debugs(1, 0, "Running on " << WIN32_OS_string);
-
 #endif
 
     debugs(1, 1, "Process ID " << getpid());
@@ -1013,9 +1023,9 @@ mainInitialize(void)
 #endif
 
     redirectInit();
-
+#if USE_AUTH
     authenticateInit(&Auth::TheConfig);
-
+#endif
     externalAclInit();
 
     httpHeaderInitModule();	/* must go before any header processing (e.g. the one in errorInitialize) */
@@ -1240,8 +1250,7 @@ SquidMain(int argc, char **argv)
 {
     ConfigureCurrentKid(argv[0]);
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     int WIN32_init_err;
 #endif
 
@@ -1260,11 +1269,9 @@ SquidMain(int argc, char **argv)
 
 #endif
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     if ((WIN32_init_err = WIN32_Subsystem_Init(&argc, &argv)))
         return WIN32_init_err;
-
 #endif
 
     /* call mallopt() before anything else */
@@ -1350,9 +1357,9 @@ SquidMain(int argc, char **argv)
 
         /* we may want the parsing process to set this up in the future */
         Store::Root(new StoreController);
-
+#if USE_AUTH
         InitAuthSchemes();      /* required for config parsing */
-
+#endif
         Ip::ProbeTransport(); // determine IPv4 or IPv6 capabilities before parsing.
 
         parse_err = parseConfigFile(ConfigFile);
@@ -1826,8 +1833,9 @@ SquidShutdown()
 #if USE_DELAY_POOLS
     DelayPools::FreePools();
 #endif
-
+#if USE_AUTH
     authenticateReset();
+#endif
 #if USE_WIN32_SERVICE
 
     WIN32_svcstatusupdate(SERVICE_STOP_PENDING, 10000);
@@ -21,21 +21,18 @@
 
 CBDATA_NAMESPACED_CLASS_INIT(Mgr, Forwarder);
 
-Mgr::Forwarder::RequestsMap Mgr::Forwarder::TheRequestsMap;
-unsigned int Mgr::Forwarder::LastRequestId = 0;
 
 Mgr::Forwarder::Forwarder(int aFd, const ActionParams &aParams,
                           HttpRequest* aRequest, StoreEntry* anEntry):
-        AsyncJob("Mgr::Forwarder"),
-        params(aParams),
-        request(aRequest), entry(anEntry), fd(aFd), requestId(0), closer(NULL)
+        Ipc::Forwarder(new Request(KidIdentifier, 0, aFd, aParams), 10),
+        httpRequest(aRequest), entry(anEntry), fd(aFd)
 {
-    debugs(16, 5, HERE << "FD " << aFd);
+    debugs(16, 5, HERE << "FD " << fd);
     Must(fd >= 0);
-    Must(request != NULL);
+    Must(httpRequest != NULL);
     Must(entry != NULL);
 
-    HTTPMSGLOCK(request);
+    HTTPMSGLOCK(httpRequest);
     entry->lock();
     EBIT_SET(entry->flags, ENTRY_FWD_HDR_WAIT);
 
@@ -47,19 +44,18 @@ Mgr::Forwarder::Forwarder(int aFd, const ActionParams &aParams,
 Mgr::Forwarder::~Forwarder()
 {
     debugs(16, 5, HERE);
-    Must(request != NULL);
+    Must(httpRequest != NULL);
     Must(entry != NULL);
-    Must(requestId == 0);
 
-    HTTPMSGUNLOCK(request);
+    HTTPMSGUNLOCK(httpRequest);
     entry->unregisterAbort();
     entry->unlock();
-    close();
+    cleanup();
 }
 
 /// closes our copy of the client HTTP connection socket
 void
-Mgr::Forwarder::close()
+Mgr::Forwarder::cleanup()
 {
     if (fd >= 0) {
         if (closer != NULL) {
@@ -72,61 +68,34 @@ Mgr::Forwarder::close()
 }
 
 void
-Mgr::Forwarder::start()
+Mgr::Forwarder::handleError()
 {
-    debugs(16, 3, HERE);
-    entry->registerAbort(&Forwarder::Abort, this);
-
-    typedef NullaryMemFunT<Mgr::Forwarder> Dialer;
-    AsyncCall::Pointer callback = JobCallback(16, 5, Dialer, this,
-                                  Forwarder::handleRemoteAck);
-    if (++LastRequestId == 0) // don't use zero value as requestId
-        ++LastRequestId;
-    requestId = LastRequestId;
-    TheRequestsMap[requestId] = callback;
-    Request mgrRequest(KidIdentifier, requestId, fd, params);
-    Ipc::TypedMsgHdr message;
-
-    try {
-        mgrRequest.pack(message);
-    } catch (...) {
-        // assume the pack() call failed because the message did not fit
-        // TODO: add a more specific exception?
-        debugs(16, DBG_CRITICAL, "ERROR: uri " << entry->url() << " exceeds buffer size");
-        quitOnError("long URI", errorCon(ERR_INVALID_URL, HTTP_REQUEST_URI_TOO_LARGE, request));
-    }
-
-    Ipc::SendMessage(Ipc::coordinatorAddr, message);
-    const double timeout = 10; // in seconds
-    eventAdd("Mgr::Forwarder::requestTimedOut", &Forwarder::RequestTimedOut,
-             this, timeout, 0, false);
+    debugs(16, DBG_CRITICAL, "ERROR: uri " << entry->url() << " exceeds buffer size");
+    sendError(errorCon(ERR_INVALID_URL, HTTP_REQUEST_URI_TOO_LARGE, httpRequest));
+    mustStop("long URI");
 }
 
 void
-Mgr::Forwarder::swanSong()
+Mgr::Forwarder::handleTimeout()
 {
-    debugs(16, 5, HERE);
-    removeTimeoutEvent();
-    if (requestId > 0) {
-        DequeueRequest(requestId);
-        requestId = 0;
-    }
-    close();
+    sendError(errorCon(ERR_LIFETIME_EXP, HTTP_REQUEST_TIMEOUT, httpRequest));
+    Ipc::Forwarder::handleTimeout();
 }
 
-bool
-Mgr::Forwarder::doneAll() const
+void
+Mgr::Forwarder::handleException(const std::exception& e)
 {
-    debugs(16, 5, HERE);
-    return requestId == 0;
+    if (entry != NULL && httpRequest != NULL && fd >= 0)
+        sendError(errorCon(ERR_INVALID_RESP, HTTP_INTERNAL_SERVER_ERROR, httpRequest));
+    Ipc::Forwarder::handleException(e);
 }
 
 /// called when the client socket gets closed by some external force
 void
-Mgr::Forwarder::noteCommClosed(const CommCloseCbParams &io)
+Mgr::Forwarder::noteCommClosed(const CommCloseCbParams& params)
 {
     debugs(16, 5, HERE);
-    Must(fd == io.fd);
+    Must(fd == params.fd);
     fd = -1;
     mustStop("commClosed");
 }
@@ -135,42 +104,21 @@ Mgr::Forwarder::noteCommClosed(const CommCloseCbParams &io)
 void
 Mgr::Forwarder::handleRemoteAck()
 {
-    debugs(16, 3, HERE);
-    Must(entry != NULL);
+    Ipc::Forwarder::handleRemoteAck();
 
-    requestId = 0;
+    Must(entry != NULL);
     EBIT_CLR(entry->flags, ENTRY_FWD_HDR_WAIT);
     entry->complete();
 }
 
-/// Mgr::Forwarder::requestTimedOut wrapper
+/// send error page
 void
-Mgr::Forwarder::RequestTimedOut(void* param)
+Mgr::Forwarder::sendError(ErrorState *error)
 {
     debugs(16, 3, HERE);
-    Must(param != NULL);
-    Forwarder* mgrFwdr = static_cast<Forwarder*>(param);
-    // use async call to enable job call protection that time events lack
-    CallJobHere(16, 5, mgrFwdr, Mgr::Forwarder, requestTimedOut);
-}
-
-/// called when Coordinator fails to start processing the request [in time]
-void
-Mgr::Forwarder::requestTimedOut()
-{
-    debugs(16, 3, HERE);
-    quitOnError("timeout", errorCon(ERR_LIFETIME_EXP, HTTP_REQUEST_TIMEOUT, request));
-}
-
-/// terminate with an error
-void
-Mgr::Forwarder::quitOnError(const char *reason, ErrorState *error)
-{
-    debugs(16, 3, HERE);
-    Must(reason != NULL);
     Must(error != NULL);
     Must(entry != NULL);
-    Must(request != NULL);
+    Must(httpRequest != NULL);
 
     EBIT_CLR(entry->flags, ENTRY_FWD_HDR_WAIT);
     entry->buffer();
@@ -179,62 +127,4 @@ Mgr::Forwarder::quitOnError(const char *reason, ErrorState *error)
     errorStateFree(error);
     entry->flush();
     entry->complete();
-
-    mustStop(reason);
-}
-
-void
-Mgr::Forwarder::callException(const std::exception& e)
-{
-    try {
-        if (entry != NULL && request != NULL && fd >= 0)
-            quitOnError("exception", errorCon(ERR_INVALID_RESP, HTTP_INTERNAL_SERVER_ERROR, request));
-    } catch (const std::exception& ex) {
-        debugs(16, DBG_CRITICAL, HERE << ex.what());
-    }
-    AsyncJob::callException(e);
-}
-
-/// returns and forgets the right Forwarder callback for the request
-AsyncCall::Pointer
-Mgr::Forwarder::DequeueRequest(unsigned int requestId)
-{
-    debugs(16, 3, HERE);
-    Must(requestId != 0);
-    AsyncCall::Pointer call;
-    RequestsMap::iterator request = TheRequestsMap.find(requestId);
-    if (request != TheRequestsMap.end()) {
-        call = request->second;
-        Must(call != NULL);
-        TheRequestsMap.erase(request);
-    }
-    return call;
-}
-
-/// called when we are no longer waiting for Coordinator to respond
-void
-Mgr::Forwarder::removeTimeoutEvent()
-{
-    if (eventFind(&Forwarder::RequestTimedOut, this))
-        eventDelete(&Forwarder::RequestTimedOut, this);
-}
-
-void
-Mgr::Forwarder::HandleRemoteAck(unsigned int requestId)
-{
-    debugs(16, 3, HERE);
-    Must(requestId != 0);
-
-    AsyncCall::Pointer call = DequeueRequest(requestId);
-    if (call != NULL)
-        ScheduleCallHere(call);
-}
-
-/// called when something goes wrong with the Store entry
-void
-Mgr::Forwarder::Abort(void* param)
-{
-    Forwarder* mgrFwdr = static_cast<Forwarder*>(param);
-    if (mgrFwdr->fd >= 0)
-        comm_close(mgrFwdr->fd);
 }
@@ -8,9 +8,8 @@
 #ifndef SQUID_MGR_FORWARDER_H
 #define SQUID_MGR_FORWARDER_H
 
-#include "base/AsyncJob.h"
+#include "ipc/Forwarder.h"
 #include "mgr/ActionParams.h"
-#include <map>
 
 
 class CommCloseCbParams;
@@ -25,50 +24,31 @@ namespace Mgr
  * Waits for an ACK from Coordinator while holding the Store entry.
  * Fills the store entry with an error response if forwarding fails.
  */
-class Forwarder: public AsyncJob
+class Forwarder: public Ipc::Forwarder
 {
 public:
     Forwarder(int aFd, const ActionParams &aParams, HttpRequest* aRequest,
               StoreEntry* anEntry);
     virtual ~Forwarder();
 
-    /// finds and calls the right Forwarder upon Coordinator's response
-    static void HandleRemoteAck(unsigned int requestId);
-
-    /* has-to-be-public AsyncJob API */
-    virtual void callException(const std::exception& e);
-
 protected:
-    /* AsyncJob API */
-    virtual void start();
-    virtual void swanSong();
-    virtual bool doneAll() const;
+    /* Ipc::Forwarder API */
+    virtual void cleanup(); ///< perform cleanup actions
+    virtual void handleError();
+    virtual void handleTimeout();
+    virtual void handleException(const std::exception& e);
+    virtual void handleRemoteAck();
 
 private:
-    void handleRemoteAck();
-    static void RequestTimedOut(void* param);
-    void requestTimedOut();
-    void quitOnError(const char *reason, ErrorState *error);
     void noteCommClosed(const CommCloseCbParams& params);
-    void removeTimeoutEvent();
-    static AsyncCall::Pointer DequeueRequest(unsigned int requestId);
-    static void Abort(void* param);
-    void close();
+    void sendError(ErrorState* error);
 
 private:
-    ActionParams params; ///< action parameters to pass to the other side
-    HttpRequest* request; ///< HTTP client request for detailing errors
+    HttpRequest* httpRequest; ///< HTTP client request for detailing errors
     StoreEntry* entry; ///< Store entry expecting the response
     int fd; ///< HTTP client connection descriptor
-    unsigned int requestId; ///< request id
     AsyncCall::Pointer closer; ///< comm_close handler for the HTTP connection
 
-    /// maps requestId to Forwarder::handleRemoteAck callback
-    typedef std::map<unsigned int, AsyncCall::Pointer> RequestsMap;
-    static RequestsMap TheRequestsMap; ///< pending Coordinator requests
-
-    static unsigned int LastRequestId; ///< last requestId used
-
     CBDATA_CLASS2(Forwarder);
 };
 
@@ -7,6 +7,7 @@
 
 #include "config.h"
 #include "base/TextException.h"
+#include "ipc/UdsOp.h"
 #include "mgr/Command.h"
 #include "mgr/Filler.h"
 #include "mgr/FunAction.h"
@@ -31,7 +32,7 @@ void
 Mgr::FunAction::respond(const Request& request)
 {
     debugs(16, 5, HERE);
-    const int fd = ImportHttpFdIntoComm(request.fd);
+    const int fd = Ipc::ImportFdIntoComm(request.fd, SOCK_STREAM, IPPROTO_TCP, Ipc::fdnHttpSocket);
     Must(fd >= 0);
     Must(request.requestId != 0);
     AsyncJob::Start(new Mgr::Filler(this, fd, request.requestId));
@@ -9,6 +9,7 @@
 #include "base/TextException.h"
 #include "HttpReply.h"
 #include "ipc/Messages.h"
+#include "ipc/UdsOp.h"
 #include "ipc/TypedMsgHdr.h"
 #include "mgr/Filler.h"
 #include "mgr/InfoAction.h"
@@ -155,7 +156,7 @@ void
 Mgr::InfoAction::respond(const Request& request)
 {
     debugs(16, 5, HERE);
-    int fd = ImportHttpFdIntoComm(request.fd);
+    int fd = Ipc::ImportFdIntoComm(request.fd, SOCK_STREAM, IPPROTO_TCP, Ipc::fdnHttpSocket);
     Must(fd >= 0);
     Must(request.requestId != 0);
     AsyncJob::Start(new Mgr::Filler(this, fd, request.requestId));
@@ -11,11 +11,11 @@
 #include "CommCalls.h"
 #include "HttpReply.h"
 #include "HttpRequest.h"
-#include "ipc/Coordinator.h"
+#include "ipc/UdsOp.h"
 #include "mgr/ActionWriter.h"
-#include "mgr/Command.h"
 #include "mgr/IntParam.h"
 #include "mgr/Inquirer.h"
+#include "mgr/Command.h"
 #include "mgr/Request.h"
 #include "mgr/Response.h"
 #include "SquidTime.h"
@@ -26,41 +26,23 @@
 
 CBDATA_NAMESPACED_CLASS_INIT(Mgr, Inquirer);
 
-Mgr::Inquirer::RequestsMap Mgr::Inquirer::TheRequestsMap;
-unsigned int Mgr::Inquirer::LastRequestId = 0;
-
-/// compare Ipc::StrandCoord using kidId, for std::sort() below
-static bool
-LesserStrandByKidId(const Ipc::StrandCoord &c1, const Ipc::StrandCoord &c2)
-{
-    return c1.kidId < c2.kidId;
-}
 
-Mgr::Inquirer::Inquirer(Action::Pointer anAction, int aFd,
+Mgr::Inquirer::Inquirer(Action::Pointer anAction,
                         const Request &aCause, const Ipc::StrandCoords &coords):
-        AsyncJob("Mgr::Inquirer"),
+        Ipc::Inquirer(aCause.clone(), applyQueryParams(coords, aCause.params.queryParams), anAction->atomic() ? 10 : 100),
         aggrAction(anAction),
-        cause(aCause),
-        fd(aFd),
-        strands(applyQueryParams(coords, aCause.params.queryParams)), pos(strands.begin()),
-        requestId(0), closer(NULL), timeout(aggrAction->atomic() ? 10 : 100)
+        fd(Ipc::ImportFdIntoComm(aCause.fd, SOCK_STREAM, IPPROTO_TCP, Ipc::fdnHttpSocket))
 {
-    debugs(16, 5, HERE << "FD " << aFd << " action: " << aggrAction);
+    debugs(16, 5, HERE << "FD " << fd << " action: " << aggrAction);
 
     closer = asyncCall(16, 5, "Mgr::Inquirer::noteCommClosed",
                        CommCbMemFunT<Inquirer, CommCloseCbParams>(this, &Inquirer::noteCommClosed));
     comm_add_close_handler(fd, closer);
 }
 
-Mgr::Inquirer::~Inquirer()
-{
-    debugs(16, 5, HERE);
-    close();
-}
-
 /// closes our copy of the client HTTP connection socket
 void
-Mgr::Inquirer::close()
+Mgr::Inquirer::cleanup()
 {
     if (fd >= 0) {
         removeCloseHandler();
@@ -82,9 +64,10 @@ void
 Mgr::Inquirer::start()
 {
     debugs(16, 5, HERE);
+    Ipc::Inquirer::start();
     Must(fd >= 0);
     Must(aggrAction != NULL);
- 
+
     std::auto_ptr<MemBuf> replyBuf;
     if (strands.empty()) {
         LOCAL_ARRAY(char, url, MAX_URL);
@@ -119,46 +102,6 @@ Mgr::Inquirer::noteWroteHeader(const CommIoCbParams& params)
     inquire();
 }
 
-void
-Mgr::Inquirer::inquire()
-{
-    if (pos == strands.end()) {
-        Must(done());
-        return;
-    }
-
-    Must(requestId == 0);
-    AsyncCall::Pointer callback = asyncCall(16, 5, "Mgr::Inquirer::handleRemoteAck",
-                                            HandleAckDialer(this, &Inquirer::handleRemoteAck, Response()));
-    if (++LastRequestId == 0) // don't use zero value as requestId
-        ++LastRequestId;
-    requestId = LastRequestId;
-    const int kidId = pos->kidId;
-    debugs(16, 4, HERE << "inquire kid: " << kidId << status());
-    TheRequestsMap[requestId] = callback;
-    Request mgrRequest(KidIdentifier, requestId, fd,
-                       aggrAction->command().params);
-    Ipc::TypedMsgHdr message;
-    mgrRequest.pack(message);
-    Ipc::SendMessage(Ipc::Port::MakeAddr(Ipc::strandAddrPfx, kidId), message);
-    eventAdd("Mgr::Inquirer::requestTimedOut", &Inquirer::RequestTimedOut,
-             this, timeout, 0, false);
-}
-
-/// called when a strand is done writing its output
-void
-Mgr::Inquirer::handleRemoteAck(const Response& response)
-{
-    debugs(16, 4, HERE << status());
-    requestId = 0;
-    removeTimeoutEvent();
-    if (response.hasAction())
-        aggrAction->add(response.getAction());
-    Must(!done()); // or we should not be called
-    ++pos; // advance after a successful inquiry
-    inquire();
-}
-
 /// called when the HTTP client or some external force closed our socket
 void
 Mgr::Inquirer::noteCommClosed(const CommCloseCbParams& params)
@@ -169,108 +112,39 @@ Mgr::Inquirer::noteCommClosed(const CommCloseCbParams& params)
     mustStop("commClosed");
 }
 
+bool
+Mgr::Inquirer::aggregate(Ipc::Response::Pointer aResponse)
+{
+    Mgr::Response& response = static_cast<Response&>(*aResponse);
+    if (response.hasAction())
+        aggrAction->add(response.getAction());
+    return true;
+}
+
 void
-Mgr::Inquirer::swanSong()
+Mgr::Inquirer::sendResponse()
 {
-    debugs(16, 5, HERE);
-    removeTimeoutEvent();
-    if (requestId > 0) {
-        DequeueRequest(requestId);
-        requestId = 0;
-    }
     if (!strands.empty() && aggrAction->aggregatable()) {
         removeCloseHandler();
         AsyncJob::Start(new ActionWriter(aggrAction, fd));
         fd = -1; // should not close fd because we passed it to ActionWriter
     }
-    close();
 }
 
 bool
 Mgr::Inquirer::doneAll() const
 {
-    return !writer && pos == strands.end();
-}
-
-/// returns and forgets the right Inquirer callback for strand request
-AsyncCall::Pointer
-Mgr::Inquirer::DequeueRequest(unsigned int requestId)
-{
-    debugs(16, 3, HERE << " requestId " << requestId);
-    Must(requestId != 0);
-    AsyncCall::Pointer call;
-    RequestsMap::iterator request = TheRequestsMap.find(requestId);
-    if (request != TheRequestsMap.end()) {
-        call = request->second;
-        Must(call != NULL);
-        TheRequestsMap.erase(request);
-    }
-    return call;
-}
-
-void
-Mgr::Inquirer::HandleRemoteAck(const Mgr::Response& response)
-{
-    Must(response.requestId != 0);
-    AsyncCall::Pointer call = DequeueRequest(response.requestId);
-    if (call != NULL) {
-        HandleAckDialer* dialer = dynamic_cast<HandleAckDialer*>(call->getDialer());
-        Must(dialer);
-        dialer->arg1 = response;
-        ScheduleCallHere(call);
-    }
-}
-
-/// called when we are no longer waiting for the strand to respond
-void
-Mgr::Inquirer::removeTimeoutEvent()
-{
-    if (eventFind(&Inquirer::RequestTimedOut, this))
-        eventDelete(&Inquirer::RequestTimedOut, this);
-}
-
-/// Mgr::Inquirer::requestTimedOut wrapper
-void
-Mgr::Inquirer::RequestTimedOut(void* param)
-{
-    debugs(16, 3, HERE);
-    Must(param != NULL);
-    Inquirer* cmi = static_cast<Inquirer*>(param);
-    // use async call to enable job call protection that time events lack
-    CallJobHere(16, 5, cmi, Mgr::Inquirer, requestTimedOut);
-}
-
-/// called when the strand failed to respond (or finish responding) in time
-void
-Mgr::Inquirer::requestTimedOut()
-{
-    debugs(16, 3, HERE);
-    if (requestId != 0) {
-        DequeueRequest(requestId);
-        requestId = 0;
-        Must(!done()); // or we should not be called
-        ++pos; // advance after a failed inquiry
-        inquire();
-    }
-}
-
-const char*
-Mgr::Inquirer::status() const
-{
-    static MemBuf buf;
-    buf.reset();
-    buf.Printf(" [FD %d, requestId %u]", fd, requestId);
-    buf.terminate();
-    return buf.content();
+    return !writer && Ipc::Inquirer::doneAll();
 }
 
 Ipc::StrandCoords
 Mgr::Inquirer::applyQueryParams(const Ipc::StrandCoords& aStrands, const QueryParams& aParams)
 {
     Ipc::StrandCoords strands;
 
-    QueryParam::Pointer processesParam = cause.params.queryParams.get("processes");
-    QueryParam::Pointer workersParam = cause.params.queryParams.get("workers");
+    Mgr::Request *cause = static_cast<Mgr::Request *>(request.getRaw());
+    QueryParam::Pointer processesParam = cause->params.queryParams.get("processes");
+    QueryParam::Pointer workersParam = cause->params.queryParams.get("workers");
 
     if (processesParam == NULL || workersParam == NULL) {
         if (processesParam != NULL) {
@@ -297,9 +171,6 @@ Mgr::Inquirer::applyQueryParams(const Ipc::StrandCoords& aStrands, const QueryPa
         } else {
             strands = aStrands;
         }
-
-        // order by ascending kid IDs; useful for non-aggregatable stats
-        std::sort(strands.begin(), strands.end(), LesserStrandByKidId);
     }
 
     debugs(0, 0, HERE << "strands kid IDs = ");