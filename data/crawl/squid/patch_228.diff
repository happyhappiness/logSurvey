@@ -2,20 +2,30 @@ This file contains a list of Squid contributors: people and organizations that
 have volunteered their time, effort, code, and ideas to make Squid software.
 Thank you!
 
+    'noloader' <noloader@gmail.com>
     Adam Ciarcinski
     Adrian Chadd <adrian@squid-cache.org>
+    Alan Mizrahi <alan@mizrahi.com.ve>
     Alex Rousskov <rousskov@measurement-factory.com>
     Alexander B. Demenshin <aldem@barnet.kharkov.ua>
+    Alexander Komyagin <komyagin@altell.ru>
     Alexander Lukyanov <lav@yar.ru>
+    Alexandre Chappaz <alexandrechappaz@gmail.com>
     Alexey Veselovsky <alexey.veselovsky@eykontech.com>
+    Alexis Robert <alexis.robert@gmail.com>
     Alin Nastac <mrness@gentoo.org>
     Alter <alter@alter.org.ua>
     Amos Jeffries <amosjeffries@squid-cache.org>
     Amos Jeffries <squid3@treenet.co.nz>
+    Anatoli <me@anatoli.ws>
+    Andrea Gagliardi <andrea@netlite.it>
+    Andreas Jaeger <aj@suse.com>
     Andreas Lamprecht <Andreas.Lamprecht@siemens.at>
     Andres Kroonmaa <andre@ml.ee>
+    Andrew Beverley <andy@andybev.com>
     Andrew Hoying <andrew_hoying@blm.gov>
     Andrey Shorin <tolsty@tushino.com>
+    Anonymous <redskilldough@gmail.com>
     Ansgar Hockmann <Ansgar.Hockmann@hrz.uni-dortmund.de>
     Anthony Baxter <arb@connect.com.au>
     Arjan de Vet <Arjan.deVet@adv.IAEhv.nl>
@@ -24,7 +34,9 @@ Thank you!
     Assar Westerlund <assar@pdc.kth.se>
     Automatic source maintenance <squidadm@squid-cache.org>
     Axel Westerhold <ml.awesterhold@dts.de>
+    Benjamin Kerensa <bkerensa@ubuntu.com>
     Benno Rice <benno@squid-cache.org>
+    Bernard <fli4l.charrier@free.fr>
     Bertrand Jacquin <beber@meleeweb.net>
     Bojan Smojver <bojan@rexursive.com>
     Brad Smith <brad@comstyle.com>
@@ -33,13 +45,17 @@ Thank you!
     Brian Denehy <B-Denehy@adfa.oz.au>
     Bruce Murphy <pack-squid@rattus.net>
     Carson Gaspar (carson@lehman.com, carson@cs.columbia.edu)
+    Changming <me@sunchangming.com>
     Chris Hills <chaz@chaz6.com>
     Christos Tsantilas <chtsanti@users.sourceforge.net>
     Cloyce <cloyce.spradling@sun.com>
     Constantin Rack
     Cord Beermann <cord@cc.fh-lippe.de>
+    Daniel Beschorner <daniel.beschorner@evlks.de>
     Daniel O'Callaghan <danny@miriworld.its.unimelb.EDU.AU>
+    David Isaacs <david.isaacs@sbhs.nsw.edu.au>
     David Luyer <luyer@ucs.uwa.edu.au>
+    Dennis Glatting
     Dhaval Varia
     Diego Woitasen <diegows@xtech.com.ar>
     Dmitry Kurochkin
@@ -51,20 +67,26 @@ Thank you!
     Dustin J. Mitchell
     Ed Knowles <ed@fatboy.geog.unsw.edu.au>
     Edward Moy <moy@parc.xerox.com>
+    Eliezer Croitoru <eliezer@ngtech.co.il>
+    Elmar Vonlanthen <Elmar.Vonlanthen@united-security-providers.ch>
     Emilio Casbas <ecasbas@unav.es>
     Endre Balint Nagy <bne@CareNet.hu>
+    Eray Aslan <eray.aslan@caf.com.tr>
     Eric Stern <estern@logisense.com>
     Eugene Gladchenko <eugene@donpac.ru>
     Evan Jones <ejones@uwaterloo.ca>
+    Eygene Ryabinkin <rea@freebsd.org>
     Felix Meschberger <felix.meschberger@day.com>
     Finn Thain <fthain@telegraphics.com.au>
     Flavio Pescuma <flavio@marasystems.com>
+    Francesco <kinkie@squid-cache.org>
     Francesco Chemolli <kinkie@squid-cache.org>
     Francesco Salvestrini
     Francis Daly <francis@daoine.org>
     Francois Cami <fcami@winsoft.fr>
     Frank Balluffi
     Frank Schmirler <squid@schmirler.de>
+    Frederic Bourgeois <fredbmail@free.fr>
     Geoff Keating <Geoff.Keating@anu.edu.au>
     George Michaelson <ggm@connect.com.au>
     Georgy Salnikov <sge@nmr.nioch.nsc.ru>
@@ -86,24 +108,29 @@ Thank you!
     Igor Vinokurov <igor@cs.ibank.ru>
     Isnard <isnardjaquet@gmail.com>
     JPP <jpp1@frws.com>
+    Jakob Bohm <jb-debbugs@wisemo.com>
     Jakub Wilk <ubanus@users.sf.net>
     James Brotchie <brotchie@gmail.com>
     James R Grinter <jrg@demon.net>
     Jan Niehusmann <jan@anduin.gondor.mcs.de>
+    Jan Sievers <sievers@zedat.fu-berlin.de>
     Jean-Francois Micouleau <Jean-Francois.Micouleau@utc.fr>
     Jean-Gabriel Dick <jean-gabriel.dick@curie.fr>
+    Jean-Philippe Menil <jean-philippe.menil@univ-nantes.fr>
     Jerry Murdock <jmurdock@itraktech.com>
     Joachim Bauch <jojo@fistofbenztown.de>
     Joao Alves Neto <alves_joao@hotmail.com>
     Jochen Voss <voss@seehuhn.de>
     Joe Ramey <ramey@jello.csc.ti.com>
     John Dilley <jad@hpl.hp.com>
     John Saunders <johns@rd.scitec.com.au>
+    John Xue <xgxjohn@gmail.com>
     Johnathan Conley <johnathan.conley@gmail.com>
     Jon Thackray <jrmt@uk.gdscorp.com>
     Jonathan Larmour <JLarmour@origin-at.co.uk>
     Joshua Root <josh+squid@root.id.au>
     Kieran Whitbread <k.j.whitbread@qmul.ac.uk>
+    Kinkie <kinkie@squid-cache.org>
     Klaubert Herr <klaubert@gmail.com>
     Klaus Singvogel <kssingvo@suse.de>
     Kolics Bertold <bertold@tohotom.vein.hu>
@@ -116,15 +143,19 @@ Thank you!
     Lutz Donnerhacke <lutz@iks-jena.de>
     Manu Garg <manugarg@gmail.com>
     Marin Stavrev <mstavrev@gmail.com>
+    Marios Makassikis <mmakassikis@gmail.com>
     Mark Bergsma <mark@nedworks.org>
     Mark Nottingham <mnot@pobox.com>
     Mark Treacy <mark@aone.com.au>
     Marko <mr_4u2@yahoo.com>
+    Marko Cupac <marko.cupac@mimar.rs>
     Markus Gyger <mgyger@itr.ch>
     Markus Moeller <huaraz@moeller.plus.com>
+    Markus Rietzler <markus.rietzler@rzf.fin-nrw.de>
     Markus Stumpf <maex@Space.NET>
     Martin Hamilton <martin@mrrl.lut.ac.uk>
     Martin Huter <m.huter@phion.com>
+    Martin Stolle <martin.stolle@ekom21.de>
     Masashi Fujita <objectx@bandit.co.jp>
     Massimo Zito <zmax.linkedin at gmail dot com>
     Matthew Morgan <atcs.matthew@gmail.com>
@@ -135,16 +166,22 @@ Thank you!
     Michael O'Reilly <michael@metal.iinet.net.au>
     Michael Pelletier <mikep@comshare.com>
     Michael van Elst
+    Michal Luscon <mluscon@redhat.com>
     Miguel A.L. Paraz <map@iphil.net>
     Mike Groeneweg <mikeg@scorpion.murdoch.edu.au>
     Mike Mitchell <Mike.Mitchell@sas.com>
     Mikio Kishi <mkishi@104.net>
+    Ming Fu <mfu@watchguard.com>
     Miquel van Smoorenburg <miquels@cistron.nl>
     Moez Mahfoudh <moez.mahfoudh@imag.fr>
     Mukaigawa Shin'ichi <shin@nff.ncl.omron.co.jp>
+    Nathan Hoad <nathan@getoffmalawn.com>
     Neil Murray <neil@aone.com.au>
     Niall Doherty <ndoherty@eei.ericsson.se>
+    Nick Rogers <ncrogers@gmail.com>
+    Nikolai Gorchilov <niki@x3me.net>
     Oskar Pearson <oskar@is.co.za>
+    Paul Z <paulz42@gmail.com>
     Pawel Worach <pawel.worach@gmail.com>
     Pedro Lineu Orso <orso@pop.hsbcbamerindus.com.br>
     Pedro Ribeiro <pribeiro@isel.pt>
@@ -154,10 +191,13 @@ Thank you!
     Philip Allison <philip.allison@smoothwall.net>
     Philippe Lantin <plantin@cobaltgroup.com>
     Pierangelo Masarati <ando@sys-net.it>
+    Pierre-Louis BRENAC <brenacp@esiee.fr>
     Pierre-Louis Brenac <brenacp@esiee.fr>
+    Priyanka Gupta <priyanka@icelero.com>
     Przemek Czerkas <pczerkas@mgmnet.pl>
     Rafael Martinez Torres <rmartine@fdi.ucm.es>
     Rafal Ramocki <maniac@sistbg.net>
+    Rajiv Desai <rajiv@maginatics.com>
     Ralf Wildenhues <Ralf.Wildenhues@gmx.de>
     Ralph Loader <loader@maths.ox.ac.uk>
     Regardt van de Vyver <squid@vdvyver.net>
@@ -166,37 +206,59 @@ Thank you!
     Rene Geile <rene.geile@t-online.de>
     Reuben Farrelly <reuben@reub.net>
     Richard Huveneers <Richard.Huveneers@hekkihek.hacom.nl>
+    Richard Wall <richard.wall@appliansys.com>
     Robert Collins <robertc@robertcollins.net>
     Robert Forster
+    Rodrigo Campos (rodrigo@geekbunker.org)
     Rodrigo Campos <rodrigo@geekbunker.org>
     Ron Gomes <rrg@ny.ubs.com>
     Russell Street <r.street@auckland.ac.nz>
     Russell Vincent <vincent@ucthpx.uct.ac.za>
     Ryan Troll <ryan+@andrew.cmu.edu>
     Scott Schram <scott@schram.net>
+    Sebastien Wenske <sebastien@wenske.fr>
     Sergio Rabellino <rabellino@di.unito.it>
     Shigechika Aikawa <shige@luck.imasy.or.jp>
+    Silamael <Silamael@coronamundi.de>
     Stefan Fritsch <sf@sfritsch.de>
+    Stefano Cordibella <stefano.cordibella@edalab.it>
     Stephen R. van den Berg <srb@cuci.nl>
     Steve Bennett <S.Bennett@lancaster.ac.uk>
+    Steve Hill <steve@opendium.com>
     Steve Snyder <swsnyder@snydernet.net>
     Steven Wilton <swilton@q-net.net.au>
     Stewart Forster <slf@connect.com.au>
+    Stuart Henderson <sthen@openbsd.org>
+    Susant Sahani <ssahani@redhat.com>
     Svenx <svensven@gmail.com>
     Taavi Talvik <taavi@uninet.ee>
     Taketo Kabe <kabe@shiratori.riec.tohoku.ac.jp>
     The Measurement Factory <info@measurement-factory.com>
+    Thomas De Schampheleire <thomas.de.schampheleire@gmail.com>
+    Thomas Hozza <thozza@redhat.com>
     Thomas Ristic <thr@bootet.net>
+    Thomas Weber <x@4t2.com>
     Thomas-Martin Seck <tmseck@netcologne.de>
+    Tianyin Xu <tixu@cs.ucsd.edu>
     Tim Starling <tstarling@wikimedia.org>
+    Tomas Hozza <thozza@redhat.com>
     Tony Lorimer <tlorimer@au.mdis.com>
     Unknown - NetBSD Project
+    Unknown FreeBSD Contributor
     Vincent Regnard
+    Vitaliy Matytsyn (main) <vm@if.bank.gov.ua>
     Vitaliy Matytsyn <vm@if.bank.gov.ua>
     Wesha <wesha@iname.com>
+    Will Roberts <squid@bigwillystyle42.com>
     Wojtek Sylwestrzak <W.Sylwestrzak@icm.edu.pl>
+    Wolfgang Breyha <wbreyha@gmx.net>
     Wolfgang Nothdurft <wolfgang@linogate.de>
+    Zhanpeng Chen <lowstz@gmail.com>
     benno@jeamland.net
     fancyrabbit <fancyrabbit@gmail.com>
+    folkert <folkert@vanheusden.com>
+    hno
+    kinkie@squid-cache.org
+    libit <sambabug.lb@gmail.com>
+    rousskov
     vollkommen <vollkommen@gmx.net>
-    Benjamin Kerensa <bkerensa@ubuntu.com>
@@ -91,7 +91,7 @@ Modified to work with strings instead of files.
 
 ==============================================================================
 
-snmplib/*:
+lib/snmplib/*:
 include/{asn1.h,parse.h,snmp*}:
 
 The SNMP library code is developed by Carnegie Mellon University.
@@ -416,10 +416,42 @@ lib/libTrie/*:
 
 ==============================================================================
 
-include/IPAddress.h lib/IPAddress.cc:
+helpers/ defines.h:
+helpers/basic_auth/fake/ fake.cc:
+helpers/url_rewrite/fake/ fake.cc, url_fake_rewrite.sh:
+
+/*
+ * Copyright (c) 2009-2014, Treehouse Networks Ltd. New Zealand
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ *
+ * 1. Redistributions of source code must retain the above copyright
+ * notice, this list of conditions and the following disclaimer.
+ *
+ * 2. Redistributions in binary form must reproduce the above copyright
+ * notice, this list of conditions and the following disclaimer in the
+ * documentation and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
+ * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
+ * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
+ * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
+ * COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
+ * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
+ * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
+ * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
+ * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ * POSSIBILITY OF SUCH DAMAGE.
+ */
+
+==============================================================================
+
 include/rfc3596.h lib/rfc3596.cc:
-src/ICMPv6.h src/ICMPv6.cc:
-helpers/url_rewrite/fake/ fake.h, fake.cc, url_fake_rewrite.sh:
 
  This code is copyright (C) 2007-2009 by Treehouse Networks Ltd
  of New Zealand. It is published and Licensed as an extension of
@@ -460,28 +492,6 @@ helpers/negotiate_auth/kerberos/ *
 
 ==============================================================================
 
-compat/strsep.h, lib/strsep.c
-
- * Copyright (C) 2004 Free Software Foundation, Inc.
- * Written by Yoann Vandoorselaere <yoann@prelude-ids.org>
- * 
- * The file is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- * 
- * This file is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- * 
- * You should have received a copy of the GNU Lesser General Public
- * License along with this file; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
- * USA.
-
-==============================================================================
-
 helpers/external_acl/kerberos_ldap_group/support_ldap.cc
 
 /* get_attributes is partly from OpenLDAP Software <http://www.openldap.org/>.
@@ -1,3 +1,113 @@
+Changes to squid-3.4.6 (25 Jun 2014):
+
+	- Regression: segmentation fault logging with %tg format specifier
+	- Bug 4065: round-robin neighbor selection with unequal weights
+	- Bug 4056: assertion MemPools[type] from netdbExchangeStart()
+	- Bug 4050: segmentation fault in CommSelectEngine::checkEvents on helper response
+	- Fix segmentation fault setting up server SSL connnection
+	- Fix hanging Non-HTTPS connections on SSL-bump enabled port
+	- Fix Cache Manager actions listed more than once
+	- ... and many minor memory leaks
+	- ... and several portability build issues
+	- ... and some documentation updates
+
+Changes to squid-3.4.5 (02 May 2014):
+
+	- Regression Bug 4051: inverted test on CONNECT payload existence
+	- Regression Fix: order dependency between cache_dir and maximum_object_size
+	- Fix logformat %note display
+	- Resolve 'dying from an unhandled exception: c'
+
+Changes to squid-3.4.4.2 (23 Apr 2014):
+
+	- version bump for packaging re-build with altered toolchain
+
+Changes to squid-3.4.4.1 (23 Apr 2014):
+
+	- Regression Bug 4019: Cache digest exchange segmentation fault
+	- Regression Bug 3982: EUI logging and helpers show blank MAC address
+	- Bug 4047: Support Android builds
+	- Bug 4043: Remove XMALLOC_TRACE and references to sbrk(2)
+	- Bug 4041: Missing files in compat/Makefile.am
+	- Bug 4014: Build failure with --disable-optimizations --disable-auth
+	- Bug 3986: (partial) assertion due to incorrect error page buffer size
+	- Bug 3955: Solaris EUI-48 lookup leaks FDs
+	- Bug 3371: CONNECT with data sent at once loses data
+	- C++11: Upgrade auto-detection to use the formal -std=c++11
+	- Crypto-NG: libnettle MD5 algorithm support
+	- SSL-Bump: Fix Basic auth caching on bumped connections
+	- Store-ID: Fix request URI when forwarding requests to peers
+	- ... and fix several other build errors
+	- ... and some documentation updates
+
+Changes to squid-3.4.4 (09 Mar 2014):
+
+	- Bug 4029: intercepted HTTPS requests bypass caching checks
+	- Bug 4001: remove use of strsep()
+	- Bug 3186 and 3628: Digest authentication always sending stale=false for nonce
+	- Fix stalled concurrent rock store reads
+	- Fix helper ID number assignment
+	- Fix build failures from CMSG related definitions
+	- Fix build failures from libcompat unsafe.h protections
+	- Copyright: Relicense helpers by Treehouse Networks Ltd.
+	- ... and all bug fixes from 3.3.12
+
+Changes to squid-3.4.3 (02 Feb 2014):
+
+	- Bug 4008: HttpHeader warnOnError should be an int not a bool
+	- Bug 4002: clang 3.4 unable to compile
+	- Bug 3996: Malformed DNS reply leads to crash
+	- Bug 3995: compile error on CentOS 5 with GCC 4.1.2
+	- Bug 3975: atomic detection cross-compilation failure
+	- Bug 3971: "cannot aggregate mgr:client_list: cmd->profile != NULL" in SMP mode
+	- Bug 3954: compile failure in CpuAffinity.cc
+	- Bug 3927: tests/testRock fatal.cc required
+	- Fix memory leak in peer Cache Digest exchange
+	- Fix external_acl_type async loop failures
+	- Fix destination IP address cycling
+	- ... and a few polishing changes
+
+Changes to squid-3.4.2 (30 Dec 2013):
+
+	- Regression Bug 3980: FATAL ERROR due to max_user_ip -s option
+	- Regression Fix: \-unescaping in quoted strings from helpers
+	- Regression Fix: URL helper API bypassing on URL containing '=' character
+	- Bug 3985: 60s limit introduced by balance_on_multiple_ip breaks bad IP recovery
+	- Bug 3806: Caching responses with Vary header
+	- Bug 3498: FTP PUT assertion
+	- WCCPv2: Fix assertion 'Cannot convert non-IPv4 to IPv4' on FreeBSD
+	- Enable concurrency by default for SSL certificate validator
+	- ... and fix several build errors
+
+Changes to squid-3.4.1 (09 Dec 2013):
+
+	- Bug 3935: Invalid pointer dereference when peeking at origin server certificate
+	- Bug 3589: intercepted and ICAP modified request using a cache_peer
+	- ... and several portability fixes
+	- ... and some documentation updates
+
+Changes to squid-3.4.0.3 (01 Dec 2013):
+
+	- Bug 3941: Release notes error
+	- Receive annotations from authentication and external ACL helpers
+	- basic_nis_auth: Improved portability
+	- ... and several documentation updates
+	- ... and all bug fixes from 3.3.9, 3.3.10, 3.3.11
+
+Changes to squid-3.4.0.2 (03 Oct 2013):
+
+	- Regression Bug 3891: squid.conf parser errors in 3.4.0.1
+	- Regression Fix: re-disable MinGW C++11 support
+	- Bug 3914: partial: make squidclient tool build cleanly with -Wconversion
+	- Fix memory leak in refresh_pattern parsing
+	- negotiate_kerberos_auth: upgrade to present group= keys
+	- Handle NTLM helper returning OK without user= value
+	- Add dns_multicast_local to control mDNS operation
+	- Add --disable-arch-native build option
+	- Display Build-Info in cache manager info report
+	- ... and all changes from squid 3.3.9
+	- ... and some code and debug output polishing
+
 Changes to squid-3.4.0.1 (29 Jul 2013):
 
 	- Port from 2.7: StoreURL (renamed Store-ID) support
@@ -40,6 +150,50 @@ Changes to squid-3.4.0.1 (29 Jul 2013):
 	- ... and many documentation changes
 	- ... and much code cleanup and polishing
 
+Changes to squid-3.3.12 (09 Mar 2014):
+
+	- Regression Bug 3769: client_netmask not evaluated since Comm redesign
+	- Bug 4026: Fix SSL and adaptation_access handling of aborted connections
+	- Bug 3969: Fix credentials caching for Digest authentication
+	- Bug 3806: Caching responses with Vary header
+	- Fix umask default on crash report generated email
+	- Fix pthread library detection on FreeBSD 10
+	- Avoid assertions on Range requests that trigger Squid-generated errors.
+
+Changes to squid-3.3.11 (01 Dec 2013):
+
+	- Regression Bug 3936: error-details.txt parse error with OpenSSL since 3.3.9
+	- Bug 3972: Segfault when getting the deny_info page ID after a reconfigure
+	- Bug 3970: max_filedescriptors disabled due to missing setrlimit
+	- Bug 3967: ipc/Kid.cc compilation failure: 'time' was not declared in this scope
+	- Bug 3960: DEAD cache_peer are not revived
+	- Bug 3956: xstrndup: tried to dup a NULL pointer
+	- Bug 3906: Filedescriptor leaks in SNMP
+	- Bug 3782: Digest authentication not obeying nonce_max_count
+	- HTTP/1.1: Make header parser obey relaxed_header_parser
+	- HTTP/1.1: Re-compute Range response content offset after an FTP response was adapted
+	- SMP: Replace blocking sleep(3) and close UDS socket on failures
+	- Windows: fix several compile errors
+
+Changes to squid-3.3.10 (03 Nov 2013):
+
+	- Bug 3929: request_header_add not working for tunnel requests
+	- Bug 3923: cbdata and undefined behavior due to dynamic runtime enumeration
+	- Bug 3918: Self Test Failures on Mac OS X 10.8
+	- Bug 3887: tcp_outgoing_tos not working for IPv6
+	- Bug 3836: Fix issues with automake 1.13+ and make check
+	- Bug 3480: StoreEntry::kickProducer() segfaults in store_client::copy()
+	- Fix pinning hierarchy log information
+	- Fix close idle client connections associated with closed idle pinned connections.
+	- Fix cbdata 'error: expression result unused' errors
+	- Avoid "hot idle": A series of rapid select() calls with zero timeout.
+	- Append Connection:close to OPTIONS requests when icap_persistent_connections is off
+	- ntlm_fake_auth: pass DOMAIN data to Squid in original case
+	- kerberos_ldap_group: fix LDAP string duplication
+	- Use IPv6 localhost nameserver on DNS configuration errors
+	- Add cache_miss_revalidate
+	- ... and several portability improvements
+
 Changes to squid-3.3.9 (11 Sep 2013):
 
 	- Regression Bug 3077: off-by-one error in Digest header decoding
@@ -2,9 +2,9 @@
 #
 
 AUTOMAKE_OPTIONS = dist-bzip2 subdir-objects 1.5 foreign
-DIST_SUBDIRS	= compat lib libltdl snmplib scripts icons errors contrib doc helpers src test-suite tools
-SUBDIRS		= compat lib $(makesnmplib)
-if USE_LOADABLE_MODULES
+DIST_SUBDIRS	= compat lib libltdl scripts icons errors contrib doc helpers src test-suite tools
+SUBDIRS		= compat lib
+if ENABLE_LOADABLE_MODULES
 SUBDIRS += libltdl
 endif
 SUBDIRS += scripts icons errors doc helpers src tools test-suite
@@ -12,6 +12,12 @@ Messagenet - http://messagenet.it/
 	Messagenet donated hardware and bandwidth for the wiki server
 	and most continuous integration testing.
 
+RackSpace - http://www.rackspace.com/
+
+	RackSpace donated a number of virtual machines from their cloud
+	infrastructure to support and extend the continuous integration
+	testing infrastructure.
+
 The Measurement Factory - http://www.measurement-factory.com/
 
 	Measurement Factory has constributed significant resources
@@ -1,107 +0,0 @@
-# ============================================================================
-#  http://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx_0x.html
-# ============================================================================
-#
-# SYNOPSIS
-#
-#   AX_CXX_COMPILE_STDCXX_0X
-#
-# DESCRIPTION
-#
-#   Check for baseline language coverage in the compiler for the C++0x
-#   standard.
-#
-# LICENSE
-#
-#   Copyright (c) 2008 Benjamin Kosnik <bkoz@redhat.com>
-#
-#   Copying and distribution of this file, with or without modification, are
-#   permitted in any medium without royalty provided the copyright notice
-#   and this notice are preserved. This file is offered as-is, without any
-#   warranty.
-
-#serial 7
-
-AU_ALIAS([AC_CXX_COMPILE_STDCXX_0X], [AX_CXX_COMPILE_STDCXX_0X])
-AC_DEFUN([AX_CXX_COMPILE_STDCXX_0X], [
-  AC_CACHE_CHECK(if g++ supports C++0x features without additional flags,
-  ax_cv_cxx_compile_cxx0x_native,
-  [AC_LANG_SAVE
-  AC_LANG_CPLUSPLUS
-  AC_TRY_COMPILE([
-  template <typename T>
-    struct check
-    {
-      static_assert(sizeof(int) <= sizeof(T), "not big enough");
-    };
-
-    typedef check<check<bool>> right_angle_brackets;
-
-    int a;
-    decltype(a) b;
-
-    typedef check<int> check_type;
-    check_type c;
-    check_type&& cr = static_cast<check_type&&>(c);],,
-  ax_cv_cxx_compile_cxx0x_native=yes, ax_cv_cxx_compile_cxx0x_native=no)
-  AC_LANG_RESTORE
-  ])
-
-  AC_CACHE_CHECK(if g++ supports C++0x features with -std=c++0x,
-  ax_cv_cxx_compile_cxx0x_cxx,
-  [AC_LANG_SAVE
-  AC_LANG_CPLUSPLUS
-  ac_save_CXXFLAGS="$CXXFLAGS"
-  CXXFLAGS="$CXXFLAGS -std=c++0x"
-  AC_TRY_COMPILE([
-  template <typename T>
-    struct check
-    {
-      static_assert(sizeof(int) <= sizeof(T), "not big enough");
-    };
-
-    typedef check<check<bool>> right_angle_brackets;
-
-    int a;
-    decltype(a) b;
-
-    typedef check<int> check_type;
-    check_type c;
-    check_type&& cr = static_cast<check_type&&>(c);],,
-  ax_cv_cxx_compile_cxx0x_cxx=yes, ax_cv_cxx_compile_cxx0x_cxx=no)
-  CXXFLAGS="$ac_save_CXXFLAGS"
-  AC_LANG_RESTORE
-  ])
-
-  AC_CACHE_CHECK(if g++ supports C++0x features with -std=gnu++0x,
-  ax_cv_cxx_compile_cxx0x_gxx,
-  [AC_LANG_SAVE
-  AC_LANG_CPLUSPLUS
-  ac_save_CXXFLAGS="$CXXFLAGS"
-  CXXFLAGS="$CXXFLAGS -std=gnu++0x"
-  AC_TRY_COMPILE([
-  template <typename T>
-    struct check
-    {
-      static_assert(sizeof(int) <= sizeof(T), "not big enough");
-    };
-
-    typedef check<check<bool>> right_angle_brackets;
-
-    int a;
-    decltype(a) b;
-
-    typedef check<int> check_type;
-    check_type c;
-    check_type&& cr = static_cast<check_type&&>(c);],,
-  ax_cv_cxx_compile_cxx0x_gxx=yes, ax_cv_cxx_compile_cxx0x_gxx=no)
-  CXXFLAGS="$ac_save_CXXFLAGS"
-  AC_LANG_RESTORE
-  ])
-
-  if test "$ax_cv_cxx_compile_cxx0x_native" = yes ||
-     test "$ax_cv_cxx_compile_cxx0x_cxx" = yes ||
-     test "$ax_cv_cxx_compile_cxx0x_gxx" = yes; then
-    AC_DEFINE(HAVE_STDCXX_0X,,[Define if g++ supports C++0x features. ])
-  fi
-])
@@ -0,0 +1,142 @@
+# ============================================================================
+#  http://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx_11.html
+# ============================================================================
+#
+# SYNOPSIS
+#
+#   AX_CXX_COMPILE_STDCXX_11([ext|noext],[mandatory|optional])
+#
+# DESCRIPTION
+#
+#   Check for baseline language coverage in the compiler for the C++11
+#   standard; if necessary, add switches to CXXFLAGS to enable support.
+#
+#   The first argument, if specified, indicates whether you insist on an
+#   extended mode (e.g. -std=gnu++11) or a strict conformance mode (e.g.
+#   -std=c++11).  If neither is specified, you get whatever works, with
+#   preference for an extended mode.
+#
+#   The second argument, if specified 'mandatory' or if left unspecified,
+#   indicates that baseline C++11 support is required and that the macro
+#   should error out if no mode with that support is found.  If specified
+#   'optional', then configuration proceeds regardless, after defining
+#   HAVE_CXX11 if and only if a supporting mode is found.
+#
+# LICENSE
+#
+#   Copyright (c) 2008 Benjamin Kosnik <bkoz@redhat.com>
+#   Copyright (c) 2012 Zack Weinberg <zackw@panix.com>
+#   Copyright (c) 2013 Roy Stogner <roystgnr@ices.utexas.edu>
+#   Copyright (c) 2014 Alexey Sokolov <sokolov@google.com>
+#
+#   Copying and distribution of this file, with or without modification, are
+#   permitted in any medium without royalty provided the copyright notice
+#   and this notice are preserved. This file is offered as-is, without any
+#   warranty.
+
+#serial 4
+
+m4_define([_AX_CXX_COMPILE_STDCXX_11_testbody], [[
+  template <typename T>
+    struct check
+    {
+      static_assert(sizeof(int) <= sizeof(T), "not big enough");
+    };
+
+    struct Base {
+    virtual void f() {}
+    };
+    struct Child : public Base {
+    virtual void f() override {}
+    };
+
+    typedef check<check<bool>> right_angle_brackets;
+
+    int a;
+    decltype(a) b;
+
+    typedef check<int> check_type;
+    check_type c;
+    check_type&& cr = static_cast<check_type&&>(c);
+
+    auto d = a;
+    auto l = [](){};
+]])
+
+AC_DEFUN([AX_CXX_COMPILE_STDCXX_11], [dnl
+  m4_if([$1], [], [],
+        [$1], [ext], [],
+        [$1], [noext], [],
+        [m4_fatal([invalid argument `$1' to AX_CXX_COMPILE_STDCXX_11])])dnl
+  m4_if([$2], [], [ax_cxx_compile_cxx11_required=true],
+        [$2], [mandatory], [ax_cxx_compile_cxx11_required=true],
+        [$2], [optional], [ax_cxx_compile_cxx11_required=false],
+        [m4_fatal([invalid second argument `$2' to AX_CXX_COMPILE_STDCXX_11])])
+  AC_LANG_PUSH([C++])dnl
+  ac_success=no
+  AC_CACHE_CHECK(whether $CXX supports C++11 features by default,
+  ax_cv_cxx_compile_cxx11,
+  [AC_COMPILE_IFELSE([AC_LANG_SOURCE([_AX_CXX_COMPILE_STDCXX_11_testbody])],
+    [ax_cv_cxx_compile_cxx11=yes],
+    [ax_cv_cxx_compile_cxx11=no])])
+  if test x$ax_cv_cxx_compile_cxx11 = xyes; then
+    ac_success=yes
+  fi
+
+  m4_if([$1], [noext], [], [dnl
+  if test x$ac_success = xno; then
+    for switch in -std=gnu++11 -std=gnu++0x; do
+      cachevar=AS_TR_SH([ax_cv_cxx_compile_cxx11_$switch])
+      AC_CACHE_CHECK(whether $CXX supports C++11 features with $switch,
+                     $cachevar,
+        [ac_save_CXXFLAGS="$CXXFLAGS"
+         CXXFLAGS="$CXXFLAGS $switch"
+         AC_COMPILE_IFELSE([AC_LANG_SOURCE([_AX_CXX_COMPILE_STDCXX_11_testbody])],
+          [eval $cachevar=yes],
+          [eval $cachevar=no])
+         CXXFLAGS="$ac_save_CXXFLAGS"])
+      if eval test x\$$cachevar = xyes; then
+        CXXFLAGS="$CXXFLAGS $switch"
+        ac_success=yes
+        break
+      fi
+    done
+  fi])
+
+  m4_if([$1], [ext], [], [dnl
+  if test x$ac_success = xno; then
+    for switch in -std=c++11 -std=c++0x; do
+      cachevar=AS_TR_SH([ax_cv_cxx_compile_cxx11_$switch])
+      AC_CACHE_CHECK(whether $CXX supports C++11 features with $switch,
+                     $cachevar,
+        [ac_save_CXXFLAGS="$CXXFLAGS"
+         CXXFLAGS="$CXXFLAGS $switch"
+         AC_COMPILE_IFELSE([AC_LANG_SOURCE([_AX_CXX_COMPILE_STDCXX_11_testbody])],
+          [eval $cachevar=yes],
+          [eval $cachevar=no])
+         CXXFLAGS="$ac_save_CXXFLAGS"])
+      if eval test x\$$cachevar = xyes; then
+        CXXFLAGS="$CXXFLAGS $switch"
+        ac_success=yes
+        break
+      fi
+    done
+  fi])
+  AC_LANG_POP([C++])
+  if test x$ax_cxx_compile_cxx11_required = xtrue; then
+    if test x$ac_success = xno; then
+      AC_MSG_ERROR([*** A compiler with support for C++11 language features is required.])
+    fi
+  else
+    if test x$ac_success = xno; then
+      HAVE_CXX11=0
+      AC_MSG_NOTICE([No compiler with C++11 support was found])
+    else
+      HAVE_CXX11=1
+      AC_DEFINE(HAVE_CXX11,1,
+                [define if the compiler supports basic C++11 syntax])
+    fi
+
+    AC_SUBST(HAVE_CXX11)
+  fi
+])
@@ -38,7 +38,7 @@ AC_DEFUN([SQUID_CC_CHECK_ARGUMENT],[
     AC_REQUIRE([AC_PROG_CC])
     SAVED_FLAGS="$CFLAGS"
     SAVED_CXXFLAGS="$CXXFLAGS"
-    CFLAGS="$CXXFLAGS $2"
+    CFLAGS="$CFLAGS $2"
     CXXFLAGS="$CXXFLAGS $2"
     AC_TRY_LINK([],[int foo; ],
       [$1=yes],[$1=no])
@@ -35,12 +35,18 @@ AC_DEFUN([SQUID_DEFAULT_INCLUDES],[[
 dnl *BSD net headers
 AC_DEFUN([SQUID_BSDNET_INCLUDES],[
 SQUID_DEFAULT_INCLUDES
+#if HAVE_SYS_PARAM_H
+#include <sys/param.h>
+#endif
 #if HAVE_SYS_TIME_H
 #include <sys/time.h>
 #endif
 #if HAVE_SYS_SOCKET_H
 #include <sys/socket.h>
 #endif
+#if HAVE_NET_IF_H
+#include <net/if.h>
+#endif
 #if HAVE_NETINET_IN_H
 #include <netinet/in.h>
 #endif
@@ -50,15 +56,9 @@ SQUID_DEFAULT_INCLUDES
 #if HAVE_NETINET_IP_COMPAT_H
 #include <netinet/ip_compat.h>
 #endif
-#if HAVE_NET_IF_H
-#include <net/if.h>
-#endif
 #if HAVE_NETINET_IP_FIL_H
 #include <netinet/ip_fil.h>
 #endif
-#if HAVE_SYS_PARAM_H
-#include <sys/param.h>
-#endif
 ])
 
 dnl ===========================================================================
@@ -140,22 +140,26 @@ dnl checks that gssapi is ok, and sets squid_cv_working_gssapi accordingly
 AC_DEFUN([SQUID_CHECK_WORKING_GSSAPI], [
   AC_CACHE_CHECK([for working gssapi], squid_cv_working_gssapi, [
     AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#ifdef HAVE_HEIMDAL_KERBEROS
-#ifdef HAVE_GSSAPI_GSSAPI_H
+#if USE_HEIMDAL_KRB5
+#if HAVE_GSSAPI_GSSAPI_H
 #include <gssapi/gssapi.h>
-#elif defined(HAVE_GSSAPI_H)
+#elif HAVE_GSSAPI_H
 #include <gssapi.h>
 #endif
+#elif USE_GNUGSS
+#if HAVE_GSS_H
+#include <gss.h>
+#endif
 #else
-#ifdef HAVE_GSSAPI_GSSAPI_H
+#if HAVE_GSSAPI_GSSAPI_H
 #include <gssapi/gssapi.h>
-#elif defined(HAVE_GSSAPI_H)
+#elif HAVE_GSSAPI_H
 #include <gssapi.h>
 #endif
-#ifdef HAVE_GSSAPI_GSSAPI_KRB5_H
+#if HAVE_GSSAPI_GSSAPI_KRB5_H
 #include <gssapi/gssapi_krb5.h>
 #endif
-#ifdef HAVE_GSSAPI_GSSAPI_GENERIC_H
+#if HAVE_GSSAPI_GSSAPI_GENERIC_H
 #include <gssapi/gssapi_generic.h>
 #endif
 #endif
@@ -170,29 +174,35 @@ main(void)
         return 0;
 }
   ]])],  [ squid_cv_working_gssapi=yes ], [ squid_cv_working_gssapi=no ], [:])])
+if test "x$squid_cv_working_gssapi" = "xno" -a `echo $LIBS | grep -i -c "\-L"` -gt 0; then
+  AC_MSG_NOTICE([Check Runtime library path !])
+fi
 ])
 
-
 dnl check for a working spnego, and set squid_cv_have_spnego
 AC_DEFUN([SQUID_CHECK_SPNEGO_SUPPORT], [
   AC_CACHE_CHECK([for spnego support], squid_cv_have_spnego, [
     AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#ifdef HAVE_HEIMDAL_KERBEROS
-#ifdef HAVE_GSSAPI_GSSAPI_H
+#if USE_HEIMDAL_KRB5
+#if HAVE_GSSAPI_GSSAPI_H
 #include <gssapi/gssapi.h>
-#elif defined(HAVE_GSSAPI_H)
+#elif HAVE_GSSAPI_H
 #include <gssapi.h>
 #endif
+#elif USE_GNUGSS
+#if HAVE_GSS_H
+#include <gss.h>
+#endif
 #else
-#ifdef HAVE_GSSAPI_GSSAPI_H
+#if HAVE_GSSAPI_GSSAPI_H
 #include <gssapi/gssapi.h>
-#elif defined(HAVE_GSSAPI_H)
+#elif HAVE_GSSAPI_H
 #include <gssapi.h>
 #endif
-#ifdef HAVE_GSSAPI_GSSAPI_KRB5_H
+#if HAVE_GSSAPI_GSSAPI_KRB5_H
 #include <gssapi/gssapi_krb5.h>
 #endif
-#ifdef HAVE_GSSAPI_GSSAPI_GENERIC_H
+#if HAVE_GSSAPI_GSSAPI_GENERIC_H
 #include <gssapi/gssapi_generic.h>
 #endif
 #endif
@@ -223,7 +233,7 @@ dnl checks that krb5 is functional. Sets squid_cv_working_krb5
 AC_DEFUN([SQUID_CHECK_WORKING_KRB5],[
   AC_CACHE_CHECK([for working krb5], squid_cv_working_krb5, [
     AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#ifdef HAVE_KRB5_H
+#if HAVE_KRB5_H
 #if HAVE_BROKEN_SOLARIS_KRB5_H
 #if defined(__cplusplus)
 #define KRB5INT_BEGIN_DECLS     extern "C" {
@@ -250,4 +260,83 @@ main(void)
         return 0;
 }
   ]])], [ squid_cv_working_krb5=yes ], [ squid_cv_working_krb5=no ],[:])])
+if test "x$squid_cv_working_krb5" = "xno" -a `echo $LIBS | grep -i -c "\-L"` -gt 0; then
+  AC_MSG_NOTICE([Check Runtime library path !])
+fi
+])
+
+
+dnl checks for existence of krb5 functions
+AC_DEFUN([SQUID_CHECK_KRB5_FUNCS],[
+
+  AC_CHECK_LIB(krb5,krb5_get_err_text,
+    AC_DEFINE(HAVE_KRB5_GET_ERR_TEXT,1,
+      [Define to 1 if you have krb5_get_err_text]),)
+  AC_CHECK_LIB(krb5,krb5_get_error_message,
+    AC_DEFINE(HAVE_KRB5_GET_ERROR_MESSAGE,1,
+      [Define to 1 if you have krb5_get_error_message]),)
+  AC_CHECK_DECLS(krb5_kt_free_entry,,,[#include <krb5.h>])
+  AC_CHECK_TYPE(krb5_pac,
+    AC_DEFINE(HAVE_KRB5_PAC,1,
+      [Define to 1 if you have krb5_pac]),,
+      [#include <krb5.h>])
+  AC_CHECK_LIB(krb5,krb5_kt_free_entry,
+    AC_DEFINE(HAVE_KRB5_KT_FREE_ENTRY,1,
+      [Define to 1 if you have krb5_kt_free_entry]),)
+  AC_CHECK_LIB(krb5,krb5_get_init_creds_keytab,
+    AC_DEFINE(HAVE_GET_INIT_CREDS_KEYTAB,1,
+      [Define to 1 if you have krb5_get_init_creds_keytab]),)
+  AC_CHECK_LIB(krb5,krb5_get_max_time_skew,
+    AC_DEFINE(HAVE_KRB5_GET_MAX_TIME_SKEW,1,
+      [Define to 1 if you have krb5_get_max_time_skew]),)
+  AC_CHECK_LIB(krb5,krb5_get_profile,
+    AC_DEFINE(HAVE_KRB5_GET_PROFILE,1,
+      [Define to 1 if you have krb5_get_profile]),)
+  AC_CHECK_LIB(krb5,profile_get_integer,
+    AC_DEFINE(HAVE_PROFILE_GET_INTEGER,1,
+      [Define to 1 if you have profile_get_integer]),)
+  AC_CHECK_LIB(krb5,profile_release,
+    AC_DEFINE(HAVE_PROFILE_RELEASE,1,
+      [Define to 1 if you have profile_release]),)
+  AC_CHECK_LIB(krb5,krb5_get_renewed_creds,
+    AC_DEFINE(HAVE_KRB5_GET_RENEWED_CREDS,1,
+      [Define to 1 if you have krb5_get_renewed_creds]),)
+  AC_CHECK_LIB(krb5,krb5_principal_get_realm,
+    AC_DEFINE(HAVE_KRB5_PRINCIPAL_GET_REALM,1,
+      [Define to 1 if you have krb5_principal_get_realm]),)
+  AC_CHECK_LIB(krb5, krb5_get_init_creds_opt_alloc,
+    AC_DEFINE(HAVE_KRB5_GET_INIT_CREDS_OPT_ALLOC,1,
+      [Define to 1 if you have krb5_get_init_creds_opt_alloc]),)
+  AC_MSG_CHECKING([for krb5_get_init_creds_free requires krb5_context])
+  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+	#include <krb5.h>
+    ]],[[krb5_context context;
+	 krb5_get_init_creds_opt *options;
+	 krb5_get_init_creds_opt_free(context, options)]])],[
+	AC_DEFINE(HAVE_KRB5_GET_INIT_CREDS_FREE_CONTEXT,1,
+		  [Define to 1 if you krb5_get_init_creds_free requires krb5_context])
+	AC_MSG_RESULT(yes)
+    ],[AC_MSG_RESULT(no)],[AC_MSG_RESULT(no)])
+
+
+  AC_CHECK_FUNCS(gss_map_name_to_any,
+    AC_DEFINE(HAVE_GSS_MAP_ANY_TO_ANY,1,
+      [Define to 1 if you have gss_map_name_to_any]),)
+  AC_CHECK_FUNCS(gsskrb5_extract_authz_data_from_sec_context,
+    AC_DEFINE(HAVE_GSSKRB5_EXTRACT_AUTHZ_DATA_FROM_SEC_CONTEXT,1,
+      [Define to 1 if you have gsskrb5_extract_authz_data_from_sec_context]),)
+
+  SQUID_CHECK_KRB5_CONTEXT_MEMORY_CACHE
+  SQUID_DEFINE_BOOL(HAVE_KRB5_MEMORY_CACHE,$squid_cv_memory_cache,
+       [Define if kerberos has MEMORY: cache support])
+
+  SQUID_CHECK_WORKING_GSSAPI
+  SQUID_DEFINE_BOOL(HAVE_GSSAPI,$squid_cv_working_gssapi,[GSSAPI support])
+
+  SQUID_CHECK_SPNEGO_SUPPORT
+  SQUID_DEFINE_BOOL(HAVE_SPNEGO,$squid_cv_have_spnego,[SPNEGO support])
+
+  SQUID_CHECK_WORKING_KRB5
+  SQUID_DEFINE_BOOL(HAVE_KRB5,$squid_cv_working_krb5,[KRB5 support])
 ])
+
@@ -197,26 +197,6 @@ AC_DEFUN([SQUID_CHECK_UNIX_SOCKET],[
 ])
 
 
-dnl checks that the system provides struct mallinfo and mallinfo.mxfast.
-dnl AC_DEFINEs HAVE_STRUCT_MALLINFO  and HAVE_STRUCT_MALLINFO_MXFAST if so
-
-AC_DEFUN([SQUID_HAVE_STRUCT_MALLINFO],[
-AC_CHECK_TYPE(struct mallinfo,AC_DEFINE(HAVE_STRUCT_MALLINFO,1,[The system provides struct mallinfo]),,[
-#if HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-#if HAVE_MALLOC_H
-#include <malloc.h>
-#endif])
-AC_CHECK_MEMBERS([struct mallinfo.mxfast],,,[
-#if HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-#if HAVE_MALLOC_H
-#include <malloc.h>
-#endif])
-])
-
 dnl check the default FD_SETSIZE size.
 dnl not cached, people are likely to tune this
 dnl defines DEFAULT_FD_SETSIZE
@@ -9,8 +9,8 @@ include $(top_srcdir)/src/Common.am
 
 # Port Specific Configurations
 
-noinst_LIBRARIES = libcompat-squid.a
-libcompat_squid_a_SOURCES = \
+noinst_LTLIBRARIES = libcompat-squid.la
+libcompat_squid_la_SOURCES = \
 	assert.cc \
 	assert.h \
 	cmsg.h \
@@ -23,6 +23,7 @@ libcompat_squid_a_SOURCES = \
 	debug.h \
 	drand48.h \
 	eui64_aton.h \
+	eui64_aton.c \
 	fdsetsize.h \
 	getaddrinfo.h \
 	getnameinfo.h \
@@ -38,13 +39,11 @@ libcompat_squid_a_SOURCES = \
 	stdio.h \
 	stdvarargs.h \
 	strnstr.cc \
-	strsep.h \
 	strtoll.h \
 	strnrchr.h \
 	strnrchr.c \
 	tempnam.h \
 	types.h \
-	unsafe.h \
 	valgrind.h \
 	xalloc.cc \
 	xalloc.h \
@@ -57,6 +56,7 @@ libcompat_squid_a_SOURCES = \
 	xstrto.h \
 	\
 	os/aix.h \
+	os/android.h \
 	os/dragonfly.h \
 	os/freebsd.h \
 	os/hpux.h \
@@ -74,7 +74,7 @@ libcompat_squid_a_SOURCES = \
 	os/solaris.h \
 	os/sunos.h
 
-libcompat_squid_a_LIBADD= $(LIBOBJS)
+libcompat_squid_la_LIBADD= $(LTLIBOBJS)
 
 check_PROGRAMS += testPreCompiler
 TESTS += testPreCompiler
@@ -12,21 +12,22 @@
 // WinSock2.h defines these for Windows
 #if HAVE_WINSOCK2_H
 #include <winsock2.h>
-#define CMSG_H_ // prevent re-definition
 #endif
 
-#ifndef CMSG_H_
-#define CMSG_H_
+// sockaddr_un might be in sys/un.h if not pulled in already
+#if HAVE_SYS_UN_H
+#include <sys/un.h>
+#endif
 
-/* mostly windows-specific */
-#ifndef CMSG_SPACE
+#if !HAVE_CMSGHDR
 struct cmsghdr {
-    unsigned int    cmsg_len;
-    int  cmsg_level;
-    int     cmsg_type;
+    unsigned int cmsg_len;
+    int cmsg_level;
+    int cmsg_type;
     unsigned char cmsg_data[16]; /* dummy */
     /* followed by UCHAR cmsg_data[]; */
-} ;
+};
+#endif
 
 /* lifted off https://metacpan.org/source/SAMPO/Socket-PassAccessRights-0.03/passfd.c */
 #ifndef CMSG_DATA
@@ -48,15 +49,25 @@ struct cmsghdr {
              & ~(sizeof (size_t) - 1))
 #endif
 
+#ifndef CMSG_SPACE
 # define CMSG_SPACE(len) (CMSG_ALIGN (len) \
              + CMSG_ALIGN (sizeof (struct cmsghdr)))
 #undef HAVE_CONSTANT_CMSG_SPACE
 #define HAVE_CONSTANT_CMSG_SPACE 1
+#endif
 
 #ifndef CMSG_LEN
 # define CMSG_LEN(len)   (CMSG_ALIGN (sizeof (struct cmsghdr)) + (len))
 #endif
 
+#if !HAVE_IOVEC
+struct iovec {
+    void *iov_base;
+    size_t iov_len;
+};
+#endif
+
+#if !HAVE_MSGHDR
 struct msghdr {
     void *msg_name;             /* Address to send to/receive from.  */
     socklen_t msg_namelen;      /* Length of address data.  */
@@ -72,19 +83,19 @@ struct msghdr {
 
     int msg_flags;              /* Flags on received message.  */
 };
+#endif
 
-struct iovec {
-    void *iov_base;
-    size_t iov_len;
-};
+#if !HAVE_SOCKADDR_UN
 struct sockaddr_un {
     char sun_family;
     char sun_path[256];   /* pathname */
 };
+#endif
+
+#ifndef SUN_LEN
 # define SUN_LEN(ptr) ((size_t) (((struct sockaddr_un *) 0)->sun_path)        \
         + strlen ((ptr)->sun_path))
-
-#endif /* CMSG_SPACE */
+#endif
 
 #ifndef SCM_RIGHTS
 #define SCM_RIGHTS 1
@@ -100,8 +111,6 @@ struct sockaddr_un {
 #define AF_LOCAL 1
 #endif
 
-#endif /* CMSG_H_ */
-
 // CMSG_SPACE is not constant on some systems (in particular Max OS X),
 // provide a replacement that can be used at build time in that case
 // NP: this must go below our replacement definitions.
@@ -4,7 +4,7 @@
 \title Squid Portability
 
 
-\section 1 Aim
+\section sec1 Aim
 
 \par 
 Squid aims to build and run on many modern systems. To do this we have traditionally
@@ -18,25 +18,25 @@ The Portability library libcompat-squid.la has been created to correct the three
 stable build portability, code cleanliness, and clearer licensing.
 
 
-\section 2 Requirements
+\section sec2 Requirements
 
 \par
 The system calls used by Squid are not required to be standard. Often we depend on
 some non-standard call which can give great performance benefits.
 But they are required to meet several other criteria:
  \li  They must be of actual benefit to Squid during its operation.
  \li  A better alternative must not exist.
- \li  If not available on all OS an open-source GPLv2+ implementation must be available
-      to be included with the Squid sources and used when required.
+ \li  If not available on all OS an open-source GPLv2+ compatible implementation must be
+      available to be included with the Squid sources and used when required.
 
 \par
-To be built into the libcompat-squid.la as a layer below all Squid-bundled binaries. The code
-must also qualify by being provided natively by some OS where Squid builds. \br
+To be built into the libcompat-squid.la as a layer below all Squid-bundled binaries. The
+code must also qualify by being provided natively by some OS where Squid builds. \br
 Code and Algorithms which do not meet this final criteria are relegated to the slightly
 higher level of basic component, rather than portability.
 
 
-\section 3 Component Types
+\section sec3 Component Types
 
 \par Macro re-definition
 Where the only difference between systems is their naming scheme. One of the schemes is
@@ -62,16 +62,16 @@ same name with an 'x' pre-pended. Currently these extra protections are added on
 handling and memory allocation.
 
 
-\section 4 Layout
+\section sec4 Layout
 The internal code structure of libcompat-squid.la files has a hierarchy. The API has a flat
 global scope separate from the file layout. The API is pulled in by including compat/compat.h.
-The strict dependency requirements which exist within the compat API make including
+The strict dependency requirements which exist within the compat API make including an
 individual part separately a risky operation.
 
 \par
-Squid coding guidelines require each .c and .cc file to include squid.h first
-in their included files. squid.h begin with an order-specific sequence of defines and
-includes compat/compat.h to incorporate the compat layer appropriately in every soure file.
+Squid coding guidelines require each .c and .cc file to include squid.h first in their
+included files. squid.h begins with an order-specific sequence of defines and includes
+compat/compat.h to incorporate the compat layer appropriately in every source file.
 
 \par
 Internally the compat/ directory contains the public API file compat/compat.h which structures
@@ -84,9 +84,9 @@ special compat layer handling. Hacks for specific systems should be restricted t
 as much as possible.
 
 \par
-compat/compat_shared.h file contains the shared portability definitions which are shared
-across a great many systems. These should be written with protective macros to prevent any
-symbols or code being defined which is not necessary. Protections here must not be system-specific.
+compat/compat_shared.h file contains the portability definitions which are shared across a
+great many systems. These should be written with protective macros to prevent any symbols or
+code being defined which is not necessary. Protections here must not be system-specific.
 
 \par
 Also in compat/ directory are the .h and .c files for emulators detected by autoconf. These
@@ -56,6 +56,7 @@
 /*****************************************************/
 
 #include "compat/os/aix.h"
+#include "compat/os/android.h"
 #include "compat/os/dragonfly.h"
 #include "compat/os/freebsd.h"
 #include "compat/os/hpux.h"
@@ -76,9 +77,9 @@
 /* components as found to be needed                  */
 /*****************************************************/
 
+#include "compat/assert.h"
 #include "compat/compat_shared.h"
 #include "compat/stdvarargs.h"
-#include "compat/assert.h"
 
 /* cstdio has a bunch of problems with 64-bit definitions */
 #include "compat/stdio.h"
@@ -103,9 +104,6 @@
  */
 #include "compat/GnuRegex.h"
 
-/* some functions are unsafe to be used in Squid. */
-#include "compat/unsafe.h"
-
 /* cppunit is not quite C++0x compatible yet */
 #include "compat/cppunit.h"
 
@@ -171,9 +171,13 @@ max(A const & lhs, A const & rhs)
  * Signalling flags are apparently not always provided.
  * TODO find out if these can be moved into specific OS portability files.
  */
+#if defined(__cplusplus)
+#include <csignal>
+#else
 #if HAVE_SIGNAL_H
 #include <signal.h>
 #endif
+#endif
 #ifndef SA_RESTART
 #define SA_RESTART 0
 #endif
@@ -208,10 +212,10 @@ extern "C" {
  * Several function definitions which we provide for security and code safety.
  */
 #include "compat/xalloc.h"
+#include "compat/xis.h"
 #include "compat/xstrerror.h"
 #include "compat/xstring.h"
 #include "compat/xstrto.h"
-#include "compat/xis.h"
 
 /*
  * strtoll() is needed. Squid provides a portable definition.
@@ -77,6 +77,8 @@
 #include "squid.h"
 #include "compat/eui64_aton.h"
 
+#if SQUID_EUI64_ATON
+
 /*
  * Convert an ASCII representation of an EUI-64 to binary form.
  */
@@ -132,3 +134,5 @@ eui64_aton(const char *a, struct eui64 *e)
 
     return (0);
 }
+
+#endif /* !SQUID_EUI64_ATON */
@@ -46,6 +46,8 @@
 extern "C" {
 #endif
 
+#define SQUID_EUI64_ATON 1
+
     /**
      * Size of the ASCII representation of an EUI-64.
      */
@@ -75,8 +75,8 @@
 
 #if !HAVE_GETNAMEINFO
 
-#include "compat/inet_ntop.h"
 #include "compat/getaddrinfo.h"
+#include "compat/inet_ntop.h"
 
 #if HAVE_SYS_SOCKET_H
 #include <sys/socket.h>
@@ -41,10 +41,9 @@
 #define sys_nerr _sys_nerr
 
 #undef assert
-#include <assert.h>
-#include <stdio.h>
+#include <cassert>
+#include <cstring>
 #include <fcntl.h>
-#include <string.h>
 #include <sys/timeb.h>
 #if HAVE_WIN32_PSAPI
 #include <psapi.h>
@@ -0,0 +1,13 @@
+#ifndef SQUID_OS_ANDROID_H
+#define SQUID_OS_ANDROID_H
+
+#if defined(__ANDROID__)
+/****************************************************************************
+ *--------------------------------------------------------------------------*
+ * DO *NOT* MAKE ANY CHANGES below here unless you know what you're doing...*
+ *--------------------------------------------------------------------------*
+ ****************************************************************************/
+#define _SQUID_ANDROID_ 1
+
+#endif /* _SQUID_ANDROID_ */
+#endif /* SQUID_OS_ANDROID_H */
@@ -1,5 +1,5 @@
 #ifndef SQUID_OS_HPUX_H
-#define SQUID_OS_PHUX_H
+#define SQUID_OS_HPUX_H
 
 #if _SQUID_HPUX_
 
@@ -114,7 +114,6 @@ typedef unsigned long ino_t;
 #define snprintf _snprintf
 #define stat _stati64
 #define strcasecmp _stricmp
-#define strdup _strdup
 #define strlwr _strlwr
 #define strncasecmp _strnicmp
 #define tempnam _tempnam
@@ -149,33 +148,76 @@ SQUIDCEXTERN int WIN32_truncate(const char *pathname, off_t length);
 #define umask _umask
 #define unlink _unlink
 
+#ifndef O_RDONLY
 #define O_RDONLY        _O_RDONLY
+#endif
+#ifndef O_WRONLY
 #define O_WRONLY        _O_WRONLY
+#endif
+#ifndef O_RDWR
 #define O_RDWR          _O_RDWR
+#endif
+#ifndef O_APPEND
 #define O_APPEND        _O_APPEND
-
+#endif
+#ifndef O_CREAT
 #define O_CREAT         _O_CREAT
+#endif
+#ifndef O_TRUNC
 #define O_TRUNC         _O_TRUNC
+#endif
+#ifndef O_EXCL
 #define O_EXCL          _O_EXCL
-
+#endif
+#ifndef O_TEXT
 #define O_TEXT          _O_TEXT
+#endif
+#ifndef O_BINARY
 #define O_BINARY        _O_BINARY
+#endif
+#ifndef O_RAW
 #define O_RAW           _O_BINARY
+#endif
+#ifndef O_TEMPORARY
 #define O_TEMPORARY     _O_TEMPORARY
+#endif
+#ifndef O_NOINHERIT
 #define O_NOINHERIT     _O_NOINHERIT
+#endif
+#ifndef O_SEQUENTIAL
 #define O_SEQUENTIAL    _O_SEQUENTIAL
+#endif
+#ifndef O_RANDOM
 #define O_RANDOM        _O_RANDOM
+#endif
+#ifndef O_NDELAY
 #define O_NDELAY	0
+#endif
 
+#ifndef S_IFMT
 #define S_IFMT   _S_IFMT
+#endif
+#ifndef S_IFDIR
 #define S_IFDIR  _S_IFDIR
+#endif
+#ifndef S_IFCHR
 #define S_IFCHR  _S_IFCHR
+#endif
+#ifndef S_IFREG
 #define S_IFREG  _S_IFREG
+#endif
+#ifndef S_IREAD
 #define S_IREAD  _S_IREAD
+#endif
+#ifndef S_IWRITE
 #define S_IWRITE _S_IWRITE
+#endif
+#ifndef S_IEXEC
 #define S_IEXEC  _S_IEXEC
-
+#endif
+#ifndef S_IRWXO
 #define S_IRWXO 007
+#endif
 
 #if defined(_MSC_VER)
 #define	S_ISDIR(m) (((m) & _S_IFDIR) == _S_IFDIR)
@@ -802,6 +844,11 @@ WSASocket(int a, int t, int p, LPWSAPROTOCOL_INFO i, GROUP g, DWORD f)
 #define open       _open /* Needed in win32lib.c */
 #endif /* #ifdef __cplusplus */
 
+/* provide missing definitions from resoruce.h */
+/* NP: sys/resource.h and sys/time.h are apparently order-dependant. */
+#if HAVE_SYS_TIME_H
+#include <sys/time.h>
+#endif
 #if HAVE_SYS_RESOURCE_H
 #include <sys/resource.h>
 #else
@@ -957,7 +1004,5 @@ void syslog(int priority, const char *fmt, ...);
 /* prototypes */
 void WIN32_maperror(unsigned long WIN32_oserrno);
 
-#include "compat/strsep.h"
-
 #endif /* _SQUID_WINDOWS_ */
 #endif /* SQUID_OS_MSWINDOWS_H */
@@ -101,8 +101,5 @@ SQUIDCEXTERN int gethostname(char *, int);
 #define _PATH_DEVNULL "/dev/null"
 #endif
 
-/* Solaris 10 does not define strsep() */
-#include "compat/strsep.h"
-
 #endif /* _SQUID_SOLARIS_ */
 #endif /* SQUID_OS_SOALRIS_H */
@@ -5,7 +5,7 @@
 #include "squid.h"
 #include "psignal.h"
 
-#if _SQUID_AIX_ || _SQUID_MINGW_
+#if _SQUID_AIX_ || _SQUID_ANDROID_ || _SQUID_MINGW_
 extern const char* const sys_siglist[];
 #define _sys_nsig 64
 #define _sys_siglist sys_siglist
@@ -15,7 +15,7 @@
 
 // Import the stdio.h definitions first to do the state setup
 #if HAVE_STDIO_H
-#include<stdio.h>
+#include <stdio.h>
 #endif
 
 // Check for the buggy case
@@ -46,8 +46,8 @@ inline FILE * tmpfile(void) { return tmpfile64(); }
 #endif /* __USE_FILE_OFFSET64 && !__REDIRECT */
 
 // Finally import the <cstdio> stuff we actually use
-#if HAVE_CSTDIO
-#include<cstdio>
+#if defined(__cplusplus)
+#include <cstdio>
 #endif
 
 #ifndef MAXPATHLEN
@@ -6,7 +6,7 @@
  * We provide a clean set of wrappers for the various operations
  * Depending on what is available and needed.
  */
-#if HAVE_CSTDARG && defined(__cplusplus)
+#if defined(__cplusplus)
 #include <cstdarg>
 
 #else
@@ -18,7 +18,7 @@
 #define VA_SHIFT(v,t) ;         /* no-op for ANSI */
 #define VA_END va_end(ap)
 
-#else
+#else /* !HAVE_STDARG_H */
 #if HAVE_VARARGS_H
 #include <varargs.h>
 #undef HAVE_STDARGS
@@ -27,7 +27,7 @@
 #define VA_SHIFT(v,t) v = va_arg(ap,t)
 #define VA_END va_end(ap)
 
-#else
+#else /* !HAVE_VARARGS_H*/
 #error XX **NO VARARGS ** XX
 #endif /* HAVE_VARARGS_H */
 #endif /* HAVE_STDARG_H */
@@ -59,9 +59,7 @@
 #if HAVE_SYS_TYPES_H
 #include <sys/types.h>
 #endif
-#if HAVE_STRING_H
-#include <string.h>
-#endif
+#include <cstring>
 
 /**
  * Find the first occurrence of find in s, where the search is limited to the
@@ -1,48 +0,0 @@
-/* Copyright (C) 2004 Free Software Foundation, Inc.
- * Written by Yoann Vandoorselaere <yoann@prelude-ids.org>
- *
- * The file is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- *
- * This file is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * You should have received a copy of the GNU Lesser General Public
- * License along with this file; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
- * USA.
- */
-
-#include "squid.h"
-#include "compat/strsep.h"
-
-#include <string.h>
-
-char *
-strsep(char **stringp, const char *delim)
-{
-    char *start = *stringp;
-    char *ptr;
-
-    if (!start)
-        return NULL;
-
-    if (!*delim)
-        ptr = start + strlen (start);
-    else {
-        ptr = strpbrk (start, delim);
-        if (!ptr) {
-            *stringp = NULL;
-            return start;
-        }
-    }
-
-    *ptr = '\0';
-    *stringp = ptr + 1;
-
-    return start;
-}
@@ -1,56 +0,0 @@
-/* Copyright (C) 2004 Free Software Foundation, Inc.
- * Written by Yoann Vandoorselaere <yoann@prelude-ids.org>
- *
- * The file is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- *
- * This file is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * You should have received a copy of the GNU Lesser General Public
- * License along with this file; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
- * USA.
- */
-#ifndef GNULIB_STRSEP_H_
-#define GNULIB_STRSEP_H_
-
-#if HAVE_STRSEP
-
-/*
- * Get strsep() declaration.
- */
-#if HAVE_STRING_H
-#include <string.h>
-#endif
-
-#else
-
-/**
- *\par
- * Searches the next delimiter (char listed in DELIM) starting at *STRINGP.
- * If one is found, it is overwritten with a NULL, and *STRINGP is advanced
- * to point to the next char after it.  Otherwise, *STRINGP is set to NULL.
- * If *STRINGP was already NULL, nothing happens.
- * Returns the old value of *STRINGP.
- *
- *\par
- * This is a variant of strtok() that is multithread-safe and supports
- * empty fields.
- *
- * \note   Caveat: It modifies the original string.
- * \note   Caveat: These functions cannot be used on constant strings.
- * \note   Caveat: The identity of the delimiting character is lost.
- * \note   Caveat: It doesn't work with multibyte strings unless all of the delimiter
- * characters are ASCII characters < 0x30.
- *
- * See also strtok_r().
- */
-SQUIDCEXTERN char *strsep(char **stringp, const char *delim);
-
-#endif /* HAVE_STRSEP */
-#endif /* GNULIB_STRSEP_H_ */
@@ -49,7 +49,7 @@
 #define INT64_MIN LONG_MIN
 #else
 /* 32 bit system */
-#define INT64_MIN       -9223372036854775807L-1L
+#define INT64_MIN       (-9223372036854775807LL-1LL)
 #endif
 #endif
 
@@ -59,7 +59,7 @@
 #define INT64_MAX LONG_MAX
 #else
 /* 32 bit system */
-#define INT64_MAX       9223372036854775807L
+#define INT64_MAX       9223372036854775807LL
 #endif
 #endif
 
@@ -1,9 +1,7 @@
 #define SQUID_UNIT_TEST 1
 #include "squid.h"
 
-#if HAVE_ASSERT_H
-#include <assert.h>
-#endif
+#include <cassert>
 
 #include "testPreCompiler.h"
 
@@ -1,17 +0,0 @@
-#ifndef _SQUID_COMPAT_UNSAFE_H
-#define _SQUID_COMPAT_UNSAFE_H
-
-/*
- * Trap unintentional use of functions unsafe for use within squid.
- */
-
-#if !SQUID_NO_STRING_BUFFER_PROTECT
-#ifndef sprintf
-#define sprintf ERROR_sprintf_UNSAFE_IN_SQUID
-#endif
-#ifndef strdup
-#define strdup ERROR_strdup_UNSAFE_IN_SQUID
-#endif
-#endif /* SQUID_NO_STRING_BUFFER_PROTECT */
-
-#endif /* _SQUID_COMPAT_UNSAFE_H */
@@ -86,19 +86,9 @@ xcalloc(size_t n, size_t sz)
         exit(1);
     }
 
-#if XMALLOC_DEBUG
-    check_malloc(p, sz * n);
-#endif
 #if XMALLOC_STATISTICS
     malloc_stat(sz * n);
 #endif
-#if XMALLOC_TRACE
-    xmalloc_show_trace(p, 1);
-#endif
-#if MEM_GEN_TRACE
-    if (tracefp)
-        fprintf(tracefp, "c:%u:%u:%p\n", (unsigned int) n, (unsigned int) sz, p);
-#endif
 
     PROF_stop(xcalloc);
     return p;
@@ -127,19 +117,9 @@ xmalloc(size_t sz)
         exit(1);
     }
 
-#if XMALLOC_DEBUG
-    check_malloc(p, sz);
-#endif
 #if XMALLOC_STATISTICS
     malloc_stat(sz);
 #endif
-#if XMALLOC_TRACE
-    xmalloc_show_trace(p, 1);
-#endif
-#if MEM_GEN_TRACE
-    if (tracefp)
-        fprintf(tracefp, "m:%d:%p\n", sz, p);
-#endif
 
     PROF_stop(xmalloc);
     return (p);
@@ -149,17 +129,10 @@ void *
 xrealloc(void *s, size_t sz)
 {
     PROF_start(xrealloc);
-#if XMALLOC_TRACE
-    xmalloc_show_trace(s, -1);
-#endif
 
     if (sz < 1)
         sz = 1;
 
-#if XMALLOC_DEBUG
-    if (s != NULL)
-        check_free(s);
-#endif
     PROF_start(realloc);
     void *p= realloc(s, sz);
     PROF_stop(realloc);
@@ -176,19 +149,10 @@ xrealloc(void *s, size_t sz)
         exit(1);
     }
 
-#if XMALLOC_DEBUG
-    check_malloc(p, sz);
-#endif
 #if XMALLOC_STATISTICS
     malloc_stat(sz);
 #endif
-#if XMALLOC_TRACE
-    xmalloc_show_trace(p, 1);
-#endif
-#if MEM_GEN_TRACE
-    if (tracefp)                /* new ptr, old ptr, new size */
-        fprintf(tracefp, "r:%p:%p:%d\n", p, s, sz);
-#endif
+
     PROF_stop(xrealloc);
     return (p);
 }
@@ -199,21 +163,8 @@ free_const(const void *s_const)
     void *s = const_cast<void *>(s_const);
 
     PROF_start(free_const);
-#if XMALLOC_TRACE
-    xmalloc_show_trace(s, -1);
-#endif
-
-#if XMALLOC_DEBUG
-    check_free(s);
-#endif
-
     PROF_start(free);
     free(s);
     PROF_stop(free);
-
-#if MEM_GEN_TRACE
-    if (tracefp)
-        fprintf(tracefp, "f:%p\n", s);
-#endif
     PROF_stop(free_const);
 }
@@ -1,9 +1,7 @@
 #include "squid.h"
 #include "compat/xstrerror.h"
 
-#if HAVE_STRING_H
-#include <string.h>
-#endif
+#include <cstring>
 
 #if _SQUID_WINDOWS_
 static struct _wsaerrtext {
@@ -2,9 +2,7 @@
 #include "compat/xalloc.h"
 #include "compat/xstring.h"
 
-#if HAVE_ERRNO_H
-#include <errno.h>
-#endif
+#include <cerrno>
 
 char *
 xstrdup(const char *s)
@@ -47,19 +47,16 @@
  *      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  */
 
-#if HAVE_ERRNO_H
-#include <errno.h>
-#endif
+#include <cerrno>
 
 bool
 xstrtoul(const char *s, char **end, unsigned long *value,
          unsigned long min, unsigned long max)
 {
-    unsigned long v;
-    char *my_end;
+    char *my_end = NULL;
 
     errno = 0;
-    v = strtoul(s, &my_end, 0);
+    unsigned long v = strtoul(s, &my_end, 0);
 
     if (my_end == s)
         return false;
@@ -81,10 +78,8 @@ bool
 xstrtoui(const char *s, char **end, unsigned int *value,
          unsigned int min, unsigned int max)
 {
-    unsigned long v;
-    bool ret;
-
-    ret = xstrtoul(s, end, &v, min, max);
+    unsigned long v = 0;
+    bool ret = xstrtoul(s, end, &v, min, max);
     if (value != NULL) {
         *value = v;
 
@@ -16,7 +16,7 @@ m4_include([acinclude/krb5.m4])
 m4_include([acinclude/pam.m4])
 m4_include([acinclude/pkg.m4])
 m4_include([acinclude/lib-checks.m4])
-m4_include([acinclude/ax_cxx_compile_stdcxx_0x.m4])
+m4_include([acinclude/ax_cxx_compile_stdcxx_11.m4])
 m4_include([acinclude/ax_cxx_0x_types.m4])
 
 PRESET_CFLAGS="$CFLAGS"
@@ -35,22 +35,37 @@ AC_PROG_CXX
 AC_LANG([C++])
 AC_CANONICAL_HOST
 
-# Clang 3.2 on some CPUs requires -march-native to detect correctly
-# GCC 4.3+ can also produce faster executables when its used
-SQUID_CC_CHECK_ARGUMENT([squid_cv_check_marchnative],[-march=native])
+# Clang 3.2 on some CPUs requires -march-native to detect correctly.
+# GCC 4.3+ can also produce faster executables when its used.
+# But building inside a virtual machine environment has been found to
+# cause random Illegal Instruction errors due to mis-detection of CPU.
+AC_ARG_ENABLE(arch-native,
+  AS_HELP_STRING([--disable-arch-native],[Some compilers offer CPU-specific
+                 optimizations with the -march=native parameter.
+                 This flag disables the optimization. The default is to
+                 auto-detect compiler support and use where available.]), [
+  SQUID_YESNO([$enableval],
+    [Unrecognized argument to --disable-arch-native: $enableval])
+])
+AC_MSG_NOTICE([CPU -march=native optimization enabled: ${enable_arch_native:=auto}])
+if test "x${enable_arch_native}" != "xno"; then
+  SQUID_CC_CHECK_ARGUMENT([squid_cv_check_marchnative],[-march=native])
+fi
 
 # might be cross-compiling.
-if test "x$HOSTCXX" = "x"; then
-  HOSTCXX="$CXX"
+# NP: BUILDCXXFLAGS defined at the end of configure after CXXFLAGS fully known.
+AC_ARG_VAR([BUILDCXX],[path to compiler for building compile-time tools. e.g. cf_gen])
+if test "x$HOSTCXX" != "x" -a "x$BUILDCXX" = "x"; then
+  AC_MSG_WARN([Cross-compiling with HOSTCXX is deprecated. Uses BUILDCXX instead.])
+  BUILDCXX="$HOSTCXX"
+fi
+if test "x$BUILDCXX" = "x"; then
+  BUILDCXX="$CXX"
   if test "x$squid_cv_check_marchnative" = "xyes"; then
     CXXFLAGS="$CXXFLAGS -march=native"
   fi
 fi
-if test "x$squid_cv_check_marchnative" = "xyes"; then
-  # always valid for the Host compiler.
-  HOSTCXX="$HOSTCXX -march=native"
-fi
-AC_SUBST(HOSTCXX)
+AC_SUBST(BUILDCXX)
 
 AC_MSG_CHECKING([simplified host os])
 simple_host_os=`echo $host_os|sed 's/[0-9].*//g;s/-.*//g'`
@@ -69,16 +84,15 @@ if test "x$squid_host_os" = "solaris" -a "x$GCC" != "x" ; then
 	AC_USE_SYSTEM_EXTENSIONS
 fi
 
-# Check for C++0x compiler support
-AX_CXX_COMPILE_STDCXX_0X
-if test "x$ax_cv_cxx_compile_cxx0x_cxx" = "xyes" -a \
-  "x$squid_host_os" != "xmingw" ; then
+# Check for C++11 compiler support
+if test "x$squid_host_os" != "xmingw" ; then
     #BUG 3613: when clang -std=c++0x is used, it activates a "strict mode"
     # in the system libraries, which makes some c99 methods unavailable
     # (e.g. strtoll), yet configure detects them as avilable.
     case "$CXX" in
       *clang++*) ;; #do nothing
-      *) CXXFLAGS="$CXXFLAGS -std=c++0x" ;;
+      *)
+      AX_CXX_COMPILE_STDCXX_11([noext],[optional])
     esac
 fi
 
@@ -138,7 +152,7 @@ AC_ARG_ENABLE(loadable-modules,
   SQUID_YESNO([$enableval],
     [Unrecognized argument to --disable-loadable-modules: $enableval])
 ])
-AM_CONDITIONAL(USE_LOADABLE_MODULES, test "x${enable_loadable_modules:=yes}" = "xyes")
+AM_CONDITIONAL(ENABLE_LOADABLE_MODULES, test "x${enable_loadable_modules:=yes}" = "xyes")
 AC_MSG_RESULT([$enable_loadable_modules])
 
 if test "x$enable_loadable_modules" = "xyes";
@@ -194,7 +208,7 @@ AC_SUBST(CGIEXT)
 
 AM_CONDITIONAL(ENABLE_WIN32SPECIFIC,
                [test "x$squid_host_os" = "xmingw" -o "x$squid_host_os" = "xcygwin"])
-AM_CONDITIONAL(USE_IPC_WIN32,[test "x$squid_host_os" = "xmingw"])
+AM_CONDITIONAL(ENABLE_WIN32_IPC,[test "x$squid_host_os" = "xmingw"])
 
 case "$squid_host_os" in
 mingw)
@@ -418,9 +432,9 @@ AC_RUN_IFELSE([AC_LANG_PROGRAM([[
     AC_MSG_RESULT(yes)
 ],[
     AC_MSG_RESULT(no)
+],[ AC_MSG_RESULT(cross-compiler cant tell)
 ])
 
-
 AC_ARG_ENABLE(debug-cbdata,
   AS_HELP_STRING([--enable-debug-cbdata],
       [Provide some debug information in cbdata]), [ 
@@ -436,28 +450,6 @@ dnl Nasty hack to get autoconf 2.64 on Linux to run.
 dnl all other uses of RUN_IFELSE are wrapped inside CACHE_CHECK which breaks on 2.64
 AC_RUN_IFELSE([AC_LANG_SOURCE([[ int main(int argc, char **argv) { return 0; } ]])],[],[],[:])
 
-dnl This is a developer only option.. developers know how to set defines
-dnl
-dnl AC_ARG_ENABLE(xmalloc-debug,
-dnl [  --enable-xmalloc-debug  Do some simple malloc debugging],
-dnl [ if test "$enableval" = "yes" ; then
-dnl     AC_MSG_NOTICE([malloc debugging enabled])
-dnl     AC_DEFINE(XMALLOC_DEBUG,1,[Define to do simple malloc debugging])
-dnl   fi
-dnl ])
-
-dnl This is a developer only option.. developers know how to set defines
-dnl
-dnl AC_ARG_ENABLE(xmalloc-debug-trace,
-dnl [  --enable-xmalloc-debug-trace
-dnl                           Detailed trace of memory allocations],
-dnl [ if test "$enableval" = "yes" ; then
-dnl     AC_MSG_NOTICE([malloc debug trace enabled])
-dnl     AC_DEFINE(XMALLOC_TRACE,1,[Define to have a detailed trace of memory allocations])
-dnl     AC_DEFINE(XMALLOC_DEBUG,1)
-dnl   fi
-dnl ])
-
 AH_TEMPLATE(XMALLOC_STATISTICS,[Define to have malloc statistics])
 AC_ARG_ENABLE(xmalloc-statistics,
   AS_HELP_STRING([--enable-xmalloc-statistics],
@@ -546,7 +538,7 @@ AC_ARG_WITH(pthreads,AS_HELP_STRING([--without-pthreads],[Disable POSIX Threads]
 AC_ARG_WITH(aio, AS_HELP_STRING([--without-aio],[Do not use POSIX AIO. Default: auto-detect]))
 AH_TEMPLATE(USE_DISKIO_AIO, [Whether POSIX AIO support is needed. Automatic])
 AH_TEMPLATE(USE_DISKIO_DISKTHREADS, [Whether pthreads support is needed. Automatic])
-USE_AIOPS_WIN32=0
+ENABLE_WIN32_AIOPS=0
 squid_opt_use_aio=
 squid_opt_use_diskthreads=
 AIOLIB=
@@ -589,11 +581,11 @@ for module in $squid_disk_module_candidates none; do
       dnl REF: http://autoconf-archive.cryp.to/acx_pthread.html
         case "$squid_host_os" in
           mingw)
-            USE_AIOPS_WIN32=1
+            ENABLE_WIN32_AIOPS=1
             AC_MSG_NOTICE([Windows threads support automatically enabled])
             ;;
           freebsd)
-            if test `echo "$squid_host_os_version" | cut -b1` -lt 7 ; then
+            if test `echo "$squid_host_os_version" | tr -d .` -lt 70 ; then
                 AC_MSG_NOTICE(pthread library requires FreeBSD 7 or later)
                 squid_opt_use_diskthreads="no"
             else
@@ -701,7 +693,7 @@ for module in $squid_disk_module_candidates none; do
         DISK_LINKOBJS="$DISK_LINKOBJS DiskIO/AIO/AIODiskIOModule.o"
         case "$squid_host_os" in
           mingw)
-            USE_AIO_WIN32=1
+            ENABLE_WIN32_AIO=1
             AC_MSG_NOTICE([Replacing AIO DiskIO module with: Windows overlapped I/O support])
             ;;
           *)
@@ -760,8 +752,8 @@ AC_SUBST(DISK_LIBS)
 AC_SUBST(DISK_PROGRAMS)
 AC_SUBST(DISK_LINKOBJS)
 AC_SUBST(DISK_OS_LIBS)
-AM_CONDITIONAL([USE_AIOPS_WIN32], [test "$USE_AIOPS_WIN32" = "1"])
-AM_CONDITIONAL([USE_AIO_WIN32], [test "$USE_AIO_WIN32" = "1"])
+AM_CONDITIONAL([ENABLE_WIN32_AIOPS], [test "$ENABLE_WIN32_AIOPS" = "1"])
+AM_CONDITIONAL([ENABLE_WIN32_AIO], [test "$ENABLE_WIN32_AIO" = "1"])
 
 
 dnl Check what Storage formats are wanted.
@@ -794,8 +786,6 @@ if test "x$squid_opt_enable_storeio" = "xauto"; then
   squid_opt_enable_storeio=yes
   AC_MSG_CHECKING([for available StoreIO modules])
   SQUID_LOOK_FOR_MODULES([$srcdir/src/fs],[squid_storeio_module_candidates])
-  # disable coss
-  squid_storeio_module_candidates=`echo $squid_storeio_module_candidates|sed 's/coss//'`
   AC_MSG_RESULT([$squid_storeio_module_candidates])
 fi
 
@@ -817,33 +807,26 @@ for fs in $squid_storeio_module_candidates none; do
         AC_MSG_ERROR([Storage module aufs requires DiskIO module: Blocking or DiskThreads])
       fi
       ;;
-    coss)
-      AC_MSG_WARN([COSS Support is not stable yet in Squid-3. Please do not use.])
-      if ! test "x$squid_disk_module_candidates_AIO" = "xyes"; then
-        AC_MSG_ERROR([COSS requires POSIX AIO which is not available.])
-      fi
-      # Automake on MinGW needs explicit exe extension
-      # for STORE_TESTS substition
-      STORE_TESTS="$STORE_TESTS tests/testCoss$EXEEXT"
-      ;;
     rock)
 	if test "x$squid_disk_module_candidates_IpcIo" != "xyes" -a \
 	  "x$squid_disk_module_candidates_Blocking" != "xyes"; then
 	  AC_MSG_ERROR([Storage module Rock requires IpcIo or Blocking DiskIO module])
 	fi
-	STORE_TESTS="$STORE_TESTS tests/testRock$EXEEXT"
+	squid_do_build_rock=true
 	;;
     ufs)
-      STORE_TESTS="$STORE_TESTS tests/testUfs$EXEEXT"
+	squid_do_build_ufs=true
+	;;
     esac
 done
-
+ 
+AM_CONDITIONAL(HAVE_FS_UFS,[test "x$squid_do_build_ufs" = "xtrue" ])
+AM_CONDITIONAL(HAVE_FS_ROCK,[test "x$squid_do_build_rock" = "xtrue" ])
 dnl hack: need to define those even if not used in the build system to
 dnl make sure that global FS objects are linked to the squid binary.
 AH_TEMPLATE(HAVE_FS_UFS, "Define to 1 if ufs filesystem module is build")
 AH_TEMPLATE(HAVE_FS_AUFS, "Define to 1 if aufs filesystem module is build")
 AH_TEMPLATE(HAVE_FS_DISKD, "Define to 1 if diskd filesystem module is build")
-AH_TEMPLATE(HAVE_FS_COSS, "Define to 1 if coss filesystem module is build")
 AH_TEMPLATE(HAVE_FS_ROCK, "Define to 1 if rock filesystem module is build")
 
 
@@ -993,13 +976,12 @@ AC_SUBST(XMLLIB)
 
 # icap argument handling
 AC_ARG_ENABLE(icap-client,
-  AS_HELP_STRING([--enable-icap-client],[Enable the ICAP client.]),
-    [squid_opt_use_icap_client=$enableval],
-    [squid_opt_use_icap_client=no])
-SQUID_DEFINE_BOOL(ICAP_CLIENT,$squid_opt_use_icap_client,
-     [Enable ICAP client features in Squid])
-AM_CONDITIONAL(USE_ICAP_CLIENT, [test "x$squid_opt_use_icap_client" = "xyes" ])
-if test "x$squid_opt_use_icap_client" = "xyes" ; then
+  AS_HELP_STRING([--disable-icap-client],[Disable the ICAP client.]),[
+  SQUID_YESNO([$enableval],[Unrecognized argument to --disable-icap-client: $enableval])
+])
+SQUID_DEFINE_BOOL(ICAP_CLIENT,${enable_icap_client:=yes}, [Enable ICAP client features in Squid])
+AM_CONDITIONAL(USE_ICAP_CLIENT, [test "x$enable_icap_client" != "xno" ])
+if test "x$enable_icap_client" != "xno" ; then
   ICAP_LIBS="icap/libicap.la"
   squid_opt_use_adaptation=yes
 else
@@ -1036,10 +1018,10 @@ then
 
   if test -n "$PKG_CONFIG"; then
     dnl eCAP support requires libecap.
-    dnl This Squid supports libecap v0.2.x.
+    dnl This Squid supports libecap v1.0.x.
     dnl Use EXT_ prefix to distinguish external libecap (that we check for
     dnl here) from our own convenience ecap library in Makefiles.
-    PKG_CHECK_MODULES([EXT_LIBECAP],[libecap >= 0.2.0 libecap < 0.3])
+    PKG_CHECK_MODULES([EXT_LIBECAP],[libecap >= 1.0 libecap < 1.1])
   else
     AC_MSG_NOTICE([eCAP support requires pkg-config to verify the correct library version. Trouble may follow.])
   fi
@@ -1071,18 +1053,6 @@ else
 fi
 AC_SUBST(ADAPTATION_LIBS)
 
-
-dnl This is a developer only option. Developers know how to set defines
-dnl
-dnl AC_ARG_ENABLE(mem-gen-trace,
-dnl [  --enable-mem-gen-trace  Do trace of memory stuff],
-dnl [ if test "$enableval" = "yes" ; then
-dnl     AC_MSG_NOTICE([Memory trace (to file) enabled])
-dnl     AC_DEFINE(MEM_GEN_TRACE,1,[Define for log file trace of mem alloc/free])
-dnl   fi
-dnl ])
-
-
 test "x$squid_host_os" = "xmingw" && enable_wccp=no
 AC_ARG_ENABLE(wccp,
   AS_HELP_STRING([--disable-wccp],[Disable Web Cache Coordination Protocol]), [
@@ -1122,12 +1092,10 @@ SQUID_DEFINE_BOOL(SQUID_SNMP,${enable_snmp:=yes},
    [Define to enable SNMP monitoring of Squid])
 AM_CONDITIONAL(ENABLE_SNMP, [test "x$enable_snmp" = "xyes"])
 if test "x$enable_snmp" = "xyes"; then
-    SNMPLIB='../snmplib/libsnmplib.a'
-    makesnmplib=snmplib
+    SNMPLIB='../lib/snmplib/libsnmplib.la'
 fi
 AC_MSG_NOTICE([SNMP support enabled: $enable_snmp])
 AC_SUBST(SNMPLIB)
-AC_SUBST(makesnmplib)
 
 AC_ARG_ENABLE(cachemgr-hostname,
   AS_HELP_STRING([--enable-cachemgr-hostname=hostname],
@@ -1166,7 +1134,7 @@ if test "x${enable_eui:=yes}" = "xyes" ; then
       AC_MSG_WARN([EUI support probably will not work on host $host.])
       ;;
   esac
-  #Iphlpapi.h check delayed after winsock2.h
+  # iphlpapi.h check delayed after winsock2.h
   AC_CHECK_HEADERS( \
     windows.h \
     sys/sockio.h \
@@ -1212,32 +1180,88 @@ SQUID_DEFINE_BOOL(USE_HTCP,${enable_htcp:=yes},
 AM_CONDITIONAL(ENABLE_HTCP, [test "x$enable_htcp" = "xyes"])
 AC_MSG_NOTICE([HTCP support enabled: $enable_htcp])
 
+# Cryptograhic libraries
+AC_ARG_WITH(nettle,
+  AS_HELP_STRING([--without-nettle],[Compile without the Nettle crypto library.]),[
+case "$with_nettle" in
+  yes|no)
+    : # Nothing special to do here
+    ;;
+  *)
+    if test ! -d "$withval" ; then
+      AC_MSG_ERROR([--with-nettle path does not point to a directory])
+    fi
+    NETTLELIBDIR="-L$with_nettle/lib"
+    CPPFLAGS="-I$with_nettle/include $CPPFLAGS"
+    with_nettle=yes
+  esac
+])
+if test "x$with_nettle" != "xno" ; then
+  AC_CHECK_LIB(nettle, nettle_md5_init,[
+    NETTLELIB="$NETTLELIBDIR -lnettle"
+    AC_CHECK_HEADERS(nettle/md5.h)
+  ],[with_nettle=no])
+fi
+AC_MSG_NOTICE([Using Nettle cryptographic library: ${with_nettle:=yes}])
+AC_SUBST(NETTLELIB)
 
-# SSL is not enabled by default.
-# Default is to use OpenSSL when available
-AC_ARG_ENABLE(ssl,
-  AS_HELP_STRING([--enable-ssl],
-                 [Enable ssl gatewaying support using OpenSSL]), [
-SQUID_YESNO([$enableval],
-            [unrecognized argument to --enable-ssl: $enableval])
+dnl Check for libcrypt
+CRYPTLIB=
+dnl Some of our helpers use crypt(3) which may be in libc, or in
+dnl libcrypt (eg FreeBSD)
+AC_CHECK_LIB(crypt, crypt, [CRYPTLIB="-lcrypt"])
+dnl Solaris10 provides MD5 natively through libmd5
+AC_CHECK_LIB(md5, MD5Init, [CRYPTLIB="$CRYPTLIB -lmd5"])
+AC_SUBST(CRYPTLIB)
+
+SSLLIB=""
+
+dnl User may want to disable GnuTLS
+AC_ARG_WITH(gnutls,
+  AS_HELP_STRING([--without-gnutls],
+                 [Do not use GnuTLS for SSL. Default: auto-detect]), [ 
+case "$with_gnutls" in
+  yes|no)
+    : # Nothing special to do here
+    ;;
+  *)
+    if test ! -d "$withval" ; then
+      AC_MSG_ERROR([--with-gnutls path does not point to a directory])
+    fi
+    LIBGNUTLS_PATH="-L$with_gnutls/lib"
+    CPPFLAGS="-I$with_gnutls/include $CPPFLAGS"
+  esac
 ])
-# USE_OPENSSL is AC_DEFINED later
-# default for ssl is set here
-if test "x${enable_ssl:=no}" = "xyes" ; then
-  if test "x$squid_host_os" = "xmingw" ; then
-    SSLLIB='-lssleay32 -leay32 -lgdi32'
-  else
-    SSLLIB='-lssl -lcrypto'
-  fi
-  if test "x$with_openssl" = "x"; then
-    with_openssl=yes
+AH_TEMPLATE(USE_GNUTLS,[GnuTLS support is available])
+if test "x$with_gnutls" != "xno"; then
+  AC_CHECK_HEADERS(gnutls/gnutls.h gnutls/x509.h)
+
+  # User may have provided a custom location for GnuTLS. Otherwise...
+  SQUID_STATE_SAVE(squid_gnutls_state)
+  LIBS="$LIBS $LIBGNUTLS_PATH"
+
+  # auto-detect using pkg-config
+  PKG_CHECK_MODULES([LIBGNUTLS],[gnutls >= 3.1.5],,[
+    ## find the package without pkg-config
+    ## check that the library is actually new enough.
+    ## by testing for a 3.1.5+ function which we use
+    AC_CHECK_LIB(gnutls,gnutls_certificate_verify_peers3,[LIBGNUTLS_LIBS="-lgnutls"])
+  ])
+
+  SQUID_STATE_ROLLBACK(squid_gnutls_state) #de-pollute LIBS
+
+  if test "x$with_gnutls" = "xyes" -a "x$LIBGNUTLS_LIBS" = "x"; then
+    AC_MSG_ERROR([Required GnuTLS library not found])
   fi
-  if test "x$with_openssl" = "x"; then
-    with_openssl=yes
+  if test "x$LIBGNUTLS_LIBS" != "x" ; then
+    CXXFLAGS="$LIBGNUTLS_CFLAGS $CXXFLAGS"
+    SSLLIB="$LIBGNUTLS_PATH $LIBGNUTLS_LIBS $SSLLIB"
+    AC_DEFINE(USE_GNUTLS,1,[GnuTLS support is available])
+  else
+    with_gnutls=no
   fi
 fi
-AM_CONDITIONAL(ENABLE_SSL,[ test "x$enable_ssl" = "xyes" ])
-AC_MSG_NOTICE([SSL gatewaying support enabled: $enable_ssl])
+AC_MSG_NOTICE([GnuTLS library support: ${with_gnutls:=auto} ${LIBGNUTLS_PATH} ${LIBGNUTLS_LIBS}])
 
 dnl User may specify OpenSSL is needed from a non-standard location
 AC_ARG_WITH(openssl,
@@ -1254,191 +1278,887 @@ case "$with_openssl" in
     if test ! -d "$withval" ; then
       AC_MSG_ERROR([--with-openssl path does not point to a directory])
     fi
-    SSLLIBDIR="$with_openssl/lib"
+    LIBOPENSSL_PATH="-L$with_openssl/lib"
     CPPFLAGS="-I$with_openssl/include $CPPFLAGS"
     with_openssl=yes
   esac
 ])
-SQUID_DEFINE_BOOL(USE_SSL,$enable_ssl,
-   [Define this to include code for SSL gatewaying support])
-AC_MSG_NOTICE([Using OpenSSL MD5 implementation: ${with_openssl:=no}])
-SQUID_DEFINE_BOOL(USE_OPENSSL,${with_openssl},
-   [Define this to make use of the OpenSSL libraries for MD5 calculation rather than Squid-supplied MD5 implementation or if building with SSL encryption])
-if test "x$enable_ssl" = "xyes"; then
-  if test "x$SSLLIB" = "x"; then
-    SSLLIB="-lcrypto" # for MD5 routines
-  fi
+AH_TEMPLATE(USE_OPENSSL,[OpenSSL support is available])
+## OpenSSL is default disable due to licensing issues on some OS
+if test "x$with_openssl" = "xyes"; then
+  AC_CHECK_HEADERS( \
+    openssl/err.h \
+    openssl/md5.h \
+    openssl/opensslv.h \
+    openssl/ssl.h \
+    openssl/x509v3.h \
+    openssl/engine.h \
+    openssl/txt_db.h \
+  )
+
+  # User may have provided a custom location for OpenSSL. Otherwise...
+  SQUID_STATE_SAVE(squid_openssl_state)
+  LIBS="$LIBS $LIBOPENSSL_PATH"
+
+  # auto-detect using pkg-config
+  PKG_CHECK_MODULES([LIBOPENSSL],[openssl],,[
+    ## For some OS pkg-config is broken or unavailable.
+    ## Detect libraries the hard way.
+
+    # Windows MinGW has some special libraries ...
+    if test "x$squid_host_os" = "xmingw" ; then
+      LIBOPENSSL_LIBS='-lssleay32 -leay32 -lgdi32 $LIBOPENSSL_LIBS'
+      AC_MSG_NOTICE([Windows OpenSSL library support: yes -lssleay32 -leay32 -lgdi32])
+    fi
+
+    AC_CHECK_LIB(crypto,[CRYPTO_new_ex_data],[LIBOPENSSL_LIBS="-lcrypto $LIBOPENSSL_LIBS"],[
+      AC_MSG_ERROR([library 'crypto' is required for OpenSSL])
+    ])
+    AC_CHECK_LIB(ssl,[SSL_library_init],[LIBOPENSSL_LIBS="-lssl $LIBOPENSSL_LIBS"],[
+      AC_MSG_ERROR([library 'ssl' is required for OpenSSL])
+    ])
+  ])
+
   # This is a workaround for RedHat 9 brain damage..
-  if test -d /usr/kerberos/include -a "x$SSLLIBDIR" = "x" -a -f /usr/include/openssl/kssl.h; then
+  if test -d /usr/kerberos/include -a -f /usr/include/openssl/kssl.h; then
     AC_MSG_NOTICE([OpenSSL depends on Kerberos])
-    SSLLIBDIR="/usr/kerberos/lib"
+    LIBOPENSSL_LIBS="-L/usr/kerberos/lib $LIBOPENSSL_LIBS"
     CPPFLAGS="$CPPFLAGS -I/usr/kerberos/include"
   fi
-fi
-if test "x$SSLLIBDIR" != "x" ; then
-  SSLLIB="-L$SSLLIBDIR $SSLLIB"
-fi
-AC_SUBST(SSLLIB)
+  SQUID_STATE_ROLLBACK(squid_openssl_state) #de-pollute LIBS
 
-if test "x$with_openssl" = "xyes"; then
-SQUID_CHECK_OPENSSL_GETCERTIFICATE_WORKS
-SQUID_CHECK_OPENSSL_CONST_SSL_METHOD
-SQUID_CHECK_OPENSSL_TXTDB
+  if test "x$LIBOPENSSL_LIBS" != "x"; then
+    CXXFLAGS="$LIBOPENSSL_CFLAGS $CXXFLAGS"
+    SSLLIB="$LIBOPENSSL_PATH $LIBOPENSSL_LIBS $SSLLIB"
+    AC_DEFINE(USE_OPENSSL,1,[OpenSSL support is available])
+
+    # check for other specific broken implementations
+    SQUID_CHECK_OPENSSL_GETCERTIFICATE_WORKS
+    SQUID_CHECK_OPENSSL_CONST_SSL_METHOD
+    SQUID_CHECK_OPENSSL_TXTDB
+  fi
+  if test "x$SSLLIB" = "x"; then
+    AC_MSG_ERROR([Required OpenSSL library not found])
+  fi
 fi
+AC_MSG_NOTICE([OpenSSL library support: ${with_openssl:=no} ${LIBOPENSSL_PATH} ${LIBOPENSSL_LIBS}])
+AM_CONDITIONAL(ENABLE_SSL,[ test "x$with_openssl" = "xyes" ])
+AC_SUBST(SSLLIB)
 
-AC_ARG_ENABLE(forw-via-db,
-  AS_HELP_STRING([--enable-forw-via-db],[Enable Forw/Via database]), [
-  SQUID_YESNO([$enableval],[unrecognized argument to --enable-forw-via-db: $enableval])
+dnl User may specify MIT Kerberos is needed from a non-standard location
+AC_ARG_WITH(mit-krb5,
+  AS_HELP_STRING([--without-mit-krb5],
+		 [Compile without MIT Kerberos support.]), [
+case "$with_mit_krb5" in
+  yes|no)
+    : # Nothing special to do here
+    ;;
+  *)
+    if test ! -d "$withval" ; then
+      AC_MSG_ERROR([--with-mit-krb5 path does not point to a directory])
+    fi
+    if test -d "$with_mit_krb5/lib64" ; then
+      LIB_KRB5_PATH="-L$with_mit_krb5/lib64 -L$with_mit_krb5/lib"
+    else
+      LIB_KRB5_PATH="-L$with_mit_krb5/lib"
+    fi
+    CXXFLAGS="-I$with_mit_krb5/include $CXXFLAGS"
+    krb5confpath="$with_mit_krb5/bin"
+    with_mit_krb5=yes
+esac
 ])
-SQUID_DEFINE_BOOL(USE_FORW_VIA_DB,${enable_forw_via_db:=no},
-                      [Enable Forw/Via database])
-AC_MSG_NOTICE([Forw/Via database enabled: $enable_forw_via_db])
+AH_TEMPLATE(USE_MIT_KRB5,[MIT Kerberos support is available])
+AH_TEMPLATE(USE_SOLARIS_KRB5,[Solaris Kerberos support is available])
 
-AC_ARG_ENABLE(cache-digests,
-  AS_HELP_STRING([--enable-cache-digests],
-   [Use Cache Digests. See http://wiki.squid-cache.org/SquidFaq/CacheDigests]),
-[
- SQUID_YESNO($enableval,
-   [unrecognized argument to --enable-cache-digests: $enableval])
+dnl User may specify Heimdal Kerberos is needed from a non-standard location
+AC_ARG_WITH(heimdal-krb5,
+  AS_HELP_STRING([--without-heimdal-krb5],
+		 [Compile without Heimdal Kerberos support.]), [
+case "$with_heimdal_krb5" in
+  yes|no)
+    : # Nothing special to do here
+    ;;
+  *)
+    if test ! -d "$withval" ; then
+      AC_MSG_ERROR([--with-heimdal-krb5 path does not point to a directory])
+    fi
+    if test -d "$with_heimdal_krb5/lib64" ; then
+      LIB_KRB5_PATH="-L$with_heimdal_krb5/lib64 -L$with_heimdal_krb5/lib"
+    else 
+      LIB_KRB5_PATH="-L$with_heimdal_krb5/lib"
+    fi
+    CXXFLAGS="-I$with_heimdal_krb5/include $CXXFLAGS"
+    krb5confpath="$with_heimdal_krb5/bin"
+    with_heimdal_krb5=yes
+esac
 ])
-SQUID_DEFINE_BOOL(USE_CACHE_DIGESTS,${enable_cache_digests:=no},
-  [Use Cache Digests for locating objects in neighbor caches.])
-AC_MSG_NOTICE([Cache Digests enabled: $enable_cache_digests])
+AH_TEMPLATE(USE_HEIMDAL_KRB5,[Heimdal Kerberos support is available])
 
 
-dnl Size of COSS memory buffer
-squid_opt_coss_membuf_size=1048576
-AC_ARG_WITH(coss-membuf-size,
-  AS_HELP_STRING([--with-coss-membuf-size=size],
-             [COSS membuf size (default $squid_opt_coss_membuf_size bytes)]), [
-case $withval in
-  [[0-9]]*) squid_opt_coss_membuf_size=$withval ;;
-  *) AC_MSG_ERROR([--with-coss-membuf-size expects a numeric argument]) ;;
+
+dnl User may specify GNU gss is needed from a non-standard location
+AC_ARG_WITH(gnugss,
+  AS_HELP_STRING([--without-gnugss],
+		 [Compile without the GNU gss libraries.]), [
+case "$with_gnugss" in
+  yes|no)
+    : # Nothing special to do here
+    ;;
+  *)
+    if test ! -d "$withval" ; then
+      AC_MSG_ERROR([--with-gnugss path does not point to a directory])
+    fi
+    if test ! -d "$with_gnugss/lib64" ; then
+      LIB_KRB5_PATH="-L$with_gnugss/lib64 -L$with_gnugss/lib"
+    else
+      LIB_KRB5_PATH="-L$with_gnugss/lib"
+    fi
+    CXXFLAGS="-I$with_gnugss/include $CXXFLAGS"
+    krb5confpath=
+    with_gnugss=yes
 esac
 ])
-AC_MSG_NOTICE([Setting COSS membuf size to $squid_opt_coss_membuf_size bytes])
-AC_DEFINE_UNQUOTED(COSS_MEMBUF_SZ, $squid_opt_coss_membuf_size,
-   [Default COSS membuf size])
+AH_TEMPLATE(USE_GNUGSS,[GNU gss support is available])
 
-################################
-# check for netio plugin stuff #
-################################
-dnl order of these options handling is relevant in case the user
-dnl supplies more than one --enable option. Options handled later
-dnl override those handled earlier for io loop method manual override
-AC_ARG_ENABLE(select,
-  AS_HELP_STRING([--disable-select],[Disable select(2) support.]),
-[
-SQUID_YESNO($enableval,[--disable-select takes no extra argument])
-if test "x$enableval" = "xyes"; then
-  if test "x$squid_host_os" = "xmingw"; then
-    squid_opt_io_loop_engine="select_win32"
-  else
-    squid_opt_io_loop_engine="select"
+# determine krb5 conflicts
+ac_with_krb5_count=0
+if test "x$with_mit_krb5" = "xyes"; then
+ ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+fi
+if test "x$with_heimdal_krb5" = "xyes"; then
+ ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+fi
+if test "x$with_gnugss" = "xyes"; then
+ ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+fi
+
+if test $ac_with_krb5_count -gt 1 ; then
+  AC_MSG_ERROR([Please choose only one Kerberos library.])
+elif test $ac_with_krb5_count -eq 0 ; then
+  # find installed libs via pkg-config or krb5-config
+  PKG_CHECK_EXISTS(gssapi-krb5 krb5, [with_mit_krb5=yes])
+  PKG_CHECK_EXISTS(heimdal-gssapi, [with_heimdal_krb5=yes])
+  PKG_CHECK_EXISTS(gss, [with_gnugss=yes])
+  if test "x$with_mit_krb5" = "xyes"; then
+    ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+  fi
+  if test "x$with_heimdal_krb5" = "xyes"; then
+    ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+  fi
+  if test "x$with_gnugss" = "xyes"; then
+    ac_with_krb5_count=`expr $ac_with_krb5_count + 1`
+  fi
+  if test $ac_with_krb5_count -gt 1 ; then
+    AC_MSG_ERROR([pkg-config found multiple Kerberos library. Please select one with --with-<kerberos package>])
+  elif test $ac_with_krb5_count -eq 0 -a "$cross_compiling" = "no"; then
+    # Look for krb5-config (unless cross-compiling)
+    AC_PATH_PROG(krb5_config,krb5-config,no)
+    if test "x$ac_cv_path_krb5_config" != "xno" ; then
+      krb5confpath="`dirname $ac_cv_path_krb5_config`"
+      ac_heimdal="`$ac_cv_path_krb5_config --version 2>/dev/null | grep -c -i heimdal`"
+      ac_solaris="`$ac_cv_path_krb5_config --version 2>/dev/null | grep -c -i solaris`"
+      if test $ac_heimdal -gt 0 ; then
+	with_heimdal_krb5=yes
+        ac_with_krb5_count=1
+      fi
+      if test $ac_solaris -gt 0 ; then
+	with_solaris_krb5=yes
+        ac_with_krb5_count=1
+      fi
+      if test $ac_heimdal -eq 0 && test $ac_solaris -eq 0 ; then
+	with_mit_krb5=yes
+        ac_with_krb5_count=1
+      fi
+    else
+      AC_MSG_WARN([Could not find krb5-config in path])
+    fi
   fi
 fi
-])
-AC_MSG_NOTICE([enabling select syscall for net I/O: ${enable_select:=auto}])
 
-AC_ARG_ENABLE(poll,
-  AS_HELP_STRING([--disable-poll],[Disable poll(2) support.]),
-[
-SQUID_YESNO($enableval,[--disable-poll takes no extra argument])
-test "x$enableval" = "xyes" && squid_opt_io_loop_engine="poll"
-])
-AC_MSG_NOTICE([enabling poll syscall for net I/O: ${enable_poll:=auto}])
+if test "x$with_mit_krb5" = "xyes"; then
+  SQUID_STATE_SAVE([squid_krb5_save])
+  LIBS="$LIBS $LIB_KRB5_PATH"
 
-AC_ARG_ENABLE(kqueue,
-  AS_HELP_STRING([--disable-kqueue],
-                 [Disable kqueue(2) support.]), [
-SQUID_YESNO($enableval,[--enable-kqueue takes no extra argument])
-])
-if test "x${enable_kqueue:=auto}" != "xno" ; then
-  AC_CHECK_HEADERS([sys/event.h],[],[
-    if test "x${enable_kqueue}" = "xyes" ; then
-      AC_MSG_ERROR([kqueue support requires sys/event.h header file.])
+  # auto-detect using pkg-config
+  PKG_CHECK_MODULES([LIB_KRB5],[gssapi-krb5 krb5],,[
+    # look for krb5-config (unless cross-compiling)
+    if test "$cross_compiling" = "no"; then
+      if test "x$krb5confpath" = "x" ; then
+        AC_PATH_PROG(krb5_config,krb5-config,no)
+        if test "x$ac_cv_path_krb5_config" != "xno" ; then
+          ac_krb5_config="$ac_cv_path_krb5_config"
+        fi
+      else
+        ac_krb5_config="$krb5confpath/krb5-config"
+      fi
     fi
-  ])
-  AC_CHECK_FUNCS(kqueue,[],[
-    if test "x${enable_kqueue}" = "xyes" ; then
-      AC_MSG_ERROR([kqueue support missing in libc library.])
+    if test "x$ac_krb5_config" != "x" && test -x "$ac_krb5_config"; then
+      # Get libs, etc
+      AC_MSG_NOTICE([Use krb5-config to get CXXFLAGS and LIBS])
+      LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags krb5 2>/dev/null`"
+      LIB_KRB5_LIBS="`$ac_krb5_config --libs krb5 2>/dev/null`"
+      LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags gssapi 2>/dev/null` $LIB_KRB5_CFLAGS"
+      LIB_KRB5_LIBS="`$ac_krb5_config --libs gssapi 2>/dev/null` $LIB_KRB5_LIBS"
+    else
+      ## For some OS pkg-config is broken or unavailable.
+      ## Detect libraries the hard way.
+
+      AC_MSG_NOTICE([Try to find Kerberos libraries in given path])
+      AC_CHECK_LIB(com_err, [main], [LIB_KRB5_LIBS="-lcom_err $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'com_err' is required for MIT Kerberos])
+      ])
+      AC_CHECK_LIB(k5crypto, [main], [LIB_KRB5_LIBS="-lk5crypto $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'k5crypto' is required for MIT Kerberos])
+      ])
+      AC_CHECK_LIB(krb5, [main], [LIB_KRB5_LIBS="-lkrb5 $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'krb5' is required for MIT Kerberos])
+      ])
+      AC_CHECK_LIB(gssapi_krb5, [main], [LIB_KRB5_LIBS="-lgssapi_krb5 $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'gssapi_krb5' is required for MIT Kerberos])
+      ])
     fi
+
   ])
-  if test "x$ac_cv_func_kqueue" = "xyes" -a "x$ac_cv_header_sys_event_h" = "xyes" ; then
-    squid_opt_io_loop_engine="kqueue"
-  else
-    enable_kqueue="no"
-  fi
-fi
-AC_MSG_NOTICE([enabling kqueue for net I/O: ${enable_kqueue:=auto}])
 
-dnl Enable epoll()
-AC_ARG_ENABLE(epoll,
-  AS_HELP_STRING([--disable-epoll],[Disable Linux epoll(2) support.]),
-[
-SQUID_YESNO($enableval,[--disable-epoll takes no extra argument])
-test "x$enableval" = "xyes" && squid_opt_io_loop_engine="epoll"
-])
-AC_MSG_NOTICE([enabling epoll syscall for net I/O: ${enable_epoll:=auto}])
+  if test "x$LIB_KRB5_LIBS" != "x"; then
+    KRB5LIBS="$LIB_KRB5_PATH $LIB_KRB5_LIBS $KRB5LIBS"
+    KRB5INCS="$LIB_KRB5_CFLAGS"
+    AC_DEFINE(USE_MIT_KRB5,1,[MIT Kerberos support is available])
+    KRB5_FLAVOUR="MIT" 
+    
+    # check for other specific broken implementations
+    CXXFLAGS="$CXXFLAGS $KRB5INCS"
+    LIBS="$LIBS $KRB5LIBS"
+
+    AC_MSG_NOTICE([Try to find Kerberos headers in given path])
+    AC_CHECK_HEADERS(gssapi.h gssapi/gssapi.h gssapi/gssapi_krb5.h)
+    AC_CHECK_HEADERS(gssapi/gssapi_generic.h)
+    AC_CHECK_HEADERS(krb5.h com_err.h et/com_err.h)
+    AC_CHECK_HEADERS(profile.h)
 
-# auto-detect and verify epoll header and library present and working
-# logic mapping and loop method selection are performed later
-if test "x$enable_epoll" != "xno" ; then
+    if test `echo $KRB5LIBS | grep -c com_err` -ne 0 -a "x$ac_com_error_message" = "xyes" ; then
+      AC_CHECK_LIB(com_err,error_message,
+        AC_DEFINE(HAVE_ERROR_MESSAGE,1,
+          [Define to 1 if you have error_message]),)
+    elif test  "x$ac_com_error_message" = "xyes" ; then
+      AC_CHECK_LIB(krb5,error_message,
+        AC_DEFINE(HAVE_ERROR_MESSAGE,1,
+          [Define to 1 if you have error_message]),)
+    fi
+
+    SQUID_CHECK_KRB5_FUNCS
 
-  # check if libs are needed to support epoll
-  # note: this code block seems quite generic. Could it be extracted
-  #   into a squid specific configure function?
-  SQUID_STATE_SAVE(squid_epoll_state)
-  AC_SEARCH_LIBS(epoll_ctl,[epoll])
-  if test "x$ac_cv_search_epoll_ctl" = "xno" ; then
-    enable_epoll=no #disable. Needed code not found
-  elif test "x$ac_cv_search_epoll_ctl" = "xnone required" ; then
-    EPOLL_LIBS=""
-  else
-    EPOLL_LIBS=$ac_cv_search_epoll_ctl
   fi
-  AC_SUBST(EPOLL_LIBS)
-  SQUID_STATE_ROLLBACK(squid_epoll_state) #de-pollute LIBS
+  if test "x$KRB5LIBS" = "x"; then
+    AC_MSG_ERROR([Required Kerberos library not found])
+    ac_with_krb5_count=0
+  fi
 
-  # epoll requires sys/epoll.h
-  AC_CHECK_HEADERS([sys/epoll.h])
+  SQUID_STATE_ROLLBACK([squid_krb5_save])
+fi
 
-  dnl Verify that epoll really works
-  if test "x$ac_cv_search_epoll_ctl" != 'xno' ; then
-    SQUID_CHECK_EPOLL
-  fi
+if test "x$with_solaris_krb5" = "xyes"; then
+  SQUID_STATE_SAVE([squid_krb5_save])
+  LIBS="$LIBS $LIB_KRB5_PATH"
 
-  if test "x$enable_epoll" = "xyes" -a "x$squid_cv_epoll_works" = "xno" ; then
-    AC_MSG_ERROR([Epoll does not work. Force-enabling it is not going to help.])
+  # no pkg-config for solaris native Kerberos
+  # look for krb5-config (unless cross-compiling)
+  if test "$cross_compiling" = "no"; then
+    if test "x$krb5confpath" = "x" ; then
+      AC_PATH_PROG(krb5_config,krb5-config,no)
+      if test "x$ac_cv_path_krb5_config" != "xno" ; then
+        ac_krb5_config="$ac_cv_path_krb5_config"
+      fi
+    else
+      ac_krb5_config="$krb5confpath/krb5-config"
+    fi
   fi
-fi
+  if test "x$ac_krb5_config" != "x" && test -x "$ac_krb5_config"; then
+    # Get libs, etc
+    AC_MSG_NOTICE([Use krb5-config to get CXXFLAGS and LIBS])
+    LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags krb5 2>/dev/null`"
+    LIB_KRB5_LIBS="`$ac_krb5_config --libs krb5 2>/dev/null`"
+    LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags gssapi 2>/dev/null` $LIB_KRB5_CFLAGS"
+    LIB_KRB5_LIBS="`$ac_krb5_config --libs gssapi 2>/dev/null` $LIB_KRB5_LIBS"
+  else
+    ## For some OS pkg-config is broken or unavailable.
+    ## Detect libraries the hard way.
 
-dnl Enable /dev/poll
-AC_ARG_ENABLE(devpoll,
-  AS_HELP_STRING([--disable-devpoll],[Disable Solaris /dev/poll support.]),
-[
-SQUID_YESNO($enableval,[--disable-devpoll takes no extra argument])
-test "x$enableval" = "xyes" && squid_opt_io_loop_engine="devpoll"
-])
-AC_MSG_NOTICE([enabling /dev/poll for net I/O: ${enable_devpoll:=auto}])
+    CXXFLAGS="-I/usr/include/kerberosv5 $CXXFLAGS"
 
-## auto-detect and verify devpoll header and library present and working
-if test "x$enable_devpoll" != "xno"; then
+    AC_MSG_NOTICE([Try to find Kerberos libraries in given path])
+    AC_CHECK_LIB(krb5, [main], [LIB_KRB5_LIBS="-lkrb5 $LIB_KRB5_LIBS"],[
+      AC_MSG_ERROR([library 'krb5' is required for Solaris Kerberos])
+    ])
+    AC_CHECK_LIB(gss, [main], [LIB_KRB5_LIBS="-lgss $LIB_KRB5_LIBS"],[
+      AC_MSG_ERROR([library 'gss' is required for Solaris Kerberos])
+    ])
+  fi
 
-  # /dev/poll requires ioctl() and write()
-  AC_CHECK_FUNCS(ioctl)
-  AC_CHECK_FUNCS(write)
+  if test "x$LIB_KRB5_LIBS" != "x"; then
+    KRB5LIBS="$LIB_KRB5_PATH $LIB_KRB5_LIBS $KRB5LIBS"
+    KRB5INCS="$LIB_KRB5_CFLAGS"
+    AC_DEFINE(USE_SOLARIS_KRB5,1,[Solaris Kerberos support is available])
+    KRB5_FLAVOUR="Solaris" 
+    
+    # check for other specific broken implementations
+    CXXFLAGS="$CXXFLAGS $KRB5INCS"
+    LIBS="$LIBS $KRB5LIBS"
+
+    AC_MSG_NOTICE([Try to find Kerberos headers in given path])
+    AC_CHECK_HEADERS(gssapi/gssapi.h gssapi/gssapi_ext.h)
+    AC_CHECK_HEADERS(krb5.h com_err.h)
+
+    SQUID_CHECK_KRB5_SOLARIS_BROKEN_KRB5_H
+    if test "x$squid_cv_broken_krb5_h" = "xyes"; then
+      AC_DEFINE(HAVE_BROKEN_SOLARIS_KRB5_H, 1, [Define to 1 if Solaris krb5.h is broken for C++])
+      AC_MSG_WARN([You have a broken Solaris <krb5.h> system include.])
+      AC_MSG_WARN([Please see http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6837512])
+      AC_MSG_WARN([If you need Kerberos support you will have to patch])
+      AC_MSG_WARN([your system. See contrib/solaris/solaris-krb5-include.patch])
+    fi
 
-  # /dev/poll requires sys/devpoll.h
-  AC_CHECK_HEADERS([sys/devpoll.h],,[
-        if test "x$enable_devpoll" = "xyes"; then
-            AC_MSG_ERROR([--enable-devpoll specified but /dev/poll headers not found])
-        fi
-        enable_devpoll=no])
+    SQUID_CHECK_KRB5_FUNCS
 
-  # Verify that /dev/poll really works
-  if test "x$enable_devpoll" != 'xno' ; then
-    SQUID_CHECK_DEVPOLL
+  fi
+  if test "x$KRB5LIBS" = "x"; then
+    AC_MSG_ERROR([Required Kerberos library not found])
+    ac_with_krb5_count=0
+  fi
+
+  SQUID_STATE_ROLLBACK([squid_krb5_save])
+fi
+
+if test "x$with_heimdal_krb5" = "xyes"; then
+  SQUID_STATE_SAVE([squid_krb5_save])
+  LIBS="$LIBS $LIB_KRB5_PATH"
+
+  # auto-detect using pkg-config
+  PKG_CHECK_MODULES([LIB_KRB5],[heimdal-gssapi],,[
+    # look for krb5-config (unless cross-compiling)
+    if test "$cross_compiling" = "no"; then
+      if test "x$krb5confpath" = "x" ; then
+        AC_PATH_PROG(krb5_config,krb5-config,no)
+        if test "x$ac_cv_path_krb5_config" != "xno" ; then
+          ac_krb5_config="$ac_cv_path_krb5_config"
+        fi
+      else
+        ac_krb5_config="$krb5confpath/krb5-config"
+      fi
+    fi
+    if test "x$ac_krb5_config" != "x" && test -x "$ac_krb5_config"; then
+      # Get libs, etc
+      AC_MSG_NOTICE([Use krb5-config to get CXXFLAGS and LIBS])
+      LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags krb5 2>/dev/null`"
+      LIB_KRB5_LIBS="`$ac_krb5_config --libs krb5 2>/dev/null`"
+      LIB_KRB5_CFLAGS="`$ac_krb5_config --cflags gssapi 2>/dev/null` $LIB_KRB5_CFLAGS"
+      LIB_KRB5_LIBS="`$ac_krb5_config --libs gssapi 2>/dev/null` $LIB_KRB5_LIBS"
+    else
+      ## For some OS pkg-config is broken or unavailable.
+      ## Detect libraries the hard way.
+
+      AC_MSG_NOTICE([Try to find Kerberos libraries in given path])
+      AC_CHECK_LIB(resolv, [main], [LIB_KRB5_LIBS="-lresolv $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'resolv' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(crypt, [main], [LIB_KRB5_LIBS="-lcrypt $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'crypt' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(roken, [main], [LIB_KRB5_LIBS="-lroken $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'roken' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(heimbase, [main], [LIB_KRB5_LIBS="-lheimbase $LIB_KRB5_LIBS"],[
+        AC_MSG_WARN([library 'heimbase' may be required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(wind, [main], [LIB_KRB5_LIBS="-lwind $LIB_KRB5_LIBS"],[
+        AC_MSG_WARN([library 'wind' may be required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(crypto, [main], [LIB_KRB5_LIBS="-lcrypto $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'crypto' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(com_err, [main], [LIB_KRB5_LIBS="-lcom_err $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'com_err' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(hx509, [main], [LIB_KRB5_LIBS="-lhx509 $LIB_KRB5_LIBS"],[
+        AC_MSG_WARN([library 'hx509' may be required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(asn1, [main], [LIB_KRB5_LIBS="-lasn1 $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'asn1' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(krb5, [main], [LIB_KRB5_LIBS="-lkrb5 $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'krb5' is required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(heimntlm, [main], [LIB_KRB5_LIBS="-lheimntlm $LIB_KRB5_LIBS"],[
+        AC_MSG_WARN([library 'heimntlm' may be required for Heimdal Kerberos])
+      ])
+      AC_CHECK_LIB(gssapi, [main], [LIB_KRB5_LIBS="-lgssapi $LIB_KRB5_LIBS"],[
+        AC_MSG_ERROR([library 'gssapi' is required for Heimdal Kerberos])
+      ])
+    fi
+
+  ])
+  if test "x$LIB_KRB5_LIBS" != "x"; then
+    KRB5LIBS="$LIB_KRB5_PATH $LIB_KRB5_LIBS $KRB5LIBS"
+    KRB5INCS="$LIB_KRB5_CFLAGS"
+    AC_DEFINE(USE_HEIMDAL_KRB5,1,[Heimdal Kerberos support is available])
+    KRB5_FLAVOUR="Heimdal" 
+    
+    # check for other specific broken implementations
+    CXXFLAGS="$CXXFLAGS $KRB5INCS"
+    LIBS="$LIBS $KRB5LIBS"
+
+    AC_MSG_NOTICE([Try to find Kerberos headers in given path])
+    AC_CHECK_HEADERS(gssapi.h gssapi/gssapi.h gssapi/gssapi_krb5.h)
+    AC_CHECK_HEADERS(krb5.h com_err.h et/com_err.h)
+
+    SQUID_CHECK_KRB5_HEIMDAL_BROKEN_KRB5_H
+    if test "x$squid_cv_broken_heimdal_krb5_h" = "xyes"; then
+      AC_DEFINE(HAVE_BROKEN_HEIMDAL_KRB5_H, 1, [Define to 1 if Heimdal krb5.h is broken for C++])
+    fi
+
+    if test `echo $KRB5LIBS | grep -c com_err` -ne 0 -a "x$ac_com_error_message" = "xyes" ; then
+      AC_CHECK_LIB(com_err,error_message,
+        AC_DEFINE(HAVE_ERROR_MESSAGE,1,
+          [Define to 1 if you have error_message]),)
+    elif test  "x$ac_com_error_message" = "xyes" ; then
+      AC_CHECK_LIB(krb5,error_message,
+        AC_DEFINE(HAVE_ERROR_MESSAGE,1,
+          [Define to 1 if you have error_message]),)
+    fi
+
+    SQUID_CHECK_KRB5_FUNCS
+
+  fi
+  if test "x$KRB5LIBS" = "x"; then
+    AC_MSG_ERROR([Required Kerberos library not found])
+    ac_with_krb5_count=0
+  fi
+
+  SQUID_STATE_ROLLBACK([squid_krb5_save])
+fi
+
+if test "x$with_gnugss" = "xyes"; then
+  SQUID_STATE_SAVE([squid_krb5_save])
+  LIBS="$LIBS $LIB_KRB5_PATH"
+
+  # auto-detect using pkg-config
+  PKG_CHECK_MODULES([LIB_KRB5],[gss],,[
+    ## For some OS pkg-config is broken or unavailable.
+    ## Detect libraries the hard way.
+
+    AC_MSG_NOTICE([Try to find Kerberos libraries in given path])
+    AC_CHECK_LIB(gss, [main], [LIB_KRB5_LIBS="-lgss $LIB_KRB5_LIBS"],[
+      AC_MSG_ERROR([library 'com_err' is required for GNU Kerberos])
+    ])
+
+  ])
+
+  if test "x$LIB_KRB5_LIBS" != "x"; then
+    KRB5LIBS="$LIB_KRB5_PATH $LIB_KRB5_LIBS $KRB5LIBS"
+    KRB5INCS="$LIB_KRB5_CFLAGS"
+    AC_DEFINE(USE_GNUGSS,1,[GNU Kerberos support is available])
+    KRB5_FLAVOUR="GNU GSS" 
+
+    # check for other specific broken implementations
+    CXXFLAGS="$CXXFLAGS $KRB5INCS"
+    LIBS="$LIBS $KRB5LIBS"
+
+    AC_MSG_NOTICE([Try to find Kerbeors headers in given path])
+    AC_CHECK_HEADERS(gss.h)
+
+    SQUID_CHECK_WORKING_GSSAPI
+    SQUID_DEFINE_BOOL(HAVE_GSSAPI,$squid_cv_working_gssapi,[GSSAPI support])
+
+    SQUID_CHECK_SPNEGO_SUPPORT
+    SQUID_DEFINE_BOOL(HAVE_SPNEGO,$squid_cv_have_spnego,[SPNEGO support])
+
+    SQUID_CHECK_WORKING_KRB5
+    SQUID_DEFINE_BOOL(HAVE_KRB5,$squid_cv_working_krb5,[KRB5 support])
+
+  fi
+  if test "x$KRB5LIBS" = "x"; then
+    AC_MSG_ERROR([Required Kerberos library not found])
+    ac_with_krb5_count=0
+  fi
+
+  SQUID_STATE_ROLLBACK([squid_krb5_save])
+fi
+if test $ac_with_krb5_count -gt 0 ; then
+  with_krb5=yes
+fi
+AC_MSG_NOTICE([$KRB5_FLAVOUR Kerberos library support: ${with_krb5:=no} ${LIB_KRB5_PATH} ${LIB_KRB5_LIBS}])
+AC_SUBST(KRB5INCS)
+AC_SUBST(KRB5LIBS)
+AM_CONDITIONAL(HAVE_SPNEGO, test x"$squid_cv_have_spnego" = x"yes" )
+
+dnl On MinGW OpenLDAP is not available, so LDAP helpers can be linked 
+dnl only with Windows LDAP libraries using -lwldap32
+case "$squid_host_os" in
+	mingw)
+		LDAPLIB="-lwldap32"
+		LBERLIB=""
+		;;
+	*)
+		AC_CHECK_LIB(ldap, ldap_init, [LDAPLIB="-lldap"])
+		dnl LDAP helpers need to know if -llber is needed or not
+		AC_CHECK_LIB(lber, ber_init, [LBERLIB="-llber"])
+		dnl if no ldap lib found check for mozilla version
+		if test "x$ac_cv_lib_ldap_ldap_init" != x""yes; then
+		        oLIBS=$LIBS
+		        LIBS="$LIBPTHREADS"
+			AC_CHECK_LIB(ldap60, ldap_init, [LDAPLIB="-lldap60"])
+		        LIBS="$LDAPLIB $LIBPTHREADS"
+			AC_CHECK_LIB(prldap60, prldap_init, [LDAPLIB="-lprldap60 $LDAPLIB"])
+		        LIBS="$LDAPLIB $LIBPTHREADS"
+			AC_CHECK_LIB(ssldap60, ldapssl_init, [LDAPLIB="-lssldap60 $LDAPLIB"])
+		        LIBS=$oLIBS
+		fi
+
+		AC_CHECK_HEADERS(ldap.h lber.h)
+		AC_CHECK_HEADERS(mozldap/ldap.h)
+
+		dnl
+		dnl Check for LDAP_OPT_DEBUG_LEVEL
+		dnl
+		AC_MSG_CHECKING([for LDAP_OPT_DEBUG_LEVEL])
+		AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+#                   include <ldap.h>
+		]],[[
+                    int i=LDAP_OPT_DEBUG_LEVEL
+		]])],
+		[ AC_MSG_RESULT(yes) ],
+		[ AC_MSG_RESULT(no) ])
+
+		dnl
+		dnl Check for working ldap
+		dnl
+		oLIBS=$LIBS
+		LIBS="$LDAPLIB $LBERLIB $LIBPTHREADS"
+		AC_MSG_CHECKING([for working ldap])
+		AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#                   define  LDAP_DEPRECATED 1
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+                    int
+                    main(void)
+                    {
+                        char host[]="";
+                        int port;
+
+                        ldap_init((const char *)&host, port);
+
+                        return 0;
+                    }
+		]])], 
+		[ AC_DEFINE(HAVE_LDAP, 1, [LDAP support]) 
+		  AC_MSG_RESULT(yes) ],
+		[ AC_MSG_RESULT(no) ],
+		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+		LIBS=$oLIBS
+
+		dnl
+		dnl Check for ldap vendor
+		dnl
+		AC_MSG_CHECKING([for OpenLDAP])
+		AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   endif
+#                   include <string.h>
+                    int
+                    main(void)
+                    {
+                        return strcmp(LDAP_VENDOR_NAME,"OpenLDAP");
+                    }
+		]])], 
+		[ AC_DEFINE(HAVE_OPENLDAP, 1, [OpenLDAP support]) 
+		  AC_MSG_RESULT(yes) ],
+		[ AC_MSG_RESULT(no) ],
+		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+
+		AC_MSG_CHECKING([for Sun LDAP SDK])
+		AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   endif
+#                   include <string.h>
+                    int
+                    main(void)
+                    {
+                        return strcmp(LDAP_VENDOR_NAME,"Sun Microsystems Inc.");
+                    }
+		]])], 
+		[ AC_DEFINE(HAVE_SUN_LDAP_SDK, 1, [Sun LDAP SDK support])
+		  AC_MSG_RESULT(yes) ],
+		[ AC_MSG_RESULT(no) ],
+		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+
+		AC_MSG_CHECKING([for Mozilla LDAP SDK])
+		AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+#                   include <string.h>
+                    int
+                    main(void)
+                    {
+                        return strcmp(LDAP_VENDOR_NAME,"mozilla.org");
+                    }
+		]])], 
+		[ AC_DEFINE(HAVE_MOZILLA_LDAP_SDK, 1, [Mozilla LDAP SDK support])
+		  AC_MSG_RESULT(yes) ],
+		[ AC_MSG_RESULT(no)],
+		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+
+		dnl
+		dnl Check for LDAP_REBINDPROC_CALLBACK
+		dnl
+                AC_MSG_CHECKING([for LDAP_REBINDPROC_CALLBACK])
+                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+                ]],[[
+                    LDAP_REBINDPROC_CALLBACK ldap_rebind;
+                ]])],
+                [ AC_DEFINE(HAVE_LDAP_REBINDPROC_CALLBACK,1,[Define to 1 if you have LDAP_REBINDPROC_CALLBACK])
+                  AC_MSG_RESULT(yes) ],
+                [ AC_MSG_RESULT(no) ])
+
+		dnl
+		dnl Check for LDAP_REBIND_PROC
+		dnl
+                AC_MSG_CHECKING([for LDAP_REBIND_PROC])
+                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+                ]],[[
+                    LDAP_REBIND_PROC ldap_rebind;
+                ]])],
+                [ AC_DEFINE(HAVE_LDAP_REBIND_PROC,1,[Define to 1 if you have LDAP_REBIND_PROC])
+                  AC_MSG_RESULT(yes) ],
+                [ AC_MSG_RESULT(no) ])
+
+		dnl
+		dnl Check for LDAP_REBIND_FUNCTION
+		dnl
+                AC_MSG_CHECKING([for LDAP_REBIND_FUNCTION])
+                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+#                   define LDAP_REFERRALS
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+                ]],[[
+                    LDAP_REBIND_FUNCTION ldap_rebind;
+                ]])],
+                [ AC_DEFINE(HAVE_LDAP_REBIND_FUNCTION,1,[Define to 1 if you have LDAP_REBIND_FUNCTION])
+                  AC_MSG_RESULT(yes) ],
+                [ AC_MSG_RESULT(no) ])
+
+		dnl
+		dnl Check for LDAP_SCOPE_DEFAULT
+		dnl
+                AC_MSG_CHECKING([for LDAP_SCOPE_DEFAULT])
+                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+#                   if HAVE_LDAP_H
+#                   include <ldap.h>
+#                   elif HAVE_MOZLDAP_LDAP_H
+#                   include <mozldap/ldap.h>
+#                   endif
+                ]],[[
+                    int i=LDAP_SCOPE_DEFAULT;
+                ]])],
+                [ AC_DEFINE(HAVE_LDAP_SCOPE_DEFAULT,1,[Define to 1 if you have LDAP_SCOPE_DEFAULT])
+                  AC_MSG_RESULT(yes) ],
+                [ AC_MSG_RESULT(no) ])
+
+		dnl
+		dnl Check for ldap_url_desc.lud_scheme
+		dnl
+		AC_CHECK_MEMBER(struct ldap_url_desc.lud_scheme,
+		  AC_DEFINE(HAVE_LDAP_URL_LUD_SCHEME,1,
+		    [Define to 1 if you have LDAPURLDesc.lud_scheme]),,[#include <ldap.h>])
+
+		dnl
+		dnl Check for ldapssl_client_init
+		dnl
+		AC_CHECK_LIB(ldap,ldapssl_client_init,
+		  AC_DEFINE(HAVE_LDAPSSL_CLIENT_INIT,1,[Define to 1 if you have ldapssl_client_init]),)
+
+		dnl
+		dnl Check for ldap_url_desc2str
+		dnl
+		AC_CHECK_LIB(ldap,ldap_url_desc2str,
+		  AC_DEFINE(HAVE_LDAP_URL_DESC2STR,1,[Define to 1 if you have ldap_url_desc2str]),)
+
+		dnl
+		dnl Check for ldap_url_parse
+		dnl
+		AC_CHECK_LIB(ldap,ldap_url_parse,
+		  AC_DEFINE(HAVE_LDAP_URL_PARSE,1,[Define to 1 if you have ldap_url_parse]),)
+
+		dnl
+		dnl Check for ldap_start_tls_s
+		dnl
+		AC_CHECK_LIB(ldap,ldap_start_tls_s,
+		  AC_DEFINE(HAVE_LDAP_START_TLS_S,1,[Define to 1 if you have ldap_start_tls_s]),)
+		;;
+esac
+
+AC_SUBST(LDAPLIB)
+AC_SUBST(LBERLIB)
+
+AC_ARG_ENABLE(forw-via-db,
+  AS_HELP_STRING([--enable-forw-via-db],[Enable Forw/Via database]), [
+  SQUID_YESNO([$enableval],[unrecognized argument to --enable-forw-via-db: $enableval])
+])
+SQUID_DEFINE_BOOL(USE_FORW_VIA_DB,${enable_forw_via_db:=no},
+                      [Enable Forw/Via database])
+AC_MSG_NOTICE([Forw/Via database enabled: $enable_forw_via_db])
+
+AC_ARG_ENABLE(cache-digests,
+  AS_HELP_STRING([--enable-cache-digests],
+   [Use Cache Digests. See http://wiki.squid-cache.org/SquidFaq/CacheDigests]),
+[
+ SQUID_YESNO($enableval,
+   [unrecognized argument to --enable-cache-digests: $enableval])
+])
+SQUID_DEFINE_BOOL(USE_CACHE_DIGESTS,${enable_cache_digests:=no},
+  [Use Cache Digests for locating objects in neighbor caches.])
+AC_MSG_NOTICE([Cache Digests enabled: $enable_cache_digests])
+
+
+################################
+# check for netio plugin stuff #
+################################
+dnl order of these options handling is relevant in case the user
+dnl supplies more than one --enable option. Options handled later
+dnl override those handled earlier for io loop method manual override
+AC_ARG_ENABLE(select,
+  AS_HELP_STRING([--disable-select],[Disable select(2) support.]),
+[
+SQUID_YESNO($enableval,[--disable-select takes no extra argument])
+if test "x$enableval" = "xyes"; then
+  if test "x$squid_host_os" = "xmingw"; then
+    squid_opt_io_loop_engine="select_win32"
+  else
+    squid_opt_io_loop_engine="select"
+  fi
+fi
+])
+AC_MSG_NOTICE([enabling select syscall for net I/O: ${enable_select:=auto}])
+
+AC_ARG_ENABLE(poll,
+  AS_HELP_STRING([--disable-poll],[Disable poll(2) support.]),
+[
+SQUID_YESNO($enableval,[--disable-poll takes no extra argument])
+test "x$enableval" = "xyes" && squid_opt_io_loop_engine="poll"
+])
+AC_MSG_NOTICE([enabling poll syscall for net I/O: ${enable_poll:=auto}])
+
+AC_ARG_ENABLE(kqueue,
+  AS_HELP_STRING([--disable-kqueue],
+                 [Disable kqueue(2) support.]), [
+SQUID_YESNO($enableval,[--enable-kqueue takes no extra argument])
+])
+if test "x${enable_kqueue:=auto}" != "xno" ; then
+  AC_CHECK_HEADERS([sys/event.h],[],[
+    if test "x${enable_kqueue}" = "xyes" ; then
+      AC_MSG_ERROR([kqueue support requires sys/event.h header file.])
+    fi
+  ])
+  AC_CHECK_FUNCS(kqueue,[],[
+    if test "x${enable_kqueue}" = "xyes" ; then
+      AC_MSG_ERROR([kqueue support missing in libc library.])
+    fi
+  ])
+  if test "x$ac_cv_func_kqueue" = "xyes" -a "x$ac_cv_header_sys_event_h" = "xyes" ; then
+    squid_opt_io_loop_engine="kqueue"
+  else
+    enable_kqueue="no"
+  fi
+fi
+AC_MSG_NOTICE([enabling kqueue for net I/O: ${enable_kqueue:=auto}])
+
+dnl Enable epoll()
+AC_ARG_ENABLE(epoll,
+  AS_HELP_STRING([--disable-epoll],[Disable Linux epoll(2) support.]),
+[
+SQUID_YESNO($enableval,[--disable-epoll takes no extra argument])
+test "x$enableval" = "xyes" && squid_opt_io_loop_engine="epoll"
+])
+AC_MSG_NOTICE([enabling epoll syscall for net I/O: ${enable_epoll:=auto}])
+
+# auto-detect and verify epoll header and library present and working
+# logic mapping and loop method selection are performed later
+if test "x$enable_epoll" != "xno" ; then
+
+  # check if libs are needed to support epoll
+  # note: this code block seems quite generic. Could it be extracted
+  #   into a squid specific configure function?
+  SQUID_STATE_SAVE(squid_epoll_state)
+  AC_SEARCH_LIBS(epoll_ctl,[epoll])
+  if test "x$ac_cv_search_epoll_ctl" = "xno" ; then
+    enable_epoll=no #disable. Needed code not found
+  elif test "x$ac_cv_search_epoll_ctl" = "xnone required" ; then
+    EPOLL_LIBS=""
+  else
+    EPOLL_LIBS=$ac_cv_search_epoll_ctl
+  fi
+  AC_SUBST(EPOLL_LIBS)
+  SQUID_STATE_ROLLBACK(squid_epoll_state) #de-pollute LIBS
+
+  # epoll requires sys/epoll.h
+  AC_CHECK_HEADERS([sys/epoll.h])
+
+  dnl Verify that epoll really works
+  if test "x$ac_cv_search_epoll_ctl" != 'xno' ; then
+    SQUID_CHECK_EPOLL
+  fi
+
+  if test "x$enable_epoll" = "xyes" -a "x$squid_cv_epoll_works" = "xno" ; then
+    AC_MSG_ERROR([Epoll does not work. Force-enabling it is not going to help.])
+  fi
+fi
+
+dnl Enable /dev/poll
+AC_ARG_ENABLE(devpoll,
+  AS_HELP_STRING([--disable-devpoll],[Disable Solaris /dev/poll support.]),
+[
+SQUID_YESNO($enableval,[--disable-devpoll takes no extra argument])
+test "x$enableval" = "xyes" && squid_opt_io_loop_engine="devpoll"
+])
+AC_MSG_NOTICE([enabling /dev/poll for net I/O: ${enable_devpoll:=auto}])
+
+## auto-detect and verify devpoll header and library present and working
+if test "x$enable_devpoll" != "xno"; then
+
+  # /dev/poll requires ioctl() and write()
+  AC_CHECK_FUNCS(ioctl)
+  AC_CHECK_FUNCS(write)
+
+  # /dev/poll requires sys/devpoll.h
+  AC_CHECK_HEADERS([sys/devpoll.h],,[
+        if test "x$enable_devpoll" = "xyes"; then
+            AC_MSG_ERROR([--enable-devpoll specified but /dev/poll headers not found])
+        fi
+        enable_devpoll=no])
+
+  # Verify that /dev/poll really works
+  if test "x$enable_devpoll" != 'xno' ; then
+    SQUID_CHECK_DEVPOLL
   fi
 
   if test "x$enable_devpoll" = "xyes" -a "x$squid_cv_devpoll_works" = "xno" ; then
@@ -1679,21 +2399,6 @@ AC_ARG_ENABLE(ident-lookups,
 AC_MSG_NOTICE([Support for Ident lookups enabled: ${enable_ident_lookups:=yes}])
 SQUID_DEFINE_BOOL(USE_IDENT,$enable_ident_lookups,[Support for Ident (RFC 931) lookups])
 
-squid_opt_use_dnshelper="no"
-AC_ARG_ENABLE(internal-dns,
-  AS_HELP_STRING([--disable-internal-dns],
-           [Prevents Squid from directly sending and receiving DNS messages, 
-            and instead enables the old external 'dnsserver' processes.]), [
-  if test "x$enableval" = "xno" ; then
-    AC_MSG_WARN([Disabling Internal DNS queries])
-    squid_opt_use_dnshelper="yes"
-  fi
-])
-SQUID_DEFINE_BOOL(USE_DNSHELPER,$squid_opt_use_dnshelper,
-  [Use dnsserver processes instead of the internal DNS protocol support])
-AM_CONDITIONAL([ENABLE_DNSHELPER],[test "x$squid_opt_use_dnshelper" = "xyes" ])
-
-
 AM_CONDITIONAL(USE_SSL_CRTD, false)
 AC_ARG_ENABLE(ssl-crtd,
   AC_HELP_STRING([--enable-ssl-crtd],
@@ -1703,8 +2408,8 @@ AC_ARG_ENABLE(ssl-crtd,
   [unrecogized argument to --enable-ssl-crtd: $enableval])
 ])
 
-if test "x$enable_ssl_crtd" = "xyes" -a "x$enable_ssl" = "xno" ; then
-   AC_MSG_ERROR([You need to enable ssl gatewaying support to use ssl_crtd feature. Try to use --enable-ssl. ])
+if test "x$enable_ssl_crtd" = "xyes" -a "x$with_openssl" = "xno" ; then
+   AC_MSG_ERROR([You need to enable ssl gatewaying support to use ssl_crtd feature. Try to use --with-openssl. ])
 fi
 SQUID_DEFINE_BOOL(USE_SSL_CRTD, ${enable_ssl_crtd:=no},[Use ssl_crtd daemon])
 AM_CONDITIONAL(USE_SSL_CRTD, [test "x$enable_ssl_crtd" = "xyes"])
@@ -1789,161 +2494,26 @@ AC_ARG_ENABLE(auth-digest,
 ])
 m4_include([helpers/digest_auth/modules.m4])
 
-dnl Authentication libraries to build
-dnl This list will not be needed when each auth library has its own Makefile
-dnl this is to be placed AFTER each auth module's handler
-AUTH_LIBS_TO_BUILD=
-for module in $AUTH_MODULES; do
-    AUTH_LIBS_TO_BUILD="$AUTH_LIBS_TO_BUILD ${module}/lib${module}.la"
-done
-AC_SUBST(AUTH_MODULES)
-AC_SUBST(AUTH_LIBS_TO_BUILD)
-
-dnl Select logging daemon helpers to build
-AC_ARG_ENABLE(log-daemon-helpers,
-  AS_HELP_STRING([--enable-log-daemon-helpers="list of helpers"],
-                 [This option selects which logging daemon helpers to 
-                  build and install as part of the normal build process
-                  For a list of available helpers see the helpers/log_daemon
-                  directory.]),[
-#nothing to do, really
-])
-m4_include([helpers/log_daemon/modules.m4])
-
-dnl
-dnl Check Kerberos/GSSAPI/SPNEGO
-dnl
-SQUID_STATE_SAVE([krbsave])
-
-AC_ARG_WITH(krb5-config,
-  AS_HELP_STRING([--with-krb5-config=PATH],
-                 [specify path to krb5-config (default=detect)]), [
-case "$withval" in
-  yes) unset krb5confpath ;;
-  no)  krb5confpath=no ;;
-  *)   krb5confpath=$withval ;;
-esac
-])
-if test x"$krb5confpath" != "xno"; then
-    if test "x$krb5confpath" != "x"; then
-        if ! test -x "$krb5confpath"; then
-            AC_MSG_WARN([krb5-config '$krb5confpath' not executable, ignoring])
-            AC_CHECK_PROG(ac_krb5_config, krb5-config, yes, no)
-            krb5confpath=krb5-config
-        fi
-        krb5_config_path=`dirname $krb5confpath`
-        AC_CHECK_PROG(ac_krb5_config, krb5-config, yes, no, $krb5_config_path)
-    else
-    AC_CHECK_PROG(ac_krb5_config,krb5-config,yes,no)
-        krb5confpath=krb5-config
-    fi
-fi
-if test "x$ac_krb5_config" = "xyes" ; then
-  ac_heimdal="`$krb5confpath --version 2>/dev/null | grep -i heimdal`"
-  ac_solaris="`$krb5confpath --version 2>/dev/null | grep -i solaris`"
-  if test "x$ac_heimdal" != "x" ; then
-    AC_DEFINE(HAVE_HEIMDAL_KERBEROS,1,[Define to 1 if you have Heimdal Kerberos])
-  else
-    AC_DEFINE(HAVE_MIT_KERBEROS,1,[Define to 1 if you have MIT Kerberos])
-  fi
-  if test "x$ac_solaris" != "x" ; then
-    KRB5INCS="`$krb5confpath --cflags krb5 2>/dev/null`"
-    KRB5LIBS="`$krb5confpath --libs krb5 2>/dev/null`"
-    KRB5INCS="-I/usr/include/gssapi $KRB5INCS"
-    KRB5LIBS="-L/usr/lib -R/usr/lib -lgss -lresolv -lsocket -lnsl $KRB5LIBS"
-  else
-    KRB5INCS="`$krb5confpath --cflags krb5 2>/dev/null`"
-    KRB5LIBS="`$krb5confpath --libs krb5 2>/dev/null`"
-    KRB5INCS="`$krb5confpath --cflags gssapi 2>/dev/null` $KRB5INCS"
-    KRB5LIBS="`$krb5confpath --libs gssapi 2>/dev/null` $KRB5LIBS"
-  fi
-  CPPFLAGS="$CPPFLAGS $KRB5INCS"
-  LIBS="$LIBS $KRB5LIBS"
-  AC_CHECK_HEADERS(gssapi.h gssapi/gssapi.h gssapi/gssapi_krb5.h)
-  if test "x$ac_heimdal" == "x" ; then
-    AC_CHECK_HEADERS(gssapi/gssapi_generic.h)
-    AC_CHECK_HEADERS(profile.h)
-  fi
-
-  SQUID_CHECK_KRB5_SOLARIS_BROKEN_KRB5_H
-  if test "x$squid_cv_broken_krb5_h" = "xyes"; then
-    AC_DEFINE(HAVE_BROKEN_SOLARIS_KRB5_H, 1, [Define to 1 if Solaris krb5.h is broken for C++])
-    AC_MSG_WARN([You have a broken Solaris <krb5.h> system include.])
-    AC_MSG_WARN([Please see http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6837512])
-    AC_MSG_WARN([If you need Kerberos support you'll have to patch])
-    AC_MSG_WARN([your system. See contrib/solaris/solaris-krb5-include.patch])
-  fi
-  SQUID_CHECK_KRB5_HEIMDAL_BROKEN_KRB5_H
-  if test "x$squid_cv_broken_heimdal_krb5_h" = "xyes"; then
-    AC_DEFINE(HAVE_BROKEN_HEIMDAL_KRB5_H, 1, [Define to 1 if Heimdal krb5.h is broken for C++])
-  fi
-  AC_CHECK_HEADERS(krb5.h com_err.h et/com_err.h)
-
-  ac_com_error_message=no
-  if test "x$ac_cv_header_com_err_h" == "xyes" ; then
-      AC_EGREP_HEADER(error_message,com_err.h,ac_com_error_message=yes)
-  elif test "x$ac_cv_header_et_com_err_h" == "xyes" ; then
-      AC_EGREP_HEADER(error_message,et/com_err.h,ac_com_error_message=yes)
-  fi
-
-  SQUID_CHECK_MAX_SKEW_IN_KRB5_CONTEXT
-  if test "x$squid_cv_max_skew_context" = "xyes"; then
-    AC_DEFINE(HAVE_MAX_SKEW_IN_KRB5_CONTEXT, 1, [Define to 1 if max_skew in struct krb5_context])
-  fi
+dnl Authentication libraries to build
+dnl This list will not be needed when each auth library has its own Makefile
+dnl this is to be placed AFTER each auth module's handler
+AUTH_LIBS_TO_BUILD=
+for module in $AUTH_MODULES; do
+    AUTH_LIBS_TO_BUILD="$AUTH_LIBS_TO_BUILD ${module}/lib${module}.la"
+done
+AC_SUBST(AUTH_MODULES)
+AC_SUBST(AUTH_LIBS_TO_BUILD)
 
-  if test `echo $KRB5LIBS | grep -c com_err` -ne 0 -a "x$ac_com_error_message" == "xyes" ; then
-    AC_CHECK_LIB(com_err,error_message,
-      AC_DEFINE(HAVE_ERROR_MESSAGE,1,
-        [Define to 1 if you have error_message]),)
-  elif test  "x$ac_com_error_message" == "xyes" ; then
-    AC_CHECK_LIB(krb5,error_message,
-      AC_DEFINE(HAVE_ERROR_MESSAGE,1,
-        [Define to 1 if you have error_message]),)
-  fi
-  AC_CHECK_LIB(krb5,krb5_get_err_text,
-    AC_DEFINE(HAVE_KRB5_GET_ERR_TEXT,1,
-      [Define to 1 if you have krb5_get_err_text]),)
-  AC_CHECK_LIB(krb5,krb5_get_error_message,
-    AC_DEFINE(HAVE_KRB5_GET_ERROR_MESSAGE,1,
-      [Define to 1 if you have krb5_get_error_message]),)
-  AC_CHECK_DECLS(krb5_kt_free_entry,,,[#include <krb5.h>])
-  AC_CHECK_LIB(krb5,krb5_kt_free_entry,
-    AC_DEFINE(HAVE_KRB5_KT_FREE_ENTRY,1,
-      [Define to 1 if you have krb5_kt_free_entry]),)
-  AC_CHECK_LIB(krb5,krb5_get_init_creds_keytab,
-    AC_DEFINE(HAVE_GET_INIT_CREDS_KEYTAB,1,
-      [Define to 1 if you have krb5_get_init_creds_keytab]),)
-  AC_CHECK_LIB(krb5,krb5_get_max_time_skew,
-    AC_DEFINE(HAVE_KRB5_GET_MAX_TIME_SKEW,1,
-      [Define to 1 if you have krb5_get_max_time_skew]),)
-  AC_CHECK_LIB(krb5,krb5_get_profile,
-    AC_DEFINE(HAVE_KRB5_GET_PROFILE,1,
-      [Define to 1 if you have krb5_get_profile]),)
-  AC_CHECK_LIB(krb5,profile_get_integer,
-    AC_DEFINE(HAVE_PROFILE_GET_INTEGER,1,
-      [Define to 1 if you have profile_get_integer]),)
-  AC_CHECK_LIB(krb5,profile_release,
-    AC_DEFINE(HAVE_PROFILE_RELEASE,1,
-      [Define to 1 if you have profile_release]),)
-
-  SQUID_CHECK_KRB5_CONTEXT_MEMORY_CACHE
-  SQUID_DEFINE_BOOL(HAVE_KRB5_MEMORY_CACHE,$squid_cv_memory_cache,
-       [Define if kerberos has MEMORY: cache support])
-
-  SQUID_CHECK_WORKING_GSSAPI
-  SQUID_DEFINE_BOOL(HAVE_GSSAPI,$squid_cv_working_gssapi,[GSSAPI support])
-
-  SQUID_CHECK_SPNEGO_SUPPORT
-  SQUID_DEFINE_BOOL(HAVE_SPNEGO,$squid_cv_have_spnego,[SPNEGO support])
-
-  SQUID_CHECK_WORKING_KRB5
-  SQUID_DEFINE_BOOL(HAVE_KRB5,$squid_cv_working_krb5,[KRB5 support])
-
-  AC_SUBST(KRB5INCS)
-  AC_SUBST(KRB5LIBS)
-fi
-SQUID_STATE_ROLLBACK([krbsave])
-AM_CONDITIONAL(HAVE_SPNEGO, test x"$squid_cv_have_spnego" = x"yes" )
+dnl Select logging daemon helpers to build
+AC_ARG_ENABLE(log-daemon-helpers,
+  AS_HELP_STRING([--enable-log-daemon-helpers="list of helpers"],
+                 [This option selects which logging daemon helpers to 
+                  build and install as part of the normal build process
+                  For a list of available helpers see the helpers/log_daemon
+                  directory.]),[
+#nothing to do, really
+])
+m4_include([helpers/log_daemon/modules.m4])
 
 AC_ARG_ENABLE(external-acl-helpers,
   AS_HELP_STRING([--enable-external-acl-helpers="list of helpers"],
@@ -2157,17 +2727,11 @@ AC_HEADER_DIRENT
 AC_HEADER_STDC
 
 AC_CHECK_HEADERS( \
-  algorithm \
   arpa/inet.h \
   arpa/nameser.h \
   assert.h \
   bstring.h \
-  cassert \
   crypt.h \
-  cstdarg \
-  cstdlib \
-  cstring \
-  list \
   ctype.h \
   errno.h \
   execinfo.h \
@@ -2177,11 +2741,6 @@ AC_CHECK_HEADERS( \
   glob.h \
   gnumalloc.h \
   grp.h \
-  iosfwd \
-  iomanip \
-  iostream \
-  fstream \
-  climits \
   ip_compat.h \
   ip_fil_compat.h \
   ip_fil.h \
@@ -2190,46 +2749,31 @@ AC_CHECK_HEADERS( \
   lber.h \
   ldap.h \
   libc.h \
-  limits \
   limits.h \
   linux/posix_types.h \
   linux/types.h \
   machine/byte_swap.h \
   malloc.h \
-  map \
   math.h \
   memory.h \
-  memory \
   mount.h \
   netdb.h \
   netinet/in.h \
   netinet/in_systm.h \
   netinet/ip_fil_compat.h \
-  openssl/err.h \
-  openssl/md5.h \
-  openssl/opensslv.h \
-  openssl/ssl.h \
-  openssl/x509v3.h \
   netinet/tcp.h \
-  openssl/engine.h \
-  openssl/txt_db.h \
-  ostream \
   paths.h \
   poll.h \
   pwd.h \
-  shadow.h \
   regex.h \
   sched.h \
   siginfo.h \
   signal.h \
-  sstream \
   stdarg.h \
   stdbool.h \
   stddef.h \
-  stdexcept \
   stdio.h \
   stdlib.h \
-  string \
   string.h \
   strings.h \
   sys/bitypes.h \
@@ -2321,8 +2865,6 @@ AC_CHECK_MEMBERS([struct tm.tm_gmtoff],,,[
 #endif
 ])
 
-SQUID_HAVE_STRUCT_MALLINFO
-
 dnl Override rusage() detect on MinGW because is emulated in source code
 case "$squid_host_os" in
   mingw)
@@ -2479,374 +3021,128 @@ dnl Check for Winsock only on MinGW, on Cygwin we must use emulated BSD socket A
 if test "x$squid_host_os" = "xmingw" ; then
   SQUID_CHECK_WINSOCK_LIB
   AC_CHECK_HEADERS( \
-    windows.h \
-    ws2tcpip.h \
-    Iphlpapi.h ,,,[
-#if HAVE_WINDOWS_H
-#include <windows.h>
-#endif
-#if HAVE_WINSOCK2_H
-#include <winsock2.h>
-#endif])
-fi
-
-# check that we have unix sockets
-SQUID_CHECK_UNIX_SOCKET
-SQUID_DEFINE_BOOL(HAVE_UNIXSOCKET,$squid_cv_unixsocket,[System supports unix sockets])
-
-AC_CHECK_LIB(gnumalloc, malloc)
-if test "x$ac_cv_lib_gnumalloc_malloc" = "xyes"; then
-  AC_MSG_NOTICE([Disabling extended malloc functions when using bundled gnumalloc])
-  ac_cv_func_mallinfo=no
-  ac_cv_func_mallocblksize=no
-  ac_cv_func_mallopt=no
-else
-  case "$squid_host_os" in
-    solaris)
-      AC_MSG_NOTICE([skipping libmalloc check for $host])
-      ;;
-    freebsd)
-      AC_MSG_NOTICE([skipping libmalloc check for $host])
-      ;;
-    *)
-      #used later. FIXME
-      AC_CHECK_LIB(malloc, main)
-      ;;
-  esac
-fi
-
-case "$squid_host_os" in
-  mingw)
-    AC_MSG_NOTICE([Use MSVCRT for math functions.])
-    ;;
-  *)
-    dnl rint() and log() are only used in old C code for now.
-    AC_LANG_PUSH([C])
-    AC_SEARCH_LIBS([rint],[m])
-    AC_SEARCH_LIBS([log],[m])
-    AC_LANG_POP([C])
-    ;;
-esac
-
-
-dnl --with-maxfd present for compatibility with Squid-2.
-dnl undocumented in ./configure --help  to encourage using the Squid-3 directive
-AC_ARG_WITH(maxfd,,
-[ 
-  case ${withval} in
-    [[0-9]]*)
-      squid_filedescriptors_num=$withval
-      ;;
-    *)
-      AC_MSG_ERROR(--with-maxfd expects a numeric argument)
-      ;;
-    esac
-])
-
-AC_ARG_WITH(filedescriptors,
-  AS_HELP_STRING([--with-filedescriptors=NUMBER],
-                 [Force squid to support NUMBER filedescriptors]),
-[ 
-  case ${withval} in
-    [[0-9]]*)
-      squid_filedescriptors_num=$withval
-      ;;
-    *)
-      AC_MSG_ERROR(--with-filedescriptors expects a numeric argument)
-      ;;
-    esac
-])
-
-SQUID_CHECK_DEFAULT_FD_SETSIZE
-if test "x$squid_filedescriptors_num" = "x"; then
-  SQUID_CHECK_MAXFD
-else
-  AC_MSG_NOTICE([forcing use of $squid_filedescriptors_num filedescriptors (user-forced)])
-fi
-if test "$squid_filedescriptors_num" -lt 512 ; then
-    AC_MSG_WARN([$squid_filedescriptors_num may not be enough filedescriptors if your])
-    AC_MSG_WARN([cache will be very busy.  Please see the FAQ page])
-    AC_MSG_WARN([http://wiki.squid-cache.org/SquidFaq/TroubleShooting])
-    AC_MSG_WARN([on how to increase your filedescriptor limit])
-fi
-AC_DEFINE_UNQUOTED(SQUID_MAXFD, $squid_filedescriptors_num,[Maximum number of open filedescriptors])
-
-
-dnl Enable IPv6 support
-AC_MSG_CHECKING([whether to enable IPv6])
-AC_ARG_ENABLE(ipv6,
-  AS_HELP_STRING([--disable-ipv6],[Disable IPv6 support. The default is to probe system capabilities on startup.]), [
-SQUID_YESNO([$enableval],[unrecognized argument to --disable-ipv6: $enableval])
-])
-AC_MSG_RESULT(${enable_ipv6:=yes})
-SQUID_DEFINE_BOOL(USE_IPV6,$enable_ipv6,[Enable support for IPv6 ])
-
-if test "x$enable_ipv6" = "xyes" ; then
-  SQUID_CHECK_SIN6_LEN_IN_SAI
-fi
-SQUID_CHECK_SS_LEN_IN_SOCKADDR_STORAGE
-SQUID_CHECK_SIN_LEN_IN_SOCKADDR_IN
-
-
-dnl Check for libcrypt
-CRYPTLIB=
-dnl Some of our helpers use crypt(3) which may be in libc, or in
-dnl libcrypt (eg FreeBSD)
-AC_CHECK_LIB(crypt, crypt, [CRYPTLIB="-lcrypt"])
-dnl Solaris10 provides MD5 natively through libmd5
-AC_CHECK_LIB(md5, MD5Init, [CRYPTLIB="$CRYPTLIB -lmd5"])
-AC_SUBST(CRYPTLIB)
-
-# check for crypt, may require -lcrypt
-SAVED_LIBS="$LIBS"
-LIBS="$LIBS $CRYPTLIB"
-AC_CHECK_FUNCS(crypt)
-LIBS="$SAVED_LIBS"
-
-
-dnl Check for libdl, used by auth_modules/PAM
-if test "x$with_dl" = "xyes"; then
-    AC_CHECK_LIB(dl, dlopen)
-fi
-
-dnl -lintl is needed on SCO version 3.2v4.2 for strftime()
-dnl Robert Side <rside@aiinc.bc.ca>
-dnl Mon, 18 Jan 1999 17:48:00 GMT
-case "$host" in
-	*-pc-sco3.2*)
-		AC_CHECK_LIB(intl, strftime)
-		;;
-esac
-
-dnl On MinGW OpenLDAP is not available, so LDAP helpers can be linked 
-dnl only with Windows LDAP libraries using -lwldap32
-case "$squid_host_os" in
-	mingw)
-		LDAPLIB="-lwldap32"
-		LBERLIB=""
-		;;
-	*)
-		AC_CHECK_LIB(ldap, ldap_init, [LDAPLIB="-lldap"])
-		dnl LDAP helpers need to know if -llber is needed or not
-		AC_CHECK_LIB(lber, ber_init, [LBERLIB="-llber"])
-		dnl if no ldap lib found check for mozilla version
-		if test "x$ac_cv_lib_ldap_ldap_init" != x""yes; then
-		        oLIBS=$LIBS
-		        LIBS="$LIBPTHREADS"
-			AC_CHECK_LIB(ldap60, ldap_init, [LDAPLIB="-lldap60"])
-		        LIBS="$LDAPLIB $LIBPTHREADS"
-			AC_CHECK_LIB(prldap60, prldap_init, [LDAPLIB="-lprldap60 $LDAPLIB"])
-		        LIBS="$LDAPLIB $LIBPTHREADS"
-			AC_CHECK_LIB(ssldap60, ldapssl_init, [LDAPLIB="-lssldap60 $LDAPLIB"])
-		        LIBS=$oLIBS
-		fi
-
-		AC_CHECK_HEADERS(ldap.h lber.h)
-		AC_CHECK_HEADERS(mozldap/ldap.h)
-
-		dnl
-		dnl Check for LDAP_OPT_DEBUG_LEVEL
-		dnl
-		AC_MSG_CHECKING([for LDAP_OPT_DEBUG_LEVEL])
-		AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-#                   include <ldap.h>
-		]],[[
-                    int i=LDAP_OPT_DEBUG_LEVEL
-		]])],
-		[ AC_MSG_RESULT(yes) ],
-		[ AC_MSG_RESULT(no) ])
-
-		dnl
-		dnl Check for working ldap
-		dnl
-		oLIBS=$LIBS
-		LIBS="$LDAPLIB $LBERLIB $LIBPTHREADS"
-		AC_MSG_CHECKING([for working ldap])
-		AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#                   define  LDAP_DEPRECATED 1
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-                    int
-                    main(void)
-                    {
-                        char host[]="";
-                        int port;
-
-                        ldap_init((const char *)&host, port);
-
-                        return 0;
-                    }
-		]])], 
-		[ AC_DEFINE(HAVE_LDAP, 1, [LDAP support]) 
-		  AC_MSG_RESULT(yes) ],
-		[ AC_MSG_RESULT(no) ],
-		[ AC_MSG_RESULT(cross-compiler cant tell) ])
-		LIBS=$oLIBS
-
-		dnl
-		dnl Check for ldap vendor
-		dnl
-		AC_MSG_CHECKING([for OpenLDAP])
-		AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   endif
-#                   include <string.h>
-                    int
-                    main(void)
-                    {
-                        return strcmp(LDAP_VENDOR_NAME,"OpenLDAP");
-                    }
-		]])], 
-		[ AC_DEFINE(HAVE_OPENLDAP, 1, [OpenLDAP support]) 
-		  AC_MSG_RESULT(yes) ],
-		[ AC_MSG_RESULT(no) ],
-		[ AC_MSG_RESULT(cross-compiler cant tell) ])
-
-		AC_MSG_CHECKING([for Sun LDAP SDK])
-		AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   endif
-#                   include <string.h>
-                    int
-                    main(void)
-                    {
-                        return strcmp(LDAP_VENDOR_NAME,"Sun Microsystems Inc.");
-                    }
-		]])], 
-		[ AC_DEFINE(HAVE_SUN_LDAP_SDK, 1, [Sun LDAP SDK support])
-		  AC_MSG_RESULT(yes) ],
-		[ AC_MSG_RESULT(no) ],
-		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+    windows.h \
+    ws2tcpip.h \
+    iphlpapi.h ,,,[
+#if HAVE_WINDOWS_H
+#include <windows.h>
+#endif
+#if HAVE_WINSOCK2_H
+#include <winsock2.h>
+#endif])
+fi
 
-		AC_MSG_CHECKING([for Mozilla LDAP SDK])
-		AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-#                   include <string.h>
-                    int
-                    main(void)
-                    {
-                        return strcmp(LDAP_VENDOR_NAME,"mozilla.org");
-                    }
-		]])], 
-		[ AC_DEFINE(HAVE_MOZILLA_LDAP_SDK, 1, [Mozilla LDAP SDK support])
-		  AC_MSG_RESULT(yes) ],
-		[ AC_MSG_RESULT(no)],
-		[ AC_MSG_RESULT(cross-compiler cant tell) ])
+# check that we have unix sockets
+SQUID_CHECK_UNIX_SOCKET
+SQUID_DEFINE_BOOL(HAVE_UNIXSOCKET,$squid_cv_unixsocket,[System supports unix sockets])
 
-		dnl
-		dnl Check for LDAP_REBINDPROC_CALLBACK
-		dnl
-                AC_MSG_CHECKING([for LDAP_REBINDPROC_CALLBACK])
-                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-                ]],[[
-                    LDAP_REBINDPROC_CALLBACK ldap_rebind;
-                ]])],
-                [ AC_DEFINE(HAVE_LDAP_REBINDPROC_CALLBACK,1,[Define to 1 if you have LDAP_REBINDPROC_CALLBACK])
-                  AC_MSG_RESULT(yes) ],
-                [ AC_MSG_RESULT(no) ])
+AC_CHECK_LIB(gnumalloc, malloc)
+if test "x$ac_cv_lib_gnumalloc_malloc" = "xyes"; then
+  AC_MSG_NOTICE([Disabling extended malloc functions when using bundled gnumalloc])
+  ac_cv_func_mallocblksize=no
+  ac_cv_func_mallopt=no
+else
+  case "$squid_host_os" in
+    solaris)
+      AC_MSG_NOTICE([skipping libmalloc check for $host])
+      ;;
+    freebsd)
+      AC_MSG_NOTICE([skipping libmalloc check for $host])
+      ;;
+    *)
+      #used later. FIXME
+      AC_CHECK_LIB(malloc, main)
+      ;;
+  esac
+fi
 
-		dnl
-		dnl Check for LDAP_REBIND_PROC
-		dnl
-                AC_MSG_CHECKING([for LDAP_REBIND_PROC])
-                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-                ]],[[
-                    LDAP_REBIND_PROC ldap_rebind;
-                ]])],
-                [ AC_DEFINE(HAVE_LDAP_REBIND_PROC,1,[Define to 1 if you have LDAP_REBIND_PROC])
-                  AC_MSG_RESULT(yes) ],
-                [ AC_MSG_RESULT(no) ])
+case "$squid_host_os" in
+  mingw)
+    AC_MSG_NOTICE([Use MSVCRT for math functions.])
+    ;;
+  *)
+    dnl rint() and log() are only used in old C code for now.
+    AC_LANG_PUSH([C])
+    AC_SEARCH_LIBS([rint],[m])
+    AC_SEARCH_LIBS([log],[m])
+    AC_LANG_POP([C])
+    ;;
+esac
 
-		dnl
-		dnl Check for LDAP_REBIND_FUNCTION
-		dnl
-                AC_MSG_CHECKING([for LDAP_REBIND_FUNCTION])
-                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-#                   define LDAP_REFERRALS
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-                ]],[[
-                    LDAP_REBIND_FUNCTION ldap_rebind;
-                ]])],
-                [ AC_DEFINE(HAVE_LDAP_REBIND_FUNCTION,1,[Define to 1 if you have LDAP_REBIND_FUNCTION])
-                  AC_MSG_RESULT(yes) ],
-                [ AC_MSG_RESULT(no) ])
+dnl --with-maxfd present for compatibility with Squid-2.
+dnl undocumented in ./configure --help  to encourage using the Squid-3 directive
+AC_ARG_WITH(maxfd,,
+[ 
+  case ${withval} in
+    [[0-9]]*)
+      squid_filedescriptors_num=$withval
+      AC_MSG_NOTICE([forcing default of $squid_filedescriptors_num filedescriptors (user-forced)])
+      ;;
+    *)
+      AC_MSG_ERROR(--with-maxfd expects a numeric argument)
+      ;;
+    esac
+])
 
-		dnl
-		dnl Check for LDAP_SCOPE_DEFAULT
-		dnl
-                AC_MSG_CHECKING([for LDAP_SCOPE_DEFAULT])
-                AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-#                   if HAVE_LDAP_H
-#                   include <ldap.h>
-#                   elif HAVE_MOZLDAP_LDAP_H
-#                   include <mozldap/ldap.h>
-#                   endif
-                ]],[[
-                    int i=LDAP_SCOPE_DEFAULT;
-                ]])],
-                [ AC_DEFINE(HAVE_LDAP_SCOPE_DEFAULT,1,[Define to 1 if you have LDAP_SCOPE_DEFAULT])
-                  AC_MSG_RESULT(yes) ],
-                [ AC_MSG_RESULT(no) ])
+AC_ARG_WITH(filedescriptors,
+  AS_HELP_STRING([--with-filedescriptors=NUMBER],
+                 [Force squid to support NUMBER filedescriptors]),
+[ 
+  case ${withval} in
+    [[0-9]]*)
+      squid_filedescriptors_num=$withval
+      AC_MSG_NOTICE([forcing default of $squid_filedescriptors_num filedescriptors (user-forced)])
+      ;;
+    *)
+      AC_MSG_ERROR(--with-filedescriptors expects a numeric argument)
+      ;;
+    esac
+])
 
-		dnl
-		dnl Check for ldap_url_desc.lud_scheme
-		dnl
-		AC_CHECK_MEMBER(struct ldap_url_desc.lud_scheme,
-		  AC_DEFINE(HAVE_LDAP_URL_LUD_SCHEME,1,
-		    [Define to 1 if you have LDAPURLDesc.lud_scheme]),,[#include <ldap.h>])
+SQUID_CHECK_DEFAULT_FD_SETSIZE
+SQUID_CHECK_MAXFD
+if test "x$squid_filedescriptors_num" != "x"; then
+  AC_MSG_NOTICE([Default number of fieldescriptors: $squid_filedescriptors_num])
+fi
+if test "$squid_filedescriptors_num" -lt 512 ; then
+    AC_MSG_WARN([$squid_filedescriptors_num may not be enough filedescriptors if your])
+    AC_MSG_WARN([cache will be very busy.  Please see the FAQ page])
+    AC_MSG_WARN([http://wiki.squid-cache.org/SquidFaq/TroubleShooting])
+    AC_MSG_WARN([on how to increase your filedescriptor limit])
+fi
+AC_DEFINE_UNQUOTED(SQUID_MAXFD, $squid_filedescriptors_num,[Maximum number of open filedescriptors])
 
-		dnl
-		dnl Check for ldapssl_client_init
-		dnl
-		AC_CHECK_LIB(ldap,ldapssl_client_init,
-		  AC_DEFINE(HAVE_LDAPSSL_CLIENT_INIT,1,[Define to 1 if you have ldapssl_client_init]),)
 
-		dnl
-		dnl Check for ldap_url_desc2str
-		dnl
-		AC_CHECK_LIB(ldap,ldap_url_desc2str,
-		  AC_DEFINE(HAVE_LDAP_URL_DESC2STR,1,[Define to 1 if you have ldap_url_desc2str]),)
+dnl Enable IPv6 support
+AC_MSG_CHECKING([whether to enable IPv6])
+AC_ARG_ENABLE(ipv6,
+  AS_HELP_STRING([--disable-ipv6],[Disable IPv6 support. The default is to probe system capabilities on startup.]), [
+SQUID_YESNO([$enableval],[unrecognized argument to --disable-ipv6: $enableval])
+])
+AC_MSG_RESULT(${enable_ipv6:=yes})
+SQUID_DEFINE_BOOL(USE_IPV6,$enable_ipv6,[Enable support for IPv6 ])
 
-		dnl
-		dnl Check for ldap_url_parse
-		dnl
-		AC_CHECK_LIB(ldap,ldap_url_parse,
-		  AC_DEFINE(HAVE_LDAP_URL_PARSE,1,[Define to 1 if you have ldap_url_parse]),)
+if test "x$enable_ipv6" = "xyes" ; then
+  SQUID_CHECK_SIN6_LEN_IN_SAI
+fi
+SQUID_CHECK_SS_LEN_IN_SOCKADDR_STORAGE
+SQUID_CHECK_SIN_LEN_IN_SOCKADDR_IN
 
-		dnl
-		dnl Check for ldap_start_tls_s
-		dnl
-		AC_CHECK_LIB(ldap,ldap_start_tls_s,
-		  AC_DEFINE(HAVE_LDAP_START_TLS_S,1,[Define to 1 if you have ldap_start_tls_s]),)
+
+dnl Check for libdl, used by auth_modules/PAM
+if test "x$with_dl" = "xyes"; then
+    AC_CHECK_LIB(dl, dlopen)
+fi
+
+dnl -lintl is needed on SCO version 3.2v4.2 for strftime()
+dnl Robert Side <rside@aiinc.bc.ca>
+dnl Mon, 18 Jan 1999 17:48:00 GMT
+case "$host" in
+	*-pc-sco3.2*)
+		AC_CHECK_LIB(intl, strftime)
 		;;
 esac
 
-AC_SUBST(LDAPLIB)
-AC_SUBST(LBERLIB)
-
 dnl Check for libdb
 dnl this is not fully functional if db.h is for a differend db version
 DBLIB=
@@ -2882,6 +3178,7 @@ case "$host" in
       CFLAGS="`echo $CFLAGS | sed -e 's/-O[[0-9]]*//'`"
     fi
   ;;
+
   *-sgi-irix*)
     AC_MSG_NOTICE([Removing -lsocket for IRIX...])
     LIBS=`echo $LIBS | sed -e s/-lsocket//`
@@ -2944,7 +3241,7 @@ assert(myBar != NULL);
 # Remove optimization for GCC 2.95.[123]
 # gcc -O[2] on *BSD and Linux (x86) causes pointers to magically become NULL
 if test "x$GCC" = "xyes"; then
-	GCCVER=`$CC -v 2>&1 | awk '$2 ==  "version" {print $3}'`
+	GCCVER=`$CC -v 2>&1 | awk '$2 == "version" {print $3}'`
 	case "$GCCVER" in
 	[2.95.[123]])
 		AC_MSG_NOTICE([Removing -O for gcc on $host with GCC $GCCVER])
@@ -2953,16 +3250,6 @@ if test "x$GCC" = "xyes"; then
 	esac
 fi
 
-# Recommended by Balint Nagy Endre <bne@CareNet.hu>
-case "$host" in
-  *-univel-sysv4.2MP)
-    if test `uname -v` = "2.03"; then
-      AC_MSG_NOTICE([disabling mallinfo for $host])
-      ac_cv_func_mallinfo=no
-    fi
-    ;;
-esac
-
 dnl This has to be before AC_CHECK_FUNCS
 # Disable poll() on certain platforms. Override by setting ac_cv_func_poll
 # when running configure.
@@ -3010,6 +3297,7 @@ AC_CHECK_FUNCS(\
 	bswap_32 \
 	bswap16 \
 	bswap32 \
+	eui64_aton \
 	fchmod \
 	getdtablesize \
 	getpagesize \
@@ -3022,7 +3310,6 @@ AC_CHECK_FUNCS(\
 	htobe16 \
 	htole16 \
 	lrand48 \
-	mallinfo \
 	mallocblksize \
 	mallopt \
 	memcpy \
@@ -3045,7 +3332,6 @@ AC_CHECK_FUNCS(\
 	res_init \
 	__res_init \
 	rint \
-	sbrk \
 	sched_getaffinity \
 	sched_setaffinity \
 	select \
@@ -3067,15 +3353,13 @@ AC_CHECK_FUNCS(\
 dnl ... and some we provide local replacements for
 AC_REPLACE_FUNCS(\
 	drand48 \
-	eui64_aton \
 	inet_ntop \
 	inet_pton \
 	initgroups \
 	getaddrinfo \
 	getnameinfo \
 	psignal \
 	strerror \
-	strsep \
 	strtoll \
 	tempnam \
 )
@@ -3145,6 +3429,48 @@ AC_COMPILE_IFELSE([AC_LANG_SOURCE([[
   AC_MSG_RESULT(no)
 ])
 
+AC_CHECK_TYPE(struct cmsghdr,AC_DEFINE(HAVE_CMSGHDR,1,[The system provides struct cmsghdr]),,[
+  #if HAVE_SYS_SOCKET_H
+  #include <sys/socket.h>
+  #endif
+  #if HAVE_WINSOCK2_H
+  #include <winsock2.h>
+  #endif
+])
+
+AC_CHECK_TYPE(struct iovec,AC_DEFINE(HAVE_IOVEC,1,[The system provides struct iovec]),,[
+  #if HAVE_SYS_SOCKET_H
+  #include <sys/socket.h>
+  #endif
+  #if HAVE_WINSOCK2_H
+  #include <winsock2.h>
+  #endif
+  #if HAVE_SYS_UIO_H
+  #include <sys/uio.h>
+  #endif
+])
+
+AC_CHECK_TYPE(struct msghdr,AC_DEFINE(HAVE_MSGHDR,1,[The system provides struct msghdr]),,[
+  #if HAVE_SYS_SOCKET_H
+  #include <sys/socket.h>
+  #endif
+  #if HAVE_WINSOCK2_H
+  #include <winsock2.h>
+  #endif
+])
+
+AC_CHECK_TYPE(struct sockaddr_un,AC_DEFINE(HAVE_SOCKADDR_UN,1,[The system provides sockaddr_un]),,[
+  #if HAVE_SYS_UN_H
+  #include <sys/un.h>
+  #endif
+  #if HAVE_SYS_SOCKET_H
+  #include <sys/socket.h>
+  #endif
+  #if HAVE_WINSOCK2_H
+  #include <winsock2.h>
+  #endif
+])
+
 SQUID_CHECK_FUNC_STRNSTR
 SQUID_CHECK_FUNC_VACOPY
 SQUID_CHECK_FUNC___VACOPY
@@ -3310,25 +3636,22 @@ SQUID_CHECK_RECV_ARG_TYPE
 SQUID_CHECK_NEED_SYS_ERRLIST
 SQUID_CHECK_MAXPATHLEN
 
-if test "x$squid_opt_use_dnshelper" = "xyes"; then
-  SQUID_CHECK_LIBRESOLV_DNS_TTL_HACK
-  SQUID_CHECK_RESOLVER_FIELDS
-fi
+SQUID_CHECK_LIBRESOLV_DNS_TTL_HACK
+SQUID_CHECK_RESOLVER_FIELDS
 
 if test "x$ac_cv_header_sys_statvfs_h" = "xyes" ; then
   SQUID_CHECK_WORKING_STATVFS
 fi
 
 
-dnl Squid will usually attempt to translate when packaging or building from VCS 
+dnl Squid will not usually attempt to translate templates when building
 AC_ARG_ENABLE(translation,
- AS_HELP_STRING([--disable-translation],[Prevent Squid generating localized error page templates and manuals.
-		 Which is usually tried, but may not be needed.]), [ 
-SQUID_YESNO([$enableval],
-     [unrecognized argument to --disable-translation: $enableval])
+ AS_HELP_STRING([--enable-translation],[Generate the localized error page templates and manuals.
+		 Which can also be downloaded from http://www.squid-cache.org/Versions/langpack/.]), [ 
+  SQUID_YESNO([$enableval],
+     [unrecognized argument to --enable-translation: $enableval])
 ])
-dnl Squid now has .po translation capability, given the right toolkit
-if test "x${enable_translation:=yes}" = "xyes" ; then
+if test "x${enable_translation:=no}" = "xyes" ; then
   AX_WITH_PROG([PO2HTML],[po2html])
   AX_WITH_PROG([PO2TEXT],[po2txt])
 else
@@ -3375,6 +3698,18 @@ AC_SUBST(XTRA_LIBS)
 AC_SUBST(SQUID_CFLAGS)
 AC_SUBST(SQUID_CXXFLAGS)
 
+AC_ARG_VAR([BUILDCXXFLAGS],[C++ compiler flags for building compile-time tools. e.g. cf_gen])
+if test "x$BUILDCXXFLAGS" = "x"; then
+  # if we are NOT cross-compiling, use the default build flags for cf_gen and friends
+  # otherwise rely on the user-provided value
+  if test "x$squid_cv_check_marchnative" = "xyes"; then
+    # always valid for the Build compiler.
+    BUILDCXXFLAGS="-march=native"
+  fi
+  BUILDCXXFLAGS="$BUILDCXXFLAGS $CXXFLAGS"
+fi
+AC_SUBST(BUILDCXXFLAGS)
+
 AC_MSG_NOTICE([BUILD LIBRARIES: $LIBS])
 AC_MSG_NOTICE([BUILD EXTRA LIBRARIES: $XTRA_LIBS])
 AC_MSG_NOTICE([BUILD OBJECTS: $OBJS])
@@ -3383,104 +3718,111 @@ AC_MSG_NOTICE([BUILD C FLAGS: $CFLAGS])
 AC_MSG_NOTICE([BUILD EXTRA C FLAGS: $SQUID_CFLAGS])
 AC_MSG_NOTICE([BUILD C++ FLAGS: $CXXFLAGS])
 AC_MSG_NOTICE([BUILD EXTRA C++ FLAGS: $SQUID_CXXFLAGS])
+AC_MSG_NOTICE([BUILD Tools C++ FLAGS: $BUILDCXXFLAGS])
 
 dnl Clean up after OSF/1 core dump bug
 rm -f core 
 
-AC_CONFIG_FILES([\
-	Makefile \
-	compat/Makefile \
-	lib/Makefile \
-	lib/ntlmauth/Makefile \
-	lib/libTrie/Makefile \
-	lib/libTrie/test/Makefile \
-	lib/profiler/Makefile \
-	lib/rfcnb/Makefile \
-	lib/smblib/Makefile \
-	scripts/Makefile \
-	src/Makefile \
-	src/anyp/Makefile \
-	src/base/Makefile \
-	src/acl/Makefile \
-	src/fs/Makefile \
-	src/repl/Makefile \
-	src/auth/Makefile \
-	src/auth/basic/Makefile \
-	src/auth/digest/Makefile \
-	src/auth/negotiate/Makefile \
-	src/auth/ntlm/Makefile \
-	src/adaptation/Makefile \
-	src/adaptation/icap/Makefile \
-	src/adaptation/ecap/Makefile \
-	src/comm/Makefile \
-	src/esi/Makefile \
-	src/eui/Makefile \
-	src/format/Makefile \
-	src/http/Makefile \
-	src/icmp/Makefile \
-	src/ident/Makefile \
-	src/ip/Makefile \
-	src/log/Makefile \
-	src/ipc/Makefile \
-	src/ssl/Makefile \
-	src/mgr/Makefile \
-	src/snmp/Makefile \
-	contrib/Makefile \
-	snmplib/Makefile \
-	icons/Makefile \
-	errors/Makefile \
-	test-suite/Makefile \
-	doc/Makefile \
-	doc/manuals/Makefile \
-	helpers/Makefile \
-	helpers/basic_auth/Makefile \
-	helpers/basic_auth/DB/Makefile \
-	helpers/basic_auth/fake/Makefile \
-	helpers/basic_auth/getpwnam/Makefile \
-	helpers/basic_auth/LDAP/Makefile \
-	helpers/basic_auth/MSNT/Makefile \
-	helpers/basic_auth/MSNT-multi-domain/Makefile \
-	helpers/basic_auth/NCSA/Makefile \
-	helpers/basic_auth/NIS/Makefile \
-	helpers/basic_auth/PAM/Makefile \
-	helpers/basic_auth/POP3/Makefile \
-	helpers/basic_auth/RADIUS/Makefile \
-	helpers/basic_auth/SASL/Makefile \
-	helpers/basic_auth/SMB/Makefile \
-	helpers/basic_auth/SSPI/Makefile \
-	helpers/digest_auth/Makefile \
-	helpers/digest_auth/eDirectory/Makefile \
-	helpers/digest_auth/file/Makefile \
-	helpers/digest_auth/LDAP/Makefile \
-	helpers/ntlm_auth/Makefile \
-	helpers/ntlm_auth/fake/Makefile \
-	helpers/ntlm_auth/smb_lm/Makefile \
-	helpers/ntlm_auth/SSPI/Makefile \
-	helpers/negotiate_auth/Makefile \
-	helpers/negotiate_auth/kerberos/Makefile \
-	helpers/negotiate_auth/SSPI/Makefile \
-	helpers/negotiate_auth/wrapper/Makefile \
-	helpers/external_acl/Makefile \
-	helpers/external_acl/AD_group/Makefile \
-	helpers/external_acl/eDirectory_userip/Makefile \
-	helpers/external_acl/file_userip/Makefile \
-	helpers/external_acl/kerberos_ldap_group/Makefile \
-	helpers/external_acl/LDAP_group/Makefile \
-	helpers/external_acl/LM_group/Makefile \
-	helpers/external_acl/session/Makefile \
-	helpers/external_acl/SQL_session/Makefile \
-	helpers/external_acl/unix_group/Makefile \
-	helpers/external_acl/wbinfo_group/Makefile \
-	helpers/external_acl/time_quota/Makefile \
-	helpers/log_daemon/Makefile \
-	helpers/log_daemon/DB/Makefile \
-	helpers/log_daemon/file/Makefile \
-	helpers/url_rewrite/Makefile \
-	helpers/url_rewrite/fake/Makefile \
-	helpers/ssl/Makefile \
-	helpers/storeid_rewrite/Makefile \
-	helpers/storeid_rewrite/file/Makefile \
+AC_CONFIG_FILES([
+	Makefile
+	compat/Makefile
+	lib/Makefile
+	lib/ntlmauth/Makefile
+	lib/libTrie/Makefile
+	lib/libTrie/test/Makefile
+	lib/profiler/Makefile
+	lib/rfcnb/Makefile
+	lib/smblib/Makefile
+	lib/snmplib/Makefile
+	scripts/Makefile
+	src/Makefile
+	src/anyp/Makefile
+	src/ftp/Makefile
+	src/base/Makefile
+	src/acl/Makefile
+	src/clients/Makefile
+	src/servers/Makefile
+	src/fs/Makefile
+	src/repl/Makefile
+	src/auth/Makefile
+	src/auth/basic/Makefile
+	src/auth/digest/Makefile
+	src/auth/negotiate/Makefile
+	src/auth/ntlm/Makefile
+	src/adaptation/Makefile
+	src/adaptation/icap/Makefile
+	src/adaptation/ecap/Makefile
+	src/comm/Makefile
+	src/esi/Makefile
+	src/eui/Makefile
+	src/format/Makefile
+	src/http/Makefile
+	src/icmp/Makefile
+	src/ident/Makefile
+	src/ip/Makefile
+	src/log/Makefile
+	src/ipc/Makefile
+	src/ssl/Makefile
+	src/mgr/Makefile
+	src/parser/Makefile
+	src/snmp/Makefile
+	contrib/Makefile
+	icons/Makefile
+	errors/Makefile
+	test-suite/Makefile
+	doc/Makefile
+	doc/manuals/Makefile
+	helpers/Makefile
+	helpers/basic_auth/Makefile
+	helpers/basic_auth/DB/Makefile
+	helpers/basic_auth/fake/Makefile
+	helpers/basic_auth/getpwnam/Makefile
+	helpers/basic_auth/LDAP/Makefile
+	helpers/basic_auth/MSNT/Makefile
+	helpers/basic_auth/MSNT-multi-domain/Makefile
+	helpers/basic_auth/NCSA/Makefile
+	helpers/basic_auth/NIS/Makefile
+	helpers/basic_auth/PAM/Makefile
+	helpers/basic_auth/POP3/Makefile
+	helpers/basic_auth/RADIUS/Makefile
+	helpers/basic_auth/SASL/Makefile
+	helpers/basic_auth/SMB/Makefile
+	helpers/basic_auth/SSPI/Makefile
+	helpers/digest_auth/Makefile
+	helpers/digest_auth/eDirectory/Makefile
+	helpers/digest_auth/file/Makefile
+	helpers/digest_auth/LDAP/Makefile
+	helpers/ntlm_auth/Makefile
+	helpers/ntlm_auth/fake/Makefile
+	helpers/ntlm_auth/smb_lm/Makefile
+	helpers/ntlm_auth/SSPI/Makefile
+	helpers/negotiate_auth/Makefile
+	helpers/negotiate_auth/kerberos/Makefile
+	helpers/negotiate_auth/SSPI/Makefile
+	helpers/negotiate_auth/wrapper/Makefile
+	helpers/external_acl/Makefile
+	helpers/external_acl/AD_group/Makefile
+	helpers/external_acl/delayer/Makefile
+	helpers/external_acl/eDirectory_userip/Makefile
+	helpers/external_acl/file_userip/Makefile
+	helpers/external_acl/kerberos_ldap_group/Makefile
+	helpers/external_acl/LDAP_group/Makefile
+	helpers/external_acl/LM_group/Makefile
+	helpers/external_acl/session/Makefile
+	helpers/external_acl/SQL_session/Makefile
+	helpers/external_acl/unix_group/Makefile
+	helpers/external_acl/wbinfo_group/Makefile
+	helpers/external_acl/time_quota/Makefile
+	helpers/log_daemon/Makefile
+	helpers/log_daemon/DB/Makefile
+	helpers/log_daemon/file/Makefile
+	helpers/url_rewrite/Makefile
+	helpers/url_rewrite/fake/Makefile
+	helpers/ssl/Makefile
+	helpers/storeid_rewrite/Makefile
+	helpers/storeid_rewrite/file/Makefile
 	tools/Makefile
+	tools/squidclient/Makefile
 	tools/purge/Makefile
 ])
 
@@ -35,7 +35,6 @@
  * - initial version (Richard Huveneers <Richard.Huveneers@hekkihek.hacom.nl>)
  */
 
-#include <stdio.h>
 #include <unistd.h>
 #include <string.h>
 #include <ctype.h>
@@ -7,7 +7,6 @@ section --    Unlink Daemon
 section --    WWW Client
 section 00    Announcement Server
 section 00    Client Database
-section 00    DNS Resolver Daemon
 section 00    Debug Routines
 section 00    Hash Tables
 section 00    UFS Store Dump Tool
@@ -68,7 +67,7 @@ section 30    Ident (RFC 931)
 section 31    Hypertext Caching Protocol
 section 32    Asynchronous Disk I/O
 section 33    Client-side Routines
-section 34    Dnsserver interface
+section 33    Transfer protocol servers
 section 35    FQDN Cache
 section 37    ICMP Routines
 section 38    Network Measurement Database
@@ -89,7 +88,6 @@ section 46    Access Log - Squid ICAP Logging
 section 46    Access Log - Squid format
 section 46    Access Log - Squid referer format
 section 46    Access Log - Squid useragent format
-section 47    Store COSS Directory Routines
 section 47    Store Directory Routines
 section 48    Persistent Connections
 section 49    SNMP Interface
@@ -128,7 +126,6 @@ section 78    DNS lookups; interacts with lib/rfc1035.c
 section 79    Disk IO Routines
 section 79    Squid-side DISKD I/O functions.
 section 79    Squid-side Disk I/O functions.
-section 79    Storage Manager COSS Interface
 section 79    Storage Manager UFS Interface
 section 79   Disk IO Routines
 section 80    WCCP Support
@@ -7,16 +7,18 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
-"PO-Revision-Date: 2009-07-22 09:45+0000\n"
-"Last-Translator: Amos Jeffries <Unknown>\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
+"PO-Revision-Date: 2013-10-31 11:22+0200\n"
+"Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Arabic <ar@li.org>\n"
 "Language: ar\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=6; plural=n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 "
+"&& n%100<=10 ? 3 : n%100>=11 && n%100<=99 ? 4 : 5;\n"
+"X-Generator: Pootle 2.1.6\n"
 "X-Launchpad-Export-Date: 2009-07-22 09:52+0000\n"
-"X-Generator: Launchpad (build Unknown)\n"
 
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:3
@@ -38,7 +40,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr ""
@@ -68,7 +70,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr ""
@@ -93,7 +95,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr "وصف"
@@ -143,7 +145,7 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -189,9 +191,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -205,8 +207,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr "ترخيص"
@@ -235,8 +237,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -255,9 +257,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -271,16 +273,16 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "حقوق الطبع"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -302,7 +304,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -317,7 +319,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -326,9 +328,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -342,18 +344,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -367,8 +369,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -377,9 +379,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -393,18 +395,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "تقرير عن ثغرة"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -418,7 +420,7 @@ msgstr "تقرير عن ثغرة"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -428,9 +430,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -444,17 +446,17 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -468,8 +470,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -478,9 +480,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -494,18 +496,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -519,18 +521,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "قرآءه الكُل"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -544,16 +546,16 @@ msgstr "قرآءه الكُل"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -567,7 +569,7 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr ""
 
@@ -599,17 +601,16 @@ msgstr ""
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:18
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:33
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:20
-#, fuzzy
 msgid "LDAP server name"
-msgstr "B<-s >I<service-name>"
+msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:20
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:35
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr ""
 
@@ -657,7 +658,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -673,7 +674,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr "خيارات"
@@ -942,7 +943,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr ""
 
@@ -994,35 +995,42 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1031,12 +1039,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1045,7 +1053,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1059,9 +1067,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/PAM/basic_pam_auth.8:11
-#, fuzzy
 msgid "service name"
-msgstr "B<-s >I<service-name>"
+msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/PAM/basic_pam_auth.8:13
@@ -1163,9 +1170,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:16
-#, fuzzy
 msgid "server name"
-msgstr "B<-s >I<service-name>"
+msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:20
@@ -1179,10 +1185,10 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
-#, fuzzy
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
-msgstr "B<-s >I<service-name>"
+msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:30
@@ -1261,19 +1267,24 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+msgid "Specifies the RADIUS request timeout."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr ""
 
@@ -1553,7 +1564,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr ""
 
@@ -2066,9 +2078,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/file_userip/ext_file_userip_acl.8:14
-#, fuzzy
 msgid "file name"
-msgstr "B<-s >I<service-name>"
+msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/file_userip/ext_file_userip_acl.8:19
@@ -2277,22 +2288,23 @@ msgstr ""
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
 
 #. type: Plain text
@@ -2829,7 +2841,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr ""
 
 #. type: Plain text
@@ -3520,23 +3532,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
 msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3545,77 +3578,77 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
 "provides error pages for."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3624,7 +3657,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3635,7 +3668,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -3701,89 +3734,89 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 #, fuzzy
 msgid "version"
 msgstr "النسخة 1.0"
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+msgid "interval"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -3793,54 +3826,50 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
+#: tools/squidclient/squidclient.1:90
+msgid "Host header content"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:99
-msgid "Host header content"
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -3858,80 +3887,108 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr ""
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
+msgid ""
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+msgid ""
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
+msgid ""
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+msgstr ""
+
 #, fuzzy
 #~ msgid "B<nsswitch.conf>"
 #~ msgstr "I<msntauth.conf>"
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
 "PO-Revision-Date: 2009-11-18 14:09+0000\n"
 "Last-Translator: Kuvaly <kuvaly@seznam.cz>\n"
 "Language-Team: Czech <cs@li.org>\n"
@@ -37,7 +37,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr ""
@@ -67,7 +67,7 @@ msgstr "Pomocník autorizace  místních uživatelů pro Squid"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr ""
@@ -92,7 +92,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr ""
@@ -142,7 +142,7 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -188,9 +188,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -204,8 +204,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr ""
@@ -234,8 +234,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -254,9 +254,9 @@ msgstr "Tento manuál byl napsán"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -270,16 +270,16 @@ msgstr "Tento manuál byl napsán"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "AUTORSKÁ PRÁVA"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -301,7 +301,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -316,7 +316,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -325,9 +325,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -341,18 +341,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr "DOTAZY"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -366,8 +366,8 @@ msgstr "DOTAZY"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -376,9 +376,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -392,18 +392,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "OZNAMOVÁNÍ CHYB"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -417,7 +417,7 @@ msgstr "OZNAMOVÁNÍ CHYB"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -427,9 +427,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -443,17 +443,17 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -467,8 +467,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -477,9 +477,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -493,18 +493,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -518,18 +518,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "VIZ TAKÉ"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -543,16 +543,16 @@ msgstr "VIZ TAKÉ"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -566,7 +566,7 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr ""
 
@@ -607,7 +607,7 @@ msgstr "název LDAP serveru"
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr "port"
 
@@ -655,7 +655,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -671,7 +671,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr ""
@@ -940,7 +940,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr ""
 
@@ -992,35 +992,42 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1029,12 +1036,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1043,7 +1050,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1175,7 +1182,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr ""
 
@@ -1256,19 +1264,24 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+msgid "Specifies the RADIUS request timeout."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr ""
 
@@ -1546,7 +1559,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr ""
 
@@ -2265,22 +2279,23 @@ msgstr ""
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
 
 #. type: Plain text
@@ -2812,7 +2827,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr ""
 
 #. type: Plain text
@@ -3500,23 +3515,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
 msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3525,77 +3561,77 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
 "provides error pages for."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3604,7 +3640,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3615,7 +3651,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -3681,88 +3717,88 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+msgid "interval"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -3772,54 +3808,50 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
+#: tools/squidclient/squidclient.1:90
+msgid "Host header content"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:99
-msgid "Host header content"
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -3837,76 +3869,104 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
+msgid ""
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+msgid ""
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
+msgid ""
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+msgstr ""
@@ -7,16 +7,16 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
-"PO-Revision-Date: 2010-06-06 10:48+0200\n"
-"Last-Translator: Robert Förster <Dessa@gmake.de>\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
+"PO-Revision-Date: 2013-10-31 13:20+0200\n"
+"Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: German <de@li.org>\n"
 "Language: de\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
-"X-Generator: Pootle 2.0.1\n"
+"X-Generator: Pootle 2.1.6\n"
 "X-Launchpad-Export-Date: 2010-01-10 09:12+0000\n"
 
 #. type: SH
@@ -39,7 +39,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr "NAME"
@@ -69,7 +69,7 @@ msgstr "Authentifizierungshelfer für lokale Nutzer von Squid"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr "SYNTAX"
@@ -94,7 +94,7 @@ msgstr "SYNTAX"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr "BESCHREIBUNG"
@@ -158,7 +158,7 @@ msgstr "Kann PAM Anfragen verarbeiten"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -216,9 +216,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -232,8 +232,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr "AUTOR"
@@ -262,8 +262,8 @@ msgstr "Basiert auf Originalcode von"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -282,9 +282,9 @@ msgstr "Dieses Handbuch wurde geschrieben von"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -298,16 +298,16 @@ msgstr "Dieses Handbuch wurde geschrieben von"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "COPYRIGHT"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -331,7 +331,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -346,7 +346,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -357,9 +357,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -373,18 +373,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr "FRAGEN"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -398,8 +398,8 @@ msgstr "FRAGEN"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -410,9 +410,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -426,18 +426,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "BUGS MELDEN"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -451,7 +451,7 @@ msgstr "BUGS MELDEN"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -464,9 +464,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -480,17 +480,17 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr "Melden sie Bugs oder Bugfixes unter http://bugs.squid-cache.org/"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -504,8 +504,8 @@ msgstr "Melden sie Bugs oder Bugfixes unter http://bugs.squid-cache.org/"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -516,9 +516,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -532,8 +532,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
@@ -543,9 +543,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -559,18 +559,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "SIEHE AUCH"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -584,16 +584,16 @@ msgstr "SIEHE AUCH"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -607,7 +607,7 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr ""
 
@@ -648,7 +648,7 @@ msgstr "LDAP server name"
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr "Port"
 
@@ -702,7 +702,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -718,7 +718,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr "OPTIONEN"
@@ -863,7 +863,7 @@ msgstr ""
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:182
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:170
 msgid "Do not follow referrals"
-msgstr ""
+msgstr "Folge nicht den Verweisen"
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:187
@@ -909,7 +909,7 @@ msgstr ""
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:222
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:210
 msgid "Use TLS encryption"
-msgstr ""
+msgstr "Nutze TLS Verschlüsselung"
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:226
@@ -928,7 +928,7 @@ msgstr ""
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:237
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:192
 msgid "Specify time limit on LDAP search operations"
-msgstr ""
+msgstr "Definiert das Zeitlimit bei LDAP-Suchanfragen"
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:243
@@ -987,7 +987,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr ""
 
@@ -1044,37 +1044,44 @@ msgstr ""
 "Diese Passwortdatei kann unter der Verwendung von htpasswd verändert werden."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 #, fuzzy
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 "B<ncsa_auth> benötigt Zugriff auf die Passwortdatei, um ausgeführt zu werden."
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1083,12 +1090,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1097,7 +1104,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1237,7 +1244,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr ""
 
@@ -1322,12 +1330,17 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+msgid "Specifies the RADIUS request timeout."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 #, fuzzy
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
@@ -1337,7 +1350,7 @@ msgstr ""
 "E<lt>squid-users@squid-cache.orgE<gt>> Mailingliste gesendet werden."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr ""
 
@@ -1622,7 +1635,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr "Authentifizierungshelfer für lokale Nutzer von Squid"
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 #, fuzzy
 msgid "file"
 msgstr "-f Datei"
@@ -2364,22 +2378,23 @@ msgstr ""
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
 
 #. type: Plain text
@@ -2930,7 +2945,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr ""
 
 #. type: Plain text
@@ -3634,23 +3649,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
-msgstr "Erstelle Swap Verzeichnisse"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
+msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr "DATEIEN"
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3659,77 +3695,77 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
 "provides error pages for."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3738,7 +3774,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3749,7 +3785,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -3826,88 +3862,88 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+msgid "interval"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -3917,54 +3953,50 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
+#: tools/squidclient/squidclient.1:90
+msgid "Host header content"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:99
-msgid "Host header content"
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -3982,80 +4014,111 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr ""
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
+msgid ""
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+msgid ""
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
+msgid ""
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+msgstr ""
+
+#~ msgid "Create swap directories"
+#~ msgstr "Erstelle Swap Verzeichnisse"
+
 #, fuzzy
 #~| msgid "CONFIGURATION"
 #~ msgid "CONFGURATION"
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
 "PO-Revision-Date: 2012-02-24 15:49+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -33,7 +33,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr "NAME"
@@ -63,7 +63,7 @@ msgstr "Local Users auth helper for Squid"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr "SYNOPSIS"
@@ -88,7 +88,7 @@ msgstr "SYNOPSIS"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr "DESCRIPTION"
@@ -140,7 +140,7 @@ msgstr "- Can handle PAM requests"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -197,9 +197,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -213,8 +213,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr "AUTHOR"
@@ -243,8 +243,8 @@ msgstr "Based on original code by"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -263,9 +263,9 @@ msgstr "This manual was written by"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -279,16 +279,16 @@ msgstr "This manual was written by"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "COPYRIGHT"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -311,7 +311,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -326,7 +326,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -337,9 +337,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -353,18 +353,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr "QUESTIONS"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -378,8 +378,8 @@ msgstr "QUESTIONS"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -390,9 +390,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -406,18 +406,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "REPORTING BUGS"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -431,7 +431,7 @@ msgstr "REPORTING BUGS"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -444,9 +444,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -460,17 +460,17 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -484,8 +484,8 @@ msgstr "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -496,9 +496,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -512,8 +512,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
@@ -522,9 +522,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -538,18 +538,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "SEE ALSO"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -563,16 +563,16 @@ msgstr "SEE ALSO"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr "The Squid FAQ wiki"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -586,7 +586,7 @@ msgstr "The Squid FAQ wiki"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr "The Squid Configuration Manual"
 
@@ -627,7 +627,7 @@ msgstr "LDAP server name"
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr "port"
 
@@ -689,7 +689,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -705,7 +705,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr "OPTIONS"
@@ -1047,7 +1047,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr "This program is written by"
 
@@ -1104,16 +1104,27 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr "This password file can be manipulated using B<htpasswd.>"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
+#, fuzzy
+#| msgid ""
+#| "This authenticator accepts: * MD5 - with optional salt and magic strings "
+#| "* DES - for passwords 8 characters or less in length"
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
 msgstr ""
 "This authenticator accepts: * MD5 - with optional salt and magic strings * "
 "DES - for passwords 8 characters or less in length"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
@@ -1122,22 +1133,22 @@ msgstr ""
 "read by the user that Squid is running as."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr "KNOWN ISSUES"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1150,12 +1161,12 @@ msgstr ""
 "using DES."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr "Based on original documentation by"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1168,7 +1179,7 @@ msgstr ""
 "details."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1323,7 +1334,8 @@ msgstr "secret"
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr "timeout"
 
@@ -1420,12 +1432,19 @@ msgstr ""
 "Specifies the port number or service name where the helper should connect."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+#, fuzzy
+#| msgid "specifies the shared RADIUS secret."
+msgid "Specifies the RADIUS request timeout."
+msgstr "specifies the shared RADIUS secret."
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr "With contributions from many others."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
@@ -1434,7 +1453,7 @@ msgstr ""
 "to RADIUS than Squid."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 
@@ -1774,7 +1793,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr "File based digest authentication helper for Squid."
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr "file"
 
@@ -2485,9 +2505,9 @@ msgstr ""
 "B<ext_kerberos_ldap_group_acl> will determine the ldap server name from DNS "
 "SRV and/or A records or a local hosts file (e.g. for the Kerberos Realm "
 "B<SUSE.HOME> it will look for an SRV record B<_ldap._tcp.SUSE.HOME> and an A "
-"record B<SUSE.HOME> or a B<SUSE.HOME> hosts entry). If no domain "
-"information is available from the username the LDAP server will be "
-"determined through the command line options."
+"record B<SUSE.HOME> or a B<SUSE.HOME> hosts entry). If no domain information "
+"is available from the username the LDAP server will be determined through "
+"the command line options."
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:51
@@ -2498,11 +2518,11 @@ msgid ""
 "specified by B<-m> depth. For other LDAP servers a RFC2307bis schema of "
 "groups is assumed."
 msgstr ""
-"B<ext_kerberos_ldap_group_acl> requires as a minimum the B<-g> , B<-t> or "
-"B<-T> option which provides the LDAP group name the user has to belong too. "
-"For Active Directory a recursive group lookup is implemented until a max "
-"depth specified by B<-m> depth. For other LDAP servers a RFC2307bis schema "
-"of groups is assumed."
+"B<ext_kerberos_ldap_group_acl> requires as a minimum the B<-g> , B<-t> or B<-"
+"T> option which provides the LDAP group name the user has to belong too. For "
+"Active Directory a recursive group lookup is implemented until a max depth "
+"specified by B<-m> depth. For other LDAP servers a RFC2307bis schema of "
+"groups is assumed."
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:64
@@ -2533,7 +2553,6 @@ msgstr "Write informational messages to stderr."
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:78
-#| msgid "Use persistent connections."
 msgid "Use SSL for the LDAP connection."
 msgstr "Use SSL for the LDAP connection."
 
@@ -2576,9 +2595,9 @@ msgid ""
 "Name@Kerberos-Realm[:Netbios-Name@Kerberos-Realm] (e.g. for users using NTLM "
 "authentication)."
 msgstr ""
-"A list of Netbios name mappings to Kerberos domain names of the form "
-"Netbios-Name@Kerberos-Realm[:Netbios-Name@Kerberos-Realm] (e.g. for users "
-"using NTLM authentication)."
+"A list of Netbios name mappings to Kerberos domain names of the form Netbios-"
+"Name@Kerberos-Realm[:Netbios-Name@Kerberos-Realm] (e.g. for users using NTLM "
+"authentication)."
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:97
@@ -2633,37 +2652,37 @@ msgid ""
 "list of ldap servers of the form lserver|lserver@|lserver@Realm[:lserver@|"
 "lserver@Realm]"
 msgstr ""
-"list of ldap servers of the form "
-"lserver|lserver@|lserver@Realm[:lserver@|lserver@Realm]"
+"list of ldap servers of the form lserver|lserver@|lserver@Realm[:lserver@|"
+"lserver@Realm]"
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
-"A list of group name per Kerberos domain of the form "
-"Group|Group@|Group@Realm[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
-"A list of group name per Kerberos domain of the form "
-"Group|Group@|Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex "
-"format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
-"A list of group name per Kerberos domain of the form "
-"Group|Group@|Group@Realm[:Group@|Group@Realm] where group and domain is in "
-"UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:140
@@ -3223,7 +3242,9 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+#, fuzzy
+#| msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr "Configuration example using the default automatic mode"
 
 #. type: Plain text
@@ -3960,23 +3981,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
-msgstr "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
+msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr "FILES"
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr "Squid configuration files located in @SYSCONFDIR@/:"
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3989,7 +4031,7 @@ msgstr ""
 "even that."
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
@@ -3998,7 +4040,7 @@ msgstr ""
 "version of Squid you are using."
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
@@ -4007,7 +4049,7 @@ msgstr ""
 "upgrading."
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
@@ -4018,17 +4060,17 @@ msgstr ""
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr "The main configuration file for the web B<cachemgr.cgi> tools."
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr "The main configuration file for the Sample MSNT authenticator."
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
@@ -4039,22 +4081,22 @@ msgstr ""
 "provides error pages for."
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr "Some files also located elsewhere:"
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr "MIME type mappings for FTP gatewaying"
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr "Location of Squid error pages and templates."
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
@@ -4063,7 +4105,7 @@ msgstr ""
 "maintained in turn by"
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
@@ -4074,7 +4116,7 @@ msgstr ""
 "CREDITS for a list of major code contributing copyright holders."
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -4087,7 +4129,7 @@ msgstr ""
 "and NCR 9521745 under which most of this code was developed."
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -4104,7 +4146,7 @@ msgstr ""
 "Public License for more details."
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -4190,16 +4232,16 @@ msgstr ""
 "B<cachemgr.cgi> program."
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
@@ -4208,72 +4250,74 @@ msgstr ""
 "you need to include with your bug report."
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr "A simple HTTP web client tool"
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr "string"
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr "count"
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr "remote host"
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr "IMS"
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr "ping interval"
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr "Host header"
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr "local host"
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr "method"
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr "count"
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr "user"
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr "version"
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr "password"
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr "url"
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+#, fuzzy
+#| msgid "ping interval"
+msgid "interval"
+msgstr "ping interval"
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -4288,56 +4332,52 @@ msgstr ""
 "management information are provided."
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr "Do NOT include Accept: header."
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr "Retrieve URL from cache on hostname.  Default is B<localhost>"
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 "Extra headers to send. Use B<'\n"
 "'> for new lines."
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr "If-Modified-Since time (in Epoch seconds)."
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
-msgstr "Ping interval in seconds (default 1 second)."
-
-#. type: Plain text
-#: tools/squidclient.1:99
+#: tools/squidclient/squidclient.1:90
 msgid "Host header content"
 msgstr "Host header content"
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr "Specify a local IP address to bind to.  Default is none."
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -4367,106 +4407,140 @@ msgstr ""
 " access. Here is an example:\n"
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr "Proxy Negotiate(Kerberos) authentication."
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr "Use kinit username@DOMAIN first to get initial TGS."
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr "WWW Negotiate(Kerberos) authentication."
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr "Port number of cache.  Default is 3128."
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr "Request body. Using the named file as data."
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr "Force cache to reload URL."
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr "Silent.  Do not print data to stdout."
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr "Trace I<count> HTTP relay or proxy hops"
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr "Timeout value (seconds) for read/write operations."
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr "Proxy authentication username"
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr "WWW authentication username"
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr "Verbose. Print outgoing message to stderr."
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr "Proxy authentication password"
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr "WWW authentication password"
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
 msgid ""
-"B<ext_session_acl> maintains a concept of sessions by monitoring requests "
-"and timing out sessions if no requests have been seen for the idle "
-"timeout timer."
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
 msgstr ""
-"B<ext_session_acl> maintains a concept of sessions by monitoring requests "
-"and timing out sessions if no requests have been seen for the idle "
-"timeout timer."
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+#, fuzzy
+#| msgid ""
+#| "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
 msgid ""
-"Intended use is for displaying \"terms of use\" pages, ad popups etc."
-msgstr ""
-"Intended use is for displaying \"terms of use\" pages, ad popups etc."
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
 
-msgid ""
-"B<Path> to persistent database. If not specified the session details will "
-"be kept in memory only and all sessions will reset each time Squid "
-"restarts it's helpers (Squid restart or rotation of logs)."
-msgstr ""
-"B<Path> to persistent database. If not specified the session details will "
-"be kept in memory only and all sessions will reset each time Squid "
-"restarts it's helpers (Squid restart or rotation of logs)."
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr "Ping interval in seconds (default 1 second)."
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
 msgid ""
-"Without this flag the helper automatically starts the session after the "
-"first request."
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
 msgstr ""
-"Without this flag the helper automatically starts the session after the "
-"first request."
+
+#~ msgid "Create swap directories"
+#~ msgstr "Create swap directories"
+
+#~ msgid ""
+#~ "B<ext_session_acl> maintains a concept of sessions by monitoring requests "
+#~ "and timing out sessions if no requests have been seen for the idle "
+#~ "timeout timer."
+#~ msgstr ""
+#~ "B<ext_session_acl> maintains a concept of sessions by monitoring requests "
+#~ "and timing out sessions if no requests have been seen for the idle "
+#~ "timeout timer."
+
+#~ msgid ""
+#~ "Intended use is for displaying \"terms of use\" pages, ad popups etc."
+#~ msgstr ""
+#~ "Intended use is for displaying \"terms of use\" pages, ad popups etc."
+
+#~ msgid ""
+#~ "B<Path> to persistent database. If not specified the session details will "
+#~ "be kept in memory only and all sessions will reset each time Squid "
+#~ "restarts it's helpers (Squid restart or rotation of logs)."
+#~ msgstr ""
+#~ "B<Path> to persistent database. If not specified the session details will "
+#~ "be kept in memory only and all sessions will reset each time Squid "
+#~ "restarts it's helpers (Squid restart or rotation of logs)."
+
+#~ msgid ""
+#~ "Without this flag the helper automatically starts the session after the "
+#~ "first request."
+#~ msgstr ""
+#~ "Without this flag the helper automatically starts the session after the "
+#~ "first request."
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
 "PO-Revision-Date: 2011-11-09 23:56+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: English (Australia) <en_AU@li.org>\n"
@@ -39,7 +39,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr "NAME"
@@ -69,7 +69,7 @@ msgstr "Local Users auth helper for Squid"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr "SYNOPSIS"
@@ -94,7 +94,7 @@ msgstr "SYNOPSIS"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr "DESCRIPTION"
@@ -146,7 +146,7 @@ msgstr "- Can handle PAM requests"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -203,9 +203,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -219,8 +219,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr "AUTHOR"
@@ -249,8 +249,8 @@ msgstr "Based on original code by"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -269,9 +269,9 @@ msgstr "This manual was written by"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -285,16 +285,16 @@ msgstr "This manual was written by"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "COPYRIGHT"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -317,7 +317,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -332,7 +332,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -343,9 +343,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -359,18 +359,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr "QUESTIONS"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -384,8 +384,8 @@ msgstr "QUESTIONS"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -396,9 +396,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -412,18 +412,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "REPORTING BUGS"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -437,7 +437,7 @@ msgstr "REPORTING BUGS"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -447,9 +447,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -463,17 +463,17 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -487,8 +487,8 @@ msgstr "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -499,9 +499,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -515,8 +515,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
@@ -525,9 +525,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -541,18 +541,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "SEE ALSO"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -566,16 +566,16 @@ msgstr "SEE ALSO"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -589,7 +589,7 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr ""
 
@@ -630,7 +630,7 @@ msgstr "LDAP server name"
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr "port"
 
@@ -692,7 +692,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -708,7 +708,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr "OPTIONS"
@@ -1047,7 +1047,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr "This program is written by"
 
@@ -1104,14 +1104,21 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr "This password file can be manipulated using B<htpasswd.>"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
@@ -1120,22 +1127,22 @@ msgstr ""
 "read by the user that Squid is running as."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr "KNOWN ISSUES"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1144,12 +1151,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr "Based on original documentation by"
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1162,7 +1169,7 @@ msgstr ""
 "details."
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1314,7 +1321,8 @@ msgstr "secret"
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr "timeout"
 
@@ -1411,12 +1419,19 @@ msgstr ""
 "Specifies the port number or service name where the helper should connect."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+#, fuzzy
+#| msgid "specifies the shared RADIUS secret."
+msgid "Specifies the RADIUS request timeout."
+msgstr "specifies the shared RADIUS secret."
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr "With contributions from many others."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
@@ -1425,7 +1440,7 @@ msgstr ""
 "to RADIUS than Squid."
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 
@@ -1703,7 +1718,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr "File based digest authentication helper for Squid."
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr "file"
 
@@ -2445,22 +2461,23 @@ msgstr ""
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
 
 #. type: Plain text
@@ -3061,7 +3078,9 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+#, fuzzy
+#| msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr "Configuration example using the default automatic mode"
 
 #. type: Plain text
@@ -3796,23 +3815,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
-msgstr "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
+msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr "FILES"
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3825,39 +3865,39 @@ msgstr ""
 "even that."
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr "The main configuration file for the web B<cachemgr.cgi> tools."
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr "The main configuration file for the Sample MSNT authenticator."
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
@@ -3868,37 +3908,37 @@ msgstr ""
 "provides error pages for."
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr "MIME type mappings for FTP gatewaying"
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr "Location of Squid error pages and templates."
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3907,7 +3947,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3924,7 +3964,7 @@ msgstr ""
 "Public License for more details."
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -4008,9 +4048,15 @@ msgstr ""
 "B<cachemgr.cgi> program."
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
+#, fuzzy
+#| msgid ""
+#| "Derived from Harvest. Further developed by by numerous individuals from "
+#| "the internet community. Development is led by Duane Wessels of the "
+#| "National Laboratory for Applied Network Research and funded by the "
+#| "National Science Foundation."
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
@@ -4021,79 +4067,81 @@ msgstr ""
 "Foundation."
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr "A simple HTTP web client tool"
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr "string"
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr "count"
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr "remote host"
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr "IMS"
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr "ping interval"
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr "Host header"
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr "local host"
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr "method"
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr "count"
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr "user"
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr "version"
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr "password"
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr "url"
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+#, fuzzy
+#| msgid "ping interval"
+msgid "interval"
+msgstr "ping interval"
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -4108,54 +4156,50 @@ msgstr ""
 "management information are provided."
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr "Do NOT include Accept: header."
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr "Retrieve URL from cache on hostname.  Default is B<localhost>"
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr "Extra headers to send. Use B<'\\n'> for new lines."
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr "If-Modified-Since time (in Epoch seconds)."
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
-msgstr "Ping interval in seconds (default 1 second)."
-
-#. type: Plain text
-#: tools/squidclient.1:99
+#: tools/squidclient/squidclient.1:90
 msgid "Host header content"
 msgstr "Host header content"
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr "Specify a local IP address to bind to.  Default is none."
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -4185,109 +4229,147 @@ msgstr ""
 " access. Here is an example:\n"
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr "Port number of cache.  Default is 3128."
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr "Request body. Using the named file as data."
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr "Force cache to reload URL."
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr "Silent.  Do not print data to stdout."
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr "Trace I<count> HTTP relay or proxy hops"
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr "Timeout value (seconds) for read/write operations."
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr "Proxy authentication username"
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr "WWW authentication username"
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr "Verbose. Print outgoing message to stderr."
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr "Proxy authentication password"
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr "WWW authentication password"
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
 msgid ""
-"B<ext_session_acl> maintains a concept of sessions by monitoring requests "
-"and timing out sessions if no requests have been seen for the idle "
-"timeout timer."
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
 msgstr ""
-"B<ext_session_acl> maintains a concept of sessions by monitoring requests "
-"and timing out sessions if no requests have been seen for the idle "
-"timeout timer."
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+#, fuzzy
+#| msgid ""
+#| "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
 msgid ""
-"Intended use is for displaying \"terms of use\" pages, ad popups etc."
-msgstr ""
-"Intended use is for displaying \"terms of use\" pages, ad popups etc."
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
 
-msgid ""
-"B<Path> to persistent database. If not specified the session details will "
-"be kept in memory only and all sessions will reset each time Squid "
-"restarts it's helpers (Squid restart or rotation of logs)."
-msgstr ""
-"B<Path> to persistent database. If not specified the session details will "
-"be kept in memory only and all sessions will reset each time Squid "
-"restarts it's helpers (Squid restart or rotation of logs)."
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr "Ping interval in seconds (default 1 second)."
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
 msgid ""
-"Without this flag the helper automatically starts the session after the "
-"first request."
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
 msgstr ""
-"Without this flag the helper automatically starts the session after the "
-"first request."
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+
+#~ msgid "Create swap directories"
+#~ msgstr "Create swap directories"
+
+#~ msgid ""
+#~ "B<ext_session_acl> maintains a concept of sessions by monitoring requests "
+#~ "and timing out sessions if no requests have been seen for the idle "
+#~ "timeout timer."
+#~ msgstr ""
+#~ "B<ext_session_acl> maintains a concept of sessions by monitoring requests "
+#~ "and timing out sessions if no requests have been seen for the idle "
+#~ "timeout timer."
+
+#~ msgid ""
+#~ "Intended use is for displaying \"terms of use\" pages, ad popups etc."
+#~ msgstr ""
+#~ "Intended use is for displaying \"terms of use\" pages, ad popups etc."
+
+#~ msgid ""
+#~ "B<Path> to persistent database. If not specified the session details will "
+#~ "be kept in memory only and all sessions will reset each time Squid "
+#~ "restarts it's helpers (Squid restart or rotation of logs)."
+#~ msgstr ""
+#~ "B<Path> to persistent database. If not specified the session details will "
+#~ "be kept in memory only and all sessions will reset each time Squid "
+#~ "restarts it's helpers (Squid restart or rotation of logs)."
+
+#~ msgid ""
+#~ "Without this flag the helper automatically starts the session after the "
+#~ "first request."
+#~ msgstr ""
+#~ "Without this flag the helper automatically starts the session after the "
+#~ "first request."
 
 #, fuzzy
 #~| msgid "CONFIGURATION"
@@ -7,7 +7,7 @@ msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2010-02-13 00:05+1400\n"
-"PO-Revision-Date: 2012-04-06 19:32+0200\n"
+"PO-Revision-Date: 2012-07-19 14:51+0200\n"
 "Last-Translator: Bernard <fli4l.charrier@free.fr>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
 "Language: fr\n"
@@ -47,7 +47,7 @@ msgid ""
 "to validate the user name and password of Basic HTTP authentication."
 msgstr ""
 "B<basic_getpwnam_auth> permet d'authentifier les comptes utilisateurs locaux "
-"de Squid, pour valider le nom d'utilisateur et le mot de passe de "
+"de Squid, pour valider le nom d'utilisateur et le mot de passe via "
 "l'authentification HTTP de base."
 
 #. type: Plain text
@@ -276,7 +276,7 @@ msgid ""
 "separated by a space."
 msgstr ""
 "B<basic_ldap_auth> permet à Squid de se connecter à un annuaire LDAP pour "
-"valider le nom d'utilisateur et le mot de passe de l'authentification HTTP "
+"valider le nom d'utilisateur et le mot de passe via l'authentification HTTP "
 "de base. Les options LDAP sont spécifiées par des paramètres en ligne de "
 "commande, le(s) nom(s) d'utilisateur(s) et le(s) mot(s) de passe(s) sont "
 "vérifiés dans l'annuaire LDAP, les entrées sont indiquées sur la ligne "
@@ -551,7 +551,7 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:216 helpers/external_acl/ldap_group/squid_ldap_group.8:204
 msgid "LDAP protocol version. Defaults to 2 if not specified."
-msgstr "Version du protocole LDAP. Par défaut 2 S'il n'est pas spécifié."
+msgstr "Version du protocole LDAP. Par défaut 2 s'il n'est pas spécifié."
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:220 helpers/external_acl/ldap_group/squid_ldap_group.8:208
@@ -585,7 +585,7 @@ msgid ""
 "Debug mode where each step taken will get reported in detail.  Useful for "
 "understanding what goes wrong if the results is not what is expected."
 msgstr ""
-"Mode Déboguage, chaque étape sera enregistrée en détail. S'utilise pour "
+"Mode déboguage, chaque étape sera enregistrée en détail. S'utilise pour "
 "comprendre ce qui a mal tourne ou si les résultats ne sont pas ceux "
 "attendus."
 
@@ -655,7 +655,7 @@ msgid ""
 msgstr ""
 "B<NOTE:> lors de la construction du filtre de recherche, il est fortement "
 "recommandé de tester le filtre en utilisant B<ldapsearch>, avant d'essayer "
-"d'utiliser B<basic_ldap_auth>. Ceci pour vérifier que le filtre correspond "
+"d'utiliser B<basic_ldap_auth>. Cela sert à vérifier que le filtre correspond "
 "bien à ce que vous attendez."
 
 #. type: Plain text
@@ -708,9 +708,9 @@ msgid ""
 "HTTP authentication."
 msgstr ""
 "B<basic_ncsa_auth> permet à Squid de lire les informations "
-"d'authentification de l'utilisateur et du mot de passe dans NCSA/Apache "
-"httpd/style à partir du fichier mot de passe, lorsque l'on utilise "
-"l'authentification HTTP de base."
+"d'authentification de l'utilisateur et du mot de passe, à partir du fichier "
+"mot de passe dans Apache/NCSA avec le style-httpd,via l'authentification "
+"HTTP de base."
 
 #. type: Plain text
 #: helpers/basic_auth/NCSA/basic_ncsa_auth.8:19
@@ -786,7 +786,7 @@ msgid ""
 msgstr ""
 "B<basic_pam_auth> permet à Squid de se connecter sur n'importe quelle base "
 "de données PAM disponible, pour valider le nom d'utilisateur et le mot de "
-"passe pour l'authentification HTTP de base."
+"passe via l'authentification HTTP de base."
 
 #. type: Plain text
 #: helpers/basic_auth/PAM/basic_pam_auth.8:26
@@ -923,7 +923,7 @@ msgid ""
 "the user name and password of Basic HTTP authentication."
 msgstr ""
 "B<basic_radius_auth> permet à Squid de se connecter à un serveur RADIUS pour "
-"valider le nom d'utilisateur et le mot de passe avec l'authentification "
+"valider le nom d'utilisateur et le mot de passe, via l'authentification "
 "HTTP de base."
 
 #. type: Plain text
@@ -1507,10 +1507,10 @@ msgid ""
 "lookups, supports non-blocking DNS lookups, and implements negative caching "
 "of failed requests."
 msgstr ""
-"Squid conserve au chaud (la mis en cache) des meta-données et des données "
-"les plus utilisées sont cachées dans la RAM, il conserve aussi les DNS dans "
-"la mémoire, les DNS sont non bloquante et applique la mise en cache négative "
-"des requêtes ayant échouées."
+"Squid conserve au chaud (mis en cache) dans la RAM les meta-données et plus "
+"particulièrement les données fréquemment utilisées, il conserve aussi en "
+"mémoire les requêtes DNS, ainsi que les requêtes ayant échoué, les requêtes "
+"DNS sont non bloquante."
 
 #. type: Plain text
 #: src/squid.8.in:41
@@ -1537,9 +1537,9 @@ msgstr ""
 "Le programme Squid se compose d'un serveur principal B<squid>, de programmes "
 "facultatifs pour le traitement personnalisé d'authentification et d'outils "
 "pour la gestion des clients. Lorsque squid démarre, il génère un nombre de "
-"processus configurable avec ca documentation, ainsi chaque processus peut "
-"exécuter des recherches en parallèle. Cela réduit le temps attend pour la "
-"recherche de résultats."
+"processus configurable avec ça documentation, chaque processus peut exécuter "
+"des recherches en parallèle, cela réduit le temps attend de la recherche "
+"des résultats."
 
 #. type: Plain text
 #: src/squid.8.in:51
@@ -1802,8 +1802,8 @@ msgid ""
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
-"Avec la contribution de nombreuse personnes qui crées la communauté Squid. "
-"La liste de tous ce qui ont CONTRIBUÉ le plus et ceux qui détiennent les "
+"Avec la contribution de nombreuses personnes qui crée la communauté Squid. "
+"La liste de tous ceux qui ont CONTRIBUÉ le plus et ceux qui détiennent les "
 "droits d'auteur sont dans le fichier CREDITS."
 
 #. type: Plain text
@@ -1979,7 +1979,7 @@ msgstr "intervalle du ping"
 #. type: Plain text
 #: tools/squidclient.1:22
 msgid "Host header"
-msgstr "En-tête de l'hôte"
+msgstr "en-tête de l'hôte"
 
 #. type: Plain text
 #: tools/squidclient.1:24
@@ -2098,14 +2098,14 @@ msgstr ""
 "I<GET.>\n"
 "Squid prend également en charge une méthode non-standard appelée\n"
 "I<PURGE.>\n"
-"Vous pouvez l'utiliser pour purger une URL spécifique à partir du cache.\n"
-"Vous devez avoir\n"
+"Vous pouvez l'utiliser pour purger une URL spécifique dans le cache.\n"
+"Vous pouvez avoir accès au setup de\n"
 "I<purge>\n"
-"pour accéder au setup dans\n"
+"dans le fichier\n"
 "B<squid.conf>\n"
 "similaire à\n"
 "I<manager>\n"
-"qui peut aussi y accéder. Voici un exemple:\n"
+"pour accéder au setup. Voici un exemple:\n"
 
 #. type: Plain text
 #: tools/squidclient.1:116
@@ -7,15 +7,15 @@ msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2010-02-13 00:05+1400\n"
-"PO-Revision-Date: 2010-05-06 12:33+0200\n"
-"Last-Translator: Francesco Chemolli <kinkie@squid-cache.org>\n"
+"PO-Revision-Date: 2013-10-31 11:53+0200\n"
+"Last-Translator: Francesco <kinkie@squid-cache.org>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
 "Language: it\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
-"X-Generator: Pootle 2.0.1\n"
+"X-Generator: Pootle 2.1.6\n"
 
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:3 helpers/basic_auth/LDAP/basic_ldap_auth.8:3 helpers/basic_auth/NCSA/basic_ncsa_auth.8:3 helpers/basic_auth/PAM/basic_pam_auth.8:3 helpers/basic_auth/RADIUS/basic_radius_auth.8:3 helpers/external_acl/ldap_group/squid_ldap_group.8:3 helpers/external_acl/session/squid_session.8:3 helpers/external_acl/unix_group/squid_unix_group.8:3 src/squid.8.in:3 tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
@@ -509,7 +509,7 @@ msgid ""
 "while B<search ing> or only to B<find> the base object."
 msgstr ""
 "B<never>: non risolvere mai gli alias, B<always>: risolvi sempre gli alias, "
-"B<search ing>: solo durante le ricerche, o B<find>: solo per la ricerca dell"
+"B<search>: solo durante le ricerche, o B<find>: solo per la ricerca dell"
 "'oggetto-base."
 
 #. type: Plain text
@@ -7,7 +7,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -17,7 +17,7 @@ msgstr ""
 "Content-Transfer-Encoding: 8bit\n"
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:3 helpers/basic_auth/LDAP/basic_ldap_auth.8:3 helpers/basic_auth/NCSA/basic_ncsa_auth.8:3 helpers/basic_auth/PAM/basic_pam_auth.8:3 helpers/basic_auth/RADIUS/basic_radius_auth.8:3 helpers/basic_auth/SASL/basic_sasl_auth.8:3 helpers/basic_auth/SSPI/basic_sspi_auth.8:3 helpers/digest_auth/file/digest_file_auth.8:3 helpers/external_acl/AD_group/ext_ad_group_acl.8:3 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:3 helpers/external_acl/file_userip/ext_file_userip_acl.8:3 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:3 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:3 helpers/external_acl/LM_group/ext_lm_group_acl.8:3 helpers/external_acl/session/ext_session_acl.8:3 helpers/external_acl/time_quota/ext_time_quota_acl.8:3 helpers/external_acl/unix_group/ext_unix_group_acl.8:3 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3 tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:3 helpers/basic_auth/LDAP/basic_ldap_auth.8:3 helpers/basic_auth/NCSA/basic_ncsa_auth.8:3 helpers/basic_auth/PAM/basic_pam_auth.8:3 helpers/basic_auth/RADIUS/basic_radius_auth.8:3 helpers/basic_auth/SASL/basic_sasl_auth.8:3 helpers/basic_auth/SSPI/basic_sspi_auth.8:3 helpers/digest_auth/file/digest_file_auth.8:3 helpers/external_acl/AD_group/ext_ad_group_acl.8:3 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:3 helpers/external_acl/file_userip/ext_file_userip_acl.8:3 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:3 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:3 helpers/external_acl/LM_group/ext_lm_group_acl.8:3 helpers/external_acl/session/ext_session_acl.8:3 helpers/external_acl/time_quota/ext_time_quota_acl.8:3 helpers/external_acl/unix_group/ext_unix_group_acl.8:3 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3 tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr ""
@@ -28,13 +28,13 @@ msgid "Local Users auth helper for Squid"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:8 helpers/basic_auth/LDAP/basic_ldap_auth.8:8 helpers/basic_auth/NCSA/basic_ncsa_auth.8:8 helpers/basic_auth/PAM/basic_pam_auth.8:8 helpers/basic_auth/RADIUS/basic_radius_auth.8:8 helpers/basic_auth/SASL/basic_sasl_auth.8:10 helpers/basic_auth/SSPI/basic_sspi_auth.8:10 helpers/digest_auth/file/digest_file_auth.8:10 helpers/external_acl/AD_group/ext_ad_group_acl.8:10 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:10 helpers/external_acl/file_userip/ext_file_userip_acl.8:10 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:10 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:10 helpers/external_acl/LM_group/ext_lm_group_acl.8:10 helpers/external_acl/session/ext_session_acl.8:10 helpers/external_acl/time_quota/ext_time_quota_acl.8:10 helpers/external_acl/unix_group/ext_unix_group_acl.8:8 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8 tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:8 helpers/basic_auth/LDAP/basic_ldap_auth.8:8 helpers/basic_auth/NCSA/basic_ncsa_auth.8:8 helpers/basic_auth/PAM/basic_pam_auth.8:8 helpers/basic_auth/RADIUS/basic_radius_auth.8:8 helpers/basic_auth/SASL/basic_sasl_auth.8:10 helpers/basic_auth/SSPI/basic_sspi_auth.8:10 helpers/digest_auth/file/digest_file_auth.8:10 helpers/external_acl/AD_group/ext_ad_group_acl.8:10 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:10 helpers/external_acl/file_userip/ext_file_userip_acl.8:10 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:10 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:10 helpers/external_acl/LM_group/ext_lm_group_acl.8:10 helpers/external_acl/session/ext_session_acl.8:10 helpers/external_acl/time_quota/ext_time_quota_acl.8:10 helpers/external_acl/unix_group/ext_unix_group_acl.8:8 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8 tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:11 helpers/basic_auth/LDAP/basic_ldap_auth.8:39 helpers/basic_auth/NCSA/basic_ncsa_auth.8:12 helpers/basic_auth/PAM/basic_pam_auth.8:15 helpers/basic_auth/RADIUS/basic_radius_auth.8:26 helpers/basic_auth/SASL/basic_sasl_auth.8:13 helpers/basic_auth/SSPI/basic_sspi_auth.8:20 helpers/digest_auth/file/digest_file_auth.8:15 helpers/external_acl/AD_group/ext_ad_group_acl.8:16 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:33 helpers/external_acl/file_userip/ext_file_userip_acl.8:16 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:14 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:26 helpers/external_acl/LM_group/ext_lm_group_acl.8:16 helpers/external_acl/session/ext_session_acl.8:18 helpers/external_acl/time_quota/ext_time_quota_acl.8:14 helpers/external_acl/unix_group/ext_unix_group_acl.8:15 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25 tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:11 helpers/basic_auth/LDAP/basic_ldap_auth.8:39 helpers/basic_auth/NCSA/basic_ncsa_auth.8:12 helpers/basic_auth/PAM/basic_pam_auth.8:15 helpers/basic_auth/RADIUS/basic_radius_auth.8:26 helpers/basic_auth/SASL/basic_sasl_auth.8:13 helpers/basic_auth/SSPI/basic_sspi_auth.8:20 helpers/digest_auth/file/digest_file_auth.8:15 helpers/external_acl/AD_group/ext_ad_group_acl.8:16 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:33 helpers/external_acl/file_userip/ext_file_userip_acl.8:16 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:14 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:26 helpers/external_acl/LM_group/ext_lm_group_acl.8:16 helpers/external_acl/session/ext_session_acl.8:18 helpers/external_acl/time_quota/ext_time_quota_acl.8:14 helpers/external_acl/unix_group/ext_unix_group_acl.8:15 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25 tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr ""
@@ -82,7 +82,7 @@ msgid "- Can handle PAM requests"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38 helpers/basic_auth/LDAP/basic_ldap_auth.8:244 helpers/basic_auth/NCSA/basic_ncsa_auth.8:31 helpers/basic_auth/PAM/basic_pam_auth.8:41 helpers/basic_auth/RADIUS/basic_radius_auth.8:61 helpers/basic_auth/SASL/basic_sasl_auth.8:19 helpers/basic_auth/SSPI/basic_sspi_auth.8:51 helpers/digest_auth/file/digest_file_auth.8:25 helpers/external_acl/AD_group/ext_ad_group_acl.8:73 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:142 helpers/external_acl/file_userip/ext_file_userip_acl.8:38 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:134 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:211 helpers/external_acl/LM_group/ext_lm_group_acl.8:52 helpers/external_acl/session/ext_session_acl.8:74 helpers/external_acl/time_quota/ext_time_quota_acl.8:58 helpers/external_acl/unix_group/ext_unix_group_acl.8:36 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:36 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:46 tools/cachemgr.cgi.8.in:19
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38 helpers/basic_auth/LDAP/basic_ldap_auth.8:244 helpers/basic_auth/NCSA/basic_ncsa_auth.8:39 helpers/basic_auth/PAM/basic_pam_auth.8:41 helpers/basic_auth/RADIUS/basic_radius_auth.8:61 helpers/basic_auth/SASL/basic_sasl_auth.8:19 helpers/basic_auth/SSPI/basic_sspi_auth.8:51 helpers/digest_auth/file/digest_file_auth.8:25 helpers/external_acl/AD_group/ext_ad_group_acl.8:73 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:142 helpers/external_acl/file_userip/ext_file_userip_acl.8:38 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:134 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:211 helpers/external_acl/LM_group/ext_lm_group_acl.8:52 helpers/external_acl/session/ext_session_acl.8:74 helpers/external_acl/time_quota/ext_time_quota_acl.8:58 helpers/external_acl/unix_group/ext_unix_group_acl.8:36 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:36 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:46 tools/cachemgr.cgi.8.in:19
 #, no-wrap
 msgid "CONFIGURATION"
 msgstr ""
@@ -109,7 +109,7 @@ msgid ""
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65 helpers/basic_auth/LDAP/basic_ldap_auth.8:300 helpers/basic_auth/NCSA/basic_ncsa_auth.8:45 helpers/basic_auth/PAM/basic_pam_auth.8:80 helpers/basic_auth/RADIUS/basic_radius_auth.8:85 helpers/basic_auth/SASL/basic_sasl_auth.8:75 helpers/basic_auth/SSPI/basic_sspi_auth.8:123 helpers/digest_auth/file/digest_file_auth.8:59 helpers/external_acl/AD_group/ext_ad_group_acl.8:229 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:187 helpers/external_acl/file_userip/ext_file_userip_acl.8:75 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:220 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:232 helpers/external_acl/LM_group/ext_lm_group_acl.8:157 helpers/external_acl/session/ext_session_acl.8:97 helpers/external_acl/time_quota/ext_time_quota_acl.8:216 helpers/external_acl/unix_group/ext_unix_group_acl.8:68 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217 tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65 helpers/basic_auth/LDAP/basic_ldap_auth.8:300 helpers/basic_auth/NCSA/basic_ncsa_auth.8:53 helpers/basic_auth/PAM/basic_pam_auth.8:80 helpers/basic_auth/RADIUS/basic_radius_auth.8:89 helpers/basic_auth/SASL/basic_sasl_auth.8:75 helpers/basic_auth/SSPI/basic_sspi_auth.8:123 helpers/digest_auth/file/digest_file_auth.8:59 helpers/external_acl/AD_group/ext_ad_group_acl.8:229 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:187 helpers/external_acl/file_userip/ext_file_userip_acl.8:75 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:220 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:232 helpers/external_acl/LM_group/ext_lm_group_acl.8:157 helpers/external_acl/session/ext_session_acl.8:97 helpers/external_acl/time_quota/ext_time_quota_acl.8:216 helpers/external_acl/unix_group/ext_unix_group_acl.8:68 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231 tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr ""
@@ -125,85 +125,85 @@ msgid "Based on original code by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75 helpers/basic_auth/NCSA/basic_ncsa_auth.8:47 helpers/basic_auth/RADIUS/basic_radius_auth.8:93 helpers/basic_auth/SASL/basic_sasl_auth.8:80 helpers/basic_auth/SSPI/basic_sspi_auth.8:134 helpers/digest_auth/file/digest_file_auth.8:68 helpers/external_acl/AD_group/ext_ad_group_acl.8:237 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:192 helpers/external_acl/file_userip/ext_file_userip_acl.8:80 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:225 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:243 helpers/external_acl/LM_group/ext_lm_group_acl.8:169 helpers/external_acl/unix_group/ext_unix_group_acl.8:73 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:91 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:102
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75 helpers/basic_auth/NCSA/basic_ncsa_auth.8:55 helpers/basic_auth/RADIUS/basic_radius_auth.8:97 helpers/basic_auth/SASL/basic_sasl_auth.8:80 helpers/basic_auth/SSPI/basic_sspi_auth.8:134 helpers/digest_auth/file/digest_file_auth.8:68 helpers/external_acl/AD_group/ext_ad_group_acl.8:237 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:192 helpers/external_acl/file_userip/ext_file_userip_acl.8:80 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:225 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:243 helpers/external_acl/LM_group/ext_lm_group_acl.8:169 helpers/external_acl/unix_group/ext_unix_group_acl.8:73 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:91 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:102
 msgid "This manual was written by"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77 helpers/basic_auth/LDAP/basic_ldap_auth.8:308 helpers/basic_auth/NCSA/basic_ncsa_auth.8:52 helpers/basic_auth/PAM/basic_pam_auth.8:84 helpers/basic_auth/RADIUS/basic_radius_auth.8:95 helpers/basic_auth/SASL/basic_sasl_auth.8:83 helpers/basic_auth/SSPI/basic_sspi_auth.8:137 helpers/digest_auth/file/digest_file_auth.8:71 helpers/external_acl/AD_group/ext_ad_group_acl.8:240 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:195 helpers/external_acl/file_userip/ext_file_userip_acl.8:83 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:227 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:245 helpers/external_acl/LM_group/ext_lm_group_acl.8:172 helpers/external_acl/session/ext_session_acl.8:102 helpers/external_acl/time_quota/ext_time_quota_acl.8:220 helpers/external_acl/unix_group/ext_unix_group_acl.8:75 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227 tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77 helpers/basic_auth/LDAP/basic_ldap_auth.8:308 helpers/basic_auth/NCSA/basic_ncsa_auth.8:60 helpers/basic_auth/PAM/basic_pam_auth.8:84 helpers/basic_auth/RADIUS/basic_radius_auth.8:99 helpers/basic_auth/SASL/basic_sasl_auth.8:83 helpers/basic_auth/SSPI/basic_sspi_auth.8:137 helpers/digest_auth/file/digest_file_auth.8:71 helpers/external_acl/AD_group/ext_ad_group_acl.8:240 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:195 helpers/external_acl/file_userip/ext_file_userip_acl.8:83 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:227 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:245 helpers/external_acl/LM_group/ext_lm_group_acl.8:172 helpers/external_acl/session/ext_session_acl.8:102 helpers/external_acl/time_quota/ext_time_quota_acl.8:220 helpers/external_acl/unix_group/ext_unix_group_acl.8:75 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241 tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79 helpers/basic_auth/LDAP/basic_ldap_auth.8:310 helpers/basic_auth/RADIUS/basic_radius_auth.8:97 helpers/basic_auth/SASL/basic_sasl_auth.8:85 helpers/basic_auth/SSPI/basic_sspi_auth.8:139 helpers/digest_auth/file/digest_file_auth.8:73 helpers/external_acl/AD_group/ext_ad_group_acl.8:242 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:197 helpers/external_acl/file_userip/ext_file_userip_acl.8:85 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:229 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:247 helpers/external_acl/LM_group/ext_lm_group_acl.8:174 helpers/external_acl/session/ext_session_acl.8:104 helpers/external_acl/time_quota/ext_time_quota_acl.8:222 helpers/external_acl/unix_group/ext_unix_group_acl.8:77 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:95 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:107
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79 helpers/basic_auth/LDAP/basic_ldap_auth.8:310 helpers/basic_auth/RADIUS/basic_radius_auth.8:101 helpers/basic_auth/SASL/basic_sasl_auth.8:85 helpers/basic_auth/SSPI/basic_sspi_auth.8:139 helpers/digest_auth/file/digest_file_auth.8:73 helpers/external_acl/AD_group/ext_ad_group_acl.8:242 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:197 helpers/external_acl/file_userip/ext_file_userip_acl.8:85 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:229 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:247 helpers/external_acl/LM_group/ext_lm_group_acl.8:174 helpers/external_acl/session/ext_session_acl.8:104 helpers/external_acl/time_quota/ext_time_quota_acl.8:222 helpers/external_acl/unix_group/ext_unix_group_acl.8:77 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:95 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:107
 msgid "This program and documentation is copyright to the authors named above."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81 helpers/basic_auth/LDAP/basic_ldap_auth.8:312 helpers/basic_auth/PAM/basic_pam_auth.8:91 helpers/basic_auth/RADIUS/basic_radius_auth.8:99 helpers/basic_auth/SASL/basic_sasl_auth.8:87 helpers/basic_auth/SSPI/basic_sspi_auth.8:141 helpers/digest_auth/file/digest_file_auth.8:75 helpers/external_acl/AD_group/ext_ad_group_acl.8:244 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:199 helpers/external_acl/file_userip/ext_file_userip_acl.8:87 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:231 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:249 helpers/external_acl/LM_group/ext_lm_group_acl.8:176 helpers/external_acl/session/ext_session_acl.8:106 helpers/external_acl/time_quota/ext_time_quota_acl.8:224 helpers/external_acl/unix_group/ext_unix_group_acl.8:79 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59 tools/squidclient.1:193
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81 helpers/basic_auth/LDAP/basic_ldap_auth.8:312 helpers/basic_auth/PAM/basic_pam_auth.8:91 helpers/basic_auth/RADIUS/basic_radius_auth.8:103 helpers/basic_auth/SASL/basic_sasl_auth.8:87 helpers/basic_auth/SSPI/basic_sspi_auth.8:141 helpers/digest_auth/file/digest_file_auth.8:75 helpers/external_acl/AD_group/ext_ad_group_acl.8:244 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:199 helpers/external_acl/file_userip/ext_file_userip_acl.8:87 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:231 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:249 helpers/external_acl/LM_group/ext_lm_group_acl.8:176 helpers/external_acl/session/ext_session_acl.8:106 helpers/external_acl/time_quota/ext_time_quota_acl.8:224 helpers/external_acl/unix_group/ext_unix_group_acl.8:79 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59 tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82 helpers/basic_auth/LDAP/basic_ldap_auth.8:313 helpers/basic_auth/NCSA/basic_ncsa_auth.8:65 helpers/basic_auth/PAM/basic_pam_auth.8:92 helpers/basic_auth/RADIUS/basic_radius_auth.8:100 helpers/basic_auth/SASL/basic_sasl_auth.8:88 helpers/basic_auth/SSPI/basic_sspi_auth.8:142 helpers/digest_auth/file/digest_file_auth.8:76 helpers/external_acl/AD_group/ext_ad_group_acl.8:245 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:200 helpers/external_acl/file_userip/ext_file_userip_acl.8:88 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:232 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:250 helpers/external_acl/LM_group/ext_lm_group_acl.8:177 helpers/external_acl/session/ext_session_acl.8:107 helpers/external_acl/time_quota/ext_time_quota_acl.8:225 helpers/external_acl/unix_group/ext_unix_group_acl.8:80 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244 tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82 helpers/basic_auth/LDAP/basic_ldap_auth.8:313 helpers/basic_auth/NCSA/basic_ncsa_auth.8:73 helpers/basic_auth/PAM/basic_pam_auth.8:92 helpers/basic_auth/RADIUS/basic_radius_auth.8:104 helpers/basic_auth/SASL/basic_sasl_auth.8:88 helpers/basic_auth/SSPI/basic_sspi_auth.8:142 helpers/digest_auth/file/digest_file_auth.8:76 helpers/external_acl/AD_group/ext_ad_group_acl.8:245 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:200 helpers/external_acl/file_userip/ext_file_userip_acl.8:88 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:232 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:250 helpers/external_acl/LM_group/ext_lm_group_acl.8:177 helpers/external_acl/session/ext_session_acl.8:107 helpers/external_acl/time_quota/ext_time_quota_acl.8:225 helpers/external_acl/unix_group/ext_unix_group_acl.8:80 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258 tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85 helpers/basic_auth/LDAP/basic_ldap_auth.8:316 helpers/basic_auth/NCSA/basic_ncsa_auth.8:68 helpers/basic_auth/PAM/basic_pam_auth.8:95 helpers/basic_auth/RADIUS/basic_radius_auth.8:103 helpers/basic_auth/SASL/basic_sasl_auth.8:91 helpers/basic_auth/SSPI/basic_sspi_auth.8:145 helpers/digest_auth/file/digest_file_auth.8:79 helpers/external_acl/AD_group/ext_ad_group_acl.8:248 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:203 helpers/external_acl/file_userip/ext_file_userip_acl.8:91 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:235 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:253 helpers/external_acl/LM_group/ext_lm_group_acl.8:180 helpers/external_acl/session/ext_session_acl.8:110 helpers/external_acl/time_quota/ext_time_quota_acl.8:228 helpers/external_acl/unix_group/ext_unix_group_acl.8:83 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247 tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85 helpers/basic_auth/LDAP/basic_ldap_auth.8:316 helpers/basic_auth/NCSA/basic_ncsa_auth.8:76 helpers/basic_auth/PAM/basic_pam_auth.8:95 helpers/basic_auth/RADIUS/basic_radius_auth.8:107 helpers/basic_auth/SASL/basic_sasl_auth.8:91 helpers/basic_auth/SSPI/basic_sspi_auth.8:145 helpers/digest_auth/file/digest_file_auth.8:79 helpers/external_acl/AD_group/ext_ad_group_acl.8:248 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:203 helpers/external_acl/file_userip/ext_file_userip_acl.8:91 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:235 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:253 helpers/external_acl/LM_group/ext_lm_group_acl.8:180 helpers/external_acl/session/ext_session_acl.8:110 helpers/external_acl/time_quota/ext_time_quota_acl.8:228 helpers/external_acl/unix_group/ext_unix_group_acl.8:83 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261 tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87 helpers/basic_auth/LDAP/basic_ldap_auth.8:321 helpers/basic_auth/NCSA/basic_ncsa_auth.8:70 helpers/basic_auth/PAM/basic_pam_auth.8:97 helpers/basic_auth/RADIUS/basic_radius_auth.8:108 helpers/basic_auth/SASL/basic_sasl_auth.8:93 helpers/basic_auth/SSPI/basic_sspi_auth.8:147 helpers/digest_auth/file/digest_file_auth.8:81 helpers/external_acl/AD_group/ext_ad_group_acl.8:250 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:205 helpers/external_acl/file_userip/ext_file_userip_acl.8:93 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:237 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:258 helpers/external_acl/LM_group/ext_lm_group_acl.8:182 helpers/external_acl/session/ext_session_acl.8:112 helpers/external_acl/time_quota/ext_time_quota_acl.8:230 helpers/external_acl/unix_group/ext_unix_group_acl.8:85 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249 tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87 helpers/basic_auth/LDAP/basic_ldap_auth.8:321 helpers/basic_auth/NCSA/basic_ncsa_auth.8:78 helpers/basic_auth/PAM/basic_pam_auth.8:97 helpers/basic_auth/RADIUS/basic_radius_auth.8:112 helpers/basic_auth/SASL/basic_sasl_auth.8:93 helpers/basic_auth/SSPI/basic_sspi_auth.8:147 helpers/digest_auth/file/digest_file_auth.8:81 helpers/external_acl/AD_group/ext_ad_group_acl.8:250 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:205 helpers/external_acl/file_userip/ext_file_userip_acl.8:93 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:237 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:258 helpers/external_acl/LM_group/ext_lm_group_acl.8:182 helpers/external_acl/session/ext_session_acl.8:112 helpers/external_acl/time_quota/ext_time_quota_acl.8:230 helpers/external_acl/unix_group/ext_unix_group_acl.8:85 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263 tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90 helpers/basic_auth/LDAP/basic_ldap_auth.8:324 helpers/basic_auth/NCSA/basic_ncsa_auth.8:73 helpers/basic_auth/PAM/basic_pam_auth.8:100 helpers/basic_auth/RADIUS/basic_radius_auth.8:111 helpers/basic_auth/SASL/basic_sasl_auth.8:96 helpers/basic_auth/SSPI/basic_sspi_auth.8:150 helpers/digest_auth/file/digest_file_auth.8:84 helpers/external_acl/AD_group/ext_ad_group_acl.8:253 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:217 helpers/external_acl/file_userip/ext_file_userip_acl.8:96 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:240 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:261 helpers/external_acl/LM_group/ext_lm_group_acl.8:185 helpers/external_acl/session/ext_session_acl.8:115 helpers/external_acl/time_quota/ext_time_quota_acl.8:233 helpers/external_acl/unix_group/ext_unix_group_acl.8:88 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90 helpers/basic_auth/LDAP/basic_ldap_auth.8:324 helpers/basic_auth/NCSA/basic_ncsa_auth.8:81 helpers/basic_auth/PAM/basic_pam_auth.8:100 helpers/basic_auth/RADIUS/basic_radius_auth.8:115 helpers/basic_auth/SASL/basic_sasl_auth.8:96 helpers/basic_auth/SSPI/basic_sspi_auth.8:150 helpers/digest_auth/file/digest_file_auth.8:84 helpers/external_acl/AD_group/ext_ad_group_acl.8:253 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:217 helpers/external_acl/file_userip/ext_file_userip_acl.8:96 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:240 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:261 helpers/external_acl/LM_group/ext_lm_group_acl.8:185 helpers/external_acl/session/ext_session_acl.8:115 helpers/external_acl/time_quota/ext_time_quota_acl.8:233 helpers/external_acl/unix_group/ext_unix_group_acl.8:88 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See "
 "http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what you "
 "need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92 helpers/basic_auth/LDAP/basic_ldap_auth.8:326 helpers/basic_auth/NCSA/basic_ncsa_auth.8:75 helpers/basic_auth/PAM/basic_pam_auth.8:102 helpers/basic_auth/RADIUS/basic_radius_auth.8:113 helpers/basic_auth/SASL/basic_sasl_auth.8:98 helpers/basic_auth/SSPI/basic_sspi_auth.8:152 helpers/digest_auth/file/digest_file_auth.8:86 helpers/external_acl/AD_group/ext_ad_group_acl.8:255 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:219 helpers/external_acl/file_userip/ext_file_userip_acl.8:98 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:242 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:263 helpers/external_acl/LM_group/ext_lm_group_acl.8:187 helpers/external_acl/session/ext_session_acl.8:117 helpers/external_acl/time_quota/ext_time_quota_acl.8:235 helpers/external_acl/unix_group/ext_unix_group_acl.8:90 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254 tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92 helpers/basic_auth/LDAP/basic_ldap_auth.8:326 helpers/basic_auth/NCSA/basic_ncsa_auth.8:83 helpers/basic_auth/PAM/basic_pam_auth.8:102 helpers/basic_auth/RADIUS/basic_radius_auth.8:117 helpers/basic_auth/SASL/basic_sasl_auth.8:98 helpers/basic_auth/SSPI/basic_sspi_auth.8:152 helpers/digest_auth/file/digest_file_auth.8:86 helpers/external_acl/AD_group/ext_ad_group_acl.8:255 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:219 helpers/external_acl/file_userip/ext_file_userip_acl.8:98 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:242 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:263 helpers/external_acl/LM_group/ext_lm_group_acl.8:187 helpers/external_acl/session/ext_session_acl.8:117 helpers/external_acl/time_quota/ext_time_quota_acl.8:235 helpers/external_acl/unix_group/ext_unix_group_acl.8:90 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268 tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95 helpers/basic_auth/LDAP/basic_ldap_auth.8:329 helpers/basic_auth/NCSA/basic_ncsa_auth.8:78 helpers/basic_auth/PAM/basic_pam_auth.8:105 helpers/basic_auth/RADIUS/basic_radius_auth.8:116 helpers/basic_auth/SASL/basic_sasl_auth.8:101 helpers/basic_auth/SSPI/basic_sspi_auth.8:155 helpers/digest_auth/file/digest_file_auth.8:89 helpers/external_acl/AD_group/ext_ad_group_acl.8:258 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:222 helpers/external_acl/file_userip/ext_file_userip_acl.8:101 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:245 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:266 helpers/external_acl/LM_group/ext_lm_group_acl.8:190 helpers/external_acl/session/ext_session_acl.8:120 helpers/external_acl/time_quota/ext_time_quota_acl.8:238 helpers/external_acl/unix_group/ext_unix_group_acl.8:93 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257 tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95 helpers/basic_auth/LDAP/basic_ldap_auth.8:329 helpers/basic_auth/NCSA/basic_ncsa_auth.8:86 helpers/basic_auth/PAM/basic_pam_auth.8:105 helpers/basic_auth/RADIUS/basic_radius_auth.8:120 helpers/basic_auth/SASL/basic_sasl_auth.8:101 helpers/basic_auth/SSPI/basic_sspi_auth.8:155 helpers/digest_auth/file/digest_file_auth.8:89 helpers/external_acl/AD_group/ext_ad_group_acl.8:258 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:222 helpers/external_acl/file_userip/ext_file_userip_acl.8:101 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:245 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:266 helpers/external_acl/LM_group/ext_lm_group_acl.8:190 helpers/external_acl/session/ext_session_acl.8:120 helpers/external_acl/time_quota/ext_time_quota_acl.8:238 helpers/external_acl/unix_group/ext_unix_group_acl.8:93 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271 tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs "
 "E<lt>squid-bugs@squid-cache.orgE<gt>>"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98 helpers/basic_auth/LDAP/basic_ldap_auth.8:332 helpers/basic_auth/NCSA/basic_ncsa_auth.8:81 helpers/basic_auth/PAM/basic_pam_auth.8:108 helpers/basic_auth/RADIUS/basic_radius_auth.8:119 helpers/basic_auth/SASL/basic_sasl_auth.8:104 helpers/basic_auth/SSPI/basic_sspi_auth.8:158 helpers/digest_auth/file/digest_file_auth.8:92 helpers/external_acl/AD_group/ext_ad_group_acl.8:261 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:225 helpers/external_acl/file_userip/ext_file_userip_acl.8:104 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:248 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:269 helpers/external_acl/LM_group/ext_lm_group_acl.8:193 helpers/external_acl/session/ext_session_acl.8:123 helpers/external_acl/time_quota/ext_time_quota_acl.8:241 helpers/external_acl/unix_group/ext_unix_group_acl.8:96 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260 tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98 helpers/basic_auth/LDAP/basic_ldap_auth.8:332 helpers/basic_auth/NCSA/basic_ncsa_auth.8:89 helpers/basic_auth/PAM/basic_pam_auth.8:108 helpers/basic_auth/RADIUS/basic_radius_auth.8:123 helpers/basic_auth/SASL/basic_sasl_auth.8:104 helpers/basic_auth/SSPI/basic_sspi_auth.8:158 helpers/digest_auth/file/digest_file_auth.8:92 helpers/external_acl/AD_group/ext_ad_group_acl.8:261 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:225 helpers/external_acl/file_userip/ext_file_userip_acl.8:104 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:248 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:269 helpers/external_acl/LM_group/ext_lm_group_acl.8:193 helpers/external_acl/session/ext_session_acl.8:123 helpers/external_acl/time_quota/ext_time_quota_acl.8:241 helpers/external_acl/unix_group/ext_unix_group_acl.8:96 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274 tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100 helpers/basic_auth/LDAP/basic_ldap_auth.8:334 helpers/basic_auth/NCSA/basic_ncsa_auth.8:83 helpers/basic_auth/PAM/basic_pam_auth.8:110 helpers/basic_auth/RADIUS/basic_radius_auth.8:121 helpers/basic_auth/SASL/basic_sasl_auth.8:106 helpers/basic_auth/SSPI/basic_sspi_auth.8:160 helpers/digest_auth/file/digest_file_auth.8:94 helpers/external_acl/AD_group/ext_ad_group_acl.8:263 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:227 helpers/external_acl/file_userip/ext_file_userip_acl.8:106 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:250 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:271 helpers/external_acl/LM_group/ext_lm_group_acl.8:195 helpers/external_acl/session/ext_session_acl.8:125 helpers/external_acl/time_quota/ext_time_quota_acl.8:243 helpers/external_acl/unix_group/ext_unix_group_acl.8:101 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262 tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100 helpers/basic_auth/LDAP/basic_ldap_auth.8:334 helpers/basic_auth/NCSA/basic_ncsa_auth.8:91 helpers/basic_auth/PAM/basic_pam_auth.8:110 helpers/basic_auth/RADIUS/basic_radius_auth.8:125 helpers/basic_auth/SASL/basic_sasl_auth.8:106 helpers/basic_auth/SSPI/basic_sspi_auth.8:160 helpers/digest_auth/file/digest_file_auth.8:94 helpers/external_acl/AD_group/ext_ad_group_acl.8:263 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:227 helpers/external_acl/file_userip/ext_file_userip_acl.8:106 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:250 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:271 helpers/external_acl/LM_group/ext_lm_group_acl.8:195 helpers/external_acl/session/ext_session_acl.8:125 helpers/external_acl/time_quota/ext_time_quota_acl.8:243 helpers/external_acl/unix_group/ext_unix_group_acl.8:101 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276 tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114 helpers/basic_auth/LDAP/basic_ldap_auth.8:344 helpers/basic_auth/NCSA/basic_ncsa_auth.8:89 helpers/basic_auth/PAM/basic_pam_auth.8:121 helpers/basic_auth/RADIUS/basic_radius_auth.8:128 helpers/basic_auth/SASL/basic_sasl_auth.8:117 helpers/basic_auth/SSPI/basic_sspi_auth.8:165 helpers/digest_auth/file/digest_file_auth.8:99 helpers/external_acl/AD_group/ext_ad_group_acl.8:268 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:233 helpers/external_acl/file_userip/ext_file_userip_acl.8:111 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:264 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:282 helpers/external_acl/LM_group/ext_lm_group_acl.8:200 helpers/external_acl/session/ext_session_acl.8:130 helpers/external_acl/time_quota/ext_time_quota_acl.8:248 helpers/external_acl/unix_group/ext_unix_group_acl.8:108 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114 helpers/basic_auth/LDAP/basic_ldap_auth.8:344 helpers/basic_auth/NCSA/basic_ncsa_auth.8:97 helpers/basic_auth/PAM/basic_pam_auth.8:121 helpers/basic_auth/RADIUS/basic_radius_auth.8:132 helpers/basic_auth/SASL/basic_sasl_auth.8:117 helpers/basic_auth/SSPI/basic_sspi_auth.8:165 helpers/digest_auth/file/digest_file_auth.8:99 helpers/external_acl/AD_group/ext_ad_group_acl.8:268 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:233 helpers/external_acl/file_userip/ext_file_userip_acl.8:111 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:264 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:282 helpers/external_acl/LM_group/ext_lm_group_acl.8:200 helpers/external_acl/session/ext_session_acl.8:130 helpers/external_acl/time_quota/ext_time_quota_acl.8:248 helpers/external_acl/unix_group/ext_unix_group_acl.8:108 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117 helpers/basic_auth/LDAP/basic_ldap_auth.8:347 helpers/basic_auth/NCSA/basic_ncsa_auth.8:92 helpers/basic_auth/PAM/basic_pam_auth.8:124 helpers/basic_auth/RADIUS/basic_radius_auth.8:131 helpers/basic_auth/SASL/basic_sasl_auth.8:120 helpers/basic_auth/SSPI/basic_sspi_auth.8:168 helpers/digest_auth/file/digest_file_auth.8:102 helpers/external_acl/AD_group/ext_ad_group_acl.8:271 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:236 helpers/external_acl/file_userip/ext_file_userip_acl.8:114 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:267 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:285 helpers/external_acl/LM_group/ext_lm_group_acl.8:203 helpers/external_acl/session/ext_session_acl.8:133 helpers/external_acl/time_quota/ext_time_quota_acl.8:251 helpers/external_acl/unix_group/ext_unix_group_acl.8:111 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117 helpers/basic_auth/LDAP/basic_ldap_auth.8:347 helpers/basic_auth/NCSA/basic_ncsa_auth.8:100 helpers/basic_auth/PAM/basic_pam_auth.8:124 helpers/basic_auth/RADIUS/basic_radius_auth.8:135 helpers/basic_auth/SASL/basic_sasl_auth.8:120 helpers/basic_auth/SSPI/basic_sspi_auth.8:168 helpers/digest_auth/file/digest_file_auth.8:102 helpers/external_acl/AD_group/ext_ad_group_acl.8:271 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:236 helpers/external_acl/file_userip/ext_file_userip_acl.8:114 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:267 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:285 helpers/external_acl/LM_group/ext_lm_group_acl.8:203 helpers/external_acl/session/ext_session_acl.8:133 helpers/external_acl/time_quota/ext_time_quota_acl.8:251 helpers/external_acl/unix_group/ext_unix_group_acl.8:111 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr ""
 
@@ -233,7 +233,7 @@ msgid "LDAP server name"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/LDAP/basic_ldap_auth.8:20 helpers/basic_auth/LDAP/basic_ldap_auth.8:35 helpers/basic_auth/RADIUS/basic_radius_auth.8:18 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17 tools/squidclient.1:32
+#: helpers/basic_auth/LDAP/basic_ldap_auth.8:20 helpers/basic_auth/LDAP/basic_ldap_auth.8:35 helpers/basic_auth/RADIUS/basic_radius_auth.8:18 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17 tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr ""
 
@@ -277,7 +277,7 @@ msgid ""
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/LDAP/basic_ldap_auth.8:62 helpers/basic_auth/NCSA/basic_ncsa_auth.8:27 helpers/basic_auth/PAM/basic_pam_auth.8:21 helpers/basic_auth/RADIUS/basic_radius_auth.8:31 helpers/basic_auth/SSPI/basic_sspi_auth.8:34 helpers/digest_auth/file/digest_file_auth.8:20 helpers/external_acl/AD_group/ext_ad_group_acl.8:51 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:44 helpers/external_acl/file_userip/ext_file_userip_acl.8:23 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:65 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:49 helpers/external_acl/LM_group/ext_lm_group_acl.8:27 helpers/external_acl/session/ext_session_acl.8:34 helpers/external_acl/time_quota/ext_time_quota_acl.8:24 helpers/external_acl/unix_group/ext_unix_group_acl.8:19 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59 tools/squidclient.1:60
+#: helpers/basic_auth/LDAP/basic_ldap_auth.8:62 helpers/basic_auth/NCSA/basic_ncsa_auth.8:35 helpers/basic_auth/PAM/basic_pam_auth.8:21 helpers/basic_auth/RADIUS/basic_radius_auth.8:31 helpers/basic_auth/SSPI/basic_sspi_auth.8:34 helpers/digest_auth/file/digest_file_auth.8:20 helpers/external_acl/AD_group/ext_ad_group_acl.8:51 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:44 helpers/external_acl/file_userip/ext_file_userip_acl.8:23 helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:65 helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:49 helpers/external_acl/LM_group/ext_lm_group_acl.8:27 helpers/external_acl/session/ext_session_acl.8:34 helpers/external_acl/time_quota/ext_time_quota_acl.8:24 helpers/external_acl/unix_group/ext_unix_group_acl.8:19 helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19 helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59 tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr ""
@@ -532,7 +532,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/LDAP/basic_ldap_auth.8:302 helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/LDAP/basic_ldap_auth.8:302 helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr ""
 
@@ -582,32 +582,39 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163 helpers/external_acl/unix_group/ext_unix_group_acl.8:62
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47 helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163 helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -616,12 +623,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -630,7 +637,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -759,7 +766,7 @@ msgid "secret"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:24 helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:24 helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr ""
 
@@ -839,19 +846,24 @@ msgid "Specifies the port number or service name where the helper should connect
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+msgid "Specifies the RADIUS request timeout."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr ""
 
@@ -1109,7 +1121,7 @@ msgid "File based digest authentication helper for Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr ""
 
@@ -2356,7 +2368,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr ""
 
 #. type: Plain text
@@ -3042,23 +3054,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
 msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3067,77 +3100,77 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
 "provides error pages for."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3146,7 +3179,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3157,7 +3190,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -3223,88 +3256,88 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+msgid "interval"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -3314,54 +3347,49 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
+#: tools/squidclient/squidclient.1:90
+msgid "Host header content"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:99
-msgid "Host header content"
+#: tools/squidclient/squidclient.1:94
+msgid "Keep the connection active. Default is to do only one request then close."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -3379,76 +3407,104 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
+msgid ""
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+msgid ""
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
+msgid ""
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+msgstr ""
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
-"POT-Creation-Date: 2012-02-06 18:42+1400\n"
+"POT-Creation-Date: 2014-03-06 11:09+1300\n"
 "PO-Revision-Date: 2010-01-16 02:20+0000\n"
 "Last-Translator: Amos Jeffries <Unknown>\n"
 "Language-Team: Russian <ru@li.org>\n"
@@ -38,7 +38,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:3
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:3
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:3 src/squid.8.in:3
-#: tools/cachemgr.cgi.8.in:3 tools/squidclient.1:3
+#: tools/cachemgr.cgi.8.in:3 tools/squidclient/squidclient.1:3
 #, no-wrap
 msgid "NAME"
 msgstr "НАЗВАНИЕ"
@@ -68,7 +68,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:8
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:10
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:11 src/squid.8.in:8
-#: tools/cachemgr.cgi.8.in:8 tools/squidclient.1:8
+#: tools/cachemgr.cgi.8.in:8 tools/squidclient/squidclient.1:8
 #, no-wrap
 msgid "SYNOPSIS"
 msgstr "СИНТАКСИС"
@@ -93,7 +93,7 @@ msgstr "СИНТАКСИС"
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:15
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:14
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:19 src/squid.8.in:25
-#: tools/cachemgr.cgi.8.in:11 tools/squidclient.1:51
+#: tools/cachemgr.cgi.8.in:11 tools/squidclient/squidclient.1:52
 #, no-wrap
 msgid "DESCRIPTION"
 msgstr "ОПИСАНИЕ"
@@ -155,7 +155,7 @@ msgstr "Может обрабатывать запросы PAM"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:38
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:244
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:31
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
 #: helpers/basic_auth/PAM/basic_pam_auth.8:41
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:61
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:19
@@ -212,9 +212,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:65
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:300
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:45
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:53
 #: helpers/basic_auth/PAM/basic_pam_auth.8:80
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:85
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:89
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:75
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:123
 #: helpers/digest_auth/file/digest_file_auth.8:59
@@ -228,8 +228,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:216
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:68
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:86
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:217
-#: tools/cachemgr.cgi.8.in:51 tools/squidclient.1:185
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:93 src/squid.8.in:231
+#: tools/cachemgr.cgi.8.in:51 tools/squidclient/squidclient.1:195
 #, no-wrap
 msgid "AUTHOR"
 msgstr "АВТОР"
@@ -258,8 +258,8 @@ msgstr "Основан на оригинальном коде"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:75
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:93
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:55
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:80
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:134
 #: helpers/digest_auth/file/digest_file_auth.8:68
@@ -278,9 +278,9 @@ msgstr "Это руководство было написано"
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:77
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:308
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:60
 #: helpers/basic_auth/PAM/basic_pam_auth.8:84
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:83
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:137
 #: helpers/digest_auth/file/digest_file_auth.8:71
@@ -294,16 +294,16 @@ msgstr "Это руководство было написано"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:220
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:75
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:93
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:227
-#: tools/cachemgr.cgi.8.in:57 tools/squidclient.1:191
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:105 src/squid.8.in:241
+#: tools/cachemgr.cgi.8.in:57 tools/squidclient/squidclient.1:201
 #, no-wrap
 msgid "COPYRIGHT"
 msgstr "АВТОРСКОЕ ПРАВО"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:79
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:310
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:97
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:101
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:85
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:139
 #: helpers/digest_auth/file/digest_file_auth.8:73
@@ -327,7 +327,7 @@ msgstr ""
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:81
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:312
 #: helpers/basic_auth/PAM/basic_pam_auth.8:91
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:99
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:87
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:141
 #: helpers/digest_auth/file/digest_file_auth.8:75
@@ -342,7 +342,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:79
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:97
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:109 tools/cachemgr.cgi.8.in:59
-#: tools/squidclient.1:193
+#: tools/squidclient/squidclient.1:203
 msgid ""
 "Distributed under the GNU General Public License (GNU GPL) version 2 or "
 "later (GPLv2+)."
@@ -353,9 +353,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:82
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:313
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:65
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
 #: helpers/basic_auth/PAM/basic_pam_auth.8:92
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:100
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:104
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:88
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:142
 #: helpers/digest_auth/file/digest_file_auth.8:76
@@ -369,18 +369,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:225
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:80
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:98
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:244
-#: tools/cachemgr.cgi.8.in:60 tools/squidclient.1:194
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:110 src/squid.8.in:258
+#: tools/cachemgr.cgi.8.in:60 tools/squidclient/squidclient.1:204
 #, no-wrap
 msgid "QUESTIONS"
 msgstr "ВОПРОСЫ"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:85
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:316
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:68
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:76
 #: helpers/basic_auth/PAM/basic_pam_auth.8:95
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:103
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:91
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:145
 #: helpers/digest_auth/file/digest_file_auth.8:79
@@ -394,8 +394,8 @@ msgstr "ВОПРОСЫ"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:228
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:83
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:101
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:247
-#: tools/cachemgr.cgi.8.in:63 tools/squidclient.1:197
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:113 src/squid.8.in:261
+#: tools/cachemgr.cgi.8.in:63 tools/squidclient/squidclient.1:207
 msgid ""
 "Questions on the usage of this program can be sent to the I<Squid Users "
 "mailing list>"
@@ -406,9 +406,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:87
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:321
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:70
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
 #: helpers/basic_auth/PAM/basic_pam_auth.8:97
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:108
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:112
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:93
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:147
 #: helpers/digest_auth/file/digest_file_auth.8:81
@@ -422,18 +422,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:230
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:85
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:103
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:249
-#: tools/cachemgr.cgi.8.in:65 tools/squidclient.1:199
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:115 src/squid.8.in:263
+#: tools/cachemgr.cgi.8.in:65 tools/squidclient/squidclient.1:209
 #, no-wrap
 msgid "REPORTING BUGS"
 msgstr "СООБЩЕНИЕ ОБ ОШИБКАХ"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:90
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:324
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:73
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
 #: helpers/basic_auth/PAM/basic_pam_auth.8:100
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:115
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:96
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:150
 #: helpers/digest_auth/file/digest_file_auth.8:84
@@ -447,7 +447,7 @@ msgstr "СООБЩЕНИЕ ОБ ОШИБКАХ"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:233
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:88
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:106
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:252
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:118 src/squid.8.in:266
 msgid ""
 "Bug reports need to be made in English.  See http://wiki.squid-cache.org/"
 "SquidFaq/BugReporting for details of what you need to include with your bug "
@@ -459,9 +459,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:92
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:326
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:75
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
 #: helpers/basic_auth/PAM/basic_pam_auth.8:102
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:113
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:117
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:98
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:152
 #: helpers/digest_auth/file/digest_file_auth.8:86
@@ -475,8 +475,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:235
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:90
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:108
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:254
-#: tools/cachemgr.cgi.8.in:69 tools/squidclient.1:203
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:120 src/squid.8.in:268
+#: tools/cachemgr.cgi.8.in:69 tools/squidclient/squidclient.1:213
 msgid "Report bugs or bug fixes using http://bugs.squid-cache.org/"
 msgstr ""
 "Сообщите об ошибках или их исправлениях используя http://bugs.squid-cache."
@@ -485,9 +485,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:95
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:329
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:78
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:86
 #: helpers/basic_auth/PAM/basic_pam_auth.8:105
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:116
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:120
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:101
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:155
 #: helpers/digest_auth/file/digest_file_auth.8:89
@@ -501,8 +501,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:238
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:93
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:111
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:257
-#: tools/cachemgr.cgi.8.in:72 tools/squidclient.1:206
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:123 src/squid.8.in:271
+#: tools/cachemgr.cgi.8.in:72 tools/squidclient/squidclient.1:216
 msgid ""
 "Report serious security bugs to I<Squid Bugs E<lt>squid-bugs@squid-cache."
 "orgE<gt>>"
@@ -513,9 +513,9 @@ msgstr ""
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:98
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:332
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:81
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
 #: helpers/basic_auth/PAM/basic_pam_auth.8:108
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:119
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:123
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:104
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:158
 #: helpers/digest_auth/file/digest_file_auth.8:92
@@ -529,8 +529,8 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:241
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:96
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:114
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:260
-#: tools/cachemgr.cgi.8.in:75 tools/squidclient.1:209
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:126 src/squid.8.in:274
+#: tools/cachemgr.cgi.8.in:75 tools/squidclient/squidclient.1:219
 msgid ""
 "Report ideas for new improvements to the I<Squid Developers mailing list>"
 msgstr ""
@@ -540,9 +540,9 @@ msgstr ""
 #. type: SH
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:100
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:334
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:83
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:91
 #: helpers/basic_auth/PAM/basic_pam_auth.8:110
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:121
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:125
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:106
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:160
 #: helpers/digest_auth/file/digest_file_auth.8:94
@@ -556,18 +556,18 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:243
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:101
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:116
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:262
-#: tools/cachemgr.cgi.8.in:77 tools/squidclient.1:211
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:128 src/squid.8.in:276
+#: tools/cachemgr.cgi.8.in:77 tools/squidclient/squidclient.1:221
 #, no-wrap
 msgid "SEE ALSO"
 msgstr "СМОТРИТЕ ТАКЖЕ"
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:114
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:344
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:89
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:97
 #: helpers/basic_auth/PAM/basic_pam_auth.8:121
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:128
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:132
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:117
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:165
 #: helpers/digest_auth/file/digest_file_auth.8:99
@@ -581,16 +581,16 @@ msgstr "СМОТРИТЕ ТАКЖЕ"
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:248
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:108
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:127
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:272
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:133 src/squid.8.in:286
 msgid "The Squid FAQ wiki"
 msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/getpwnam/basic_getpwnam_auth.8:117
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:347
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:92
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:100
 #: helpers/basic_auth/PAM/basic_pam_auth.8:124
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:131
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:135
 #: helpers/basic_auth/SASL/basic_sasl_auth.8:120
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:168
 #: helpers/digest_auth/file/digest_file_auth.8:102
@@ -604,7 +604,7 @@ msgstr ""
 #: helpers/external_acl/time_quota/ext_time_quota_acl.8:251
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:111
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:130
-#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:275
+#: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:136 src/squid.8.in:289
 msgid "The Squid Configuration Manual"
 msgstr "Руководство по настройке Squid"
 
@@ -645,7 +645,7 @@ msgstr "Адрес сервера LDAP"
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:18
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:19
 #: helpers/external_acl/LDAP_group/ext_ldap_group_acl.8:22 src/squid.8.in:17
-#: tools/squidclient.1:32
+#: tools/squidclient/squidclient.1:27
 msgid "port"
 msgstr "порт"
 
@@ -699,7 +699,7 @@ msgstr ""
 
 #. type: SH
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:62
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:27
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:35
 #: helpers/basic_auth/PAM/basic_pam_auth.8:21
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:31
 #: helpers/basic_auth/SSPI/basic_sspi_auth.8:34
@@ -715,7 +715,7 @@ msgstr ""
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:19
 #: helpers/negotiate_auth/kerberos/negotiate_kerberos_auth.8:19
 #: helpers/ntlm_auth/SSPI/ntlm_sspi_auth.8:25 src/squid.8.in:59
-#: tools/squidclient.1:60
+#: tools/squidclient/squidclient.1:61
 #, no-wrap
 msgid "OPTIONS"
 msgstr "ПАРАМЕТРЫ"
@@ -986,7 +986,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/LDAP/basic_ldap_auth.8:302
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:87
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
 msgid "This program is written by"
 msgstr "Эта программа написана"
 
@@ -1038,35 +1038,42 @@ msgid "This password file can be manipulated using B<htpasswd.>"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:26
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:32
 msgid ""
-"This authenticator accepts: * MD5 - with optional salt and magic strings * "
-"DES - for passwords 8 characters or less in length"
+"This authenticator accepts: * Blowfish - for passwords 72 characters or less "
+"in length * SHA256 - with salting and magic strings * SHA512 - with salting "
+"and magic strings * MD5 - with optional salt and magic strings * DES - for "
+"passwords 8 characters or less in length"
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:34
+msgid "NOTE: Blowfish and SHA algorithms require system-specific support."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:30
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
 msgid ""
 "The only parameter is the password file.  It must have permissions to be "
 "read by the user that Squid is running as."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:38
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:46
 msgid ""
 "B<basic_ncsa_auth> must have access to the password file to be executed."
 msgstr ""
 
 #. type: SH
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:39
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:47
 #: helpers/external_acl/eDirectory_userip/ext_edirectory_userip_acl.8:163
 #: helpers/external_acl/unix_group/ext_unix_group_acl.8:62
 #, no-wrap
 msgid "KNOWN ISSUES"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:44
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:52
 msgid ""
 "DES functionality (used by htpasswd by default) silently truncates passwords "
 "to 8 characters.  Allowing login with password values shorter than the one "
@@ -1075,12 +1082,12 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:50
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
 msgid "Based on original documentation by"
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:58
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:66
 msgid ""
 "This file is distributed in the hope that it will be useful, but WITHOUT ANY "
 "WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS "
@@ -1089,7 +1096,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:64
+#: helpers/basic_auth/NCSA/basic_ncsa_auth.8:72
 msgid ""
 "You should have received a copy of the GNU General Public License along with "
 "this file; if not, write to the Free Software Foundation, Inc., 59 Temple "
@@ -1221,7 +1228,8 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/basic_auth/RADIUS/basic_radius_auth.8:24
-#: helpers/external_acl/session/ext_session_acl.8:14 tools/squidclient.1:38
+#: helpers/external_acl/session/ext_session_acl.8:14
+#: tools/squidclient/squidclient.1:33
 msgid "timeout"
 msgstr ""
 
@@ -1302,19 +1310,24 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:91
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:88
+msgid "Specifies the RADIUS request timeout."
+msgstr ""
+
+#. type: Plain text
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:95
 msgid "With contributions from many others."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:107
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:111
 msgid ""
 "Or contact your favorite RADIUS list/friend if the question is more related "
 "to RADIUS than Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/basic_auth/RADIUS/basic_radius_auth.8:126
+#: helpers/basic_auth/RADIUS/basic_radius_auth.8:130
 msgid "B<RFC2058> - Remote Authentication Dial In User Service (RADIUS)"
 msgstr ""
 
@@ -1596,7 +1609,8 @@ msgid "File based digest authentication helper for Squid."
 msgstr ""
 
 #. type: Plain text
-#: helpers/digest_auth/file/digest_file_auth.8:14 tools/squidclient.1:34
+#: helpers/digest_auth/file/digest_file_auth.8:14
+#: tools/squidclient/squidclient.1:29
 msgid "file"
 msgstr ""
 
@@ -2345,22 +2359,23 @@ msgstr ""
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:123
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm]"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm]"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:128
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group is in UTF-8 hex format"
 msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/kerberos_ldap_group/ext_kerberos_ldap_group_acl.8:133
 msgid ""
-"A list of group name per Kerberos domain of the form Group|Group@|Group@Realm"
-"[:Group@|Group@Realm] where group and domain is in UTF-8 hex format"
+"A list of group name per Kerberos domain of the form Group|Group@|"
+"Group@Realm[:Group@|Group@Realm] where group and domain is in UTF-8 hex "
+"format"
 msgstr ""
 
 #. type: Plain text
@@ -2908,7 +2923,7 @@ msgstr ""
 
 #. type: Plain text
 #: helpers/external_acl/session/ext_session_acl.8:83
-msgid "Configuration example using the default automatic mode"
+msgid "Passive session configuration example using the default automatic mode"
 msgstr ""
 
 #. type: Plain text
@@ -3602,23 +3617,44 @@ msgid "Only return B<UDP_HIT> or B<UDP_MISS_NOFETCH> during fast reload."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:170
-msgid "Create swap directories"
+#: src/squid.8.in:174
+msgid ""
+"Create missing swap directories and other missing cache_dir structures, then "
+"exit. All cache_dir types create the configured top-level directory if it is "
+"missing. Other actions are type-specific. For example, ufs-based storage "
+"systems create missing L1 and L2 directories while Rock creates the missing "
+"database file."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:179
+msgid ""
+"This option does not enable validation of any present swap structures. Its "
+"focus is on creation of missing pieces. If nothing is missing, squid -z just "
+"exits. If you suspect cache_dir corruption, you must delete the top-level "
+"cache_dir directory before running squid -z."
+msgstr ""
+
+#. type: Plain text
+#: src/squid.8.in:184
+msgid ""
+"By default, squid -z runs in daemon mode (so that configuration macros and "
+"other SMP features work as expected). Use B<-N> option to overwrite this."
 msgstr ""
 
 #. type: SH
-#: src/squid.8.in:171
+#: src/squid.8.in:185
 #, no-wrap
 msgid "FILES"
 msgstr "ФАЙЛЫ"
 
 #. type: Plain text
-#: src/squid.8.in:173
+#: src/squid.8.in:187
 msgid "Squid configuration files located in @SYSCONFDIR@/:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:179
+#: src/squid.8.in:193
 msgid ""
 "The main configuration file. You must initially make changes to this file "
 "for B<squid> to work. For example, the default configuration only allows "
@@ -3627,77 +3663,77 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:183 src/squid.8.in:189
+#: src/squid.8.in:197 src/squid.8.in:203
 msgid ""
 "Reference copy of the configuration file. Always kept up to date with the "
 "version of Squid you are using."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:185
+#: src/squid.8.in:199
 msgid ""
 "Use this to look up the default configuration settings and syntax after "
 "upgrading."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:194
+#: src/squid.8.in:208
 msgid ""
 "Use this to read the documentation for configuration options available in "
 "your build of Squid. The online configuration manual is also available for a "
 "full reference of options.  B<see>http://www.squid-cache.org/Doc/config/"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:199
+#: src/squid.8.in:213
 msgid "The main configuration file for the web B<cachemgr.cgi> tools."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:202
+#: src/squid.8.in:216
 msgid "The main configuration file for the Sample MSNT authenticator."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:207
+#: src/squid.8.in:221
 msgid ""
 "CSS Stylesheet to control the display of generated error pages.  Use this to "
 "set any company branding you need, it will apply to every language Squid "
 "provides error pages for."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:210
+#: src/squid.8.in:224
 msgid "Some files also located elsewhere:"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:213
+#: src/squid.8.in:227
 msgid "MIME type mappings for FTP gatewaying"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:216
+#: src/squid.8.in:230
 msgid "Location of Squid error pages and templates."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:219
+#: src/squid.8.in:233
 msgid ""
 "Squid was written over many years by a changing team of developers and "
 "maintained in turn by"
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:226
+#: src/squid.8.in:240
 msgid ""
 "With contributions from many others in the Squid community.  see "
 "CONTRIBUTORS for a full list of individuals who contributed code.  see "
 "CREDITS for a list of major code contributing copyright holders."
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:234
+#: src/squid.8.in:248
 msgid ""
 "This software product, SQUID, is developed by a team of individuals, and "
 "copyrighted (C) 2001 by the Regents of the University of California, with "
@@ -3706,7 +3742,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:241
+#: src/squid.8.in:255
 msgid ""
 "This program is free software; you can redistribute it and/or modify it "
 "under the terms of the GNU General Public License (version 2) as published "
@@ -3717,7 +3753,7 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: src/squid.8.in:243
+#: src/squid.8.in:257
 msgid ""
 "see the CREDITS file for further copyright licensing of third-party code "
 "contributions."
@@ -3783,88 +3819,88 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:56 tools/squidclient.1:190
+#: tools/cachemgr.cgi.8.in:56
 msgid ""
-"Derived from Harvest. Further developed by by numerous individuals from the "
+"Derived from Harvest. Further developed by numerous individuals from the "
 "internet community. Development is led by Duane Wessels of the National "
 "Laboratory for Applied Network Research and funded by the National Science "
 "Foundation."
 msgstr ""
 
 #. type: Plain text
-#: tools/cachemgr.cgi.8.in:67 tools/squidclient.1:201
+#: tools/cachemgr.cgi.8.in:67 tools/squidclient/squidclient.1:211
 msgid ""
 "See http://wiki.squid-cache.org/SquidFaq/BugReporting for details of what "
 "you need to include with your bug report."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:7
+#: tools/squidclient/squidclient.1:7
 msgid "A simple HTTP web client tool"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:12 tools/squidclient.1:18
+#: tools/squidclient/squidclient.1:13 tools/squidclient/squidclient.1:17
 msgid "string"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:14 tools/squidclient.1:36
-msgid "count"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:16
+#: tools/squidclient/squidclient.1:15
 msgid "remote host"
 msgstr "удалённый хост"
 
 #. type: Plain text
-#: tools/squidclient.1:20
+#: tools/squidclient/squidclient.1:19
 msgid "IMS"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:22
-msgid "ping interval"
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:24
+#: tools/squidclient/squidclient.1:21
 msgid "Host header"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:26
+#: tools/squidclient/squidclient.1:23
 msgid "local host"
 msgstr "локальный хост"
 
 #. type: Plain text
-#: tools/squidclient.1:28
+#: tools/squidclient/squidclient.1:25
 msgid "method"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:40 tools/squidclient.1:42
+#: tools/squidclient/squidclient.1:31 tools/squidclient/squidclient.1:48
+msgid "count"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:35 tools/squidclient/squidclient.1:37
 msgid "user"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:44
+#: tools/squidclient/squidclient.1:39
 msgid "version"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:46 tools/squidclient.1:48
+#: tools/squidclient/squidclient.1:41 tools/squidclient/squidclient.1:43
 msgid "password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:50
+#: tools/squidclient/squidclient.1:45
 msgid "url"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:59
+#: tools/squidclient/squidclient.1:50
+msgid "interval"
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:60
 msgid ""
 "B<squidclient> is a tool providing a command line interface for retrieving "
 "URLs.  Designed for testing any HTTP 0.9, 1.0, or 1.1 web server or proxy.  "
@@ -3874,54 +3910,50 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:64
+#: tools/squidclient/squidclient.1:65
 msgid "Do NOT include Accept: header."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:70
+#: tools/squidclient/squidclient.1:71
 msgid ""
 "Send B<string> as User-Agent: header. To omit the header completely set "
 "string to empty ('')."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:76
-msgid "Ping mode, perform I<count> iterations (0 to loop until interrupted)."
-msgstr ""
-
-#. type: Plain text
-#: tools/squidclient.1:81
+#: tools/squidclient/squidclient.1:76
 msgid "Retrieve URL from cache on hostname.  Default is B<localhost>"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:87
+#: tools/squidclient/squidclient.1:82
 msgid "Extra headers to send. Use B<'\\n'> for new lines."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:91
+#: tools/squidclient/squidclient.1:86
 msgid "If-Modified-Since time (in Epoch seconds)."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:95
-msgid "Ping interval in seconds (default 1 second)."
-msgstr "Интервал ping в секундах (по умолчанию 1 секунда)"
+#: tools/squidclient/squidclient.1:90
+msgid "Host header content"
+msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:99
-msgid "Host header content"
+#: tools/squidclient/squidclient.1:94
+msgid ""
+"Keep the connection active. Default is to do only one request then close."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:103
+#: tools/squidclient/squidclient.1:98
 msgid "Specify a local IP address to bind to.  Default is none."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:118
+#: tools/squidclient/squidclient.1:113
 #, no-wrap
 msgid ""
 "Request method, default is\n"
@@ -3939,80 +3971,108 @@ msgid ""
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:126
+#: tools/squidclient/squidclient.1:121
 msgid "Proxy Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:128 tools/squidclient.1:134
+#: tools/squidclient/squidclient.1:123 tools/squidclient/squidclient.1:129
 msgid "Use kinit username@DOMAIN first to get initial TGS."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:132
+#: tools/squidclient/squidclient.1:127
 msgid "WWW Negotiate(Kerberos) authentication."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:138
+#: tools/squidclient/squidclient.1:133
 msgid "Port number of cache.  Default is 3128."
 msgstr "Номер аорта кэширующего прокси-сервера. По умолчанию 3128."
 
 #. type: Plain text
-#: tools/squidclient.1:142
+#: tools/squidclient/squidclient.1:137
 msgid "Request body. Using the named file as data."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:146
+#: tools/squidclient/squidclient.1:141
 msgid "Force cache to reload URL."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:150
+#: tools/squidclient/squidclient.1:145
 msgid "Silent.  Do not print data to stdout."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:156
+#: tools/squidclient/squidclient.1:151
 msgid "Trace I<count> HTTP relay or proxy hops"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:160
+#: tools/squidclient/squidclient.1:155
 msgid "Timeout value (seconds) for read/write operations."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:164
+#: tools/squidclient/squidclient.1:159
 msgid "Proxy authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:168
+#: tools/squidclient/squidclient.1:163
 msgid "WWW authentication username"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:172
+#: tools/squidclient/squidclient.1:167
 msgid "Verbose. Print outgoing message to stderr."
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:176
+#: tools/squidclient/squidclient.1:171
 msgid "HTTP Version. Use '-' for HTTP/0.9 omitted case"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:180
+#: tools/squidclient/squidclient.1:175
 msgid "Proxy authentication password"
 msgstr ""
 
 #. type: Plain text
-#: tools/squidclient.1:184
+#: tools/squidclient/squidclient.1:179
 msgid "WWW authentication password"
 msgstr ""
 
+#. type: Plain text
+#: tools/squidclient/squidclient.1:184
+msgid ""
+"Enable ping mode. Optional -g and -I parameters must follow immediately if "
+"used.  Repeated use resets to default ping settings."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:190
+msgid ""
+"Ping mode, perform I<count> iterations (default is to loop until "
+"interrupted)."
+msgstr ""
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:194
+msgid "Ping interval in seconds (default 1 second)."
+msgstr "Интервал ping в секундах (по умолчанию 1 секунда)"
+
+#. type: Plain text
+#: tools/squidclient/squidclient.1:200
+msgid ""
+"Derived from Harvest. Further developed by by numerous individuals from the "
+"internet community. Development is led by Duane Wessels of the National "
+"Laboratory for Applied Network Research and funded by the National Science "
+"Foundation."
+msgstr ""
+
 #~ msgid "CONFGURATION"
 #~ msgstr "КОНФИГУРИРОВАНИЕ"
 
@@ -1,6 +1,6 @@
-all: release-3.4.html
+all: release-3.5.html
 
-DOC= release-3.4
+DOC= release-3.5
 
 $(DOC).ps: $(DOC).sgml
 	linuxdoc -B latex -o ps $(DOC)
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.3.9 release notes</title>
+<title>Squid 3.3.12 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.3.9.
+The Squid Team are pleased to announce the release of Squid-3.3.12.
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.3/"> or the 
 <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
@@ -180,6 +180,12 @@ This section gives a thorough account of those changes in three categories:
 <sect1>New tags<label id="newtags">
 <p>
 <descrip>
+	<tag>cache_miss_revalidate</tag>
+	<p>Whether Squid is to pass-through If-Modified-Since and If-None-Match headers on cache MISS.
+	   Revalidation requests can prevent cache gathering objects to HIT on.
+	<p>Based on the Squid-2.7 <em>ignore_ims_on_miss</em> feature.
+	<p><em>IMPORTANT:</em> the meaning for on/off values has changed along with the name since 2.7.
+
 	<tag>request_header_add</tag>
 	<p>New directive to add custom headers on HTTP traffic sent to upstream servers.
 
@@ -206,6 +212,9 @@ This section gives a thorough account of those changes in three categories:
 	   <em>ssl::certUntrusted</em>,
 	   <em>ssl::certSelfSigned</em>.
 
+	<tag>client_netmask</tag>
+	<p>IP address 127.0.0.1 (localhost IPv4) is no longer masked.
+
 	<tag>external_acl_type</tag>
 	<p><em>%ACL</em> format tag ported from 2.6.
 	   Sends the name of ACL being tested to the external helper.
@@ -230,8 +239,8 @@ This section gives a thorough account of those changes in three categories:
 <sect1>Removed tags<label id="removedtags">
 <p>
 <descrip>
-
-	<p><em>There are no removed squid.conf options in Squid-3.3.</em>
+	<tag>ignore_ims_on_miss</tag>
+	<p>This option has been replaced by the <em>cache_miss_revalidate</em> feature.
 
 </descrip>
 
@@ -318,9 +327,6 @@ This section gives an account of those changes in three categories:
 	<tag>external_refresh_check</tag>
 	<p>Not yet ported from 2.7
 
-	<tag>ignore_ims_on_miss</tag>
-	<p>Not yet ported from 2.7
-
 	<tag>location_rewrite_access</tag>
 	<p>Not yet ported from 2.6
 
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.4.0.1 release notes</title>
+<title>Squid 3.4.6 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.4.0.1 for testing.
+The Squid Team are pleased to announce the release of Squid-3.4.6 for testing.
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.4/"> or the
  <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
@@ -28,11 +28,11 @@ We welcome feedback and bug reports. If you find a bug, please see <url url="htt
 Although this release is deemed good enough for use in many setups, please note the existence of 
 <url url="http://bugs.squid-cache.org/buglist.cgi?query_format=advanced&amp;product=Squid&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;version=3.4" name="open bugs against Squid-3.4">.
 
-
 <sect1>Changes since earlier releases of Squid-3.4
 <p>
 The 3.4 change history can be <url url="http://www.squid-cache.org/Versions/v3/3.4/changesets/" name="viewed here">.
 
+
 <sect>Major new features since Squid-3.3
 <p>Squid 3.4 represents a new feature release above 3.3.
 
@@ -63,7 +63,7 @@ Most user-facing changes are reflected in squid.conf (see below).
 
 <p>Arbitrary key-value pairs can be returned from any helper.
    Allowing future helpers to be forward- and backward- compatible
-   with this and future version of Squid.
+   with this and future versions of Squid.
 
 
 <sect1>SSL Server Certificate Validator
@@ -122,7 +122,7 @@ Most user-facing changes are reflected in squid.conf (see below).
    affects which <em>refresh_pattern</em> directive will be matched.
 
 <p>Store-ID helpers bundled with Squid can be built with the --enable-storeid-rewrite-helpers
-   options which is added in this version. Currently there is a <em>file</em> helper
+   option which is added in this version. Currently there is a <em>file</em> helper
    provided.
 
 
@@ -177,11 +177,11 @@ Most user-facing changes are reflected in squid.conf (see below).
 
 
 <sect1>Multicast DNS
-<p>The internal DNS component fof Squid now supports multicast DNS (mDNS) resolution in
+<p>The internal DNS component of Squid now supports multicast DNS (mDNS) resolution in
     accordance with RFC 6762.
 
 <p>The <em>dns_multicast_local</em> directive must be set to <em>on</em> to enable this
-   feature. 
+   feature.
 
 <p>The multicast DNS group IP addresses for IPv4 and IPv6 resolving are added to the set
    of available DNS resolvers and used automatically for domain names ending in <em>.local</em>
@@ -191,6 +191,10 @@ Most user-facing changes are reflected in squid.conf (see below).
 <p>Statistics for multicast DNS resolution can be found on the <em>idns</em> cache manager
    report.
 
+<p><em>NOTE</em> that the external DNS helper interface is now deprecated and has been
+  removed from future Squid versions. Any installations still using it for local hostname
+  resolution need to upgrade to mDNS resolution with this Squid version.
+
 
 <sect>Changes to squid.conf since Squid-3.3
 <p>
@@ -202,7 +206,7 @@ There have been changes to Squid's configuration file since Squid-3.3.
     acl whitelist dstdomain parameters("/etc/squid/whitelist.txt")
 </verb>
 
-<p>There hasve also been changes to individual directives in the config file.
+<p>There have also been changes to individual directives in the config file.
 
 This section gives a thorough account of those changes in three categories:
 
@@ -218,7 +222,9 @@ This section gives a thorough account of those changes in three categories:
 <descrip>
 	<tag>configuration_includes_quoted_values</tag>
 	<p>Whether Squid supports directive parameters with spaces, quotes, and other
-	   special characters. Surround such parameters with "double quotes".
+	   special characters. Surround such parameters with "double quotes" and
+	   also set this directive on/off around the relevant squid.conf line(s)
+	   making use of such quoting.
 
 	<tag>dns_multicast_local</tag>
 	<p>Use multicast DNS for <em>.local</em> domains and reverse-DNS resolution.
@@ -254,7 +260,7 @@ This section gives a thorough account of those changes in three categories:
                 <item>concurrency=N was previously called url_rewrite_concurrency as a distinct directive.
         </itemize>
 
-	<tag>storeurl_rewrite_program</tag>
+	<tag>store_id_rewrite_program</tag>
 	<p>A helper program to provide cache storage internal key ID value for a request.
 	<p>Ported equivalent to <em>storeurl_rewrite_program</em> from 2.7
 
@@ -377,6 +383,13 @@ This section gives an account of those changes in three categories:
 	   omit to get all helper auto-detected.
 	<p>Currenly only a helper using <em>file</em> for backend is provided.
 
+	<tag>--disable-arch-native</tag>
+	<p>New option to disable use of -march=native compiler flag.
+	<p>The new flag auto-enables CPU-specific optimizations in GCC and is
+	  required by Clang++ v3.2 for correct 64-bit environment detection.
+	  It does not always work well however, so this build option is provided
+	  to remove it when necessary.
+
 	<tag>--with-nat-devpf</tag>
 	<p>New option to alter the behaviour of <em>http_port ... intercept</em> option
 	   in squid.conf.
@@ -400,6 +413,11 @@ This section gives an account of those changes in three categories:
 	   the getsockname() API in recent PF versions require <em>--with-nat-devpf</em>
 	   to re-enable /dev/pf support when using PF firewall.
 
+	<tag>--disable-translation</tag>
+	<p>Default changed to prevent translating error page templates during build.
+	    Use --enable-translation to explicitly build and install the templates.
+	<p>The latest pre-translated templates can be downloaded from <url url="http://www.squid-cache.org/Versions/langpack/">
+
 </descrip>
 </p>
 
@@ -449,9 +467,6 @@ This section gives an account of those changes in three categories:
 	<tag>external_refresh_check</tag>
 	<p>Not yet ported from 2.7
 
-	<tag>ignore_ims_on_miss</tag>
-	<p>Not yet ported from 2.7
-
 	<tag>location_rewrite_access</tag>
 	<p>Not yet ported from 2.6
 
@@ -0,0 +1,515 @@
+<!doctype linuxdoc system>
+<article>
+<title>Squid 3.5.0.0 release notes</title>
+<author>Squid Developers</author>
+
+<abstract>
+This document contains the release notes for version 3.5 of Squid.
+Squid is a WWW Cache application developed by the National Laboratory
+for Applied Network Research and members of the Web Caching community.
+</abstract>
+
+<toc>
+
+<sect>Notice
+<p>
+The Squid Team are pleased to announce the release of Squid-3.5.0.0 for testing.
+
+This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.5/"> or the
+ <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
+
+While this release is not deemed ready for production use, we believe it is ready for wider testing by the community.
+
+We welcome feedback and bug reports. If you find a bug, please see <url url="http://wiki.squid-cache.org/SquidFaq/BugReporting">
+ for how to submit a report with a stack trace.
+
+<sect1>Known issues
+<p>
+Although this release is deemed good enough for use in many setups, please note the existence of 
+<url url="http://bugs.squid-cache.org/buglist.cgi?query_format=advanced&amp;product=Squid&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;version=3.5" name="open bugs against Squid-3.5">.
+
+<sect1>Changes since earlier releases of Squid-3.5
+<p>
+The 3.5 change history can be <url url="http://www.squid-cache.org/Versions/v3/3.5/changesets/" name="viewed here">.
+
+
+<sect>Major new features since Squid-3.4
+<p>Squid 3.5 represents a new feature release above 3.4.
+
+<p>The most important of these new features are:
+<itemize>
+	<item>Support libecap v1.0
+	<item>Authentication helper query extensions
+	<item>Support named services
+	<item>Upgraded squidclient tool
+	<item>Helper support for concurrency channels
+	<item>Native FTP Relay
+</itemize>
+
+Most user-facing changes are reflected in squid.conf (see below).
+
+
+<sect1>Support libecap v1.0
+<p>Details at <url url="http://wiki.squid-cache.org/Features/BLAH">.
+
+<p>The new libecap version allows Squid to better check the version of
+  the eCAP adapter being loaded as well as the version of the eCAP library
+  being used.
+
+<p>Squid-3.5 can support eCAP adapters built with libecap v1.0,
+   but no longer supports adapters built with earlier libecap versions
+   due to API changes.
+
+
+<sect1>Authentication helper query extensions
+<p>Details at <url url="http://www.squid-cache.org/Doc/config/auth_param/">.
+
+<p>The new <em>key_extras</em> parameter allows sending of additional
+  details to the authentication helper beyond the minimum required for
+  the HTTP authentication. This is primarily intended to allow switching
+  of authentication databases based on criteria such as client IP subnet,
+  Squid receiving port, or in reverse-proxy the requested domain name.
+
+<p>In theory any <em>logformat</em> code may be used, however only the
+  codes which have available details at the time of authentication
+  will send any meaningful detail.
+
+
+<sect1>Support named services
+<p>Details at <url url="http://wiki.squid-cache.org/MultipleInstances">.
+<p>Terminology details at <url url="http://wiki.squid-cache.org/Features/SmpScale#Terminology">.
+
+<p>The command line option <em>-n</em> assigns a name to the Squid service
+   instance to be used as a unique identifier for all SMP processes run as
+   part of that instance. This allows multiple instances of Squid service to
+   be run on a single machine without background SMP systems such as shared
+   memory and inter-process communication becoming confused or requiring
+   additional configuration.
+
+<p>A service name is always used. When the <em>-n</em> option is missing
+   from the command line the default service name is <em>squid</em>.
+
+<p>When multiple instances are being run the <em>-n</em> service name is
+   required to target all other options such as <em>-z</em> or <em>-k</em>
+   commands at the correct service.
+
+<p>The squid.conf macro ${service_name} is added to provide the service name
+   of the process parsing the config.
+
+
+<sect1>Upgraded squidclient tool
+<p>The <em>squidclient</em> has begun the process of upgrading to support
+   protocols other than HTTP.
+
+<sect2>Debug levels
+<p>The tool displays the server response message on STDOUT unless the <em>-q</em>
+   command line option is used. Error messages will be output to STDERR.
+   All other possible output is considered debug and output to STDERR using
+   a range of debug verbosity levels (currently 1, 2 and 3).
+
+<p>When the <em>-v</em> command line option is used debugging is enabled.
+   The level of debug display is raised for each repetition of the option.
+
+<sect2>PING
+<p>When <em>--ping</em> is given the tool will send its message repeatedly
+   using whichever protocol that message has been formatted for.
+   Optional parameters to limit the number of pings and their frequency are
+   available.
+
+<p>Older tool versions also provide this feature but require the loop count
+   parameter to be set to enable use of the feature.
+
+<sect2>HTTPS
+<p>When Squid is built with the GnuTLS encryption library the tool is able
+   to open TLS (or SSL/3.0) connections to servers.
+
+<p>The <em>--https</em> option enables TLS using default values.
+
+<p>The <em>--cert</em> option specifies a file containing X.509 client
+   certificate and private key in PEM format to be loaded for use. Multiple
+   certificates are supported and the option may be used multiple times to
+   load certificates.
+   The default is not to use a client certificate.
+
+<p>The <em>--params</em> option specifies a library specific set of parameters
+   to be sent to the library for configuring the security context.
+   See <url url="http://gnutls.org/manual/html_node/Priority-Strings.html"> for
+   available GnuTLS parameters.
+
+<p>The <em>--trusted-ca</em> option specifies a file in PEM format containing
+   one or more Certificate Authority (CA) certificates used to verify the
+   remote server. This option may be used multiple times to load additional
+   CA certificate lists.
+   The default is not to use any CA, nor trust any server.
+
+<p>Anonymous TLS (using non-authenticated Diffi-Hellman or Elliptic Curve
+   encryption) is available with the <em>--anonymous-tls</em> option.
+   The default is to use X.509 certificate encryption instead.
+
+<p>When performing TLS/SSL server certificates are always verified, the
+   results shown at debug level 3. The encrypted type is displayed at debug
+   level 2 and the connection is used to send and receive the messages
+   regardless of verification results.
+
+
+<sect1>Helper support for concurrency channels
+<p>Helper concurrency greatly reduces the communication lag between Squid
+   and its helpers allowing faster transaction speeds even on sequential
+   helpers.
+
+<p>The Digest authentication, Store-ID, and URL-rewrite helpers packaged
+   with Squid have been updated to support concurrency channels. They will
+   auto-detect the <em>channel-ID</em> field and will produce the appropriate
+   response format.
+   With these helpers concurrency may now be set to 0 or any higher number as desired.
+
+
+<sect1>Native FTP Relay
+<p>Details at <url url="http://wiki.squid-cache.org/Features/FtpRelay">.
+
+<p>Squid is now capable of accepting native FTP commands and relaying native
+   FTP messages between FTP clients and FTP servers. Native FTP commands
+   accepted at ftp_port are internally converted or wrapped into HTTP-like
+   messages. The same happens to Native FTP responses received from FTP origin
+   servers. Those HTTP-like messages are shoveled through regular access
+   control and adaptation layers between the FTP client and the FTP origin
+   server. This allows Squid to examine, adapt, block, and log FTP exchanges.
+   Squid reuses most HTTP mechanisms when shoveling wrapped FTP messages. For
+   example, http_access and adaptation_access directives are used.
+
+<p>FTP Relay is a new, experimental, complex feature that has seen limited
+   production exposure. Some Squid modules (e.g., caching) do not currently
+   work with native FTP proxying, and many features have not even been tested
+   for compatibility. Test well before deploying!
+
+<p>Native FTP proxying differs substantially from proxying HTTP requests with
+   <em>ftp://</em> URIs because Squid works as an FTP server and receives
+   actual FTP commands (rather than HTTP requests with FTP URLs).
+
+<p>FTP Relay highlights:</p>
+
+<itemize>
+    <item>Added ftp_port directive telling Squid to relay native FTP commands.
+    <item>Active and passive FTP support on the user-facing side; require
+	  passive connections to come from the control connection source IP
+	  address.
+    <item>IPv6 support (EPSV and, on the user-facing side, EPRT).
+    <item>Intelligent adaptation of relayed FTP FEAT responses.
+    <item>Relaying of multi-line FTP control responses using various formats.
+    <item>Support relaying of FTP MLSD and MLST commands (RFC 3659).
+    <item>Several Microsoft FTP server compatibility features.
+    <item>ICAP/eCAP support (at individual FTP command/response level).
+    <item>Optional "current FTP directory" tracking with the assistance of
+	  injected (by Squid) PWD commands (cannot be 100% reliable due to
+	  symbolic links and such, but is helpful in some common use cases).
+    <item>No caching support -- no reliable Request URIs for that (see above).
+</itemize>
+
+
+<sect>Changes to squid.conf since Squid-3.4
+<p>
+There have been changes to Squid's configuration file since Squid-3.4.
+
+<p>Squid supports reading configuration option parameters from external
+   files using the syntax <em>parameters("/path/filename")</em>. For example:
+<verb>
+    acl whitelist dstdomain parameters("/etc/squid/whitelist.txt")
+</verb>
+
+<p>The squid.conf macro ${service_name} is added to provide the service name
+   of the process parsing the config.
+
+<p>There have also been changes to individual directives in the config file.
+
+This section gives a thorough account of those changes in three categories:
+
+<itemize>
+	<item><ref id="newtags" name="New tags">
+	<item><ref id="modifiedtags" name="Changes to existing tags">
+	<item><ref id="removedtags" name="Removed tags">
+</itemize>
+<p>
+
+<sect1>New tags<label id="newtags">
+<p>
+<descrip>
+	<tag>collapsed_forwarding</tag>
+	<p>Ported from Squid-2 with no configuration or visible behaviour changes.
+           Collapsing of requests is performed across SMP workers.
+
+	<tag>send_hit</tag>
+	<p>New configuration directive to enable/disable sending cached content
+	   based on ACL selection. ACL can be based on client request or cached
+	   response details.
+
+	<tag>sslproxy_session_cache_size</tag>
+	<p>New directive which sets the cache size to use for TLS/SSL sessions cache.
+
+	<tag>sslproxy_session_ttl</tag>
+	<p>New directive to specify the time in seconds the TLS/SSL session is valid.
+
+	<tag>store_id_extras</tag>
+	<p>New directive to send additional lookup parameters to the configured
+	   Store-ID helper program. It takes a string which may contain logformat %macros.
+	<p>The Store-ID helper input format is now:
+	<verb>
+         [channel-ID] url [extras]
+	</verb>
+	<p>The default value for extras is: "%&gt;a/%>A %un %>rm myip=%la myport=%lp"
+
+	<tag>store_miss</tag>
+	<p>New configuration directive to enable/disable caching of MISS responses.
+	   ACL can be based on any request or response details.
+
+	<tag>url_rewrite_extras</tag>
+	<p>New directive to send additional lookup parameters to the configured
+	   URL-rewriter/redirector helper program. It takes a string which may
+	   contain logformat %macros.
+	<p>The url rewrite and redirector helper input format is now:
+	<verb>
+         [channel-ID] url [extras]
+	</verb>
+	<p>The default value for extras is: "%>a/%>A %un %>rm myip=%la myport=%lp"
+
+	<tag>ftp_port</tag>
+
+	<p>New configuration directive to accept and relay native FTP
+	   commands. Typically used for port 21 traffic.  By default, native
+	   FTP commands are not accepted.
+
+	<tag>ftp_client_idle_timeout</tag>
+
+	<p>This new configuration directive controls how long Squid should
+	   wait for an FTP request on a connection to an ftp_port.  Many FTP
+	   clients do not deal with idle connection closures well,
+	   necessitating a longer default timeout (30 minutes) than
+	   client_idle_pconn_timeout used for incoming HTTP requests (2
+	   minutes). The current default may be changed as we get more
+	   experience with FTP relaying.
+
+</descrip>
+
+<sect1>Changes to existing tags<label id="modifiedtags">
+<p>
+<descrip>
+	<tag>acl</tag>
+	<p>New type <em>adaptation_service</em> to match the name of any
+	   icap_service, ecap_service, adaptation_service_set, or
+	   adaptation_service_chain that Squid has used (or attempted to use)
+	   for the HTTP transaction so far.
+
+	<tag>auth_param</tag>
+	<p>New parameter <em>key_extras</em> to send additional parameters to
+	   the authentication helper.
+
+	<tag>cache_dir</tag>
+	<p>New support for larger than 32KB objects in both <em>rock</em> type
+	   cache and shared memory cache.
+	<p>New <em>slot-size=N</em> option for rock cache to specify the database
+	   slot/page size when small slot sizes are desired. The default and
+	   maximum slot size is 32KB.
+	<p>Removal of old rock cache dir followed by <em>squid -z</em> is required
+	   when upgrading from earlier versions of Squid.
+
+	<tag>cache_peer</tag>
+	<p>New <em>standby=N</em> option to retain a set of N open and unused
+	   connections to the peer at virtually all times to reduce TCP handshake
+	   delays.
+	<p>These connections differ from HTTP persistent connections in that they
+	   have not been used for HTTP messaging (and may never be). They may be
+	   turned into persistent connections after their first use subject to the
+	   same keep-alive critera any HTTP connection is checked for.
+
+	<tag>forward_max_tries</tag>
+	<p>Default value increased to <em>25 destinations</em> to allow better
+	   contact and IPv4 failover with domains using long lists of IPv6
+	   addresses.
+
+	<tag>ftp_epsv</tag>
+	<p>Converted into an Access List with allow/deny value driven by ACLs
+	   using Squid standard first line wins matching basis.
+	<p>The old values of <em>on</em> and <em>off</em> imply <em>allow all</em>
+	    and <em>deny all</em> respectively and are now deprecated.
+	   Do not combine use of on/off values with ACL configuration.
+
+	<tag>http_port</tag>
+	<p><em>protocol=</em> option altered to accept protocol version details.
+	   Currently supported values are: HTTP, HTTP/1.1, HTTPS, HTTPS/1.1
+
+	<tag>https_port</tag>
+	<p><em>protocol=</em> option altered to accept protocol version details.
+	   Currently supported values are: HTTP, HTTP/1.1, HTTPS, HTTPS/1.1
+
+	<tag>logformat</tag>
+	<p>New format code <em>%credentials</em> to log the client credentials
+	   token.
+	<p>New format code <em>%tS</em> to log transaction start time in
+	   "seconds.milliseconds" format, similar to the existing access.log
+	   "current time" field (%ts.%03tu) which logs the corresponding
+	   transaction finish time.
+
+</descrip>
+
+<sect1>Removed tags<label id="removedtags">
+<p>
+<descrip>
+	<tag>cache_dir</tag>
+	<p><em>COSS</em> storage type is formally replaced by Rock storage type.
+
+	<tag>cache_dns_program</tag>
+	<p>DNS external helper interface has been removed. It was no longer
+	   able to provide high performance service and the internal DNS
+	   client library with multicast DNS cover all modern use-cases.
+
+	<tag>cache_peer</tag>
+	<p><em>idle=</em> replaced by <em>standby=</em>.
+	<p>NOTE that standby connections are started earlier and available in
+	   more circumstances than squid-2 idle connections were. They are
+	   also spread over all IPs of the peer.
+
+	<tag>dns_children</tag>
+	<p>DNS external helper interface has been removed.
+
+	<tag>hierarchy_stoplist</tag>
+	<p>Removed. The old directive values prohibiting CGI and dynamic content
+	   going to cache_peer are no longer relevant.
+	<p>The functionality provided by this directive can be configured
+	   using <em>always_direct allow</em> if still needed.
+
+</descrip>
+
+
+<sect>Changes to ./configure options since Squid-3.4
+<p>
+There have been some changes to Squid's build configuration since Squid-3.4.
+
+This section gives an account of those changes in three categories:
+
+<itemize>
+	<item><ref id="newoptions" name="New options">
+	<item><ref id="modifiedoptions" name="Changes to existing options">
+	<item><ref id="removedoptions" name="Removed options">
+</itemize>
+
+
+<sect1>New options<label id="newoptions">
+<p>
+<descrip>
+	<tag>BUILDCXX=</tag>
+	<p>Used when cross-compiling Squid.
+	<p>The path and name of a compiler for building cf_gen and related
+	   tools used in the compile process.
+
+	<tag>BUILDCXXFLAGS=</tag>
+	<p>Used when cross-compiling Squid.
+	<p>C++ compiler flags used for building cf_gen and related
+	   tools used in the compile process.
+
+	<tag>--without-gnutls</tag>
+	<p>New option to explicitly disable use of GnuTLS encryption library.
+	   Use of this library is auto-enabled if v3.1.5 or later is available.
+	<p>It is currently only used by the squidclient tool.
+
+	<tag>--without-mit-krb5</tag>
+	<p>New option to explicitly disable use of MIT Kerberos library.
+	   Default is to auto-detect and use if possible.
+	<p>Only one Kerberos library may be built against.
+
+	<tag>--without-heimdal-krb5</tag>
+	<p>New option to explicitly disable use of Hiemdal Kerberos library.
+	   Default is to auto-detect and use if possible.
+	<p>Only one Kerberos library may be built against.
+
+	<tag>--without-gnugss</tag>
+	<p>New option to explicitly disable use of GNU GSSAPI library for Kerberos.
+	   Default is to auto-detect and use if possible.
+	<p>Only one Kerberos library may be built against.
+
+</descrip>
+
+<sect1>Changes to existing options<label id="modifiedoptions">
+<p>
+<descrip>
+	<tag>--enable-icap-client</tag>
+	<p>Deprecated. ICAP client is now auto-enabled.
+	   Use --disable-icap-client to disable if you need to.
+
+</descrip>
+</p>
+
+<sect1>Removed options<label id="removedoptions">
+<p>
+<descrip>
+	<tag>--disable-internal-dns</tag>
+	<p>DNS external helper interface has been removed. It was no longer
+	   able to provide high performance service and the internal DNS
+	   client library with multicast DNS cover all modern use-cases.
+
+	<tag>--enable-ssl</tag>
+	<p>Removed. Use <em>--with-openssl</em> to enable OpenSSL library support.
+
+	<tag>--with-coss-membuf-size</tag>
+	<p>The COSS cache type has been removed.
+	   It has been replaced by <em>rock</em> cache type.
+
+	<tag>--with-krb5-config</tag>
+	<p>Removed. The Kerberos library is auto-detected now.
+	<p>Use <em>--with/--without-mit-krb5</em>, <em>--with/--without-heimdal-krb5</em>, or
+	   <em>--with/--without-gnugss</em> options for specific library selection if necesary.
+
+</descrip>
+
+
+<sect>Regressions since Squid-2.7
+
+<p>Some squid.conf options which were available in Squid-2.7 are not yet available in Squid-3.5
+
+<p>If you need something to do then porting one of these from Squid-2 to Squid-3 is most welcome.
+
+<sect1>Missing squid.conf options available in Squid-2.7
+<p>
+<descrip>
+	<tag>broken_vary_encoding</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>cache_peer</tag>
+	<p><em>monitorinterval=</em> not yet ported from 2.6
+	<p><em>monitorsize=</em> not yet ported from 2.6
+	<p><em>monitortimeout=</em> not yet ported from 2.6
+	<p><em>monitorurl=</em> not yet ported from 2.6
+
+	<tag>cache_vary</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>error_map</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>external_refresh_check</tag>
+	<p>Not yet ported from 2.7
+
+	<tag>location_rewrite_access</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>location_rewrite_children</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>location_rewrite_concurrency</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>location_rewrite_program</tag>
+	<p>Not yet ported from 2.6
+
+	<tag>refresh_pattern</tag>
+	<p><em>stale-while-revalidate=</em> not yet ported from 2.7
+	<p><em>ignore-stale-while-revalidate=</em> not yet ported from 2.7
+	<p><em>negative-ttl=</em> not yet ported from 2.7
+
+	<tag>refresh_stale_hit</tag>
+	<p>Not yet ported from 2.7
+
+	<tag>update_headers</tag>
+	<p>Not yet ported from 2.7
+
+</descrip>
+
+</article>
@@ -69,9 +69,6 @@ rfc4918.txt
 	HTTP Extensions for Distributed Authoring -- WEBDAV
 	Numerous extension methods to HTTP
 
-rfc2616.txt
-	Hypertext Transfer Protocol -- HTTP/1.1
-
 rfc2617.txt
 	HTTP/1.1 Basic and Digest authentication
 
@@ -166,3 +163,41 @@ rfc6762.txt
 	Multicast DNS
 	Details the DNS requirements on the Squid internal DNS client
 	for resolving URLs in the .local domain.
+
+rfc7230.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing
+	Details the message 'frame' delimiters, first-line, and URL
+	syntax, generic parsing rules, connection management, routing,
+	and transfer encoding.
+
+rfc7231.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content
+	Details the basic HTTP methods, headers and status code values
+	and behaviour requirements imposed by each.
+
+rfc7232.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests
+	Last-Modified and Etag validator headers,
+	If-* conditional headers,
+	304 and 412 status codes.
+
+rfc7233.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Range Requests
+	Defines range requests and the rules for constructing and
+	combining responses to those requests.
+
+rfc7234.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Caching
+	Defines HTTP caches and the associated header fields that
+	control cache behavior or indicate cacheable response messages.
+
+rfc7235.txt
+	Hypertext Transfer Protocol (HTTP/1.1): Authentication
+
+rfc7238.txt
+	The Hypertext Transfer Protocol Status Code 308 (Permanent Redirect)
+
+rfc7239.txt
+	Forwarded HTTP Extension
+	Details the Forwarded: header replacement for X-Forwarded-For
+	and other X-Forwarded-* variants
@@ -0,0 +1,1571 @@
+
+
+
+
+
+
+Internet Engineering Task Force (IETF)                  R. Fielding, Ed.
+Request for Comments: 7232                                         Adobe
+Obsoletes: 2616                                          J. Reschke, Ed.
+Category: Standards Track                                     greenbytes
+ISSN: 2070-1721                                                June 2014
+
+
+      Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests
+
+Abstract
+
+   The Hypertext Transfer Protocol (HTTP) is a stateless application-
+   level protocol for distributed, collaborative, hypertext information
+   systems.  This document defines HTTP/1.1 conditional requests,
+   including metadata header fields for indicating state changes,
+   request header fields for making preconditions on such state, and
+   rules for constructing the responses to a conditional request when
+   one or more preconditions evaluate to false.
+
+Status of This Memo
+
+   This is an Internet Standards Track document.
+
+   This document is a product of the Internet Engineering Task Force
+   (IETF).  It represents the consensus of the IETF community.  It has
+   received public review and has been approved for publication by the
+   Internet Engineering Steering Group (IESG).  Further information on
+   Internet Standards is available in Section 2 of RFC 5741.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   http://www.rfc-editor.org/info/rfc7232.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 1]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Copyright Notice
+
+   Copyright (c) 2014 IETF Trust and the persons identified as the
+   document authors.  All rights reserved.
+
+   This document is subject to BCP 78 and the IETF Trust's Legal
+   Provisions Relating to IETF Documents
+   (http://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Simplified BSD License text as described in Section 4.e of
+   the Trust Legal Provisions and are provided without warranty as
+   described in the Simplified BSD License.
+
+   This document may contain material from IETF Documents or IETF
+   Contributions published or made publicly available before November
+   10, 2008.  The person(s) controlling the copyright in some of this
+   material may not have granted the IETF Trust the right to allow
+   modifications of such material outside the IETF Standards Process.
+   Without obtaining an adequate license from the person(s) controlling
+   the copyright in such materials, this document may not be modified
+   outside the IETF Standards Process, and derivative works of it may
+   not be created outside the IETF Standards Process, except to format
+   it for publication as an RFC or to translate it into languages other
+   than English.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 2]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Table of Contents
+
+   1. Introduction ....................................................4
+      1.1. Conformance and Error Handling .............................4
+      1.2. Syntax Notation ............................................4
+   2. Validators ......................................................5
+      2.1. Weak versus Strong .........................................5
+      2.2. Last-Modified ..............................................7
+           2.2.1. Generation ..........................................7
+           2.2.2. Comparison ..........................................8
+      2.3. ETag .......................................................9
+           2.3.1. Generation .........................................10
+           2.3.2. Comparison .........................................10
+           2.3.3. Example: Entity-Tags Varying on
+                  Content-Negotiated Resources .......................11
+      2.4. When to Use Entity-Tags and Last-Modified Dates ...........12
+   3. Precondition Header Fields .....................................13
+      3.1. If-Match ..................................................13
+      3.2. If-None-Match .............................................14
+      3.3. If-Modified-Since .........................................16
+      3.4. If-Unmodified-Since .......................................17
+      3.5. If-Range ..................................................18
+   4. Status Code Definitions ........................................18
+      4.1. 304 Not Modified ..........................................18
+      4.2. 412 Precondition Failed ...................................19
+   5. Evaluation .....................................................19
+   6. Precedence .....................................................20
+   7. IANA Considerations ............................................22
+      7.1. Status Code Registration ..................................22
+      7.2. Header Field Registration .................................22
+   8. Security Considerations ........................................22
+   9. Acknowledgments ................................................23
+   10. References ....................................................24
+      10.1. Normative References .....................................24
+      10.2. Informative References ...................................24
+   Appendix A. Changes from RFC 2616 .................................25
+   Appendix B. Imported ABNF .........................................25
+   Appendix C. Collected ABNF ........................................26
+   Index .............................................................27
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 3]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+1.  Introduction
+
+   Conditional requests are HTTP requests [RFC7231] that include one or
+   more header fields indicating a precondition to be tested before
+   applying the method semantics to the target resource.  This document
+   defines the HTTP/1.1 conditional request mechanisms in terms of the
+   architecture, syntax notation, and conformance criteria defined in
+   [RFC7230].
+
+   Conditional GET requests are the most efficient mechanism for HTTP
+   cache updates [RFC7234].  Conditionals can also be applied to
+   state-changing methods, such as PUT and DELETE, to prevent the "lost
+   update" problem: one client accidentally overwriting the work of
+   another client that has been acting in parallel.
+
+   Conditional request preconditions are based on the state of the
+   target resource as a whole (its current value set) or the state as
+   observed in a previously obtained representation (one value in that
+   set).  A resource might have multiple current representations, each
+   with its own observable state.  The conditional request mechanisms
+   assume that the mapping of requests to a "selected representation"
+   (Section 3 of [RFC7231]) will be consistent over time if the server
+   intends to take advantage of conditionals.  Regardless, if the
+   mapping is inconsistent and the server is unable to select the
+   appropriate representation, then no harm will result when the
+   precondition evaluates to false.
+
+   The conditional request preconditions defined by this specification
+   (Section 3) are evaluated when applicable to the recipient
+   (Section 5) according to their order of precedence (Section 6).
+
+1.1.  Conformance and Error Handling
+
+   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
+   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
+   document are to be interpreted as described in [RFC2119].
+
+   Conformance criteria and considerations regarding error handling are
+   defined in Section 2.5 of [RFC7230].
+
+1.2.  Syntax Notation
+
+   This specification uses the Augmented Backus-Naur Form (ABNF)
+   notation of [RFC5234] with a list extension, defined in Section 7 of
+   [RFC7230], that allows for compact definition of comma-separated
+   lists using a '#' operator (similar to how the '*' operator indicates
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 4]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   repetition).  Appendix B describes rules imported from other
+   documents.  Appendix C shows the collected grammar with all list
+   operators expanded to standard ABNF notation.
+
+2.  Validators
+
+   This specification defines two forms of metadata that are commonly
+   used to observe resource state and test for preconditions:
+   modification dates (Section 2.2) and opaque entity tags
+   (Section 2.3).  Additional metadata that reflects resource state has
+   been defined by various extensions of HTTP, such as Web Distributed
+   Authoring and Versioning (WebDAV, [RFC4918]), that are beyond the
+   scope of this specification.  A resource metadata value is referred
+   to as a "validator" when it is used within a precondition.
+
+2.1.  Weak versus Strong
+
+   Validators come in two flavors: strong or weak.  Weak validators are
+   easy to generate but are far less useful for comparisons.  Strong
+   validators are ideal for comparisons but can be very difficult (and
+   occasionally impossible) to generate efficiently.  Rather than impose
+   that all forms of resource adhere to the same strength of validator,
+   HTTP exposes the type of validator in use and imposes restrictions on
+   when weak validators can be used as preconditions.
+
+   A "strong validator" is representation metadata that changes value
+   whenever a change occurs to the representation data that would be
+   observable in the payload body of a 200 (OK) response to GET.
+
+   A strong validator might change for reasons other than a change to
+   the representation data, such as when a semantically significant part
+   of the representation metadata is changed (e.g., Content-Type), but
+   it is in the best interests of the origin server to only change the
+   value when it is necessary to invalidate the stored responses held by
+   remote caches and authoring tools.
+
+   Cache entries might persist for arbitrarily long periods, regardless
+   of expiration times.  Thus, a cache might attempt to validate an
+   entry using a validator that it obtained in the distant past.  A
+   strong validator is unique across all versions of all representations
+   associated with a particular resource over time.  However, there is
+   no implication of uniqueness across representations of different
+   resources (i.e., the same strong validator might be in use for
+   representations of multiple resources at the same time and does not
+   imply that those representations are equivalent).
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 5]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   There are a variety of strong validators used in practice.  The best
+   are based on strict revision control, wherein each change to a
+   representation always results in a unique node name and revision
+   identifier being assigned before the representation is made
+   accessible to GET.  A collision-resistant hash function applied to
+   the representation data is also sufficient if the data is available
+   prior to the response header fields being sent and the digest does
+   not need to be recalculated every time a validation request is
+   received.  However, if a resource has distinct representations that
+   differ only in their metadata, such as might occur with content
+   negotiation over media types that happen to share the same data
+   format, then the origin server needs to incorporate additional
+   information in the validator to distinguish those representations.
+
+   In contrast, a "weak validator" is representation metadata that might
+   not change for every change to the representation data.  This
+   weakness might be due to limitations in how the value is calculated,
+   such as clock resolution, an inability to ensure uniqueness for all
+   possible representations of the resource, or a desire of the resource
+   owner to group representations by some self-determined set of
+   equivalency rather than unique sequences of data.  An origin server
+   SHOULD change a weak entity-tag whenever it considers prior
+   representations to be unacceptable as a substitute for the current
+   representation.  In other words, a weak entity-tag ought to change
+   whenever the origin server wants caches to invalidate old responses.
+
+   For example, the representation of a weather report that changes in
+   content every second, based on dynamic measurements, might be grouped
+   into sets of equivalent representations (from the origin server's
+   perspective) with the same weak validator in order to allow cached
+   representations to be valid for a reasonable period of time (perhaps
+   adjusted dynamically based on server load or weather quality).
+   Likewise, a representation's modification time, if defined with only
+   one-second resolution, might be a weak validator if it is possible
+   for the representation to be modified twice during a single second
+   and retrieved between those modifications.
+
+   Likewise, a validator is weak if it is shared by two or more
+   representations of a given resource at the same time, unless those
+   representations have identical representation data.  For example, if
+   the origin server sends the same validator for a representation with
+   a gzip content coding applied as it does for a representation with no
+   content coding, then that validator is weak.  However, two
+   simultaneous representations might share the same strong validator if
+   they differ only in the representation metadata, such as when two
+   different media types are available for the same representation data.
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 6]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   Strong validators are usable for all conditional requests, including
+   cache validation, partial content ranges, and "lost update"
+   avoidance.  Weak validators are only usable when the client does not
+   require exact equality with previously obtained representation data,
+   such as when validating a cache entry or limiting a web traversal to
+   recent changes.
+
+2.2.  Last-Modified
+
+   The "Last-Modified" header field in a response provides a timestamp
+   indicating the date and time at which the origin server believes the
+   selected representation was last modified, as determined at the
+   conclusion of handling the request.
+
+     Last-Modified = HTTP-date
+
+   An example of its use is
+
+     Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT
+
+2.2.1.  Generation
+
+   An origin server SHOULD send Last-Modified for any selected
+   representation for which a last modification date can be reasonably
+   and consistently determined, since its use in conditional requests
+   and evaluating cache freshness ([RFC7234]) results in a substantial
+   reduction of HTTP traffic on the Internet and can be a significant
+   factor in improving service scalability and reliability.
+
+   A representation is typically the sum of many parts behind the
+   resource interface.  The last-modified time would usually be the most
+   recent time that any of those parts were changed.  How that value is
+   determined for any given resource is an implementation detail beyond
+   the scope of this specification.  What matters to HTTP is how
+   recipients of the Last-Modified header field can use its value to
+   make conditional requests and test the validity of locally cached
+   responses.
+
+   An origin server SHOULD obtain the Last-Modified value of the
+   representation as close as possible to the time that it generates the
+   Date field value for its response.  This allows a recipient to make
+   an accurate assessment of the representation's modification time,
+   especially if the representation changes near the time that the
+   response is generated.
+
+   An origin server with a clock MUST NOT send a Last-Modified date that
+   is later than the server's time of message origination (Date).  If
+   the last modification time is derived from implementation-specific
+
+
+
+Fielding & Reschke           Standards Track                    [Page 7]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   metadata that evaluates to some time in the future, according to the
+   origin server's clock, then the origin server MUST replace that value
+   with the message origination date.  This prevents a future
+   modification date from having an adverse impact on cache validation.
+
+   An origin server without a clock MUST NOT assign Last-Modified values
+   to a response unless these values were associated with the resource
+   by some other system or user with a reliable clock.
+
+2.2.2.  Comparison
+
+   A Last-Modified time, when used as a validator in a request, is
+   implicitly weak unless it is possible to deduce that it is strong,
+   using the following rules:
+
+   o  The validator is being compared by an origin server to the actual
+      current validator for the representation and,
+
+   o  That origin server reliably knows that the associated
+      representation did not change twice during the second covered by
+      the presented validator.
+
+   or
+
+   o  The validator is about to be used by a client in an
+      If-Modified-Since, If-Unmodified-Since, or If-Range header field,
+      because the client has a cache entry for the associated
+      representation, and
+
+   o  That cache entry includes a Date value, which gives the time when
+      the origin server sent the original response, and
+
+   o  The presented Last-Modified time is at least 60 seconds before the
+      Date value.
+
+   or
+
+   o  The validator is being compared by an intermediate cache to the
+      validator stored in its cache entry for the representation, and
+
+   o  That cache entry includes a Date value, which gives the time when
+      the origin server sent the original response, and
+
+   o  The presented Last-Modified time is at least 60 seconds before the
+      Date value.
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 8]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   This method relies on the fact that if two different responses were
+   sent by the origin server during the same second, but both had the
+   same Last-Modified time, then at least one of those responses would
+   have a Date value equal to its Last-Modified time.  The arbitrary
+   60-second limit guards against the possibility that the Date and
+   Last-Modified values are generated from different clocks or at
+   somewhat different times during the preparation of the response.  An
+   implementation MAY use a value larger than 60 seconds, if it is
+   believed that 60 seconds is too short.
+
+2.3.  ETag
+
+   The "ETag" header field in a response provides the current entity-tag
+   for the selected representation, as determined at the conclusion of
+   handling the request.  An entity-tag is an opaque validator for
+   differentiating between multiple representations of the same
+   resource, regardless of whether those multiple representations are
+   due to resource state changes over time, content negotiation
+   resulting in multiple representations being valid at the same time,
+   or both.  An entity-tag consists of an opaque quoted string, possibly
+   prefixed by a weakness indicator.
+
+     ETag       = entity-tag
+
+     entity-tag = [ weak ] opaque-tag
+     weak       = %x57.2F ; "W/", case-sensitive
+     opaque-tag = DQUOTE *etagc DQUOTE
+     etagc      = %x21 / %x23-7E / obs-text
+                ; VCHAR except double quotes, plus obs-text
+
+      Note: Previously, opaque-tag was defined to be a quoted-string
+      ([RFC2616], Section 3.11); thus, some recipients might perform
+      backslash unescaping.  Servers therefore ought to avoid backslash
+      characters in entity tags.
+
+   An entity-tag can be more reliable for validation than a modification
+   date in situations where it is inconvenient to store modification
+   dates, where the one-second resolution of HTTP date values is not
+   sufficient, or where modification dates are not consistently
+   maintained.
+
+   Examples:
+
+     ETag: "xyzzy"
+     ETag: W/"xyzzy"
+     ETag: ""
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 9]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   An entity-tag can be either a weak or strong validator, with strong
+   being the default.  If an origin server provides an entity-tag for a
+   representation and the generation of that entity-tag does not satisfy
+   all of the characteristics of a strong validator (Section 2.1), then
+   the origin server MUST mark the entity-tag as weak by prefixing its
+   opaque value with "W/" (case-sensitive).
+
+2.3.1.  Generation
+
+   The principle behind entity-tags is that only the service author
+   knows the implementation of a resource well enough to select the most
+   accurate and efficient validation mechanism for that resource, and
+   that any such mechanism can be mapped to a simple sequence of octets
+   for easy comparison.  Since the value is opaque, there is no need for
+   the client to be aware of how each entity-tag is constructed.
+
+   For example, a resource that has implementation-specific versioning
+   applied to all changes might use an internal revision number, perhaps
+   combined with a variance identifier for content negotiation, to
+   accurately differentiate between representations.  Other
+   implementations might use a collision-resistant hash of
+   representation content, a combination of various file attributes, or
+   a modification timestamp that has sub-second resolution.
+
+   An origin server SHOULD send an ETag for any selected representation
+   for which detection of changes can be reasonably and consistently
+   determined, since the entity-tag's use in conditional requests and
+   evaluating cache freshness ([RFC7234]) can result in a substantial
+   reduction of HTTP network traffic and can be a significant factor in
+   improving service scalability and reliability.
+
+2.3.2.  Comparison
+
+   There are two entity-tag comparison functions, depending on whether
+   or not the comparison context allows the use of weak validators:
+
+   o  Strong comparison: two entity-tags are equivalent if both are not
+      weak and their opaque-tags match character-by-character.
+
+   o  Weak comparison: two entity-tags are equivalent if their
+      opaque-tags match character-by-character, regardless of either or
+      both being tagged as "weak".
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 10]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   The example below shows the results for a set of entity-tag pairs and
+   both the weak and strong comparison function results:
+
+   +--------+--------+-------------------+-----------------+
+   | ETag 1 | ETag 2 | Strong Comparison | Weak Comparison |
+   +--------+--------+-------------------+-----------------+
+   | W/"1"  | W/"1"  | no match          | match           |
+   | W/"1"  | W/"2"  | no match          | no match        |
+   | W/"1"  | "1"    | no match          | match           |
+   | "1"    | "1"    | match             | match           |
+   +--------+--------+-------------------+-----------------+
+
+2.3.3.  Example: Entity-Tags Varying on Content-Negotiated Resources
+
+   Consider a resource that is subject to content negotiation (Section
+   3.4 of [RFC7231]), and where the representations sent in response to
+   a GET request vary based on the Accept-Encoding request header field
+   (Section 5.3.4 of [RFC7231]):
+
+   >> Request:
+
+     GET /index HTTP/1.1
+     Host: www.example.com
+     Accept-Encoding: gzip
+
+
+   In this case, the response might or might not use the gzip content
+   coding.  If it does not, the response might look like:
+
+   >> Response:
+
+     HTTP/1.1 200 OK
+     Date: Fri, 26 Mar 2010 00:05:00 GMT
+     ETag: "123-a"
+     Content-Length: 70
+     Vary: Accept-Encoding
+     Content-Type: text/plain
+
+     Hello World!
+     Hello World!
+     Hello World!
+     Hello World!
+     Hello World!
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 11]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   An alternative representation that does use gzip content coding would
+   be:
+
+   >> Response:
+
+     HTTP/1.1 200 OK
+     Date: Fri, 26 Mar 2010 00:05:00 GMT
+     ETag: "123-b"
+     Content-Length: 43
+     Vary: Accept-Encoding
+     Content-Type: text/plain
+     Content-Encoding: gzip
+
+     ...binary data...
+
+      Note: Content codings are a property of the representation data,
+      so a strong entity-tag for a content-encoded representation has to
+      be distinct from the entity tag of an unencoded representation to
+      prevent potential conflicts during cache updates and range
+      requests.  In contrast, transfer codings (Section 4 of [RFC7230])
+      apply only during message transfer and do not result in distinct
+      entity-tags.
+
+2.4.  When to Use Entity-Tags and Last-Modified Dates
+
+   In 200 (OK) responses to GET or HEAD, an origin server:
+
+   o  SHOULD send an entity-tag validator unless it is not feasible to
+      generate one.
+
+   o  MAY send a weak entity-tag instead of a strong entity-tag, if
+      performance considerations support the use of weak entity-tags, or
+      if it is unfeasible to send a strong entity-tag.
+
+   o  SHOULD send a Last-Modified value if it is feasible to send one.
+
+   In other words, the preferred behavior for an origin server is to
+   send both a strong entity-tag and a Last-Modified value in successful
+   responses to a retrieval request.
+
+   A client:
+
+   o  MUST send that entity-tag in any cache validation request (using
+      If-Match or If-None-Match) if an entity-tag has been provided by
+      the origin server.
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 12]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   o  SHOULD send the Last-Modified value in non-subrange cache
+      validation requests (using If-Modified-Since) if only a
+      Last-Modified value has been provided by the origin server.
+
+   o  MAY send the Last-Modified value in subrange cache validation
+      requests (using If-Unmodified-Since) if only a Last-Modified value
+      has been provided by an HTTP/1.0 origin server.  The user agent
+      SHOULD provide a way to disable this, in case of difficulty.
+
+   o  SHOULD send both validators in cache validation requests if both
+      an entity-tag and a Last-Modified value have been provided by the
+      origin server.  This allows both HTTP/1.0 and HTTP/1.1 caches to
+      respond appropriately.
+
+3.  Precondition Header Fields
+
+   This section defines the syntax and semantics of HTTP/1.1 header
+   fields for applying preconditions on requests.  Section 5 defines
+   when the preconditions are applied.  Section 6 defines the order of
+   evaluation when more than one precondition is present.
+
+3.1.  If-Match
+
+   The "If-Match" header field makes the request method conditional on
+   the recipient origin server either having at least one current
+   representation of the target resource, when the field-value is "*",
+   or having a current representation of the target resource that has an
+   entity-tag matching a member of the list of entity-tags provided in
+   the field-value.
+
+   An origin server MUST use the strong comparison function when
+   comparing entity-tags for If-Match (Section 2.3.2), since the client
+   intends this precondition to prevent the method from being applied if
+   there have been any changes to the representation data.
+
+     If-Match = "*" / 1#entity-tag
+
+   Examples:
+
+     If-Match: "xyzzy"
+     If-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
+     If-Match: *
+
+   If-Match is most often used with state-changing methods (e.g., POST,
+   PUT, DELETE) to prevent accidental overwrites when multiple user
+   agents might be acting in parallel on the same resource (i.e., to
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 13]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   prevent the "lost update" problem).  It can also be used with safe
+   methods to abort a request if the selected representation does not
+   match one already stored (or partially stored) from a prior request.
+
+   An origin server that receives an If-Match header field MUST evaluate
+   the condition prior to performing the method (Section 5).  If the
+   field-value is "*", the condition is false if the origin server does
+   not have a current representation for the target resource.  If the
+   field-value is a list of entity-tags, the condition is false if none
+   of the listed tags match the entity-tag of the selected
+   representation.
+
+   An origin server MUST NOT perform the requested method if a received
+   If-Match condition evaluates to false; instead, the origin server
+   MUST respond with either a) the 412 (Precondition Failed) status code
+   or b) one of the 2xx (Successful) status codes if the origin server
+   has verified that a state change is being requested and the final
+   state is already reflected in the current state of the target
+   resource (i.e., the change requested by the user agent has already
+   succeeded, but the user agent might not be aware of it, perhaps
+   because the prior response was lost or a compatible change was made
+   by some other user agent).  In the latter case, the origin server
+   MUST NOT send a validator header field in the response unless it can
+   verify that the request is a duplicate of an immediately prior change
+   made by the same user agent.
+
+   The If-Match header field can be ignored by caches and intermediaries
+   because it is not applicable to a stored response.
+
+3.2.  If-None-Match
+
+   The "If-None-Match" header field makes the request method conditional
+   on a recipient cache or origin server either not having any current
+   representation of the target resource, when the field-value is "*",
+   or having a selected representation with an entity-tag that does not
+   match any of those listed in the field-value.
+
+   A recipient MUST use the weak comparison function when comparing
+   entity-tags for If-None-Match (Section 2.3.2), since weak entity-tags
+   can be used for cache validation even if there have been changes to
+   the representation data.
+
+     If-None-Match = "*" / 1#entity-tag
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 14]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   Examples:
+
+     If-None-Match: "xyzzy"
+     If-None-Match: W/"xyzzy"
+     If-None-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
+     If-None-Match: W/"xyzzy", W/"r2d2xxxx", W/"c3piozzzz"
+     If-None-Match: *
+
+   If-None-Match is primarily used in conditional GET requests to enable
+   efficient updates of cached information with a minimum amount of
+   transaction overhead.  When a client desires to update one or more
+   stored responses that have entity-tags, the client SHOULD generate an
+   If-None-Match header field containing a list of those entity-tags
+   when making a GET request; this allows recipient servers to send a
+   304 (Not Modified) response to indicate when one of those stored
+   responses matches the selected representation.
+
+   If-None-Match can also be used with a value of "*" to prevent an
+   unsafe request method (e.g., PUT) from inadvertently modifying an
+   existing representation of the target resource when the client
+   believes that the resource does not have a current representation
+   (Section 4.2.1 of [RFC7231]).  This is a variation on the "lost
+   update" problem that might arise if more than one client attempts to
+   create an initial representation for the target resource.
+
+   An origin server that receives an If-None-Match header field MUST
+   evaluate the condition prior to performing the method (Section 5).
+   If the field-value is "*", the condition is false if the origin
+   server has a current representation for the target resource.  If the
+   field-value is a list of entity-tags, the condition is false if one
+   of the listed tags match the entity-tag of the selected
+   representation.
+
+   An origin server MUST NOT perform the requested method if the
+   condition evaluates to false; instead, the origin server MUST respond
+   with either a) the 304 (Not Modified) status code if the request
+   method is GET or HEAD or b) the 412 (Precondition Failed) status code
+   for all other request methods.
+
+   Requirements on cache handling of a received If-None-Match header
+   field are defined in Section 4.3.2 of [RFC7234].
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 15]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+3.3.  If-Modified-Since
+
+   The "If-Modified-Since" header field makes a GET or HEAD request
+   method conditional on the selected representation's modification date
+   being more recent than the date provided in the field-value.
+   Transfer of the selected representation's data is avoided if that
+   data has not changed.
+
+     If-Modified-Since = HTTP-date
+
+   An example of the field is:
+
+     If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
+
+   A recipient MUST ignore If-Modified-Since if the request contains an
+   If-None-Match header field; the condition in If-None-Match is
+   considered to be a more accurate replacement for the condition in
+   If-Modified-Since, and the two are only combined for the sake of
+   interoperating with older intermediaries that might not implement
+   If-None-Match.
+
+   A recipient MUST ignore the If-Modified-Since header field if the
+   received field-value is not a valid HTTP-date, or if the request
+   method is neither GET nor HEAD.
+
+   A recipient MUST interpret an If-Modified-Since field-value's
+   timestamp in terms of the origin server's clock.
+
+   If-Modified-Since is typically used for two distinct purposes: 1) to
+   allow efficient updates of a cached representation that does not have
+   an entity-tag and 2) to limit the scope of a web traversal to
+   resources that have recently changed.
+
+   When used for cache updates, a cache will typically use the value of
+   the cached message's Last-Modified field to generate the field value
+   of If-Modified-Since.  This behavior is most interoperable for cases
+   where clocks are poorly synchronized or when the server has chosen to
+   only honor exact timestamp matches (due to a problem with
+   Last-Modified dates that appear to go "back in time" when the origin
+   server's clock is corrected or a representation is restored from an
+   archived backup).  However, caches occasionally generate the field
+   value based on other data, such as the Date header field of the
+   cached message or the local clock time that the message was received,
+   particularly when the cached message does not contain a Last-Modified
+   field.
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 16]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   When used for limiting the scope of retrieval to a recent time
+   window, a user agent will generate an If-Modified-Since field value
+   based on either its own local clock or a Date header field received
+   from the server in a prior response.  Origin servers that choose an
+   exact timestamp match based on the selected representation's
+   Last-Modified field will not be able to help the user agent limit its
+   data transfers to only those changed during the specified window.
+
+   An origin server that receives an If-Modified-Since header field
+   SHOULD evaluate the condition prior to performing the method
+   (Section 5).  The origin server SHOULD NOT perform the requested
+   method if the selected representation's last modification date is
+   earlier than or equal to the date provided in the field-value;
+   instead, the origin server SHOULD generate a 304 (Not Modified)
+   response, including only those metadata that are useful for
+   identifying or updating a previously cached response.
+
+   Requirements on cache handling of a received If-Modified-Since header
+   field are defined in Section 4.3.2 of [RFC7234].
+
+3.4.  If-Unmodified-Since
+
+   The "If-Unmodified-Since" header field makes the request method
+   conditional on the selected representation's last modification date
+   being earlier than or equal to the date provided in the field-value.
+   This field accomplishes the same purpose as If-Match for cases where
+   the user agent does not have an entity-tag for the representation.
+
+     If-Unmodified-Since = HTTP-date
+
+   An example of the field is:
+
+     If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT
+
+   A recipient MUST ignore If-Unmodified-Since if the request contains
+   an If-Match header field; the condition in If-Match is considered to
+   be a more accurate replacement for the condition in
+   If-Unmodified-Since, and the two are only combined for the sake of
+   interoperating with older intermediaries that might not implement
+   If-Match.
+
+   A recipient MUST ignore the If-Unmodified-Since header field if the
+   received field-value is not a valid HTTP-date.
+
+   A recipient MUST interpret an If-Unmodified-Since field-value's
+   timestamp in terms of the origin server's clock.
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 17]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   If-Unmodified-Since is most often used with state-changing methods
+   (e.g., POST, PUT, DELETE) to prevent accidental overwrites when
+   multiple user agents might be acting in parallel on a resource that
+   does not supply entity-tags with its representations (i.e., to
+   prevent the "lost update" problem).  It can also be used with safe
+   methods to abort a request if the selected representation does not
+   match one already stored (or partially stored) from a prior request.
+
+   An origin server that receives an If-Unmodified-Since header field
+   MUST evaluate the condition prior to performing the method
+   (Section 5).  The origin server MUST NOT perform the requested method
+   if the selected representation's last modification date is more
+   recent than the date provided in the field-value; instead the origin
+   server MUST respond with either a) the 412 (Precondition Failed)
+   status code or b) one of the 2xx (Successful) status codes if the
+   origin server has verified that a state change is being requested and
+   the final state is already reflected in the current state of the
+   target resource (i.e., the change requested by the user agent has
+   already succeeded, but the user agent might not be aware of that
+   because the prior response message was lost or a compatible change
+   was made by some other user agent).  In the latter case, the origin
+   server MUST NOT send a validator header field in the response unless
+   it can verify that the request is a duplicate of an immediately prior
+   change made by the same user agent.
+
+   The If-Unmodified-Since header field can be ignored by caches and
+   intermediaries because it is not applicable to a stored response.
+
+3.5.  If-Range
+
+   The "If-Range" header field provides a special conditional request
+   mechanism that is similar to the If-Match and If-Unmodified-Since
+   header fields but that instructs the recipient to ignore the Range
+   header field if the validator doesn't match, resulting in transfer of
+   the new selected representation instead of a 412 (Precondition
+   Failed) response.  If-Range is defined in Section 3.2 of [RFC7233].
+
+4.  Status Code Definitions
+
+4.1.  304 Not Modified
+
+   The 304 (Not Modified) status code indicates that a conditional GET
+   or HEAD request has been received and would have resulted in a 200
+   (OK) response if it were not for the fact that the condition
+   evaluated to false.  In other words, there is no need for the server
+   to transfer a representation of the target resource because the
+   request indicates that the client, which made the request
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 18]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   conditional, already has a valid representation; the server is
+   therefore redirecting the client to make use of that stored
+   representation as if it were the payload of a 200 (OK) response.
+
+   The server generating a 304 response MUST generate any of the
+   following header fields that would have been sent in a 200 (OK)
+   response to the same request: Cache-Control, Content-Location, Date,
+   ETag, Expires, and Vary.
+
+   Since the goal of a 304 response is to minimize information transfer
+   when the recipient already has one or more cached representations, a
+   sender SHOULD NOT generate representation metadata other than the
+   above listed fields unless said metadata exists for the purpose of
+   guiding cache updates (e.g., Last-Modified might be useful if the
+   response does not have an ETag field).
+
+   Requirements on a cache that receives a 304 response are defined in
+   Section 4.3.4 of [RFC7234].  If the conditional request originated
+   with an outbound client, such as a user agent with its own cache
+   sending a conditional GET to a shared proxy, then the proxy SHOULD
+   forward the 304 response to that client.
+
+   A 304 response cannot contain a message-body; it is always terminated
+   by the first empty line after the header fields.
+
+4.2.  412 Precondition Failed
+
+   The 412 (Precondition Failed) status code indicates that one or more
+   conditions given in the request header fields evaluated to false when
+   tested on the server.  This response code allows the client to place
+   preconditions on the current resource state (its current
+   representations and metadata) and, thus, prevent the request method
+   from being applied if the target resource is in an unexpected state.
+
+5.  Evaluation
+
+   Except when excluded below, a recipient cache or origin server MUST
+   evaluate received request preconditions after it has successfully
+   performed its normal request checks and just before it would perform
+   the action associated with the request method.  A server MUST ignore
+   all received preconditions if its response to the same request
+   without those conditions would have been a status code other than a
+   2xx (Successful) or 412 (Precondition Failed).  In other words,
+   redirects and failures take precedence over the evaluation of
+   preconditions in conditional requests.
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 19]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   A server that is not the origin server for the target resource and
+   cannot act as a cache for requests on the target resource MUST NOT
+   evaluate the conditional request header fields defined by this
+   specification, and it MUST forward them if the request is forwarded,
+   since the generating client intends that they be evaluated by a
+   server that can provide a current representation.  Likewise, a server
+   MUST ignore the conditional request header fields defined by this
+   specification when received with a request method that does not
+   involve the selection or modification of a selected representation,
+   such as CONNECT, OPTIONS, or TRACE.
+
+   Conditional request header fields that are defined by extensions to
+   HTTP might place conditions on all recipients, on the state of the
+   target resource in general, or on a group of resources.  For
+   instance, the "If" header field in WebDAV can make a request
+   conditional on various aspects of multiple resources, such as locks,
+   if the recipient understands and implements that field ([RFC4918],
+   Section 10.4).
+
+   Although conditional request header fields are defined as being
+   usable with the HEAD method (to keep HEAD's semantics consistent with
+   those of GET), there is no point in sending a conditional HEAD
+   because a successful response is around the same size as a 304 (Not
+   Modified) response and more useful than a 412 (Precondition Failed)
+   response.
+
+6.  Precedence
+
+   When more than one conditional request header field is present in a
+   request, the order in which the fields are evaluated becomes
+   important.  In practice, the fields defined in this document are
+   consistently implemented in a single, logical order, since "lost
+   update" preconditions have more strict requirements than cache
+   validation, a validated cache is more efficient than a partial
+   response, and entity tags are presumed to be more accurate than date
+   validators.
+
+   A recipient cache or origin server MUST evaluate the request
+   preconditions defined by this specification in the following order:
+
+   1.  When recipient is the origin server and If-Match is present,
+       evaluate the If-Match precondition:
+
+       *  if true, continue to step 3
+
+       *  if false, respond 412 (Precondition Failed) unless it can be
+          determined that the state-changing request has already
+          succeeded (see Section 3.1)
+
+
+
+Fielding & Reschke           Standards Track                   [Page 20]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   2.  When recipient is the origin server, If-Match is not present, and
+       If-Unmodified-Since is present, evaluate the If-Unmodified-Since
+       precondition:
+
+       *  if true, continue to step 3
+
+       *  if false, respond 412 (Precondition Failed) unless it can be
+          determined that the state-changing request has already
+          succeeded (see Section 3.4)
+
+   3.  When If-None-Match is present, evaluate the If-None-Match
+       precondition:
+
+       *  if true, continue to step 5
+
+       *  if false for GET/HEAD, respond 304 (Not Modified)
+
+       *  if false for other methods, respond 412 (Precondition Failed)
+
+   4.  When the method is GET or HEAD, If-None-Match is not present, and
+       If-Modified-Since is present, evaluate the If-Modified-Since
+       precondition:
+
+       *  if true, continue to step 5
+
+       *  if false, respond 304 (Not Modified)
+
+   5.  When the method is GET and both Range and If-Range are present,
+       evaluate the If-Range precondition:
+
+       *  if the validator matches and the Range specification is
+          applicable to the selected representation, respond 206
+          (Partial Content) [RFC7233]
+
+   6.  Otherwise,
+
+       *  all conditions are met, so perform the requested action and
+          respond according to its success or failure.
+
+   Any extension to HTTP/1.1 that defines additional conditional request
+   header fields ought to define its own expectations regarding the
+   order for evaluating such fields in relation to those defined in this
+   document and other conditionals that might be found in practice.
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 21]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+7.  IANA Considerations
+
+7.1.  Status Code Registration
+
+   The "Hypertext Transfer Protocol (HTTP) Status Code Registry" located
+   at <http://www.iana.org/assignments/http-status-codes> has been
+   updated with the registrations below:
+
+   +-------+---------------------+-------------+
+   | Value | Description         | Reference   |
+   +-------+---------------------+-------------+
+   | 304   | Not Modified        | Section 4.1 |
+   | 412   | Precondition Failed | Section 4.2 |
+   +-------+---------------------+-------------+
+
+7.2.  Header Field Registration
+
+   HTTP header fields are registered within the "Message Headers"
+   registry maintained at
+   <http://www.iana.org/assignments/message-headers/>.
+
+   This document defines the following HTTP header fields, so their
+   associated registry entries have been updated according to the
+   permanent registrations below (see [BCP90]):
+
+   +---------------------+----------+----------+-------------+
+   | Header Field Name   | Protocol | Status   | Reference   |
+   +---------------------+----------+----------+-------------+
+   | ETag                | http     | standard | Section 2.3 |
+   | If-Match            | http     | standard | Section 3.1 |
+   | If-Modified-Since   | http     | standard | Section 3.3 |
+   | If-None-Match       | http     | standard | Section 3.2 |
+   | If-Unmodified-Since | http     | standard | Section 3.4 |
+   | Last-Modified       | http     | standard | Section 2.2 |
+   +---------------------+----------+----------+-------------+
+
+   The change controller is: "IETF (iesg@ietf.org) - Internet
+   Engineering Task Force".
+
+8.  Security Considerations
+
+   This section is meant to inform developers, information providers,
+   and users of known security concerns specific to the HTTP conditional
+   request mechanisms.  More general security considerations are
+   addressed in HTTP "Message Syntax and Routing" [RFC7230] and
+   "Semantics and Content" [RFC7231].
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 22]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+   The validators defined by this specification are not intended to
+   ensure the validity of a representation, guard against malicious
+   changes, or detect man-in-the-middle attacks.  At best, they enable
+   more efficient cache updates and optimistic concurrent writes when
+   all participants are behaving nicely.  At worst, the conditions will
+   fail and the client will receive a response that is no more harmful
+   than an HTTP exchange without conditional requests.
+
+   An entity-tag can be abused in ways that create privacy risks.  For
+   example, a site might deliberately construct a semantically invalid
+   entity-tag that is unique to the user or user agent, send it in a
+   cacheable response with a long freshness time, and then read that
+   entity-tag in later conditional requests as a means of re-identifying
+   that user or user agent.  Such an identifying tag would become a
+   persistent identifier for as long as the user agent retained the
+   original cache entry.  User agents that cache representations ought
+   to ensure that the cache is cleared or replaced whenever the user
+   performs privacy-maintaining actions, such as clearing stored cookies
+   or changing to a private browsing mode.
+
+9.  Acknowledgments
+
+   See Section 10 of [RFC7230].
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 23]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+10.  References
+
+10.1.  Normative References
+
+   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
+              Requirement Levels", BCP 14, RFC 2119, March 1997.
+
+   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
+              Specifications: ABNF", STD 68, RFC 5234, January 2008.
+
+   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Message Syntax and Routing",
+              RFC 7230, June 2014.
+
+   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
+              June 2014.
+
+   [RFC7233]  Fielding, R., Ed., Lafon, Y., Ed., and J. Reschke, Ed.,
+              "Hypertext Transfer Protocol (HTTP/1.1): Range Requests",
+              RFC 7233, June 2014.
+
+   [RFC7234]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
+              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
+              RFC 7234, June 2014.
+
+10.2.  Informative References
+
+   [BCP90]    Klyne, G., Nottingham, M., and J. Mogul, "Registration
+              Procedures for Message Header Fields", BCP 90, RFC 3864,
+              September 2004.
+
+   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
+              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
+              Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.
+
+   [RFC4918]  Dusseault, L., Ed., "HTTP Extensions for Web Distributed
+              Authoring and Versioning (WebDAV)", RFC 4918, June 2007.
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 24]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Appendix A.  Changes from RFC 2616
+
+   The definition of validator weakness has been expanded and clarified.
+   (Section 2.1)
+
+   Weak entity-tags are now allowed in all requests except range
+   requests.  (Sections 2.1 and 3.2)
+
+   The ETag header field ABNF has been changed to not use quoted-string,
+   thus avoiding escaping issues.  (Section 2.3)
+
+   ETag is defined to provide an entity tag for the selected
+   representation, thereby clarifying what it applies to in various
+   situations (such as a PUT response).  (Section 2.3)
+
+   The precedence for evaluation of conditional requests has been
+   defined.  (Section 6)
+
+Appendix B.  Imported ABNF
+
+   The following core rules are included by reference, as defined in
+   Appendix B.1 of [RFC5234]: ALPHA (letters), CR (carriage return),
+   CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double
+   quote), HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET (any
+   8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII
+   character).
+
+   The rules below are defined in [RFC7230]:
+
+     OWS           = <OWS, see [RFC7230], Section 3.2.3>
+     obs-text      = <obs-text, see [RFC7230], Section 3.2.6>
+
+   The rules below are defined in other parts:
+
+     HTTP-date     = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 25]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Appendix C.  Collected ABNF
+
+   In the collected ABNF below, list rules are expanded as per Section
+   1.2 of [RFC7230].
+
+   ETag = entity-tag
+
+   HTTP-date = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+
+   If-Match = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
+    entity-tag ] ) )
+   If-Modified-Since = HTTP-date
+   If-None-Match = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
+    entity-tag ] ) )
+   If-Unmodified-Since = HTTP-date
+
+   Last-Modified = HTTP-date
+
+   OWS = <OWS, see [RFC7230], Section 3.2.3>
+
+   entity-tag = [ weak ] opaque-tag
+   etagc = "!" / %x23-7E ; '#'-'~'
+    / obs-text
+
+   obs-text = <obs-text, see [RFC7230], Section 3.2.6>
+   opaque-tag = DQUOTE *etagc DQUOTE
+
+   weak = %x57.2F ; W/
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 26]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Index
+
+   3
+      304 Not Modified (status code)  19
+
+   4
+      412 Precondition Failed (status code)  18
+
+   E
+      ETag header field  9
+
+   G
+      Grammar
+         entity-tag  9
+         ETag  9
+         etagc  9
+         If-Match  13
+         If-Modified-Since  15
+         If-None-Match  14
+         If-Unmodified-Since  17
+         Last-Modified  7
+         opaque-tag  9
+         weak  9
+
+   I
+      If-Match header field  13
+      If-Modified-Since header field  16
+      If-None-Match header field  14
+      If-Unmodified-Since header field  17
+
+   L
+      Last-Modified header field  7
+
+   M
+      metadata  5
+
+   S
+      selected representation  4
+
+   V
+      validator  5
+         strong  5
+         weak  5
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 27]
+
+RFC 7232              HTTP/1.1 Conditional Requests            June 2014
+
+
+Authors' Addresses
+
+   Roy T. Fielding (editor)
+   Adobe Systems Incorporated
+   345 Park Ave
+   San Jose, CA  95110
+   USA
+
+   EMail: fielding@gbiv.com
+   URI:   http://roy.gbiv.com/
+
+
+   Julian F. Reschke (editor)
+   greenbytes GmbH
+   Hafenweg 16
+   Muenster, NW  48155
+   Germany
+
+   EMail: julian.reschke@greenbytes.de
+   URI:   http://greenbytes.de/tech/webdav/
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 28]
+
@@ -0,0 +1,1403 @@
+
+
+
+
+
+
+Internet Engineering Task Force (IETF)                  R. Fielding, Ed.
+Request for Comments: 7233                                         Adobe
+Obsoletes: 2616                                            Y. Lafon, Ed.
+Category: Standards Track                                            W3C
+ISSN: 2070-1721                                          J. Reschke, Ed.
+                                                              greenbytes
+                                                              June 2014
+
+
+         Hypertext Transfer Protocol (HTTP/1.1): Range Requests
+
+Abstract
+
+   The Hypertext Transfer Protocol (HTTP) is a stateless application-
+   level protocol for distributed, collaborative, hypertext information
+   systems.  This document defines range requests and the rules for
+   constructing and combining responses to those requests.
+
+Status of This Memo
+
+   This is an Internet Standards Track document.
+
+   This document is a product of the Internet Engineering Task Force
+   (IETF).  It represents the consensus of the IETF community.  It has
+   received public review and has been approved for publication by the
+   Internet Engineering Steering Group (IESG).  Further information on
+   Internet Standards is available in Section 2 of RFC 5741.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   http://www.rfc-editor.org/info/rfc7233.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 1]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+Copyright Notice
+
+   Copyright (c) 2014 IETF Trust and the persons identified as the
+   document authors.  All rights reserved.
+
+   This document is subject to BCP 78 and the IETF Trust's Legal
+   Provisions Relating to IETF Documents
+   (http://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Simplified BSD License text as described in Section 4.e of
+   the Trust Legal Provisions and are provided without warranty as
+   described in the Simplified BSD License.
+
+   This document may contain material from IETF Documents or IETF
+   Contributions published or made publicly available before November
+   10, 2008.  The person(s) controlling the copyright in some of this
+   material may not have granted the IETF Trust the right to allow
+   modifications of such material outside the IETF Standards Process.
+   Without obtaining an adequate license from the person(s) controlling
+   the copyright in such materials, this document may not be modified
+   outside the IETF Standards Process, and derivative works of it may
+   not be created outside the IETF Standards Process, except to format
+   it for publication as an RFC or to translate it into languages other
+   than English.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 2]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+Table of Contents
+
+   1. Introduction ....................................................4
+      1.1. Conformance and Error Handling .............................4
+      1.2. Syntax Notation ............................................4
+   2. Range Units .....................................................5
+      2.1. Byte Ranges ................................................5
+      2.2. Other Range Units ..........................................7
+      2.3. Accept-Ranges ..............................................7
+   3. Range Requests ..................................................8
+      3.1. Range ......................................................8
+      3.2. If-Range ...................................................9
+   4. Responses to a Range Request ...................................10
+      4.1. 206 Partial Content .......................................10
+      4.2. Content-Range .............................................12
+      4.3. Combining Ranges ..........................................14
+      4.4. 416 Range Not Satisfiable .................................15
+   5. IANA Considerations ............................................16
+      5.1. Range Unit Registry .......................................16
+           5.1.1. Procedure ..........................................16
+           5.1.2. Registrations ......................................16
+      5.2. Status Code Registration ..................................17
+      5.3. Header Field Registration .................................17
+      5.4. Internet Media Type Registration ..........................17
+           5.4.1. Internet Media Type multipart/byteranges ...........18
+   6. Security Considerations ........................................19
+      6.1. Denial-of-Service Attacks Using Range .....................19
+   7. Acknowledgments ................................................19
+   8. References .....................................................20
+      8.1. Normative References ......................................20
+      8.2. Informative References ....................................20
+   Appendix A. Internet Media Type multipart/byteranges ..............21
+   Appendix B. Changes from RFC 2616 .................................22
+   Appendix C. Imported ABNF .........................................22
+   Appendix D. Collected ABNF ........................................23
+   Index .............................................................24
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 3]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+1.  Introduction
+
+   Hypertext Transfer Protocol (HTTP) clients often encounter
+   interrupted data transfers as a result of canceled requests or
+   dropped connections.  When a client has stored a partial
+   representation, it is desirable to request the remainder of that
+   representation in a subsequent request rather than transfer the
+   entire representation.  Likewise, devices with limited local storage
+   might benefit from being able to request only a subset of a larger
+   representation, such as a single page of a very large document, or
+   the dimensions of an embedded image.
+
+   This document defines HTTP/1.1 range requests, partial responses, and
+   the multipart/byteranges media type.  Range requests are an OPTIONAL
+   feature of HTTP, designed so that recipients not implementing this
+   feature (or not supporting it for the target resource) can respond as
+   if it is a normal GET request without impacting interoperability.
+   Partial responses are indicated by a distinct status code to not be
+   mistaken for full responses by caches that might not implement the
+   feature.
+
+   Although the range request mechanism is designed to allow for
+   extensible range types, this specification only defines requests for
+   byte ranges.
+
+1.1.  Conformance and Error Handling
+
+   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
+   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
+   document are to be interpreted as described in [RFC2119].
+
+   Conformance criteria and considerations regarding error handling are
+   defined in Section 2.5 of [RFC7230].
+
+1.2.  Syntax Notation
+
+   This specification uses the Augmented Backus-Naur Form (ABNF)
+   notation of [RFC5234] with a list extension, defined in Section 7 of
+   [RFC7230], that allows for compact definition of comma-separated
+   lists using a '#' operator (similar to how the '*' operator indicates
+   repetition).  Appendix C describes rules imported from other
+   documents.  Appendix D shows the collected grammar with all list
+   operators expanded to standard ABNF notation.
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 4]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+2.  Range Units
+
+   A representation can be partitioned into subranges according to
+   various structural units, depending on the structure inherent in the
+   representation's media type.  This "range unit" is used in the
+   Accept-Ranges (Section 2.3) response header field to advertise
+   support for range requests, the Range (Section 3.1) request header
+   field to delineate the parts of a representation that are requested,
+   and the Content-Range (Section 4.2) payload header field to describe
+   which part of a representation is being transferred.
+
+     range-unit       = bytes-unit / other-range-unit
+
+2.1.  Byte Ranges
+
+   Since representation data is transferred in payloads as a sequence of
+   octets, a byte range is a meaningful substructure for any
+   representation transferable over HTTP (Section 3 of [RFC7231]).  The
+   "bytes" range unit is defined for expressing subranges of the data's
+   octet sequence.
+
+     bytes-unit       = "bytes"
+
+   A byte-range request can specify a single range of bytes or a set of
+   ranges within a single representation.
+
+     byte-ranges-specifier = bytes-unit "=" byte-range-set
+     byte-range-set  = 1#( byte-range-spec / suffix-byte-range-spec )
+     byte-range-spec = first-byte-pos "-" [ last-byte-pos ]
+     first-byte-pos  = 1*DIGIT
+     last-byte-pos   = 1*DIGIT
+
+   The first-byte-pos value in a byte-range-spec gives the byte-offset
+   of the first byte in a range.  The last-byte-pos value gives the
+   byte-offset of the last byte in the range; that is, the byte
+   positions specified are inclusive.  Byte offsets start at zero.
+
+   Examples of byte-ranges-specifier values:
+
+   o  The first 500 bytes (byte offsets 0-499, inclusive):
+
+        bytes=0-499
+
+   o  The second 500 bytes (byte offsets 500-999, inclusive):
+
+        bytes=500-999
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 5]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   A byte-range-spec is invalid if the last-byte-pos value is present
+   and less than the first-byte-pos.
+
+   A client can limit the number of bytes requested without knowing the
+   size of the selected representation.  If the last-byte-pos value is
+   absent, or if the value is greater than or equal to the current
+   length of the representation data, the byte range is interpreted as
+   the remainder of the representation (i.e., the server replaces the
+   value of last-byte-pos with a value that is one less than the current
+   length of the selected representation).
+
+   A client can request the last N bytes of the selected representation
+   using a suffix-byte-range-spec.
+
+     suffix-byte-range-spec = "-" suffix-length
+     suffix-length = 1*DIGIT
+
+   If the selected representation is shorter than the specified
+   suffix-length, the entire representation is used.
+
+   Additional examples, assuming a representation of length 10000:
+
+   o  The final 500 bytes (byte offsets 9500-9999, inclusive):
+
+        bytes=-500
+
+   Or:
+
+        bytes=9500-
+
+   o  The first and last bytes only (bytes 0 and 9999):
+
+        bytes=0-0,-1
+
+   o  Other valid (but not canonical) specifications of the second 500
+      bytes (byte offsets 500-999, inclusive):
+
+        bytes=500-600,601-999
+        bytes=500-700,601-999
+
+   If a valid byte-range-set includes at least one byte-range-spec with
+   a first-byte-pos that is less than the current length of the
+   representation, or at least one suffix-byte-range-spec with a
+   non-zero suffix-length, then the byte-range-set is satisfiable.
+   Otherwise, the byte-range-set is unsatisfiable.
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 6]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   In the byte-range syntax, first-byte-pos, last-byte-pos, and
+   suffix-length are expressed as decimal number of octets.  Since there
+   is no predefined limit to the length of a payload, recipients MUST
+   anticipate potentially large decimal numerals and prevent parsing
+   errors due to integer conversion overflows.
+
+2.2.  Other Range Units
+
+   Range units are intended to be extensible.  New range units ought to
+   be registered with IANA, as defined in Section 5.1.
+
+     other-range-unit = token
+
+2.3.  Accept-Ranges
+
+   The "Accept-Ranges" header field allows a server to indicate that it
+   supports range requests for the target resource.
+
+     Accept-Ranges     = acceptable-ranges
+     acceptable-ranges = 1#range-unit / "none"
+
+   An origin server that supports byte-range requests for a given target
+   resource MAY send
+
+     Accept-Ranges: bytes
+
+   to indicate what range units are supported.  A client MAY generate
+   range requests without having received this header field for the
+   resource involved.  Range units are defined in Section 2.
+
+   A server that does not support any kind of range request for the
+   target resource MAY send
+
+     Accept-Ranges: none
+
+   to advise the client not to attempt a range request.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 7]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+3.  Range Requests
+
+3.1.  Range
+
+   The "Range" header field on a GET request modifies the method
+   semantics to request transfer of only one or more subranges of the
+   selected representation data, rather than the entire selected
+   representation data.
+
+     Range = byte-ranges-specifier / other-ranges-specifier
+     other-ranges-specifier = other-range-unit "=" other-range-set
+     other-range-set = 1*VCHAR
+
+   A server MAY ignore the Range header field.  However, origin servers
+   and intermediate caches ought to support byte ranges when possible,
+   since Range supports efficient recovery from partially failed
+   transfers and partial retrieval of large representations.  A server
+   MUST ignore a Range header field received with a request method other
+   than GET.
+
+   An origin server MUST ignore a Range header field that contains a
+   range unit it does not understand.  A proxy MAY discard a Range
+   header field that contains a range unit it does not understand.
+
+   A server that supports range requests MAY ignore or reject a Range
+   header field that consists of more than two overlapping ranges, or a
+   set of many small ranges that are not listed in ascending order,
+   since both are indications of either a broken client or a deliberate
+   denial-of-service attack (Section 6.1).  A client SHOULD NOT request
+   multiple ranges that are inherently less efficient to process and
+   transfer than a single range that encompasses the same data.
+
+   A client that is requesting multiple ranges SHOULD list those ranges
+   in ascending order (the order in which they would typically be
+   received in a complete representation) unless there is a specific
+   need to request a later part earlier.  For example, a user agent
+   processing a large representation with an internal catalog of parts
+   might need to request later parts first, particularly if the
+   representation consists of pages stored in reverse order and the user
+   agent wishes to transfer one page at a time.
+
+   The Range header field is evaluated after evaluating the precondition
+   header fields defined in [RFC7232], and only if the result in absence
+   of the Range header field would be a 200 (OK) response.  In other
+   words, Range is ignored when a conditional GET would result in a 304
+   (Not Modified) response.
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 8]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   The If-Range header field (Section 3.2) can be used as a precondition
+   to applying the Range header field.
+
+   If all of the preconditions are true, the server supports the Range
+   header field for the target resource, and the specified range(s) are
+   valid and satisfiable (as defined in Section 2.1), the server SHOULD
+   send a 206 (Partial Content) response with a payload containing one
+   or more partial representations that correspond to the satisfiable
+   ranges requested, as defined in Section 4.
+
+   If all of the preconditions are true, the server supports the Range
+   header field for the target resource, and the specified range(s) are
+   invalid or unsatisfiable, the server SHOULD send a 416 (Range Not
+   Satisfiable) response.
+
+3.2.  If-Range
+
+   If a client has a partial copy of a representation and wishes to have
+   an up-to-date copy of the entire representation, it could use the
+   Range header field with a conditional GET (using either or both of
+   If-Unmodified-Since and If-Match.)  However, if the precondition
+   fails because the representation has been modified, the client would
+   then have to make a second request to obtain the entire current
+   representation.
+
+   The "If-Range" header field allows a client to "short-circuit" the
+   second request.  Informally, its meaning is as follows: if the
+   representation is unchanged, send me the part(s) that I am requesting
+   in Range; otherwise, send me the entire representation.
+
+     If-Range = entity-tag / HTTP-date
+
+   A client MUST NOT generate an If-Range header field in a request that
+   does not contain a Range header field.  A server MUST ignore an
+   If-Range header field received in a request that does not contain a
+   Range header field.  An origin server MUST ignore an If-Range header
+   field received in a request for a target resource that does not
+   support Range requests.
+
+   A client MUST NOT generate an If-Range header field containing an
+   entity-tag that is marked as weak.  A client MUST NOT generate an
+   If-Range header field containing an HTTP-date unless the client has
+   no entity-tag for the corresponding representation and the date is a
+   strong validator in the sense defined by Section 2.2.2 of [RFC7232].
+
+   A server that evaluates an If-Range precondition MUST use the strong
+   comparison function when comparing entity-tags (Section 2.3.2 of
+   [RFC7232]) and MUST evaluate the condition as false if an HTTP-date
+
+
+
+Fielding, et al.             Standards Track                    [Page 9]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   validator is provided that is not a strong validator in the sense
+   defined by Section 2.2.2 of [RFC7232].  A valid entity-tag can be
+   distinguished from a valid HTTP-date by examining the first two
+   characters for a DQUOTE.
+
+   If the validator given in the If-Range header field matches the
+   current validator for the selected representation of the target
+   resource, then the server SHOULD process the Range header field as
+   requested.  If the validator does not match, the server MUST ignore
+   the Range header field.  Note that this comparison by exact match,
+   including when the validator is an HTTP-date, differs from the
+   "earlier than or equal to" comparison used when evaluating an
+   If-Unmodified-Since conditional.
+
+4.  Responses to a Range Request
+
+4.1.  206 Partial Content
+
+   The 206 (Partial Content) status code indicates that the server is
+   successfully fulfilling a range request for the target resource by
+   transferring one or more parts of the selected representation that
+   correspond to the satisfiable ranges found in the request's Range
+   header field (Section 3.1).
+
+   If a single part is being transferred, the server generating the 206
+   response MUST generate a Content-Range header field, describing what
+   range of the selected representation is enclosed, and a payload
+   consisting of the range.  For example:
+
+     HTTP/1.1 206 Partial Content
+     Date: Wed, 15 Nov 1995 06:25:24 GMT
+     Last-Modified: Wed, 15 Nov 1995 04:58:08 GMT
+     Content-Range: bytes 21010-47021/47022
+     Content-Length: 26012
+     Content-Type: image/gif
+
+     ... 26012 bytes of partial image data ...
+
+   If multiple parts are being transferred, the server generating the
+   206 response MUST generate a "multipart/byteranges" payload, as
+   defined in Appendix A, and a Content-Type header field containing the
+   multipart/byteranges media type and its required boundary parameter.
+   To avoid confusion with single-part responses, a server MUST NOT
+   generate a Content-Range header field in the HTTP header section of a
+   multiple part response (this field will be sent in each part
+   instead).
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 10]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   Within the header area of each body part in the multipart payload,
+   the server MUST generate a Content-Range header field corresponding
+   to the range being enclosed in that body part.  If the selected
+   representation would have had a Content-Type header field in a 200
+   (OK) response, the server SHOULD generate that same Content-Type
+   field in the header area of each body part.  For example:
+
+     HTTP/1.1 206 Partial Content
+     Date: Wed, 15 Nov 1995 06:25:24 GMT
+     Last-Modified: Wed, 15 Nov 1995 04:58:08 GMT
+     Content-Length: 1741
+     Content-Type: multipart/byteranges; boundary=THIS_STRING_SEPARATES
+
+     --THIS_STRING_SEPARATES
+     Content-Type: application/pdf
+     Content-Range: bytes 500-999/8000
+
+     ...the first range...
+     --THIS_STRING_SEPARATES
+     Content-Type: application/pdf
+     Content-Range: bytes 7000-7999/8000
+
+     ...the second range
+     --THIS_STRING_SEPARATES--
+
+   When multiple ranges are requested, a server MAY coalesce any of the
+   ranges that overlap, or that are separated by a gap that is smaller
+   than the overhead of sending multiple parts, regardless of the order
+   in which the corresponding byte-range-spec appeared in the received
+   Range header field.  Since the typical overhead between parts of a
+   multipart/byteranges payload is around 80 bytes, depending on the
+   selected representation's media type and the chosen boundary
+   parameter length, it can be less efficient to transfer many small
+   disjoint parts than it is to transfer the entire selected
+   representation.
+
+   A server MUST NOT generate a multipart response to a request for a
+   single range, since a client that does not request multiple parts
+   might not support multipart responses.  However, a server MAY
+   generate a multipart/byteranges payload with only a single body part
+   if multiple ranges were requested and only one range was found to be
+   satisfiable or only one range remained after coalescing.  A client
+   that cannot process a multipart/byteranges response MUST NOT generate
+   a request that asks for multiple ranges.
+
+   When a multipart response payload is generated, the server SHOULD
+   send the parts in the same order that the corresponding
+   byte-range-spec appeared in the received Range header field,
+
+
+
+Fielding, et al.             Standards Track                   [Page 11]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   excluding those ranges that were deemed unsatisfiable or that were
+   coalesced into other ranges.  A client that receives a multipart
+   response MUST inspect the Content-Range header field present in each
+   body part in order to determine which range is contained in that body
+   part; a client cannot rely on receiving the same ranges that it
+   requested, nor the same order that it requested.
+
+   When a 206 response is generated, the server MUST generate the
+   following header fields, in addition to those required above, if the
+   field would have been sent in a 200 (OK) response to the same
+   request: Date, Cache-Control, ETag, Expires, Content-Location, and
+   Vary.
+
+   If a 206 is generated in response to a request with an If-Range
+   header field, the sender SHOULD NOT generate other representation
+   header fields beyond those required above, because the client is
+   understood to already have a prior response containing those header
+   fields.  Otherwise, the sender MUST generate all of the
+   representation header fields that would have been sent in a 200 (OK)
+   response to the same request.
+
+   A 206 response is cacheable by default; i.e., unless otherwise
+   indicated by explicit cache controls (see Section 4.2.2 of
+   [RFC7234]).
+
+4.2.  Content-Range
+
+   The "Content-Range" header field is sent in a single part 206
+   (Partial Content) response to indicate the partial range of the
+   selected representation enclosed as the message payload, sent in each
+   part of a multipart 206 response to indicate the range enclosed
+   within each body part, and sent in 416 (Range Not Satisfiable)
+   responses to provide information about the selected representation.
+
+     Content-Range       = byte-content-range
+                         / other-content-range
+
+     byte-content-range  = bytes-unit SP
+                           ( byte-range-resp / unsatisfied-range )
+
+     byte-range-resp     = byte-range "/" ( complete-length / "*" )
+     byte-range          = first-byte-pos "-" last-byte-pos
+     unsatisfied-range   = "*/" complete-length
+
+     complete-length     = 1*DIGIT
+
+     other-content-range = other-range-unit SP other-range-resp
+     other-range-resp    = *CHAR
+
+
+
+Fielding, et al.             Standards Track                   [Page 12]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   If a 206 (Partial Content) response contains a Content-Range header
+   field with a range unit (Section 2) that the recipient does not
+   understand, the recipient MUST NOT attempt to recombine it with a
+   stored representation.  A proxy that receives such a message SHOULD
+   forward it downstream.
+
+   For byte ranges, a sender SHOULD indicate the complete length of the
+   representation from which the range has been extracted, unless the
+   complete length is unknown or difficult to determine.  An asterisk
+   character ("*") in place of the complete-length indicates that the
+   representation length was unknown when the header field was
+   generated.
+
+   The following example illustrates when the complete length of the
+   selected representation is known by the sender to be 1234 bytes:
+
+     Content-Range: bytes 42-1233/1234
+
+   and this second example illustrates when the complete length is
+   unknown:
+
+     Content-Range: bytes 42-1233/*
+
+   A Content-Range field value is invalid if it contains a
+   byte-range-resp that has a last-byte-pos value less than its
+   first-byte-pos value, or a complete-length value less than or equal
+   to its last-byte-pos value.  The recipient of an invalid
+   Content-Range MUST NOT attempt to recombine the received content with
+   a stored representation.
+
+   A server generating a 416 (Range Not Satisfiable) response to a
+   byte-range request SHOULD send a Content-Range header field with an
+   unsatisfied-range value, as in the following example:
+
+     Content-Range: bytes */1234
+
+   The complete-length in a 416 response indicates the current length of
+   the selected representation.
+
+   The Content-Range header field has no meaning for status codes that
+   do not explicitly describe its semantic.  For this specification,
+   only the 206 (Partial Content) and 416 (Range Not Satisfiable) status
+   codes describe a meaning for Content-Range.
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 13]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   The following are examples of Content-Range values in which the
+   selected representation contains a total of 1234 bytes:
+
+   o  The first 500 bytes:
+
+        Content-Range: bytes 0-499/1234
+
+   o  The second 500 bytes:
+
+        Content-Range: bytes 500-999/1234
+
+   o  All except for the first 500 bytes:
+
+        Content-Range: bytes 500-1233/1234
+
+   o  The last 500 bytes:
+
+        Content-Range: bytes 734-1233/1234
+
+4.3.  Combining Ranges
+
+   A response might transfer only a subrange of a representation if the
+   connection closed prematurely or if the request used one or more
+   Range specifications.  After several such transfers, a client might
+   have received several ranges of the same representation.  These
+   ranges can only be safely combined if they all have in common the
+   same strong validator (Section 2.1 of [RFC7232]).
+
+   A client that has received multiple partial responses to GET requests
+   on a target resource MAY combine those responses into a larger
+   continuous range if they share the same strong validator.
+
+   If the most recent response is an incomplete 200 (OK) response, then
+   the header fields of that response are used for any combined response
+   and replace those of the matching stored responses.
+
+   If the most recent response is a 206 (Partial Content) response and
+   at least one of the matching stored responses is a 200 (OK), then the
+   combined response header fields consist of the most recent 200
+   response's header fields.  If all of the matching stored responses
+   are 206 responses, then the stored response with the most recent
+   header fields is used as the source of header fields for the combined
+   response, except that the client MUST use other header fields
+   provided in the new response, aside from Content-Range, to replace
+   all instances of the corresponding header fields in the stored
+   response.
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 14]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   The combined response message body consists of the union of partial
+   content ranges in the new response and each of the selected
+   responses.  If the union consists of the entire range of the
+   representation, then the client MUST process the combined response as
+   if it were a complete 200 (OK) response, including a Content-Length
+   header field that reflects the complete length.  Otherwise, the
+   client MUST process the set of continuous ranges as one of the
+   following: an incomplete 200 (OK) response if the combined response
+   is a prefix of the representation, a single 206 (Partial Content)
+   response containing a multipart/byteranges body, or multiple 206
+   (Partial Content) responses, each with one continuous range that is
+   indicated by a Content-Range header field.
+
+4.4.  416 Range Not Satisfiable
+
+   The 416 (Range Not Satisfiable) status code indicates that none of
+   the ranges in the request's Range header field (Section 3.1) overlap
+   the current extent of the selected resource or that the set of ranges
+   requested has been rejected due to invalid ranges or an excessive
+   request of small or overlapping ranges.
+
+   For byte ranges, failing to overlap the current extent means that the
+   first-byte-pos of all of the byte-range-spec values were greater than
+   the current length of the selected representation.  When this status
+   code is generated in response to a byte-range request, the sender
+   SHOULD generate a Content-Range header field specifying the current
+   length of the selected representation (Section 4.2).
+
+   For example:
+
+     HTTP/1.1 416 Range Not Satisfiable
+     Date: Fri, 20 Jan 2012 15:41:54 GMT
+     Content-Range: bytes */47022
+
+      Note: Because servers are free to ignore Range, many
+      implementations will simply respond with the entire selected
+      representation in a 200 (OK) response.  That is partly because
+      most clients are prepared to receive a 200 (OK) to complete the
+      task (albeit less efficiently) and partly because clients might
+      not stop making an invalid partial request until they have
+      received a complete representation.  Thus, clients cannot depend
+      on receiving a 416 (Range Not Satisfiable) response even when it
+      is most appropriate.
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 15]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+5.  IANA Considerations
+
+5.1.  Range Unit Registry
+
+   The "HTTP Range Unit Registry" defines the namespace for the range
+   unit names and refers to their corresponding specifications.  The
+   registry has been created and is now maintained at
+   <http://www.iana.org/assignments/http-parameters>.
+
+5.1.1.  Procedure
+
+   Registration of an HTTP Range Unit MUST include the following fields:
+
+   o  Name
+
+   o  Description
+
+   o  Pointer to specification text
+
+   Values to be added to this namespace require IETF Review (see
+   [RFC5226], Section 4.1).
+
+5.1.2.  Registrations
+
+   The initial range unit registry contains the registrations below:
+
+   +-------------+---------------------------------------+-------------+
+   | Range Unit  | Description                           | Reference   |
+   | Name        |                                       |             |
+   +-------------+---------------------------------------+-------------+
+   | bytes       | a range of octets                     | Section 2.1 |
+   | none        | reserved as keyword, indicating no    | Section 2.3 |
+   |             | ranges are supported                  |             |
+   +-------------+---------------------------------------+-------------+
+
+   The change controller is: "IETF (iesg@ietf.org) - Internet
+   Engineering Task Force".
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 16]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+5.2.  Status Code Registration
+
+   The "Hypertext Transfer Protocol (HTTP) Status Code Registry" located
+   at <http://www.iana.org/assignments/http-status-codes> has been
+   updated to include the registrations below:
+
+   +-------+-----------------------+-------------+
+   | Value | Description           | Reference   |
+   +-------+-----------------------+-------------+
+   | 206   | Partial Content       | Section 4.1 |
+   | 416   | Range Not Satisfiable | Section 4.4 |
+   +-------+-----------------------+-------------+
+
+5.3.  Header Field Registration
+
+   HTTP header fields are registered within the "Message Headers"
+   registry maintained at
+   <http://www.iana.org/assignments/message-headers/>.
+
+   This document defines the following HTTP header fields, so their
+   associated registry entries have been updated according to the
+   permanent registrations below (see [BCP90]):
+
+   +-------------------+----------+----------+-------------+
+   | Header Field Name | Protocol | Status   | Reference   |
+   +-------------------+----------+----------+-------------+
+   | Accept-Ranges     | http     | standard | Section 2.3 |
+   | Content-Range     | http     | standard | Section 4.2 |
+   | If-Range          | http     | standard | Section 3.2 |
+   | Range             | http     | standard | Section 3.1 |
+   +-------------------+----------+----------+-------------+
+
+   The change controller is: "IETF (iesg@ietf.org) - Internet
+   Engineering Task Force".
+
+5.4.  Internet Media Type Registration
+
+   IANA maintains the registry of Internet media types [BCP13] at
+   <http://www.iana.org/assignments/media-types>.
+
+   This document serves as the specification for the Internet media type
+   "multipart/byteranges".  The following has been registered with IANA.
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 17]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+5.4.1.  Internet Media Type multipart/byteranges
+
+   Type name:  multipart
+
+   Subtype name:  byteranges
+
+   Required parameters:  boundary
+
+   Optional parameters:  N/A
+
+   Encoding considerations:  only "7bit", "8bit", or "binary" are
+      permitted
+
+   Security considerations:  see Section 6
+
+   Interoperability considerations:  N/A
+
+   Published specification:  This specification (see Appendix A).
+
+   Applications that use this media type:  HTTP components supporting
+      multiple ranges in a single request.
+
+   Fragment identifier considerations:  N/A
+
+   Additional information:
+
+      Deprecated alias names for this type:  N/A
+
+      Magic number(s):  N/A
+
+      File extension(s):  N/A
+
+      Macintosh file type code(s):  N/A
+
+   Person and email address to contact for further information:  See
+      Authors' Addresses section.
+
+   Intended usage:  COMMON
+
+   Restrictions on usage:  N/A
+
+   Author:  See Authors' Addresses section.
+
+   Change controller:  IESG
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 18]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+6.  Security Considerations
+
+   This section is meant to inform developers, information providers,
+   and users of known security concerns specific to the HTTP range
+   request mechanisms.  More general security considerations are
+   addressed in HTTP messaging [RFC7230] and semantics [RFC7231].
+
+6.1.  Denial-of-Service Attacks Using Range
+
+   Unconstrained multiple range requests are susceptible to denial-of-
+   service attacks because the effort required to request many
+   overlapping ranges of the same data is tiny compared to the time,
+   memory, and bandwidth consumed by attempting to serve the requested
+   data in many parts.  Servers ought to ignore, coalesce, or reject
+   egregious range requests, such as requests for more than two
+   overlapping ranges or for many small ranges in a single set,
+   particularly when the ranges are requested out of order for no
+   apparent reason.  Multipart range requests are not designed to
+   support random access.
+
+7.  Acknowledgments
+
+   See Section 10 of [RFC7230].
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 19]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+8.  References
+
+8.1.  Normative References
+
+   [RFC2046]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
+              Extensions (MIME) Part Two: Media Types", RFC 2046,
+              November 1996.
+
+   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
+              Requirement Levels", BCP 14, RFC 2119, March 1997.
+
+   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
+              Specifications: ABNF", STD 68, RFC 5234, January 2008.
+
+   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Message Syntax and Routing",
+              RFC 7230, June 2014.
+
+   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
+              June 2014.
+
+   [RFC7232]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Conditional Requests", RFC 7232,
+              June 2014.
+
+   [RFC7234]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
+              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
+              RFC 7234, June 2014.
+
+8.2.  Informative References
+
+   [BCP13]    Freed, N., Klensin, J., and T. Hansen, "Media Type
+              Specifications and Registration Procedures", BCP 13,
+              RFC 6838, January 2013.
+
+   [BCP90]    Klyne, G., Nottingham, M., and J. Mogul, "Registration
+              Procedures for Message Header Fields", BCP 90, RFC 3864,
+              September 2004.
+
+   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
+              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
+              Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.
+
+   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
+              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
+              May 2008.
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 20]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+Appendix A.  Internet Media Type multipart/byteranges
+
+   When a 206 (Partial Content) response message includes the content of
+   multiple ranges, they are transmitted as body parts in a multipart
+   message body ([RFC2046], Section 5.1) with the media type of
+   "multipart/byteranges".
+
+   The multipart/byteranges media type includes one or more body parts,
+   each with its own Content-Type and Content-Range fields.  The
+   required boundary parameter specifies the boundary string used to
+   separate each body part.
+
+   Implementation Notes:
+
+   1.  Additional CRLFs might precede the first boundary string in the
+       body.
+
+   2.  Although [RFC2046] permits the boundary string to be quoted, some
+       existing implementations handle a quoted boundary string
+       incorrectly.
+
+   3.  A number of clients and servers were coded to an early draft of
+       the byteranges specification that used a media type of multipart/
+       x-byteranges, which is almost (but not quite) compatible with
+       this type.
+
+   Despite the name, the "multipart/byteranges" media type is not
+   limited to byte ranges.  The following example uses an "exampleunit"
+   range unit:
+
+     HTTP/1.1 206 Partial Content
+     Date: Tue, 14 Nov 1995 06:25:24 GMT
+     Last-Modified: Tue, 14 July 04:58:08 GMT
+     Content-Length: 2331785
+     Content-Type: multipart/byteranges; boundary=THIS_STRING_SEPARATES
+
+     --THIS_STRING_SEPARATES
+     Content-Type: video/example
+     Content-Range: exampleunit 1.2-4.3/25
+
+     ...the first range...
+     --THIS_STRING_SEPARATES
+     Content-Type: video/example
+     Content-Range: exampleunit 11.2-14.3/25
+
+     ...the second range
+     --THIS_STRING_SEPARATES--
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 21]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+Appendix B.  Changes from RFC 2616
+
+   Servers are given more leeway in how they respond to a range request,
+   in order to mitigate abuse by malicious (or just greedy) clients.
+   (Section 3.1)
+
+   A weak validator cannot be used in a 206 response.  (Section 4.1)
+
+   The Content-Range header field only has meaning when the status code
+   explicitly defines its use.  (Section 4.2)
+
+   This specification introduces a Range Unit Registry.  (Section 5.1)
+
+   multipart/byteranges can consist of a single part.  (Appendix A)
+
+Appendix C.  Imported ABNF
+
+   The following core rules are included by reference, as defined in
+   Appendix B.1 of [RFC5234]: ALPHA (letters), CR (carriage return),
+   CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double
+   quote), HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET (any
+   8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII
+   character).
+
+   Note that all rules derived from token are to be compared
+   case-insensitively, like range-unit and acceptable-ranges.
+
+   The rules below are defined in [RFC7230]:
+
+     OWS        = <OWS, see [RFC7230], Section 3.2.3>
+     token      = <token, see [RFC7230], Section 3.2.6>
+
+   The rules below are defined in other parts:
+
+     HTTP-date  = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+     entity-tag = <entity-tag, see [RFC7232], Section 2.3>
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 22]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+Appendix D.  Collected ABNF
+
+   In the collected ABNF below, list rules are expanded as per Section
+   1.2 of [RFC7230].
+
+   Accept-Ranges = acceptable-ranges
+
+   Content-Range = byte-content-range / other-content-range
+
+   HTTP-date = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+
+   If-Range = entity-tag / HTTP-date
+
+   OWS = <OWS, see [RFC7230], Section 3.2.3>
+
+   Range = byte-ranges-specifier / other-ranges-specifier
+
+   acceptable-ranges = ( *( "," OWS ) range-unit *( OWS "," [ OWS
+    range-unit ] ) ) / "none"
+
+   byte-content-range = bytes-unit SP ( byte-range-resp /
+    unsatisfied-range )
+   byte-range = first-byte-pos "-" last-byte-pos
+   byte-range-resp = byte-range "/" ( complete-length / "*" )
+   byte-range-set = *( "," OWS ) ( byte-range-spec /
+    suffix-byte-range-spec ) *( OWS "," [ OWS ( byte-range-spec /
+    suffix-byte-range-spec ) ] )
+   byte-range-spec = first-byte-pos "-" [ last-byte-pos ]
+   byte-ranges-specifier = bytes-unit "=" byte-range-set
+   bytes-unit = "bytes"
+
+   complete-length = 1*DIGIT
+
+   entity-tag = <entity-tag, see [RFC7232], Section 2.3>
+
+   first-byte-pos = 1*DIGIT
+
+   last-byte-pos = 1*DIGIT
+
+   other-content-range = other-range-unit SP other-range-resp
+   other-range-resp = *CHAR
+   other-range-set = 1*VCHAR
+   other-range-unit = token
+   other-ranges-specifier = other-range-unit "=" other-range-set
+
+   range-unit = bytes-unit / other-range-unit
+
+   suffix-byte-range-spec = "-" suffix-length
+
+
+
+Fielding, et al.             Standards Track                   [Page 23]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   suffix-length = 1*DIGIT
+
+   token = <token, see [RFC7230], Section 3.2.6>
+
+   unsatisfied-range = "*/" complete-length
+
+Index
+
+   2
+      206 Partial Content (status code)  10
+
+   4
+      416 Range Not Satisfiable (status code)  15
+
+   A
+      Accept-Ranges header field  7
+
+   C
+      Content-Range header field  12
+
+   G
+      Grammar
+         Accept-Ranges  7
+         acceptable-ranges  7
+         byte-content-range  12
+         byte-range  12
+         byte-range-resp  12
+         byte-range-set  5
+         byte-range-spec  5
+         byte-ranges-specifier  5
+         bytes-unit  5
+         complete-length  12
+         Content-Range  12
+         first-byte-pos  5
+         If-Range  9
+         last-byte-pos  5
+         other-content-range  12
+         other-range-resp  12
+         other-range-unit  5, 7
+         Range  8
+         range-unit  5
+         ranges-specifier  5
+         suffix-byte-range-spec  6
+         suffix-length  6
+         unsatisfied-range  12
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 24]
+
+RFC 7233                 HTTP/1.1 Range Requests               June 2014
+
+
+   I
+      If-Range header field  9
+
+   M
+      Media Type
+         multipart/byteranges  18, 21
+         multipart/x-byteranges  19
+      multipart/byteranges Media Type  18, 21
+      multipart/x-byteranges Media Type  21
+
+   R
+      Range header field  8
+
+Authors' Addresses
+
+   Roy T. Fielding (editor)
+   Adobe Systems Incorporated
+   345 Park Ave
+   San Jose, CA  95110
+   USA
+
+   EMail: fielding@gbiv.com
+   URI:   http://roy.gbiv.com/
+
+
+   Yves Lafon (editor)
+   World Wide Web Consortium
+   W3C / ERCIM
+   2004, rte des Lucioles
+   Sophia-Antipolis, AM  06902
+   France
+
+   EMail: ylafon@w3.org
+   URI:   http://www.raubacapeu.net/people/yves/
+
+
+   Julian F. Reschke (editor)
+   greenbytes GmbH
+   Hafenweg 16
+   Muenster, NW  48155
+   Germany
+
+   EMail: julian.reschke@greenbytes.de
+   URI:   http://greenbytes.de/tech/webdav/
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 25]
+
@@ -0,0 +1,2411 @@
+
+
+
+
+
+
+Internet Engineering Task Force (IETF)                  R. Fielding, Ed.
+Request for Comments: 7234                                         Adobe
+Obsoletes: 2616                                       M. Nottingham, Ed.
+Category: Standards Track                                         Akamai
+ISSN: 2070-1721                                          J. Reschke, Ed.
+                                                              greenbytes
+                                                               June 2014
+
+
+            Hypertext Transfer Protocol (HTTP/1.1): Caching
+
+Abstract
+
+   The Hypertext Transfer Protocol (HTTP) is a stateless application-
+   level protocol for distributed, collaborative, hypertext information
+   systems.  This document defines HTTP caches and the associated header
+   fields that control cache behavior or indicate cacheable response
+   messages.
+
+Status of This Memo
+
+   This is an Internet Standards Track document.
+
+   This document is a product of the Internet Engineering Task Force
+   (IETF).  It represents the consensus of the IETF community.  It has
+   received public review and has been approved for publication by the
+   Internet Engineering Steering Group (IESG).  Further information on
+   Internet Standards is available in Section 2 of RFC 5741.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   http://www.rfc-editor.org/info/rfc7234.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 1]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+Copyright Notice
+
+   Copyright (c) 2014 IETF Trust and the persons identified as the
+   document authors.  All rights reserved.
+
+   This document is subject to BCP 78 and the IETF Trust's Legal
+   Provisions Relating to IETF Documents
+   (http://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Simplified BSD License text as described in Section 4.e of
+   the Trust Legal Provisions and are provided without warranty as
+   described in the Simplified BSD License.
+
+   This document may contain material from IETF Documents or IETF
+   Contributions published or made publicly available before November
+   10, 2008.  The person(s) controlling the copyright in some of this
+   material may not have granted the IETF Trust the right to allow
+   modifications of such material outside the IETF Standards Process.
+   Without obtaining an adequate license from the person(s) controlling
+   the copyright in such materials, this document may not be modified
+   outside the IETF Standards Process, and derivative works of it may
+   not be created outside the IETF Standards Process, except to format
+   it for publication as an RFC or to translate it into languages other
+   than English.
+
+Table of Contents
+
+   1. Introduction ....................................................4
+      1.1. Conformance and Error Handling .............................4
+      1.2. Syntax Notation ............................................4
+           1.2.1. Delta Seconds .......................................5
+   2. Overview of Cache Operation .....................................5
+   3. Storing Responses in Caches .....................................6
+      3.1. Storing Incomplete Responses ...............................7
+      3.2. Storing Responses to Authenticated Requests ................7
+      3.3. Combining Partial Content ..................................8
+   4. Constructing Responses from Caches ..............................8
+      4.1. Calculating Secondary Keys with Vary .......................9
+      4.2. Freshness .................................................11
+           4.2.1. Calculating Freshness Lifetime .....................12
+           4.2.2. Calculating Heuristic Freshness ....................13
+           4.2.3. Calculating Age ....................................13
+           4.2.4. Serving Stale Responses ............................15
+      4.3. Validation ................................................16
+           4.3.1. Sending a Validation Request .......................16
+           4.3.2. Handling a Received Validation Request .............16
+
+
+
+Fielding, et al.             Standards Track                    [Page 2]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+           4.3.3. Handling a Validation Response .....................18
+           4.3.4. Freshening Stored Responses upon Validation ........18
+           4.3.5. Freshening Responses via HEAD ......................19
+      4.4. Invalidation ..............................................20
+   5. Header Field Definitions .......................................21
+      5.1. Age .......................................................21
+      5.2. Cache-Control .............................................21
+           5.2.1. Request Cache-Control Directives ...................22
+           5.2.2. Response Cache-Control Directives ..................24
+           5.2.3. Cache Control Extensions ...........................27
+      5.3. Expires ...................................................28
+      5.4. Pragma ....................................................29
+      5.5. Warning ...................................................29
+           5.5.1. Warning: 110 - "Response is Stale" .................31
+           5.5.2. Warning: 111 - "Revalidation Failed" ...............31
+           5.5.3. Warning: 112 - "Disconnected Operation" ............31
+           5.5.4. Warning: 113 - "Heuristic Expiration" ..............31
+           5.5.5. Warning: 199 - "Miscellaneous Warning" .............32
+           5.5.6. Warning: 214 - "Transformation Applied" ............32
+           5.5.7. Warning: 299 - "Miscellaneous Persistent Warning" ..32
+   6. History Lists ..................................................32
+   7. IANA Considerations ............................................32
+      7.1. Cache Directive Registry ..................................32
+           7.1.1. Procedure ..........................................32
+           7.1.2. Considerations for New Cache Control Directives ....33
+           7.1.3. Registrations ......................................33
+      7.2. Warn Code Registry ........................................34
+           7.2.1. Procedure ..........................................34
+           7.2.2. Registrations ......................................34
+      7.3. Header Field Registration .................................34
+   8. Security Considerations ........................................35
+   9. Acknowledgments ................................................36
+   10. References ....................................................36
+      10.1. Normative References .....................................36
+      10.2. Informative References ...................................37
+   Appendix A. Changes from RFC 2616 .................................38
+   Appendix B. Imported ABNF .........................................39
+   Appendix C. Collected ABNF ........................................39
+   Index .............................................................41
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 3]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+1.  Introduction
+
+   HTTP is typically used for distributed information systems, where
+   performance can be improved by the use of response caches.  This
+   document defines aspects of HTTP/1.1 related to caching and reusing
+   response messages.
+
+   An HTTP cache is a local store of response messages and the subsystem
+   that controls storage, retrieval, and deletion of messages in it.  A
+   cache stores cacheable responses in order to reduce the response time
+   and network bandwidth consumption on future, equivalent requests.
+   Any client or server MAY employ a cache, though a cache cannot be
+   used by a server that is acting as a tunnel.
+
+   A shared cache is a cache that stores responses to be reused by more
+   than one user; shared caches are usually (but not always) deployed as
+   a part of an intermediary.  A private cache, in contrast, is
+   dedicated to a single user; often, they are deployed as a component
+   of a user agent.
+
+   The goal of caching in HTTP/1.1 is to significantly improve
+   performance by reusing a prior response message to satisfy a current
+   request.  A stored response is considered "fresh", as defined in
+   Section 4.2, if the response can be reused without "validation"
+   (checking with the origin server to see if the cached response
+   remains valid for this request).  A fresh response can therefore
+   reduce both latency and network overhead each time it is reused.
+   When a cached response is not fresh, it might still be reusable if it
+   can be freshened by validation (Section 4.3) or if the origin is
+   unavailable (Section 4.2.4).
+
+1.1.  Conformance and Error Handling
+
+   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
+   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
+   document are to be interpreted as described in [RFC2119].
+
+   Conformance criteria and considerations regarding error handling are
+   defined in Section 2.5 of [RFC7230].
+
+1.2.  Syntax Notation
+
+   This specification uses the Augmented Backus-Naur Form (ABNF)
+   notation of [RFC5234] with a list extension, defined in Section 7 of
+   [RFC7230], that allows for compact definition of comma-separated
+   lists using a '#' operator (similar to how the '*' operator indicates
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 4]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   repetition).  Appendix B describes rules imported from other
+   documents.  Appendix C shows the collected grammar with all list
+   operators expanded to standard ABNF notation.
+
+1.2.1.  Delta Seconds
+
+   The delta-seconds rule specifies a non-negative integer, representing
+   time in seconds.
+
+     delta-seconds  = 1*DIGIT
+
+   A recipient parsing a delta-seconds value and converting it to binary
+   form ought to use an arithmetic type of at least 31 bits of
+   non-negative integer range.  If a cache receives a delta-seconds
+   value greater than the greatest integer it can represent, or if any
+   of its subsequent calculations overflows, the cache MUST consider the
+   value to be either 2147483648 (2^31) or the greatest positive integer
+   it can conveniently represent.
+
+      Note: The value 2147483648 is here for historical reasons,
+      effectively represents infinity (over 68 years), and does not need
+      to be stored in binary form; an implementation could produce it as
+      a canned string if any overflow occurs, even if the calculations
+      are performed with an arithmetic type incapable of directly
+      representing that number.  What matters here is that an overflow
+      be detected and not treated as a negative value in later
+      calculations.
+
+2.  Overview of Cache Operation
+
+   Proper cache operation preserves the semantics of HTTP transfers
+   ([RFC7231]) while eliminating the transfer of information already
+   held in the cache.  Although caching is an entirely OPTIONAL feature
+   of HTTP, it can be assumed that reusing a cached response is
+   desirable and that such reuse is the default behavior when no
+   requirement or local configuration prevents it.  Therefore, HTTP
+   cache requirements are focused on preventing a cache from either
+   storing a non-reusable response or reusing a stored response
+   inappropriately, rather than mandating that caches always store and
+   reuse particular responses.
+
+   Each cache entry consists of a cache key and one or more HTTP
+   responses corresponding to prior requests that used the same key.
+   The most common form of cache entry is a successful result of a
+   retrieval request: i.e., a 200 (OK) response to a GET request, which
+   contains a representation of the resource identified by the request
+   target (Section 4.3.1 of [RFC7231]).  However, it is also possible to
+   cache permanent redirects, negative results (e.g., 404 (Not Found)),
+
+
+
+Fielding, et al.             Standards Track                    [Page 5]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   incomplete results (e.g., 206 (Partial Content)), and responses to
+   methods other than GET if the method's definition allows such caching
+   and defines something suitable for use as a cache key.
+
+   The primary cache key consists of the request method and target URI.
+   However, since HTTP caches in common use today are typically limited
+   to caching responses to GET, many caches simply decline other methods
+   and use only the URI as the primary cache key.
+
+   If a request target is subject to content negotiation, its cache
+   entry might consist of multiple stored responses, each differentiated
+   by a secondary key for the values of the original request's selecting
+   header fields (Section 4.1).
+
+3.  Storing Responses in Caches
+
+   A cache MUST NOT store a response to any request, unless:
+
+   o  The request method is understood by the cache and defined as being
+      cacheable, and
+
+   o  the response status code is understood by the cache, and
+
+   o  the "no-store" cache directive (see Section 5.2) does not appear
+      in request or response header fields, and
+
+   o  the "private" response directive (see Section 5.2.2.6) does not
+      appear in the response, if the cache is shared, and
+
+   o  the Authorization header field (see Section 4.2 of [RFC7235]) does
+      not appear in the request, if the cache is shared, unless the
+      response explicitly allows it (see Section 3.2), and
+
+   o  the response either:
+
+      *  contains an Expires header field (see Section 5.3), or
+
+      *  contains a max-age response directive (see Section 5.2.2.8), or
+
+      *  contains a s-maxage response directive (see Section 5.2.2.9)
+         and the cache is shared, or
+
+      *  contains a Cache Control Extension (see Section 5.2.3) that
+         allows it to be cached, or
+
+      *  has a status code that is defined as cacheable by default (see
+         Section 4.2.2), or
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 6]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+      *  contains a public response directive (see Section 5.2.2.5).
+
+   Note that any of the requirements listed above can be overridden by a
+   cache-control extension; see Section 5.2.3.
+
+   In this context, a cache has "understood" a request method or a
+   response status code if it recognizes it and implements all specified
+   caching-related behavior.
+
+   Note that, in normal operation, some caches will not store a response
+   that has neither a cache validator nor an explicit expiration time,
+   as such responses are not usually useful to store.  However, caches
+   are not prohibited from storing such responses.
+
+3.1.  Storing Incomplete Responses
+
+   A response message is considered complete when all of the octets
+   indicated by the message framing ([RFC7230]) are received prior to
+   the connection being closed.  If the request method is GET, the
+   response status code is 200 (OK), and the entire response header
+   section has been received, a cache MAY store an incomplete response
+   message body if the cache entry is recorded as incomplete.  Likewise,
+   a 206 (Partial Content) response MAY be stored as if it were an
+   incomplete 200 (OK) cache entry.  However, a cache MUST NOT store
+   incomplete or partial-content responses if it does not support the
+   Range and Content-Range header fields or if it does not understand
+   the range units used in those fields.
+
+   A cache MAY complete a stored incomplete response by making a
+   subsequent range request ([RFC7233]) and combining the successful
+   response with the stored entry, as defined in Section 3.3.  A cache
+   MUST NOT use an incomplete response to answer requests unless the
+   response has been made complete or the request is partial and
+   specifies a range that is wholly within the incomplete response.  A
+   cache MUST NOT send a partial response to a client without explicitly
+   marking it as such using the 206 (Partial Content) status code.
+
+3.2.  Storing Responses to Authenticated Requests
+
+   A shared cache MUST NOT use a cached response to a request with an
+   Authorization header field (Section 4.2 of [RFC7235]) to satisfy any
+   subsequent request unless a cache directive that allows such
+   responses to be stored is present in the response.
+
+   In this specification, the following Cache-Control response
+   directives (Section 5.2.2) have such an effect: must-revalidate,
+   public, and s-maxage.
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 7]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   Note that cached responses that contain the "must-revalidate" and/or
+   "s-maxage" response directives are not allowed to be served stale
+   (Section 4.2.4) by shared caches.  In particular, a response with
+   either "max-age=0, must-revalidate" or "s-maxage=0" cannot be used to
+   satisfy a subsequent request without revalidating it on the origin
+   server.
+
+3.3.  Combining Partial Content
+
+   A response might transfer only a partial representation if the
+   connection closed prematurely or if the request used one or more
+   Range specifiers ([RFC7233]).  After several such transfers, a cache
+   might have received several ranges of the same representation.  A
+   cache MAY combine these ranges into a single stored response, and
+   reuse that response to satisfy later requests, if they all share the
+   same strong validator and the cache complies with the client
+   requirements in Section 4.3 of [RFC7233].
+
+   When combining the new response with one or more stored responses, a
+   cache MUST:
+
+   o  delete any Warning header fields in the stored response with
+      warn-code 1xx (see Section 5.5);
+
+   o  retain any Warning header fields in the stored response with
+      warn-code 2xx; and,
+
+   o  use other header fields provided in the new response, aside from
+      Content-Range, to replace all instances of the corresponding
+      header fields in the stored response.
+
+4.  Constructing Responses from Caches
+
+   When presented with a request, a cache MUST NOT reuse a stored
+   response, unless:
+
+   o  The presented effective request URI (Section 5.5 of [RFC7230]) and
+      that of the stored response match, and
+
+   o  the request method associated with the stored response allows it
+      to be used for the presented request, and
+
+   o  selecting header fields nominated by the stored response (if any)
+      match those presented (see Section 4.1), and
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 8]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   o  the presented request does not contain the no-cache pragma
+      (Section 5.4), nor the no-cache cache directive (Section 5.2.1),
+      unless the stored response is successfully validated
+      (Section 4.3), and
+
+   o  the stored response does not contain the no-cache cache directive
+      (Section 5.2.2.2), unless it is successfully validated
+      (Section 4.3), and
+
+   o  the stored response is either:
+
+      *  fresh (see Section 4.2), or
+
+      *  allowed to be served stale (see Section 4.2.4), or
+
+      *  successfully validated (see Section 4.3).
+
+   Note that any of the requirements listed above can be overridden by a
+   cache-control extension; see Section 5.2.3.
+
+   When a stored response is used to satisfy a request without
+   validation, a cache MUST generate an Age header field (Section 5.1),
+   replacing any present in the response with a value equal to the
+   stored response's current_age; see Section 4.2.3.
+
+   A cache MUST write through requests with methods that are unsafe
+   (Section 4.2.1 of [RFC7231]) to the origin server; i.e., a cache is
+   not allowed to generate a reply to such a request before having
+   forwarded the request and having received a corresponding response.
+
+   Also, note that unsafe requests might invalidate already-stored
+   responses; see Section 4.4.
+
+   When more than one suitable response is stored, a cache MUST use the
+   most recent response (as determined by the Date header field).  It
+   can also forward the request with "Cache-Control: max-age=0" or
+   "Cache-Control: no-cache" to disambiguate which response to use.
+
+   A cache that does not have a clock available MUST NOT use stored
+   responses without revalidating them upon every use.
+
+4.1.  Calculating Secondary Keys with Vary
+
+   When a cache receives a request that can be satisfied by a stored
+   response that has a Vary header field (Section 7.1.4 of [RFC7231]),
+   it MUST NOT use that response unless all of the selecting header
+
+
+
+
+
+Fielding, et al.             Standards Track                    [Page 9]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   fields nominated by the Vary header field match in both the original
+   request (i.e., that associated with the stored response), and the
+   presented request.
+
+   The selecting header fields from two requests are defined to match if
+   and only if those in the first request can be transformed to those in
+   the second request by applying any of the following:
+
+   o  adding or removing whitespace, where allowed in the header field's
+      syntax
+
+   o  combining multiple header fields with the same field name (see
+      Section 3.2 of [RFC7230])
+
+   o  normalizing both header field values in a way that is known to
+      have identical semantics, according to the header field's
+      specification (e.g., reordering field values when order is not
+      significant; case-normalization, where values are defined to be
+      case-insensitive)
+
+   If (after any normalization that might take place) a header field is
+   absent from a request, it can only match another request if it is
+   also absent there.
+
+   A Vary header field-value of "*" always fails to match.
+
+   The stored response with matching selecting header fields is known as
+   the selected response.
+
+   If multiple selected responses are available (potentially including
+   responses without a Vary header field), the cache will need to choose
+   one to use.  When a selecting header field has a known mechanism for
+   doing so (e.g., qvalues on Accept and similar request header fields),
+   that mechanism MAY be used to select preferred responses; of the
+   remainder, the most recent response (as determined by the Date header
+   field) is used, as per Section 4.
+
+   If no selected response is available, the cache cannot satisfy the
+   presented request.  Typically, it is forwarded to the origin server
+   in a (possibly conditional; see Section 4.3) request.
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 10]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+4.2.  Freshness
+
+   A fresh response is one whose age has not yet exceeded its freshness
+   lifetime.  Conversely, a stale response is one where it has.
+
+   A response's freshness lifetime is the length of time between its
+   generation by the origin server and its expiration time.  An explicit
+   expiration time is the time at which the origin server intends that a
+   stored response can no longer be used by a cache without further
+   validation, whereas a heuristic expiration time is assigned by a
+   cache when no explicit expiration time is available.
+
+   A response's age is the time that has passed since it was generated
+   by, or successfully validated with, the origin server.
+
+   When a response is "fresh" in the cache, it can be used to satisfy
+   subsequent requests without contacting the origin server, thereby
+   improving efficiency.
+
+   The primary mechanism for determining freshness is for an origin
+   server to provide an explicit expiration time in the future, using
+   either the Expires header field (Section 5.3) or the max-age response
+   directive (Section 5.2.2.8).  Generally, origin servers will assign
+   future explicit expiration times to responses in the belief that the
+   representation is not likely to change in a semantically significant
+   way before the expiration time is reached.
+
+   If an origin server wishes to force a cache to validate every
+   request, it can assign an explicit expiration time in the past to
+   indicate that the response is already stale.  Compliant caches will
+   normally validate a stale cached response before reusing it for
+   subsequent requests (see Section 4.2.4).
+
+   Since origin servers do not always provide explicit expiration times,
+   caches are also allowed to use a heuristic to determine an expiration
+   time under certain circumstances (see Section 4.2.2).
+
+   The calculation to determine if a response is fresh is:
+
+      response_is_fresh = (freshness_lifetime > current_age)
+
+   freshness_lifetime is defined in Section 4.2.1; current_age is
+   defined in Section 4.2.3.
+
+   Clients can send the max-age or min-fresh cache directives in a
+   request to constrain or relax freshness calculations for the
+   corresponding response (Section 5.2.1).
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 11]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   When calculating freshness, to avoid common problems in date parsing:
+
+   o  Although all date formats are specified to be case-sensitive, a
+      cache recipient SHOULD match day, week, and time-zone names
+      case-insensitively.
+
+   o  If a cache recipient's internal implementation of time has less
+      resolution than the value of an HTTP-date, the recipient MUST
+      internally represent a parsed Expires date as the nearest time
+      equal to or earlier than the received value.
+
+   o  A cache recipient MUST NOT allow local time zones to influence the
+      calculation or comparison of an age or expiration time.
+
+   o  A cache recipient SHOULD consider a date with a zone abbreviation
+      other than GMT or UTC to be invalid for calculating expiration.
+
+   Note that freshness applies only to cache operation; it cannot be
+   used to force a user agent to refresh its display or reload a
+   resource.  See Section 6 for an explanation of the difference between
+   caches and history mechanisms.
+
+4.2.1.  Calculating Freshness Lifetime
+
+   A cache can calculate the freshness lifetime (denoted as
+   freshness_lifetime) of a response by using the first match of the
+   following:
+
+   o  If the cache is shared and the s-maxage response directive
+      (Section 5.2.2.9) is present, use its value, or
+
+   o  If the max-age response directive (Section 5.2.2.8) is present,
+      use its value, or
+
+   o  If the Expires response header field (Section 5.3) is present, use
+      its value minus the value of the Date response header field, or
+
+   o  Otherwise, no explicit expiration time is present in the response.
+      A heuristic freshness lifetime might be applicable; see
+      Section 4.2.2.
+
+   Note that this calculation is not vulnerable to clock skew, since all
+   of the information comes from the origin server.
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 12]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   When there is more than one value present for a given directive
+   (e.g., two Expires header fields, multiple Cache-Control: max-age
+   directives), the directive's value is considered invalid.  Caches are
+   encouraged to consider responses that have invalid freshness
+   information to be stale.
+
+4.2.2.  Calculating Heuristic Freshness
+
+   Since origin servers do not always provide explicit expiration times,
+   a cache MAY assign a heuristic expiration time when an explicit time
+   is not specified, employing algorithms that use other header field
+   values (such as the Last-Modified time) to estimate a plausible
+   expiration time.  This specification does not provide specific
+   algorithms, but does impose worst-case constraints on their results.
+
+   A cache MUST NOT use heuristics to determine freshness when an
+   explicit expiration time is present in the stored response.  Because
+   of the requirements in Section 3, this means that, effectively,
+   heuristics can only be used on responses without explicit freshness
+   whose status codes are defined as cacheable by default (see Section
+   6.1 of [RFC7231]), and those responses without explicit freshness
+   that have been marked as explicitly cacheable (e.g., with a "public"
+   response directive).
+
+   If the response has a Last-Modified header field (Section 2.2 of
+   [RFC7232]), caches are encouraged to use a heuristic expiration value
+   that is no more than some fraction of the interval since that time.
+   A typical setting of this fraction might be 10%.
+
+   When a heuristic is used to calculate freshness lifetime, a cache
+   SHOULD generate a Warning header field with a 113 warn-code (see
+   Section 5.5.4) in the response if its current_age is more than 24
+   hours and such a warning is not already present.
+
+      Note: Section 13.9 of [RFC2616] prohibited caches from calculating
+      heuristic freshness for URIs with query components (i.e., those
+      containing '?').  In practice, this has not been widely
+      implemented.  Therefore, origin servers are encouraged to send
+      explicit directives (e.g., Cache-Control: no-cache) if they wish
+      to preclude caching.
+
+4.2.3.  Calculating Age
+
+   The Age header field is used to convey an estimated age of the
+   response message when obtained from a cache.  The Age field value is
+   the cache's estimate of the number of seconds since the response was
+   generated or validated by the origin server.  In essence, the Age
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 13]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   value is the sum of the time that the response has been resident in
+   each of the caches along the path from the origin server, plus the
+   amount of time it has been in transit along network paths.
+
+   The following data is used for the age calculation:
+
+   age_value
+
+      The term "age_value" denotes the value of the Age header field
+      (Section 5.1), in a form appropriate for arithmetic operation; or
+      0, if not available.
+
+   date_value
+
+      The term "date_value" denotes the value of the Date header field,
+      in a form appropriate for arithmetic operations.  See Section
+      7.1.1.2 of [RFC7231] for the definition of the Date header field,
+      and for requirements regarding responses without it.
+
+   now
+
+      The term "now" means "the current value of the clock at the host
+      performing the calculation".  A host ought to use NTP ([RFC5905])
+      or some similar protocol to synchronize its clocks to Coordinated
+      Universal Time.
+
+   request_time
+
+      The current value of the clock at the host at the time the request
+      resulting in the stored response was made.
+
+   response_time
+
+      The current value of the clock at the host at the time the
+      response was received.
+
+   A response's age can be calculated in two entirely independent ways:
+
+   1.  the "apparent_age": response_time minus date_value, if the local
+       clock is reasonably well synchronized to the origin server's
+       clock.  If the result is negative, the result is replaced by
+       zero.
+
+   2.  the "corrected_age_value", if all of the caches along the
+       response path implement HTTP/1.1.  A cache MUST interpret this
+       value relative to the time the request was initiated, not the
+       time that the response was received.
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 14]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+     apparent_age = max(0, response_time - date_value);
+
+     response_delay = response_time - request_time;
+     corrected_age_value = age_value + response_delay;
+
+   These are combined as
+
+     corrected_initial_age = max(apparent_age, corrected_age_value);
+
+   unless the cache is confident in the value of the Age header field
+   (e.g., because there are no HTTP/1.0 hops in the Via header field),
+   in which case the corrected_age_value MAY be used as the
+   corrected_initial_age.
+
+   The current_age of a stored response can then be calculated by adding
+   the amount of time (in seconds) since the stored response was last
+   validated by the origin server to the corrected_initial_age.
+
+     resident_time = now - response_time;
+     current_age = corrected_initial_age + resident_time;
+
+4.2.4.  Serving Stale Responses
+
+   A "stale" response is one that either has explicit expiry information
+   or is allowed to have heuristic expiry calculated, but is not fresh
+   according to the calculations in Section 4.2.
+
+   A cache MUST NOT generate a stale response if it is prohibited by an
+   explicit in-protocol directive (e.g., by a "no-store" or "no-cache"
+   cache directive, a "must-revalidate" cache-response-directive, or an
+   applicable "s-maxage" or "proxy-revalidate" cache-response-directive;
+   see Section 5.2.2).
+
+   A cache MUST NOT send stale responses unless it is disconnected
+   (i.e., it cannot contact the origin server or otherwise find a
+   forward path) or doing so is explicitly allowed (e.g., by the
+   max-stale request directive; see Section 5.2.1).
+
+   A cache SHOULD generate a Warning header field with the 110 warn-code
+   (see Section 5.5.1) in stale responses.  Likewise, a cache SHOULD
+   generate a 112 warn-code (see Section 5.5.3) in stale responses if
+   the cache is disconnected.
+
+   A cache SHOULD NOT generate a new Warning header field when
+   forwarding a response that does not have an Age header field, even if
+   the response is already stale.  A cache need not validate a response
+   that merely became stale in transit.
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 15]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+4.3.  Validation
+
+   When a cache has one or more stored responses for a requested URI,
+   but cannot serve any of them (e.g., because they are not fresh, or
+   one cannot be selected; see Section 4.1), it can use the conditional
+   request mechanism [RFC7232] in the forwarded request to give the next
+   inbound server an opportunity to select a valid stored response to
+   use, updating the stored metadata in the process, or to replace the
+   stored response(s) with a new response.  This process is known as
+   "validating" or "revalidating" the stored response.
+
+4.3.1.  Sending a Validation Request
+
+   When sending a conditional request for cache validation, a cache
+   sends one or more precondition header fields containing validator
+   metadata from its stored response(s), which is then compared by
+   recipients to determine whether a stored response is equivalent to a
+   current representation of the resource.
+
+   One such validator is the timestamp given in a Last-Modified header
+   field (Section 2.2 of [RFC7232]), which can be used in an
+   If-Modified-Since header field for response validation, or in an
+   If-Unmodified-Since or If-Range header field for representation
+   selection (i.e., the client is referring specifically to a previously
+   obtained representation with that timestamp).
+
+   Another validator is the entity-tag given in an ETag header field
+   (Section 2.3 of [RFC7232]).  One or more entity-tags, indicating one
+   or more stored responses, can be used in an If-None-Match header
+   field for response validation, or in an If-Match or If-Range header
+   field for representation selection (i.e., the client is referring
+   specifically to one or more previously obtained representations with
+   the listed entity-tags).
+
+4.3.2.  Handling a Received Validation Request
+
+   Each client in the request chain may have its own cache, so it is
+   common for a cache at an intermediary to receive conditional requests
+   from other (outbound) caches.  Likewise, some user agents make use of
+   conditional requests to limit data transfers to recently modified
+   representations or to complete the transfer of a partially retrieved
+   representation.
+
+   If a cache receives a request that can be satisfied by reusing one of
+   its stored 200 (OK) or 206 (Partial Content) responses, the cache
+   SHOULD evaluate any applicable conditional header field preconditions
+   received in that request with respect to the corresponding validators
+   contained within the selected response.  A cache MUST NOT evaluate
+
+
+
+Fielding, et al.             Standards Track                   [Page 16]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   conditional header fields that are only applicable to an origin
+   server, found in a request with semantics that cannot be satisfied
+   with a cached response, or applied to a target resource for which it
+   has no stored responses; such preconditions are likely intended for
+   some other (inbound) server.
+
+   The proper evaluation of conditional requests by a cache depends on
+   the received precondition header fields and their precedence, as
+   defined in Section 6 of [RFC7232].  The If-Match and
+   If-Unmodified-Since conditional header fields are not applicable to a
+   cache.
+
+   A request containing an If-None-Match header field (Section 3.2 of
+   [RFC7232]) indicates that the client wants to validate one or more of
+   its own stored responses in comparison to whichever stored response
+   is selected by the cache.  If the field-value is "*", or if the
+   field-value is a list of entity-tags and at least one of them matches
+   the entity-tag of the selected stored response, a cache recipient
+   SHOULD generate a 304 (Not Modified) response (using the metadata of
+   the selected stored response) instead of sending that stored
+   response.
+
+   When a cache decides to revalidate its own stored responses for a
+   request that contains an If-None-Match list of entity-tags, the cache
+   MAY combine the received list with a list of entity-tags from its own
+   stored set of responses (fresh or stale) and send the union of the
+   two lists as a replacement If-None-Match header field value in the
+   forwarded request.  If a stored response contains only partial
+   content, the cache MUST NOT include its entity-tag in the union
+   unless the request is for a range that would be fully satisfied by
+   that partial stored response.  If the response to the forwarded
+   request is 304 (Not Modified) and has an ETag header field value with
+   an entity-tag that is not in the client's list, the cache MUST
+   generate a 200 (OK) response for the client by reusing its
+   corresponding stored response, as updated by the 304 response
+   metadata (Section 4.3.4).
+
+   If an If-None-Match header field is not present, a request containing
+   an If-Modified-Since header field (Section 3.3 of [RFC7232])
+   indicates that the client wants to validate one or more of its own
+   stored responses by modification date.  A cache recipient SHOULD
+   generate a 304 (Not Modified) response (using the metadata of the
+   selected stored response) if one of the following cases is true: 1)
+   the selected stored response has a Last-Modified field-value that is
+   earlier than or equal to the conditional timestamp; 2) no
+   Last-Modified field is present in the selected stored response, but
+   it has a Date field-value that is earlier than or equal to the
+   conditional timestamp; or, 3) neither Last-Modified nor Date is
+
+
+
+Fielding, et al.             Standards Track                   [Page 17]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   present in the selected stored response, but the cache recorded it as
+   having been received at a time earlier than or equal to the
+   conditional timestamp.
+
+   A cache that implements partial responses to range requests, as
+   defined in [RFC7233], also needs to evaluate a received If-Range
+   header field (Section 3.2 of [RFC7233]) with respect to its selected
+   stored response.
+
+4.3.3.  Handling a Validation Response
+
+   Cache handling of a response to a conditional request is dependent
+   upon its status code:
+
+   o  A 304 (Not Modified) response status code indicates that the
+      stored response can be updated and reused; see Section 4.3.4.
+
+   o  A full response (i.e., one with a payload body) indicates that
+      none of the stored responses nominated in the conditional request
+      is suitable.  Instead, the cache MUST use the full response to
+      satisfy the request and MAY replace the stored response(s).
+
+   o  However, if a cache receives a 5xx (Server Error) response while
+      attempting to validate a response, it can either forward this
+      response to the requesting client, or act as if the server failed
+      to respond.  In the latter case, the cache MAY send a previously
+      stored response (see Section 4.2.4).
+
+4.3.4.  Freshening Stored Responses upon Validation
+
+   When a cache receives a 304 (Not Modified) response and already has
+   one or more stored 200 (OK) responses for the same cache key, the
+   cache needs to identify which of the stored responses are updated by
+   this new response and then update the stored response(s) with the new
+   information provided in the 304 response.
+
+   The stored response to update is identified by using the first match
+   (if any) of the following:
+
+   o  If the new response contains a strong validator (see Section 2.1
+      of [RFC7232]), then that strong validator identifies the selected
+      representation for update.  All of the stored responses with the
+      same strong validator are selected.  If none of the stored
+      responses contain the same strong validator, then the cache MUST
+      NOT use the new response to update any stored responses.
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 18]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   o  If the new response contains a weak validator and that validator
+      corresponds to one of the cache's stored responses, then the most
+      recent of those matching stored responses is selected for update.
+
+   o  If the new response does not include any form of validator (such
+      as in the case where a client generates an If-Modified-Since
+      request from a source other than the Last-Modified response header
+      field), and there is only one stored response, and that stored
+      response also lacks a validator, then that stored response is
+      selected for update.
+
+   If a stored response is selected for update, the cache MUST:
+
+   o  delete any Warning header fields in the stored response with
+      warn-code 1xx (see Section 5.5);
+
+   o  retain any Warning header fields in the stored response with
+      warn-code 2xx; and,
+
+   o  use other header fields provided in the 304 (Not Modified)
+      response to replace all instances of the corresponding header
+      fields in the stored response.
+
+4.3.5.  Freshening Responses via HEAD
+
+   A response to the HEAD method is identical to what an equivalent
+   request made with a GET would have been, except it lacks a body.
+   This property of HEAD responses can be used to invalidate or update a
+   cached GET response if the more efficient conditional GET request
+   mechanism is not available (due to no validators being present in the
+   stored response) or if transmission of the representation body is not
+   desired even if it has changed.
+
+   When a cache makes an inbound HEAD request for a given request target
+   and receives a 200 (OK) response, the cache SHOULD update or
+   invalidate each of its stored GET responses that could have been
+   selected for that request (see Section 4.1).
+
+   For each of the stored responses that could have been selected, if
+   the stored response and HEAD response have matching values for any
+   received validator fields (ETag and Last-Modified) and, if the HEAD
+   response has a Content-Length header field, the value of
+   Content-Length matches that of the stored response, the cache SHOULD
+   update the stored response as described below; otherwise, the cache
+   SHOULD consider the stored response to be stale.
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 19]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   If a cache updates a stored response with the metadata provided in a
+   HEAD response, the cache MUST:
+
+   o  delete any Warning header fields in the stored response with
+      warn-code 1xx (see Section 5.5);
+
+   o  retain any Warning header fields in the stored response with
+      warn-code 2xx; and,
+
+   o  use other header fields provided in the HEAD response to replace
+      all instances of the corresponding header fields in the stored
+      response and append new header fields to the stored response's
+      header section unless otherwise restricted by the Cache-Control
+      header field.
+
+4.4.  Invalidation
+
+   Because unsafe request methods (Section 4.2.1 of [RFC7231]) such as
+   PUT, POST or DELETE have the potential for changing state on the
+   origin server, intervening caches can use them to keep their contents
+   up to date.
+
+   A cache MUST invalidate the effective Request URI (Section 5.5 of
+   [RFC7230]) as well as the URI(s) in the Location and Content-Location
+   response header fields (if present) when a non-error status code is
+   received in response to an unsafe request method.
+
+   However, a cache MUST NOT invalidate a URI from a Location or
+   Content-Location response header field if the host part of that URI
+   differs from the host part in the effective request URI (Section 5.5
+   of [RFC7230]).  This helps prevent denial-of-service attacks.
+
+   A cache MUST invalidate the effective request URI (Section 5.5 of
+   [RFC7230]) when it receives a non-error response to a request with a
+   method whose safety is unknown.
+
+   Here, a "non-error response" is one with a 2xx (Successful) or 3xx
+   (Redirection) status code.  "Invalidate" means that the cache will
+   either remove all stored responses related to the effective request
+   URI or will mark these as "invalid" and in need of a mandatory
+   validation before they can be sent in response to a subsequent
+   request.
+
+   Note that this does not guarantee that all appropriate responses are
+   invalidated.  For example, a state-changing request might invalidate
+   responses in the caches it travels through, but relevant responses
+   still might be stored in other caches that it has not.
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 20]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+5.  Header Field Definitions
+
+   This section defines the syntax and semantics of HTTP/1.1 header
+   fields related to caching.
+
+5.1.  Age
+
+   The "Age" header field conveys the sender's estimate of the amount of
+   time since the response was generated or successfully validated at
+   the origin server.  Age values are calculated as specified in
+   Section 4.2.3.
+
+     Age = delta-seconds
+
+   The Age field-value is a non-negative integer, representing time in
+   seconds (see Section 1.2.1).
+
+   The presence of an Age header field implies that the response was not
+   generated or validated by the origin server for this request.
+   However, lack of an Age header field does not imply the origin was
+   contacted, since the response might have been received from an
+   HTTP/1.0 cache that does not implement Age.
+
+5.2.  Cache-Control
+
+   The "Cache-Control" header field is used to specify directives for
+   caches along the request/response chain.  Such cache directives are
+   unidirectional in that the presence of a directive in a request does
+   not imply that the same directive is to be given in the response.
+
+   A cache MUST obey the requirements of the Cache-Control directives
+   defined in this section.  See Section 5.2.3 for information about how
+   Cache-Control directives defined elsewhere are handled.
+
+      Note: Some HTTP/1.0 caches might not implement Cache-Control.
+
+   A proxy, whether or not it implements a cache, MUST pass cache
+   directives through in forwarded messages, regardless of their
+   significance to that application, since the directives might be
+   applicable to all recipients along the request/response chain.  It is
+   not possible to target a directive to a specific cache.
+
+   Cache directives are identified by a token, to be compared
+   case-insensitively, and have an optional argument, that can use both
+   token and quoted-string syntax.  For the directives defined below
+   that define arguments, recipients ought to accept both forms, even if
+   one is documented to be preferred.  For any directive not defined by
+   this specification, a recipient MUST accept both forms.
+
+
+
+Fielding, et al.             Standards Track                   [Page 21]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+     Cache-Control   = 1#cache-directive
+
+     cache-directive = token [ "=" ( token / quoted-string ) ]
+
+   For the cache directives defined below, no argument is defined (nor
+   allowed) unless stated otherwise.
+
+5.2.1.  Request Cache-Control Directives
+
+5.2.1.1.  max-age
+
+   Argument syntax:
+
+      delta-seconds (see Section 1.2.1)
+
+   The "max-age" request directive indicates that the client is
+   unwilling to accept a response whose age is greater than the
+   specified number of seconds.  Unless the max-stale request directive
+   is also present, the client is not willing to accept a stale
+   response.
+
+   This directive uses the token form of the argument syntax: e.g.,
+   'max-age=5' not 'max-age="5"'.  A sender SHOULD NOT generate the
+   quoted-string form.
+
+5.2.1.2.  max-stale
+
+   Argument syntax:
+
+      delta-seconds (see Section 1.2.1)
+
+   The "max-stale" request directive indicates that the client is
+   willing to accept a response that has exceeded its freshness
+   lifetime.  If max-stale is assigned a value, then the client is
+   willing to accept a response that has exceeded its freshness lifetime
+   by no more than the specified number of seconds.  If no value is
+   assigned to max-stale, then the client is willing to accept a stale
+   response of any age.
+
+   This directive uses the token form of the argument syntax: e.g.,
+   'max-stale=10' not 'max-stale="10"'.  A sender SHOULD NOT generate
+   the quoted-string form.
+
+5.2.1.3.  min-fresh
+
+   Argument syntax:
+
+      delta-seconds (see Section 1.2.1)
+
+
+
+Fielding, et al.             Standards Track                   [Page 22]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   The "min-fresh" request directive indicates that the client is
+   willing to accept a response whose freshness lifetime is no less than
+   its current age plus the specified time in seconds.  That is, the
+   client wants a response that will still be fresh for at least the
+   specified number of seconds.
+
+   This directive uses the token form of the argument syntax: e.g.,
+   'min-fresh=20' not 'min-fresh="20"'.  A sender SHOULD NOT generate
+   the quoted-string form.
+
+5.2.1.4.  no-cache
+
+   The "no-cache" request directive indicates that a cache MUST NOT use
+   a stored response to satisfy the request without successful
+   validation on the origin server.
+
+5.2.1.5.  no-store
+
+   The "no-store" request directive indicates that a cache MUST NOT
+   store any part of either this request or any response to it.  This
+   directive applies to both private and shared caches.  "MUST NOT
+   store" in this context means that the cache MUST NOT intentionally
+   store the information in non-volatile storage, and MUST make a
+   best-effort attempt to remove the information from volatile storage
+   as promptly as possible after forwarding it.
+
+   This directive is NOT a reliable or sufficient mechanism for ensuring
+   privacy.  In particular, malicious or compromised caches might not
+   recognize or obey this directive, and communications networks might
+   be vulnerable to eavesdropping.
+
+   Note that if a request containing this directive is satisfied from a
+   cache, the no-store request directive does not apply to the already
+   stored response.
+
+5.2.1.6.  no-transform
+
+   The "no-transform" request directive indicates that an intermediary
+   (whether or not it implements a cache) MUST NOT transform the
+   payload, as defined in Section 5.7.2 of [RFC7230].
+
+5.2.1.7.  only-if-cached
+
+   The "only-if-cached" request directive indicates that the client only
+   wishes to obtain a stored response.  If it receives this directive, a
+   cache SHOULD either respond using a stored response that is
+   consistent with the other constraints of the request, or respond with
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 23]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   a 504 (Gateway Timeout) status code.  If a group of caches is being
+   operated as a unified system with good internal connectivity, a
+   member cache MAY forward such a request within that group of caches.
+
+5.2.2.  Response Cache-Control Directives
+
+5.2.2.1.  must-revalidate
+
+   The "must-revalidate" response directive indicates that once it has
+   become stale, a cache MUST NOT use the response to satisfy subsequent
+   requests without successful validation on the origin server.
+
+   The must-revalidate directive is necessary to support reliable
+   operation for certain protocol features.  In all circumstances a
+   cache MUST obey the must-revalidate directive; in particular, if a
+   cache cannot reach the origin server for any reason, it MUST generate
+   a 504 (Gateway Timeout) response.
+
+   The must-revalidate directive ought to be used by servers if and only
+   if failure to validate a request on the representation could result
+   in incorrect operation, such as a silently unexecuted financial
+   transaction.
+
+5.2.2.2.  no-cache
+
+   Argument syntax:
+
+      #field-name
+
+   The "no-cache" response directive indicates that the response MUST
+   NOT be used to satisfy a subsequent request without successful
+   validation on the origin server.  This allows an origin server to
+   prevent a cache from using it to satisfy a request without contacting
+   it, even by caches that have been configured to send stale responses.
+
+   If the no-cache response directive specifies one or more field-names,
+   then a cache MAY use the response to satisfy a subsequent request,
+   subject to any other restrictions on caching.  However, any header
+   fields in the response that have the field-name(s) listed MUST NOT be
+   sent in the response to a subsequent request without successful
+   revalidation with the origin server.  This allows an origin server to
+   prevent the re-use of certain header fields in a response, while
+   still allowing caching of the rest of the response.
+
+   The field-names given are not limited to the set of header fields
+   defined by this specification.  Field names are case-insensitive.
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 24]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   This directive uses the quoted-string form of the argument syntax.  A
+   sender SHOULD NOT generate the token form (even if quoting appears
+   not to be needed for single-entry lists).
+
+   Note: Although it has been back-ported to many implementations, some
+   HTTP/1.0 caches will not recognize or obey this directive.  Also,
+   no-cache response directives with field-names are often handled by
+   caches as if an unqualified no-cache directive was received; i.e.,
+   the special handling for the qualified form is not widely
+   implemented.
+
+5.2.2.3.  no-store
+
+   The "no-store" response directive indicates that a cache MUST NOT
+   store any part of either the immediate request or response.  This
+   directive applies to both private and shared caches.  "MUST NOT
+   store" in this context means that the cache MUST NOT intentionally
+   store the information in non-volatile storage, and MUST make a
+   best-effort attempt to remove the information from volatile storage
+   as promptly as possible after forwarding it.
+
+   This directive is NOT a reliable or sufficient mechanism for ensuring
+   privacy.  In particular, malicious or compromised caches might not
+   recognize or obey this directive, and communications networks might
+   be vulnerable to eavesdropping.
+
+5.2.2.4.  no-transform
+
+   The "no-transform" response directive indicates that an intermediary
+   (regardless of whether it implements a cache) MUST NOT transform the
+   payload, as defined in Section 5.7.2 of [RFC7230].
+
+5.2.2.5.  public
+
+   The "public" response directive indicates that any cache MAY store
+   the response, even if the response would normally be non-cacheable or
+   cacheable only within a private cache.  (See Section 3.2 for
+   additional details related to the use of public in response to a
+   request containing Authorization, and Section 3 for details of how
+   public affects responses that would normally not be stored, due to
+   their status codes not being defined as cacheable by default; see
+   Section 4.2.2.)
+
+5.2.2.6.  private
+
+   Argument syntax:
+
+      #field-name
+
+
+
+Fielding, et al.             Standards Track                   [Page 25]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   The "private" response directive indicates that the response message
+   is intended for a single user and MUST NOT be stored by a shared
+   cache.  A private cache MAY store the response and reuse it for later
+   requests, even if the response would normally be non-cacheable.
+
+   If the private response directive specifies one or more field-names,
+   this requirement is limited to the field-values associated with the
+   listed response header fields.  That is, a shared cache MUST NOT
+   store the specified field-names(s), whereas it MAY store the
+   remainder of the response message.
+
+   The field-names given are not limited to the set of header fields
+   defined by this specification.  Field names are case-insensitive.
+
+   This directive uses the quoted-string form of the argument syntax.  A
+   sender SHOULD NOT generate the token form (even if quoting appears
+   not to be needed for single-entry lists).
+
+   Note: This usage of the word "private" only controls where the
+   response can be stored; it cannot ensure the privacy of the message
+   content.  Also, private response directives with field-names are
+   often handled by caches as if an unqualified private directive was
+   received; i.e., the special handling for the qualified form is not
+   widely implemented.
+
+5.2.2.7.  proxy-revalidate
+
+   The "proxy-revalidate" response directive has the same meaning as the
+   must-revalidate response directive, except that it does not apply to
+   private caches.
+
+5.2.2.8.  max-age
+
+   Argument syntax:
+
+      delta-seconds (see Section 1.2.1)
+
+   The "max-age" response directive indicates that the response is to be
+   considered stale after its age is greater than the specified number
+   of seconds.
+
+   This directive uses the token form of the argument syntax: e.g.,
+   'max-age=5' not 'max-age="5"'.  A sender SHOULD NOT generate the
+   quoted-string form.
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 26]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+5.2.2.9.  s-maxage
+
+   Argument syntax:
+
+      delta-seconds (see Section 1.2.1)
+
+   The "s-maxage" response directive indicates that, in shared caches,
+   the maximum age specified by this directive overrides the maximum age
+   specified by either the max-age directive or the Expires header
+   field.  The s-maxage directive also implies the semantics of the
+   proxy-revalidate response directive.
+
+   This directive uses the token form of the argument syntax: e.g.,
+   's-maxage=10' not 's-maxage="10"'.  A sender SHOULD NOT generate the
+   quoted-string form.
+
+5.2.3.  Cache Control Extensions
+
+   The Cache-Control header field can be extended through the use of one
+   or more cache-extension tokens, each with an optional value.  A cache
+   MUST ignore unrecognized cache directives.
+
+   Informational extensions (those that do not require a change in cache
+   behavior) can be added without changing the semantics of other
+   directives.
+
+   Behavioral extensions are designed to work by acting as modifiers to
+   the existing base of cache directives.  Both the new directive and
+   the old directive are supplied, such that applications that do not
+   understand the new directive will default to the behavior specified
+   by the old directive, and those that understand the new directive
+   will recognize it as modifying the requirements associated with the
+   old directive.  In this way, extensions to the existing cache-control
+   directives can be made without breaking deployed caches.
+
+   For example, consider a hypothetical new response directive called
+   "community" that acts as a modifier to the private directive: in
+   addition to private caches, any cache that is shared only by members
+   of the named community is allowed to cache the response.  An origin
+   server wishing to allow the UCI community to use an otherwise private
+   response in their shared cache(s) could do so by including
+
+     Cache-Control: private, community="UCI"
+
+   A cache that recognizes such a community cache-extension could
+   broaden its behavior in accordance with that extension.  A cache that
+   does not recognize the community cache-extension would ignore it and
+   adhere to the private directive.
+
+
+
+Fielding, et al.             Standards Track                   [Page 27]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+5.3.  Expires
+
+   The "Expires" header field gives the date/time after which the
+   response is considered stale.  See Section 4.2 for further discussion
+   of the freshness model.
+
+   The presence of an Expires field does not imply that the original
+   resource will change or cease to exist at, before, or after that
+   time.
+
+   The Expires value is an HTTP-date timestamp, as defined in Section
+   7.1.1.1 of [RFC7231].
+
+     Expires = HTTP-date
+
+   For example
+
+     Expires: Thu, 01 Dec 1994 16:00:00 GMT
+
+   A cache recipient MUST interpret invalid date formats, especially the
+   value "0", as representing a time in the past (i.e., "already
+   expired").
+
+   If a response includes a Cache-Control field with the max-age
+   directive (Section 5.2.2.8), a recipient MUST ignore the Expires
+   field.  Likewise, if a response includes the s-maxage directive
+   (Section 5.2.2.9), a shared cache recipient MUST ignore the Expires
+   field.  In both these cases, the value in Expires is only intended
+   for recipients that have not yet implemented the Cache-Control field.
+
+   An origin server without a clock MUST NOT generate an Expires field
+   unless its value represents a fixed time in the past (always expired)
+   or its value has been associated with the resource by a system or
+   user with a reliable clock.
+
+   Historically, HTTP required the Expires field-value to be no more
+   than a year in the future.  While longer freshness lifetimes are no
+   longer prohibited, extremely large values have been demonstrated to
+   cause problems (e.g., clock overflows due to use of 32-bit integers
+   for time values), and many caches will evict a response far sooner
+   than that.
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 28]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+5.4.  Pragma
+
+   The "Pragma" header field allows backwards compatibility with
+   HTTP/1.0 caches, so that clients can specify a "no-cache" request
+   that they will understand (as Cache-Control was not defined until
+   HTTP/1.1).  When the Cache-Control header field is also present and
+   understood in a request, Pragma is ignored.
+
+   In HTTP/1.0, Pragma was defined as an extensible field for
+   implementation-specified directives for recipients.  This
+   specification deprecates such extensions to improve interoperability.
+
+     Pragma           = 1#pragma-directive
+     pragma-directive = "no-cache" / extension-pragma
+     extension-pragma = token [ "=" ( token / quoted-string ) ]
+
+   When the Cache-Control header field is not present in a request,
+   caches MUST consider the no-cache request pragma-directive as having
+   the same effect as if "Cache-Control: no-cache" were present (see
+   Section 5.2.1).
+
+   When sending a no-cache request, a client ought to include both the
+   pragma and cache-control directives, unless Cache-Control: no-cache
+   is purposefully omitted to target other Cache-Control response
+   directives at HTTP/1.1 caches.  For example:
+
+     GET / HTTP/1.1
+     Host: www.example.com
+     Cache-Control: max-age=30
+     Pragma: no-cache
+
+   will constrain HTTP/1.1 caches to serve a response no older than 30
+   seconds, while precluding implementations that do not understand
+   Cache-Control from serving a cached response.
+
+      Note: Because the meaning of "Pragma: no-cache" in responses is
+      not specified, it does not provide a reliable replacement for
+      "Cache-Control: no-cache" in them.
+
+5.5.  Warning
+
+   The "Warning" header field is used to carry additional information
+   about the status or transformation of a message that might not be
+   reflected in the status code.  This information is typically used to
+   warn about possible incorrectness introduced by caching operations or
+   transformations applied to the payload of the message.
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 29]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   Warnings can be used for other purposes, both cache-related and
+   otherwise.  The use of a warning, rather than an error status code,
+   distinguishes these responses from true failures.
+
+   Warning header fields can in general be applied to any message,
+   however some warn-codes are specific to caches and can only be
+   applied to response messages.
+
+     Warning       = 1#warning-value
+
+     warning-value = warn-code SP warn-agent SP warn-text
+                                           [ SP warn-date ]
+
+     warn-code  = 3DIGIT
+     warn-agent = ( uri-host [ ":" port ] ) / pseudonym
+                     ; the name or pseudonym of the server adding
+                     ; the Warning header field, for use in debugging
+                     ; a single "-" is recommended when agent unknown
+     warn-text  = quoted-string
+     warn-date  = DQUOTE HTTP-date DQUOTE
+
+   Multiple warnings can be generated in a response (either by the
+   origin server or by a cache), including multiple warnings with the
+   same warn-code number that only differ in warn-text.
+
+   A user agent that receives one or more Warning header fields SHOULD
+   inform the user of as many of them as possible, in the order that
+   they appear in the response.  Senders that generate multiple Warning
+   header fields are encouraged to order them with this user agent
+   behavior in mind.  A sender that generates new Warning header fields
+   MUST append them after any existing Warning header fields.
+
+   Warnings are assigned three digit warn-codes.  The first digit
+   indicates whether the Warning is required to be deleted from a stored
+   response after validation:
+
+   o  1xx warn-codes describe the freshness or validation status of the
+      response, and so they MUST be deleted by a cache after validation.
+      They can only be generated by a cache when validating a cached
+      entry, and MUST NOT be generated in any other situation.
+
+   o  2xx warn-codes describe some aspect of the representation that is
+      not rectified by a validation (for example, a lossy compression of
+      the representation) and they MUST NOT be deleted by a cache after
+      validation, unless a full response is sent, in which case they
+      MUST be.
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 30]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   If a sender generates one or more 1xx warn-codes in a message to be
+   sent to a recipient known to implement only HTTP/1.0, the sender MUST
+   include in each corresponding warning-value a warn-date that matches
+   the Date header field in the message.  For example:
+
+     HTTP/1.1 200 OK
+     Date: Sat, 25 Aug 2012 23:34:45 GMT
+     Warning: 112 - "network down" "Sat, 25 Aug 2012 23:34:45 GMT"
+
+
+   Warnings have accompanying warn-text that describes the error, e.g.,
+   for logging.  It is advisory only, and its content does not affect
+   interpretation of the warn-code.
+
+   If a recipient that uses, evaluates, or displays Warning header
+   fields receives a warn-date that is different from the Date value in
+   the same message, the recipient MUST exclude the warning-value
+   containing that warn-date before storing, forwarding, or using the
+   message.  This allows recipients to exclude warning-values that were
+   improperly retained after a cache validation.  If all of the
+   warning-values are excluded, the recipient MUST exclude the Warning
+   header field as well.
+
+   The following warn-codes are defined by this specification, each with
+   a recommended warn-text in English, and a description of its meaning.
+   The procedure for defining additional warn codes is described in
+   Section 7.2.1.
+
+5.5.1.  Warning: 110 - "Response is Stale"
+
+   A cache SHOULD generate this whenever the sent response is stale.
+
+5.5.2.  Warning: 111 - "Revalidation Failed"
+
+   A cache SHOULD generate this when sending a stale response because an
+   attempt to validate the response failed, due to an inability to reach
+   the server.
+
+5.5.3.  Warning: 112 - "Disconnected Operation"
+
+   A cache SHOULD generate this if it is intentionally disconnected from
+   the rest of the network for a period of time.
+
+5.5.4.  Warning: 113 - "Heuristic Expiration"
+
+   A cache SHOULD generate this if it heuristically chose a freshness
+   lifetime greater than 24 hours and the response's age is greater than
+   24 hours.
+
+
+
+Fielding, et al.             Standards Track                   [Page 31]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+5.5.5.  Warning: 199 - "Miscellaneous Warning"
+
+   The warning text can include arbitrary information to be presented to
+   a human user or logged.  A system receiving this warning MUST NOT
+   take any automated action, besides presenting the warning to the
+   user.
+
+5.5.6.  Warning: 214 - "Transformation Applied"
+
+   This Warning code MUST be added by a proxy if it applies any
+   transformation to the representation, such as changing the
+   content-coding, media-type, or modifying the representation data,
+   unless this Warning code already appears in the response.
+
+5.5.7.  Warning: 299 - "Miscellaneous Persistent Warning"
+
+   The warning text can include arbitrary information to be presented to
+   a human user or logged.  A system receiving this warning MUST NOT
+   take any automated action.
+
+6.  History Lists
+
+   User agents often have history mechanisms, such as "Back" buttons and
+   history lists, that can be used to redisplay a representation
+   retrieved earlier in a session.
+
+   The freshness model (Section 4.2) does not necessarily apply to
+   history mechanisms.  That is, a history mechanism can display a
+   previous representation even if it has expired.
+
+   This does not prohibit the history mechanism from telling the user
+   that a view might be stale or from honoring cache directives (e.g.,
+   Cache-Control: no-store).
+
+7.  IANA Considerations
+
+7.1.  Cache Directive Registry
+
+   The "Hypertext Transfer Protocol (HTTP) Cache Directive Registry"
+   defines the namespace for the cache directives.  It has been created
+   and is now maintained at
+   <http://www.iana.org/assignments/http-cache-directives>.
+
+7.1.1.  Procedure
+
+   A registration MUST include the following fields:
+
+   o  Cache Directive Name
+
+
+
+Fielding, et al.             Standards Track                   [Page 32]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   o  Pointer to specification text
+
+   Values to be added to this namespace require IETF Review (see
+   [RFC5226], Section 4.1).
+
+7.1.2.  Considerations for New Cache Control Directives
+
+   New extension directives ought to consider defining:
+
+   o  What it means for a directive to be specified multiple times,
+
+   o  When the directive does not take an argument, what it means when
+      an argument is present,
+
+   o  When the directive requires an argument, what it means when it is
+      missing,
+
+   o  Whether the directive is specific to requests, responses, or able
+      to be used in either.
+
+   See also Section 5.2.3.
+
+7.1.3.  Registrations
+
+   The registry has been populated with the registrations below:
+
+   +------------------------+----------------------------------+
+   | Cache Directive        | Reference                        |
+   +------------------------+----------------------------------+
+   | max-age                | Section 5.2.1.1, Section 5.2.2.8 |
+   | max-stale              | Section 5.2.1.2                  |
+   | min-fresh              | Section 5.2.1.3                  |
+   | must-revalidate        | Section 5.2.2.1                  |
+   | no-cache               | Section 5.2.1.4, Section 5.2.2.2 |
+   | no-store               | Section 5.2.1.5, Section 5.2.2.3 |
+   | no-transform           | Section 5.2.1.6, Section 5.2.2.4 |
+   | only-if-cached         | Section 5.2.1.7                  |
+   | private                | Section 5.2.2.6                  |
+   | proxy-revalidate       | Section 5.2.2.7                  |
+   | public                 | Section 5.2.2.5                  |
+   | s-maxage               | Section 5.2.2.9                  |
+   | stale-if-error         | [RFC5861], Section 4             |
+   | stale-while-revalidate | [RFC5861], Section 3             |
+   +------------------------+----------------------------------+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 33]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+7.2.  Warn Code Registry
+
+   The "Hypertext Transfer Protocol (HTTP) Warn Codes" registry defines
+   the namespace for warn codes.  It has been created and is now
+   maintained at <http://www.iana.org/assignments/http-warn-codes>.
+
+7.2.1.  Procedure
+
+   A registration MUST include the following fields:
+
+   o  Warn Code (3 digits)
+
+   o  Short Description
+
+   o  Pointer to specification text
+
+   Values to be added to this namespace require IETF Review (see
+   [RFC5226], Section 4.1).
+
+7.2.2.  Registrations
+
+   The registry has been populated with the registrations below:
+
+   +-----------+----------------------------------+---------------+
+   | Warn Code | Short Description                | Reference     |
+   +-----------+----------------------------------+---------------+
+   | 110       | Response is Stale                | Section 5.5.1 |
+   | 111       | Revalidation Failed              | Section 5.5.2 |
+   | 112       | Disconnected Operation           | Section 5.5.3 |
+   | 113       | Heuristic Expiration             | Section 5.5.4 |
+   | 199       | Miscellaneous Warning            | Section 5.5.5 |
+   | 214       | Transformation Applied           | Section 5.5.6 |
+   | 299       | Miscellaneous Persistent Warning | Section 5.5.7 |
+   +-----------+----------------------------------+---------------+
+
+7.3.  Header Field Registration
+
+   HTTP header fields are registered within the "Message Headers"
+   registry maintained at
+   <http://www.iana.org/assignments/message-headers/>.
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 34]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   This document defines the following HTTP header fields, so the
+   "Permanent Message Header Field Names" registry has been updated
+   accordingly (see [BCP90]).
+
+   +-------------------+----------+----------+-------------+
+   | Header Field Name | Protocol | Status   | Reference   |
+   +-------------------+----------+----------+-------------+
+   | Age               | http     | standard | Section 5.1 |
+   | Cache-Control     | http     | standard | Section 5.2 |
+   | Expires           | http     | standard | Section 5.3 |
+   | Pragma            | http     | standard | Section 5.4 |
+   | Warning           | http     | standard | Section 5.5 |
+   +-------------------+----------+----------+-------------+
+
+   The change controller is: "IETF (iesg@ietf.org) - Internet
+   Engineering Task Force".
+
+8.  Security Considerations
+
+   This section is meant to inform developers, information providers,
+   and users of known security concerns specific to HTTP caching.  More
+   general security considerations are addressed in HTTP messaging
+   [RFC7230] and semantics [RFC7231].
+
+   Caches expose additional potential vulnerabilities, since the
+   contents of the cache represent an attractive target for malicious
+   exploitation.  Because cache contents persist after an HTTP request
+   is complete, an attack on the cache can reveal information long after
+   a user believes that the information has been removed from the
+   network.  Therefore, cache contents need to be protected as sensitive
+   information.
+
+   In particular, various attacks might be amplified by being stored in
+   a shared cache; such "cache poisoning" attacks use the cache to
+   distribute a malicious payload to many clients, and are especially
+   effective when an attacker can use implementation flaws, elevated
+   privileges, or other techniques to insert such a response into a
+   cache.  One common attack vector for cache poisoning is to exploit
+   differences in message parsing on proxies and in user agents; see
+   Section 3.3.3 of [RFC7230] for the relevant requirements.
+
+   Likewise, implementation flaws (as well as misunderstanding of cache
+   operation) might lead to caching of sensitive information (e.g.,
+   authentication credentials) that is thought to be private, exposing
+   it to unauthorized parties.
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 35]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   Furthermore, the very use of a cache can bring about privacy
+   concerns.  For example, if two users share a cache, and the first one
+   browses to a site, the second may be able to detect that the other
+   has been to that site, because the resources from it load more
+   quickly, thanks to the cache.
+
+   Note that the Set-Cookie response header field [RFC6265] does not
+   inhibit caching; a cacheable response with a Set-Cookie header field
+   can be (and often is) used to satisfy subsequent requests to caches.
+   Servers who wish to control caching of these responses are encouraged
+   to emit appropriate Cache-Control response header fields.
+
+9.  Acknowledgments
+
+   See Section 10 of [RFC7230].
+
+10.  References
+
+10.1.  Normative References
+
+   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
+              Requirement Levels", BCP 14, RFC 2119, March 1997.
+
+   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
+              Specifications: ABNF", STD 68, RFC 5234, January 2008.
+
+   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Message Syntax and Routing",
+              RFC 7230, June 2014.
+
+   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
+              June 2014.
+
+   [RFC7232]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Conditional Requests", RFC 7232,
+              June 2014.
+
+   [RFC7233]  Fielding, R., Ed., Lafon, Y., Ed., and J. Reschke, Ed.,
+              "Hypertext Transfer Protocol (HTTP/1.1): Range Requests",
+              RFC 7233, June 2014.
+
+   [RFC7235]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Authentication", RFC 7235, June 2014.
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 36]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+10.2.  Informative References
+
+   [BCP90]    Klyne, G., Nottingham, M., and J. Mogul, "Registration
+              Procedures for Message Header Fields", BCP 90, RFC 3864,
+              September 2004.
+
+   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
+              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
+              Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.
+
+   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
+              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
+              May 2008.
+
+   [RFC5861]  Nottingham, M., "HTTP Cache-Control Extensions for Stale
+              Content", RFC 5861, April 2010.
+
+   [RFC5905]  Mills, D., Martin, J., Ed., Burbank, J., and W. Kasch,
+              "Network Time Protocol Version 4: Protocol and Algorithms
+              Specification", RFC 5905, June 2010.
+
+   [RFC6265]  Barth, A., "HTTP State Management Mechanism", RFC 6265,
+              April 2011.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 37]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+Appendix A.  Changes from RFC 2616
+
+   The specification has been substantially rewritten for clarity.
+
+   The conditions under which an authenticated response can be cached
+   have been clarified.  (Section 3.2)
+
+   New status codes can now define that caches are allowed to use
+   heuristic freshness with them.  Caches are now allowed to calculate
+   heuristic freshness for URIs with query components.  (Section 4.2.2)
+
+   The algorithm for calculating age is now less conservative.  Caches
+   are now required to handle dates with time zones as if they're
+   invalid, because it's not possible to accurately guess.
+   (Section 4.2.3)
+
+   The Content-Location response header field is no longer used to
+   determine the appropriate response to use when validating.
+   (Section 4.3)
+
+   The algorithm for selecting a cached negotiated response to use has
+   been clarified in several ways.  In particular, it now explicitly
+   allows header-specific canonicalization when processing selecting
+   header fields.  (Section 4.1)
+
+   Requirements regarding denial-of-service attack avoidance when
+   performing invalidation have been clarified.  (Section 4.4)
+
+   Cache invalidation only occurs when a successful response is
+   received.  (Section 4.4)
+
+   Cache directives are explicitly defined to be case-insensitive.
+   Handling of multiple instances of cache directives when only one is
+   expected is now defined.  (Section 5.2)
+
+   The "no-store" request directive doesn't apply to responses; i.e., a
+   cache can satisfy a request with no-store on it and does not
+   invalidate it.  (Section 5.2.1.5)
+
+   The qualified forms of the private and no-cache cache directives are
+   noted to not be widely implemented; for example, "private=foo" is
+   interpreted by many caches as simply "private".  Additionally, the
+   meaning of the qualified form of no-cache has been clarified.
+   (Section 5.2.2)
+
+   The "no-cache" response directive's meaning has been clarified.
+   (Section 5.2.2.2)
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 38]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+   The one-year limit on Expires header field values has been removed;
+   instead, the reasoning for using a sensible value is given.
+   (Section 5.3)
+
+   The Pragma header field is now only defined for backwards
+   compatibility; future pragmas are deprecated.  (Section 5.4)
+
+   Some requirements regarding production and processing of the Warning
+   header fields have been relaxed, as it is not widely implemented.
+   Furthermore, the Warning header field no longer uses RFC 2047
+   encoding, nor does it allow multiple languages, as these aspects were
+   not implemented.  (Section 5.5)
+
+   This specification introduces the Cache Directive and Warn Code
+   Registries, and defines considerations for new cache directives.
+   (Section 7.1 and Section 7.2)
+
+Appendix B.  Imported ABNF
+
+   The following core rules are included by reference, as defined in
+   Appendix B.1 of [RFC5234]: ALPHA (letters), CR (carriage return),
+   CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double
+   quote), HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET (any
+   8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII
+   character).
+
+   The rules below are defined in [RFC7230]:
+
+     OWS           = <OWS, see [RFC7230], Section 3.2.3>
+     field-name    = <field-name, see [RFC7230], Section 3.2>
+     quoted-string = <quoted-string, see [RFC7230], Section 3.2.6>
+     token         = <token, see [RFC7230], Section 3.2.6>
+
+     port          = <port, see [RFC7230], Section 2.7>
+     pseudonym     = <pseudonym, see [RFC7230], Section 5.7.1>
+     uri-host      = <uri-host, see [RFC7230], Section 2.7>
+
+   The rules below are defined in other parts:
+
+     HTTP-date     = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 39]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+Appendix C.  Collected ABNF
+
+   In the collected ABNF below, list rules are expanded as per Section
+   1.2 of [RFC7230].
+
+   Age = delta-seconds
+
+   Cache-Control = *( "," OWS ) cache-directive *( OWS "," [ OWS
+    cache-directive ] )
+
+   Expires = HTTP-date
+
+   HTTP-date = <HTTP-date, see [RFC7231], Section 7.1.1.1>
+
+   OWS = <OWS, see [RFC7230], Section 3.2.3>
+
+   Pragma = *( "," OWS ) pragma-directive *( OWS "," [ OWS
+    pragma-directive ] )
+
+   Warning = *( "," OWS ) warning-value *( OWS "," [ OWS warning-value ]
+    )
+
+   cache-directive = token [ "=" ( token / quoted-string ) ]
+
+   delta-seconds = 1*DIGIT
+
+   extension-pragma = token [ "=" ( token / quoted-string ) ]
+
+   field-name = <field-name, see [RFC7230], Section 3.2>
+
+   port = <port, see [RFC7230], Section 2.7>
+   pragma-directive = "no-cache" / extension-pragma
+   pseudonym = <pseudonym, see [RFC7230], Section 5.7.1>
+
+   quoted-string = <quoted-string, see [RFC7230], Section 3.2.6>
+
+   token = <token, see [RFC7230], Section 3.2.6>
+
+   uri-host = <uri-host, see [RFC7230], Section 2.7>
+
+   warn-agent = ( uri-host [ ":" port ] ) / pseudonym
+   warn-code = 3DIGIT
+   warn-date = DQUOTE HTTP-date DQUOTE
+   warn-text = quoted-string
+   warning-value = warn-code SP warn-agent SP warn-text [ SP warn-date
+    ]
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 40]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+Index
+
+   1
+      110 (warn-code)  31
+      111 (warn-code)  31
+      112 (warn-code)  31
+      113 (warn-code)  31
+      199 (warn-code)  32
+
+   2
+      214 (warn-code)  32
+      299 (warn-code)  32
+
+   A
+      age  11
+      Age header field  21
+
+   C
+      cache  4
+      cache entry  5
+      cache key  5-6
+      Cache-Control header field  21
+
+   D
+      Disconnected Operation (warn-text)  31
+
+   E
+      Expires header field  28
+      explicit expiration time  11
+
+   F
+      fresh  11
+      freshness lifetime  11
+
+   G
+      Grammar
+         Age  21
+         Cache-Control  22
+         cache-directive  22
+         delta-seconds  5
+         Expires  28
+         extension-pragma  29
+         Pragma  29
+         pragma-directive  29
+         warn-agent  29
+         warn-code  29
+         warn-date  29
+         warn-text  29
+
+
+
+Fielding, et al.             Standards Track                   [Page 41]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+         Warning  29
+         warning-value  29
+
+   H
+      Heuristic Expiration (warn-text)  31
+      heuristic expiration time  11
+   M
+      max-age (cache directive)  22, 26
+      max-stale (cache directive)  22
+      min-fresh (cache directive)  22
+      Miscellaneous Persistent Warning (warn-text)  32
+      Miscellaneous Warning (warn-text)  32
+      must-revalidate (cache directive)  24
+
+   N
+      no-cache (cache directive)  23, 25
+      no-store (cache directive)  23, 24
+      no-transform (cache directive)  23, 25
+
+   O
+      only-if-cached (cache directive)  23
+
+   P
+      Pragma header field  29
+      private (cache directive)  25
+      private cache  4
+      proxy-revalidate (cache directive)  26
+      public (cache directive)  25
+
+   R
+      Response is Stale (warn-text)  30
+      Revalidation Failed (warn-text)  31
+
+   S
+      s-maxage (cache directive)  27
+      shared cache  4
+      stale  11
+      strong validator  18
+
+   T
+      Transformation Applied (warn-text)  32
+
+   V
+      validator  16
+
+   W
+      Warning header field  29
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 42]
+
+RFC 7234                    HTTP/1.1 Caching                   June 2014
+
+
+Authors' Addresses
+
+   Roy T. Fielding (editor)
+   Adobe Systems Incorporated
+   345 Park Ave
+   San Jose, CA  95110
+   USA
+
+   EMail: fielding@gbiv.com
+   URI:   http://roy.gbiv.com/
+
+
+   Mark Nottingham (editor)
+   Akamai
+
+   EMail: mnot@mnot.net
+   URI:   http://www.mnot.net/
+
+
+   Julian F. Reschke (editor)
+   greenbytes GmbH
+   Hafenweg 16
+   Muenster, NW  48155
+   Germany
+
+   EMail: julian.reschke@greenbytes.de
+   URI:   http://greenbytes.de/tech/webdav/
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding, et al.             Standards Track                   [Page 43]
+
@@ -0,0 +1,1067 @@
+
+
+
+
+
+
+Internet Engineering Task Force (IETF)                  R. Fielding, Ed.
+Request for Comments: 7235                                         Adobe
+Obsoletes: 2616                                          J. Reschke, Ed.
+Updates: 2617                                                 greenbytes
+Category: Standards Track                                      June 2014
+ISSN: 2070-1721
+
+
+         Hypertext Transfer Protocol (HTTP/1.1): Authentication
+
+Abstract
+
+   The Hypertext Transfer Protocol (HTTP) is a stateless application-
+   level protocol for distributed, collaborative, hypermedia information
+   systems.  This document defines the HTTP Authentication framework.
+
+Status of This Memo
+
+   This is an Internet Standards Track document.
+
+   This document is a product of the Internet Engineering Task Force
+   (IETF).  It represents the consensus of the IETF community.  It has
+   received public review and has been approved for publication by the
+   Internet Engineering Steering Group (IESG).  Further information on
+   Internet Standards is available in Section 2 of RFC 5741.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   http://www.rfc-editor.org/info/rfc7235.
+
+Copyright Notice
+
+   Copyright (c) 2014 IETF Trust and the persons identified as the
+   document authors.  All rights reserved.
+
+   This document is subject to BCP 78 and the IETF Trust's Legal
+   Provisions Relating to IETF Documents
+   (http://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Simplified BSD License text as described in Section 4.e of
+   the Trust Legal Provisions and are provided without warranty as
+   described in the Simplified BSD License.
+
+   This document may contain material from IETF Documents or IETF
+   Contributions published or made publicly available before November
+   10, 2008.  The person(s) controlling the copyright in some of this
+
+
+
+Fielding & Reschke           Standards Track                    [Page 1]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   material may not have granted the IETF Trust the right to allow
+   modifications of such material outside the IETF Standards Process.
+   Without obtaining an adequate license from the person(s) controlling
+   the copyright in such materials, this document may not be modified
+   outside the IETF Standards Process, and derivative works of it may
+   not be created outside the IETF Standards Process, except to format
+   it for publication as an RFC or to translate it into languages other
+   than English.
+
+Table of Contents
+
+   1. Introduction ....................................................3
+      1.1. Conformance and Error Handling .............................3
+      1.2. Syntax Notation ............................................3
+   2. Access Authentication Framework .................................3
+      2.1. Challenge and Response .....................................3
+      2.2. Protection Space (Realm) ...................................5
+   3. Status Code Definitions .........................................6
+      3.1. 401 Unauthorized ...........................................6
+      3.2. 407 Proxy Authentication Required ..........................6
+   4. Header Field Definitions ........................................7
+      4.1. WWW-Authenticate ...........................................7
+      4.2. Authorization ..............................................8
+      4.3. Proxy-Authenticate .........................................8
+      4.4. Proxy-Authorization ........................................9
+   5. IANA Considerations .............................................9
+      5.1. Authentication Scheme Registry .............................9
+           5.1.1. Procedure ...........................................9
+           5.1.2. Considerations for New Authentication Schemes ......10
+      5.2. Status Code Registration ..................................11
+      5.3. Header Field Registration .................................11
+   6. Security Considerations ........................................12
+      6.1. Confidentiality of Credentials ............................12
+      6.2. Authentication Credentials and Idle Clients ...............12
+      6.3. Protection Spaces .........................................13
+   7. Acknowledgments ................................................14
+   8. References .....................................................14
+      8.1. Normative References ......................................14
+      8.2. Informative References ....................................14
+   Appendix A. Changes from RFCs 2616 and 2617 .......................16
+   Appendix B. Imported ABNF .........................................16
+   Appendix C. Collected ABNF ........................................17
+   Index .............................................................18
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 2]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+1.  Introduction
+
+   HTTP provides a general framework for access control and
+   authentication, via an extensible set of challenge-response
+   authentication schemes, which can be used by a server to challenge a
+   client request and by a client to provide authentication information.
+   This document defines HTTP/1.1 authentication in terms of the
+   architecture defined in "Hypertext Transfer Protocol (HTTP/1.1):
+   Message Syntax and Routing" [RFC7230], including the general
+   framework previously described in "HTTP Authentication: Basic and
+   Digest Access Authentication" [RFC2617] and the related fields and
+   status codes previously defined in "Hypertext Transfer Protocol --
+   HTTP/1.1" [RFC2616].
+
+   The IANA Authentication Scheme Registry (Section 5.1) lists
+   registered authentication schemes and their corresponding
+   specifications, including the "basic" and "digest" authentication
+   schemes previously defined by RFC 2617.
+
+1.1.  Conformance and Error Handling
+
+   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
+   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
+   document are to be interpreted as described in [RFC2119].
+
+   Conformance criteria and considerations regarding error handling are
+   defined in Section 2.5 of [RFC7230].
+
+1.2.  Syntax Notation
+
+   This specification uses the Augmented Backus-Naur Form (ABNF)
+   notation of [RFC5234] with a list extension, defined in Section 7 of
+   [RFC7230], that allows for compact definition of comma-separated
+   lists using a '#' operator (similar to how the '*' operator indicates
+   repetition).  Appendix B describes rules imported from other
+   documents.  Appendix C shows the collected grammar with all list
+   operators expanded to standard ABNF notation.
+
+2.  Access Authentication Framework
+
+2.1.  Challenge and Response
+
+   HTTP provides a simple challenge-response authentication framework
+   that can be used by a server to challenge a client request and by a
+   client to provide authentication information.  It uses a case-
+   insensitive token as a means to identify the authentication scheme,
+   followed by additional information necessary for achieving
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 3]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   authentication via that scheme.  The latter can be either a comma-
+   separated list of parameters or a single sequence of characters
+   capable of holding base64-encoded information.
+
+   Authentication parameters are name=value pairs, where the name token
+   is matched case-insensitively, and each parameter name MUST only
+   occur once per challenge.
+
+     auth-scheme    = token
+
+     auth-param     = token BWS "=" BWS ( token / quoted-string )
+
+     token68        = 1*( ALPHA / DIGIT /
+                          "-" / "." / "_" / "~" / "+" / "/" ) *"="
+
+   The token68 syntax allows the 66 unreserved URI characters
+   ([RFC3986]), plus a few others, so that it can hold a base64,
+   base64url (URL and filename safe alphabet), base32, or base16 (hex)
+   encoding, with or without padding, but excluding whitespace
+   ([RFC4648]).
+
+   A 401 (Unauthorized) response message is used by an origin server to
+   challenge the authorization of a user agent, including a
+   WWW-Authenticate header field containing at least one challenge
+   applicable to the requested resource.
+
+   A 407 (Proxy Authentication Required) response message is used by a
+   proxy to challenge the authorization of a client, including a
+   Proxy-Authenticate header field containing at least one challenge
+   applicable to the proxy for the requested resource.
+
+     challenge   = auth-scheme [ 1*SP ( token68 / #auth-param ) ]
+
+      Note: Many clients fail to parse a challenge that contains an
+      unknown scheme.  A workaround for this problem is to list well-
+      supported schemes (such as "basic") first.
+
+   A user agent that wishes to authenticate itself with an origin server
+   -- usually, but not necessarily, after receiving a 401 (Unauthorized)
+   -- can do so by including an Authorization header field with the
+   request.
+
+   A client that wishes to authenticate itself with a proxy -- usually,
+   but not necessarily, after receiving a 407 (Proxy Authentication
+   Required) -- can do so by including a Proxy-Authorization header
+   field with the request.
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 4]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   Both the Authorization field value and the Proxy-Authorization field
+   value contain the client's credentials for the realm of the resource
+   being requested, based upon a challenge received in a response
+   (possibly at some point in the past).  When creating their values,
+   the user agent ought to do so by selecting the challenge with what it
+   considers to be the most secure auth-scheme that it understands,
+   obtaining credentials from the user as appropriate.  Transmission of
+   credentials within header field values implies significant security
+   considerations regarding the confidentiality of the underlying
+   connection, as described in Section 6.1.
+
+     credentials = auth-scheme [ 1*SP ( token68 / #auth-param ) ]
+
+   Upon receipt of a request for a protected resource that omits
+   credentials, contains invalid credentials (e.g., a bad password) or
+   partial credentials (e.g., when the authentication scheme requires
+   more than one round trip), an origin server SHOULD send a 401
+   (Unauthorized) response that contains a WWW-Authenticate header field
+   with at least one (possibly new) challenge applicable to the
+   requested resource.
+
+   Likewise, upon receipt of a request that omits proxy credentials or
+   contains invalid or partial proxy credentials, a proxy that requires
+   authentication SHOULD generate a 407 (Proxy Authentication Required)
+   response that contains a Proxy-Authenticate header field with at
+   least one (possibly new) challenge applicable to the proxy.
+
+   A server that receives valid credentials that are not adequate to
+   gain access ought to respond with the 403 (Forbidden) status code
+   (Section 6.5.3 of [RFC7231]).
+
+   HTTP does not restrict applications to this simple challenge-response
+   framework for access authentication.  Additional mechanisms can be
+   used, such as authentication at the transport level or via message
+   encapsulation, and with additional header fields specifying
+   authentication information.  However, such additional mechanisms are
+   not defined by this specification.
+
+2.2.  Protection Space (Realm)
+
+   The "realm" authentication parameter is reserved for use by
+   authentication schemes that wish to indicate a scope of protection.
+
+   A protection space is defined by the canonical root URI (the scheme
+   and authority components of the effective request URI; see Section
+   5.5 of [RFC7230]) of the server being accessed, in combination with
+   the realm value if present.  These realms allow the protected
+   resources on a server to be partitioned into a set of protection
+
+
+
+Fielding & Reschke           Standards Track                    [Page 5]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   spaces, each with its own authentication scheme and/or authorization
+   database.  The realm value is a string, generally assigned by the
+   origin server, that can have additional semantics specific to the
+   authentication scheme.  Note that a response can have multiple
+   challenges with the same auth-scheme but with different realms.
+
+   The protection space determines the domain over which credentials can
+   be automatically applied.  If a prior request has been authorized,
+   the user agent MAY reuse the same credentials for all other requests
+   within that protection space for a period of time determined by the
+   authentication scheme, parameters, and/or user preferences (such as a
+   configurable inactivity timeout).  Unless specifically allowed by the
+   authentication scheme, a single protection space cannot extend
+   outside the scope of its server.
+
+   For historical reasons, a sender MUST only generate the quoted-string
+   syntax.  Recipients might have to support both token and
+   quoted-string syntax for maximum interoperability with existing
+   clients that have been accepting both notations for a long time.
+
+3.  Status Code Definitions
+
+3.1.  401 Unauthorized
+
+   The 401 (Unauthorized) status code indicates that the request has not
+   been applied because it lacks valid authentication credentials for
+   the target resource.  The server generating a 401 response MUST send
+   a WWW-Authenticate header field (Section 4.1) containing at least one
+   challenge applicable to the target resource.
+
+   If the request included authentication credentials, then the 401
+   response indicates that authorization has been refused for those
+   credentials.  The user agent MAY repeat the request with a new or
+   replaced Authorization header field (Section 4.2).  If the 401
+   response contains the same challenge as the prior response, and the
+   user agent has already attempted authentication at least once, then
+   the user agent SHOULD present the enclosed representation to the
+   user, since it usually contains relevant diagnostic information.
+
+3.2.  407 Proxy Authentication Required
+
+   The 407 (Proxy Authentication Required) status code is similar to 401
+   (Unauthorized), but it indicates that the client needs to
+   authenticate itself in order to use a proxy.  The proxy MUST send a
+   Proxy-Authenticate header field (Section 4.3) containing a challenge
+   applicable to that proxy for the target resource.  The client MAY
+   repeat the request with a new or replaced Proxy-Authorization header
+   field (Section 4.4).
+
+
+
+Fielding & Reschke           Standards Track                    [Page 6]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+4.  Header Field Definitions
+
+   This section defines the syntax and semantics of header fields
+   related to the HTTP authentication framework.
+
+4.1.  WWW-Authenticate
+
+   The "WWW-Authenticate" header field indicates the authentication
+   scheme(s) and parameters applicable to the target resource.
+
+     WWW-Authenticate = 1#challenge
+
+   A server generating a 401 (Unauthorized) response MUST send a
+   WWW-Authenticate header field containing at least one challenge.  A
+   server MAY generate a WWW-Authenticate header field in other response
+   messages to indicate that supplying credentials (or different
+   credentials) might affect the response.
+
+   A proxy forwarding a response MUST NOT modify any WWW-Authenticate
+   fields in that response.
+
+   User agents are advised to take special care in parsing the field
+   value, as it might contain more than one challenge, and each
+   challenge can contain a comma-separated list of authentication
+   parameters.  Furthermore, the header field itself can occur multiple
+   times.
+
+   For instance:
+
+     WWW-Authenticate: Newauth realm="apps", type=1,
+                       title="Login to \"apps\"", Basic realm="simple"
+
+   This header field contains two challenges; one for the "Newauth"
+   scheme with a realm value of "apps", and two additional parameters
+   "type" and "title", and another one for the "Basic" scheme with a
+   realm value of "simple".
+
+      Note: The challenge grammar production uses the list syntax as
+      well.  Therefore, a sequence of comma, whitespace, and comma can
+      be considered either as applying to the preceding challenge, or to
+      be an empty entry in the list of challenges.  In practice, this
+      ambiguity does not affect the semantics of the header field value
+      and thus is harmless.
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 7]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+4.2.  Authorization
+
+   The "Authorization" header field allows a user agent to authenticate
+   itself with an origin server -- usually, but not necessarily, after
+   receiving a 401 (Unauthorized) response.  Its value consists of
+   credentials containing the authentication information of the user
+   agent for the realm of the resource being requested.
+
+     Authorization = credentials
+
+   If a request is authenticated and a realm specified, the same
+   credentials are presumed to be valid for all other requests within
+   this realm (assuming that the authentication scheme itself does not
+   require otherwise, such as credentials that vary according to a
+   challenge value or using synchronized clocks).
+
+   A proxy forwarding a request MUST NOT modify any Authorization fields
+   in that request.  See Section 3.2 of [RFC7234] for details of and
+   requirements pertaining to handling of the Authorization field by
+   HTTP caches.
+
+4.3.  Proxy-Authenticate
+
+   The "Proxy-Authenticate" header field consists of at least one
+   challenge that indicates the authentication scheme(s) and parameters
+   applicable to the proxy for this effective request URI (Section 5.5
+   of [RFC7230]).  A proxy MUST send at least one Proxy-Authenticate
+   header field in each 407 (Proxy Authentication Required) response
+   that it generates.
+
+     Proxy-Authenticate = 1#challenge
+
+   Unlike WWW-Authenticate, the Proxy-Authenticate header field applies
+   only to the next outbound client on the response chain.  This is
+   because only the client that chose a given proxy is likely to have
+   the credentials necessary for authentication.  However, when multiple
+   proxies are used within the same administrative domain, such as
+   office and regional caching proxies within a large corporate network,
+   it is common for credentials to be generated by the user agent and
+   passed through the hierarchy until consumed.  Hence, in such a
+   configuration, it will appear as if Proxy-Authenticate is being
+   forwarded because each proxy will send the same challenge set.
+
+   Note that the parsing considerations for WWW-Authenticate apply to
+   this header field as well; see Section 4.1 for details.
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 8]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+4.4.  Proxy-Authorization
+
+   The "Proxy-Authorization" header field allows the client to identify
+   itself (or its user) to a proxy that requires authentication.  Its
+   value consists of credentials containing the authentication
+   information of the client for the proxy and/or realm of the resource
+   being requested.
+
+     Proxy-Authorization = credentials
+
+   Unlike Authorization, the Proxy-Authorization header field applies
+   only to the next inbound proxy that demanded authentication using the
+   Proxy-Authenticate field.  When multiple proxies are used in a chain,
+   the Proxy-Authorization header field is consumed by the first inbound
+   proxy that was expecting to receive credentials.  A proxy MAY relay
+   the credentials from the client request to the next proxy if that is
+   the mechanism by which the proxies cooperatively authenticate a given
+   request.
+
+5.  IANA Considerations
+
+5.1.  Authentication Scheme Registry
+
+   The "Hypertext Transfer Protocol (HTTP) Authentication Scheme
+   Registry" defines the namespace for the authentication schemes in
+   challenges and credentials.  It has been created and is now
+   maintained at <http://www.iana.org/assignments/http-authschemes>.
+
+5.1.1.  Procedure
+
+   Registrations MUST include the following fields:
+
+   o  Authentication Scheme Name
+
+   o  Pointer to specification text
+
+   o  Notes (optional)
+
+   Values to be added to this namespace require IETF Review (see
+   [RFC5226], Section 4.1).
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                    [Page 9]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+5.1.2.  Considerations for New Authentication Schemes
+
+   There are certain aspects of the HTTP Authentication Framework that
+   put constraints on how new authentication schemes can work:
+
+   o  HTTP authentication is presumed to be stateless: all of the
+      information necessary to authenticate a request MUST be provided
+      in the request, rather than be dependent on the server remembering
+      prior requests.  Authentication based on, or bound to, the
+      underlying connection is outside the scope of this specification
+      and inherently flawed unless steps are taken to ensure that the
+      connection cannot be used by any party other than the
+      authenticated user (see Section 2.3 of [RFC7230]).
+
+   o  The authentication parameter "realm" is reserved for defining
+      protection spaces as described in Section 2.2.  New schemes MUST
+      NOT use it in a way incompatible with that definition.
+
+   o  The "token68" notation was introduced for compatibility with
+      existing authentication schemes and can only be used once per
+      challenge or credential.  Thus, new schemes ought to use the
+      auth-param syntax instead, because otherwise future extensions
+      will be impossible.
+
+   o  The parsing of challenges and credentials is defined by this
+      specification and cannot be modified by new authentication
+      schemes.  When the auth-param syntax is used, all parameters ought
+      to support both token and quoted-string syntax, and syntactical
+      constraints ought to be defined on the field value after parsing
+      (i.e., quoted-string processing).  This is necessary so that
+      recipients can use a generic parser that applies to all
+      authentication schemes.
+
+      Note: The fact that the value syntax for the "realm" parameter is
+      restricted to quoted-string was a bad design choice not to be
+      repeated for new parameters.
+
+   o  Definitions of new schemes ought to define the treatment of
+      unknown extension parameters.  In general, a "must-ignore" rule is
+      preferable to a "must-understand" rule, because otherwise it will
+      be hard to introduce new parameters in the presence of legacy
+      recipients.  Furthermore, it's good to describe the policy for
+      defining new parameters (such as "update the specification" or
+      "use this registry").
+
+   o  Authentication schemes need to document whether they are usable in
+      origin-server authentication (i.e., using WWW-Authenticate),
+      and/or proxy authentication (i.e., using Proxy-Authenticate).
+
+
+
+Fielding & Reschke           Standards Track                   [Page 10]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   o  The credentials carried in an Authorization header field are
+      specific to the user agent and, therefore, have the same effect on
+      HTTP caches as the "private" Cache-Control response directive
+      (Section 5.2.2.6 of [RFC7234]), within the scope of the request in
+      which they appear.
+
+      Therefore, new authentication schemes that choose not to carry
+      credentials in the Authorization header field (e.g., using a newly
+      defined header field) will need to explicitly disallow caching, by
+      mandating the use of either Cache-Control request directives
+      (e.g., "no-store", Section 5.2.1.5 of [RFC7234]) or response
+      directives (e.g., "private").
+
+5.2.  Status Code Registration
+
+   The "Hypertext Transfer Protocol (HTTP) Status Code Registry" located
+   at <http://www.iana.org/assignments/http-status-codes> has been
+   updated with the registrations below:
+
+   +-------+-------------------------------+-------------+
+   | Value | Description                   | Reference   |
+   +-------+-------------------------------+-------------+
+   | 401   | Unauthorized                  | Section 3.1 |
+   | 407   | Proxy Authentication Required | Section 3.2 |
+   +-------+-------------------------------+-------------+
+
+5.3.  Header Field Registration
+
+   HTTP header fields are registered within the "Message Headers"
+   registry maintained at
+   <http://www.iana.org/assignments/message-headers/>.
+
+   This document defines the following HTTP header fields, so the
+   "Permanent Message Header Field Names" registry has been updated
+   accordingly (see [BCP90]).
+
+   +---------------------+----------+----------+-------------+
+   | Header Field Name   | Protocol | Status   | Reference   |
+   +---------------------+----------+----------+-------------+
+   | Authorization       | http     | standard | Section 4.2 |
+   | Proxy-Authenticate  | http     | standard | Section 4.3 |
+   | Proxy-Authorization | http     | standard | Section 4.4 |
+   | WWW-Authenticate    | http     | standard | Section 4.1 |
+   +---------------------+----------+----------+-------------+
+
+   The change controller is: "IETF (iesg@ietf.org) - Internet
+   Engineering Task Force".
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 11]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+6.  Security Considerations
+
+   This section is meant to inform developers, information providers,
+   and users of known security concerns specific to HTTP authentication.
+   More general security considerations are addressed in HTTP messaging
+   [RFC7230] and semantics [RFC7231].
+
+   Everything about the topic of HTTP authentication is a security
+   consideration, so the list of considerations below is not exhaustive.
+   Furthermore, it is limited to security considerations regarding the
+   authentication framework, in general, rather than discussing all of
+   the potential considerations for specific authentication schemes
+   (which ought to be documented in the specifications that define those
+   schemes).  Various organizations maintain topical information and
+   links to current research on Web application security (e.g.,
+   [OWASP]), including common pitfalls for implementing and using the
+   authentication schemes found in practice.
+
+6.1.  Confidentiality of Credentials
+
+   The HTTP authentication framework does not define a single mechanism
+   for maintaining the confidentiality of credentials; instead, each
+   authentication scheme defines how the credentials are encoded prior
+   to transmission.  While this provides flexibility for the development
+   of future authentication schemes, it is inadequate for the protection
+   of existing schemes that provide no confidentiality on their own, or
+   that do not sufficiently protect against replay attacks.
+   Furthermore, if the server expects credentials that are specific to
+   each individual user, the exchange of those credentials will have the
+   effect of identifying that user even if the content within
+   credentials remains confidential.
+
+   HTTP depends on the security properties of the underlying transport-
+   or session-level connection to provide confidential transmission of
+   header fields.  In other words, if a server limits access to
+   authenticated users using this framework, the server needs to ensure
+   that the connection is properly secured in accordance with the nature
+   of the authentication scheme used.  For example, services that depend
+   on individual user authentication often require a connection to be
+   secured with TLS ("Transport Layer Security", [RFC5246]) prior to
+   exchanging any credentials.
+
+6.2.  Authentication Credentials and Idle Clients
+
+   Existing HTTP clients and user agents typically retain authentication
+   information indefinitely.  HTTP does not provide a mechanism for the
+   origin server to direct clients to discard these cached credentials,
+   since the protocol has no awareness of how credentials are obtained
+
+
+
+Fielding & Reschke           Standards Track                   [Page 12]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   or managed by the user agent.  The mechanisms for expiring or
+   revoking credentials can be specified as part of an authentication
+   scheme definition.
+
+   Circumstances under which credential caching can interfere with the
+   application's security model include but are not limited to:
+
+   o  Clients that have been idle for an extended period, following
+      which the server might wish to cause the client to re-prompt the
+      user for credentials.
+
+   o  Applications that include a session termination indication (such
+      as a "logout" or "commit" button on a page) after which the server
+      side of the application "knows" that there is no further reason
+      for the client to retain the credentials.
+
+   User agents that cache credentials are encouraged to provide a
+   readily accessible mechanism for discarding cached credentials under
+   user control.
+
+6.3.  Protection Spaces
+
+   Authentication schemes that solely rely on the "realm" mechanism for
+   establishing a protection space will expose credentials to all
+   resources on an origin server.  Clients that have successfully made
+   authenticated requests with a resource can use the same
+   authentication credentials for other resources on the same origin
+   server.  This makes it possible for a different resource to harvest
+   authentication credentials for other resources.
+
+   This is of particular concern when an origin server hosts resources
+   for multiple parties under the same canonical root URI (Section 2.2).
+   Possible mitigation strategies include restricting direct access to
+   authentication credentials (i.e., not making the content of the
+   Authorization request header field available), and separating
+   protection spaces by using a different host name (or port number) for
+   each party.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 13]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+7.  Acknowledgments
+
+   This specification takes over the definition of the HTTP
+   Authentication Framework, previously defined in RFC 2617.  We thank
+   John Franks, Phillip M. Hallam-Baker, Jeffery L. Hostetler, Scott D.
+   Lawrence, Paul J. Leach, Ari Luotonen, and Lawrence C. Stewart for
+   their work on that specification.  See Section 6 of [RFC2617] for
+   further acknowledgements.
+
+   See Section 10 of [RFC7230] for the Acknowledgments related to this
+   document revision.
+
+8.  References
+
+8.1.  Normative References
+
+   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
+              Requirement Levels", BCP 14, RFC 2119, March 1997.
+
+   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
+              Specifications: ABNF", STD 68, RFC 5234, January 2008.
+
+   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Message Syntax and Routing",
+              RFC 7230, June 2014.
+
+   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
+              June 2014.
+
+   [RFC7234]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
+              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
+              RFC 7234, June 2014.
+
+8.2.  Informative References
+
+   [BCP90]    Klyne, G., Nottingham, M., and J. Mogul, "Registration
+              Procedures for Message Header Fields", BCP 90, RFC 3864,
+              September 2004.
+
+   [OWASP]    van der Stock, A., Ed., "A Guide to Building Secure Web
+              Applications and Web Services", The Open Web Application
+              Security Project (OWASP) 2.0.1, July 2005,
+              <https://www.owasp.org/>.
+
+   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
+              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
+              Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.
+
+
+
+Fielding & Reschke           Standards Track                   [Page 14]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+   [RFC2617]  Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S.,
+              Leach, P., Luotonen, A., and L. Stewart, "HTTP
+              Authentication: Basic and Digest Access Authentication",
+              RFC 2617, June 1999.
+
+   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
+              Resource Identifier (URI): Generic Syntax", STD 66,
+              RFC 3986, January 2005.
+
+   [RFC4648]  Josefsson, S., "The Base16, Base32, and Base64 Data
+              Encodings", RFC 4648, October 2006.
+
+   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
+              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
+              May 2008.
+
+   [RFC5246]  Dierks, T. and E. Rescorla, "The Transport Layer Security
+              (TLS) Protocol Version 1.2", RFC 5246, August 2008.
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 15]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+Appendix A.  Changes from RFCs 2616 and 2617
+
+   The framework for HTTP Authentication is now defined by this
+   document, rather than RFC 2617.
+
+   The "realm" parameter is no longer always required on challenges;
+   consequently, the ABNF allows challenges without any auth parameters.
+   (Section 2)
+
+   The "token68" alternative to auth-param lists has been added for
+   consistency with legacy authentication schemes such as "Basic".
+   (Section 2)
+
+   This specification introduces the Authentication Scheme Registry,
+   along with considerations for new authentication schemes.
+   (Section 5.1)
+
+Appendix B.  Imported ABNF
+
+   The following core rules are included by reference, as defined in
+   Appendix B.1 of [RFC5234]: ALPHA (letters), CR (carriage return),
+   CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double
+   quote), HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET (any
+   8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII
+   character).
+
+   The rules below are defined in [RFC7230]:
+
+     BWS           = <BWS, see [RFC7230], Section 3.2.3>
+     OWS           = <OWS, see [RFC7230], Section 3.2.3>
+     quoted-string = <quoted-string, see [RFC7230], Section 3.2.6>
+     token         = <token, see [RFC7230], Section 3.2.6>
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 16]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+Appendix C.  Collected ABNF
+
+   In the collected ABNF below, list rules are expanded as per Section
+   1.2 of [RFC7230].
+
+   Authorization = credentials
+
+   BWS = <BWS, see [RFC7230], Section 3.2.3>
+
+   OWS = <OWS, see [RFC7230], Section 3.2.3>
+
+   Proxy-Authenticate = *( "," OWS ) challenge *( OWS "," [ OWS
+    challenge ] )
+   Proxy-Authorization = credentials
+
+   WWW-Authenticate = *( "," OWS ) challenge *( OWS "," [ OWS challenge
+    ] )
+
+   auth-param = token BWS "=" BWS ( token / quoted-string )
+   auth-scheme = token
+
+   challenge = auth-scheme [ 1*SP ( token68 / [ ( "," / auth-param ) *(
+    OWS "," [ OWS auth-param ] ) ] ) ]
+   credentials = auth-scheme [ 1*SP ( token68 / [ ( "," / auth-param )
+    *( OWS "," [ OWS auth-param ] ) ] ) ]
+
+   quoted-string = <quoted-string, see [RFC7230], Section 3.2.6>
+
+   token = <token, see [RFC7230], Section 3.2.6>
+   token68 = 1*( ALPHA / DIGIT / "-" / "." / "_" / "~" / "+" / "/" )
+    *"="
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 17]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+Index
+
+   4
+      401 Unauthorized (status code)  6
+      407 Proxy Authentication Required (status code)  6
+
+   A
+      Authorization header field  8
+
+   C
+      Canonical Root URI  5
+
+   G
+      Grammar
+         auth-param  4
+         auth-scheme  4
+         Authorization  8
+         challenge  4
+         credentials  5
+         Proxy-Authenticate  8
+         Proxy-Authorization  9
+         token68  4
+         WWW-Authenticate  7
+
+   P
+      Protection Space  5
+      Proxy-Authenticate header field  8
+      Proxy-Authorization header field  9
+
+   R
+      Realm  5
+
+   W
+      WWW-Authenticate header field  7
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 18]
+
+RFC 7235                 HTTP/1.1 Authentication               June 2014
+
+
+Authors' Addresses
+
+   Roy T. Fielding (editor)
+   Adobe Systems Incorporated
+   345 Park Ave
+   San Jose, CA  95110
+   USA
+
+   EMail: fielding@gbiv.com
+   URI:   http://roy.gbiv.com/
+
+
+   Julian F. Reschke (editor)
+   greenbytes GmbH
+   Hafenweg 16
+   Muenster, NW  48155
+   Germany
+
+   EMail: julian.reschke@greenbytes.de
+   URI:   http://greenbytes.de/tech/webdav/
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Fielding & Reschke           Standards Track                   [Page 19]
+
@@ -0,0 +1,339 @@
+
+
+
+
+
+
+Internet Engineering Task Force (IETF)                        J. Reschke
+Request for Comments: 7238                                    greenbytes
+Category: Experimental                                         June 2014
+ISSN: 2070-1721
+
+
+  The Hypertext Transfer Protocol Status Code 308 (Permanent Redirect)
+
+Abstract
+
+   This document specifies the additional Hypertext Transfer Protocol
+   (HTTP) status code 308 (Permanent Redirect).
+
+Status of This Memo
+
+   This document is not an Internet Standards Track specification; it is
+   published for examination, experimental implementation, and
+   evaluation.
+
+   This document defines an Experimental Protocol for the Internet
+   community.  This document is a product of the Internet Engineering
+   Task Force (IETF).  It represents the consensus of the IETF
+   community.  It has received public review and has been approved for
+   publication by the Internet Engineering Steering Group (IESG).  Not
+   all documents approved by the IESG are a candidate for any level of
+   Internet Standard; see Section 2 of RFC 5741.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   http://www.rfc-editor.org/info/rfc7238.
+
+Copyright Notice
+
+   Copyright (c) 2014 IETF Trust and the persons identified as the
+   document authors.  All rights reserved.
+
+   This document is subject to BCP 78 and the IETF Trust's Legal
+   Provisions Relating to IETF Documents
+   (http://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Simplified BSD License text as described in Section 4.e of
+   the Trust Legal Provisions and are provided without warranty as
+   described in the Simplified BSD License.
+
+
+
+
+
+
+Reschke                       Experimental                      [Page 1]
+
+RFC 7238                  HTTP Status Code 308                 June 2014
+
+
+Table of Contents
+
+   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 2
+   2.  Notational Conventions  . . . . . . . . . . . . . . . . . . . . 2
+   3.  308 Permanent Redirect  . . . . . . . . . . . . . . . . . . . . 2
+   4.  Deployment Considerations . . . . . . . . . . . . . . . . . . . 3
+   5.  Security Considerations . . . . . . . . . . . . . . . . . . . . 4
+   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 4
+   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 5
+   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 5
+     8.1.  Normative References  . . . . . . . . . . . . . . . . . . . 5
+     8.2.  Informative References  . . . . . . . . . . . . . . . . . . 5
+
+1.  Introduction
+
+   HTTP defines a set of status codes for the purpose of redirecting a
+   request to a different URI ([RFC3986]).  The history of these status
+   codes is summarized in Section 6.4 of [RFC7231], which also
+   classifies the existing status codes into four categories.
+
+   The first of these categories contains the status codes 301 (Moved
+   Permanently), 302 (Found), and 307 (Temporary Redirect), which can be
+   classified as below:
+
+   +-------------------------------------------+-----------+-----------+
+   |                                           | Permanent | Temporary |
+   +-------------------------------------------+-----------+-----------+
+   | Allows changing the request method from   | 301       | 302       |
+   | POST to GET                               |           |           |
+   | Does not allow changing the request       | -         | 307       |
+   | method from POST to GET                   |           |           |
+   +-------------------------------------------+-----------+-----------+
+
+   Section 6.4.7 of [RFC7231] states that HTTP does not define a
+   permanent variant of status code 307; this specification adds the
+   status code 308, defining this missing variant (Section 3).
+
+2.  Notational Conventions
+
+   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
+   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
+   document are to be interpreted as described in [RFC2119].
+
+3.  308 Permanent Redirect
+
+   The 308 (Permanent Redirect) status code indicates that the target
+   resource has been assigned a new permanent URI and any future
+   references to this resource ought to use one of the enclosed URIs.
+
+
+
+Reschke                       Experimental                      [Page 2]
+
+RFC 7238                  HTTP Status Code 308                 June 2014
+
+
+   Clients with link editing capabilities ought to automatically re-link
+   references to the effective request URI (Section 5.5 of [RFC7230]) to
+   one or more of the new references sent by the server, where possible.
+
+   The server SHOULD generate a Location header field ([RFC7231],
+   Section 7.1.2) in the response containing a preferred URI reference
+   for the new permanent URI.  The user agent MAY use the Location field
+   value for automatic redirection.  The server's response payload
+   usually contains a short hypertext note with a hyperlink to the new
+   URI(s).
+
+   A 308 response is cacheable by default; i.e., unless otherwise
+   indicated by the method definition or explicit cache controls (see
+   [RFC7234], Section 4.2.2).
+
+      Note: This status code is similar to 301 (Moved Permanently)
+      ([RFC7231], Section 6.4.2), except that it does not allow changing
+      the request method from POST to GET.
+
+4.  Deployment Considerations
+
+   Section 6 of [RFC7231] requires recipients to treat unknown 3xx
+   status codes the same way as status code 300 Multiple Choices
+   ([RFC7231], Section 6.4.1).  Thus, servers will not be able to rely
+   on automatic redirection happening similar to status codes 301, 302,
+   or 307.
+
+   Therefore, initial use of status code 308 will be restricted to cases
+   where the server has sufficient confidence in the client's
+   understanding the new code or when a fallback to the semantics of
+   status code 300 is not problematic.  Server implementers are advised
+   not to vary the status code based on characteristics of the request,
+   such as the User-Agent header field ("User-Agent Sniffing") -- doing
+   so usually results in code that is both hard to maintain and hard to
+   debug and would also require special attention to caching (i.e.,
+   setting a "Vary" response header field, as defined in Section 7.1.4
+   of [RFC7231]).
+
+   Note that many existing HTML-based user agents will emulate a refresh
+   when encountering an HTML <meta> refresh directive ([HTML]).  This
+   can be used as another fallback.  For example:
+
+   Client request:
+
+     GET / HTTP/1.1
+     Host: example.com
+
+
+
+
+
+Reschke                       Experimental                      [Page 3]
+
+RFC 7238                  HTTP Status Code 308                 June 2014
+
+
+   Server response:
+
+     HTTP/1.1 308 Permanent Redirect
+     Content-Type: text/html; charset=UTF-8
+     Location: http://example.com/new
+     Content-Length: 454
+
+     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
+                           "http://www.w3.org/TR/html4/strict.dtd">
+     <html>
+        <head>
+           <title>Permanent Redirect</title>
+           <meta http-equiv="refresh"
+                 content="0; url=http://example.com/new">
+        </head>
+        <body>
+           <p>
+              The document has been moved to
+              <a href="http://example.com/new"
+              >http://example.com/new</a>.
+           </p>
+        </body>
+     </html>
+
+5.  Security Considerations
+
+   All security considerations that apply to HTTP redirects apply to the
+   308 status code as well (see Section 9 of [RFC7231]).
+
+6.  IANA Considerations
+
+   The registration below has been added to the "Hypertext Transfer
+   Protocol (HTTP) Status Code Registry" (defined in Section 8.2 of
+   [RFC7231] and located at
+   <http://www.iana.org/assignments/http-status-codes>):
+
+   +-------+--------------------+---------------------------------+
+   | Value | Description        | Reference                       |
+   +-------+--------------------+---------------------------------+
+   | 308   | Permanent Redirect | Section 3 of this specification |
+   +-------+--------------------+---------------------------------+
+
+
+
+
+
+
+
+
+
+
+Reschke                       Experimental                      [Page 4]
+
+RFC 7238                  HTTP Status Code 308                 June 2014
+
+
+7.  Acknowledgements
+
+   The definition for the new status code 308 reuses text from the
+   HTTP/1.1 definitions of status codes 301 and 307.
+
+   Furthermore, thanks to Ben Campbell, Cyrus Daboo, Eran Hammer-Lahav,
+   Bjoern Hoehrmann, Subramanian Moonesamy, Peter Saint-Andre, and
+   Robert Sparks for feedback on this document.
+
+8.  References
+
+8.1.  Normative References
+
+   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
+              Requirement Levels", BCP 14, RFC 2119, March 1997.
+
+   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
+              Resource Identifier (URI): Generic Syntax", STD 66,
+              RFC 3986, January 2005.
+
+   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Message Syntax and Routing",
+              RFC 7230, June 2014.
+
+   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
+              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
+              June 2014.
+
+   [RFC7234]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
+              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
+              RFC 7234, June 2014.
+
+8.2.  Informative References
+
+   [HTML]     Raggett, D., Le Hors, A., and I. Jacobs, "HTML 4.01
+              Specification", W3C Recommendation REC-html401-19991224,
+              December 1999,
+              <http://www.w3.org/TR/1999/REC-html401-19991224>.
+
+              Latest version available at
+              <http://www.w3.org/TR/html401>.
+
+
+
+
+
+
+
+
+
+
+Reschke                       Experimental                      [Page 5]
+
+RFC 7238                  HTTP Status Code 308                 June 2014
+
+
+Author's Address
+
+   Julian F. Reschke
+   greenbytes GmbH
+   Hafenweg 16
+   Muenster, NW  48155
+   Germany
+
+   EMail: julian.reschke@greenbytes.de
+   URI:   http://greenbytes.de/tech/webdav/
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Reschke                       Experimental                      [Page 6]
+