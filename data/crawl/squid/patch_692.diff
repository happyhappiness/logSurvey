@@ -524,3 +524,49 @@ helpers/external_acl/kerberos_ldap_group/support_ldap.cc
  * <http://www.OpenLDAP.org/license.html>.
  */
 
+==============================================================================
+
+helpers/log_daemon/DB/doc/:
+helpers/log_daemon/DB/log_db_daemon.pl.in:
+
+  Copyright (C) 2008 by Marcello Romani
+
+  This library is free software; you can redistribute it and/or modify
+  it under the same terms as Perl itself, either Perl version 5.8.8 or,
+  at your option, any later version of Perl 5 you may have available.
+
+==============================================================================
+
+icons/silk/:
+
+  Silk icon set 1.3
+  _________________________________________
+  Mark James
+  http://www.famfamfam.com/lab/icons/silk/
+  _________________________________________
+
+  This work is licensed under a
+  Creative Commons Attribution 2.5 License.
+  [ http://creativecommons.org/licenses/by/2.5/ ]
+
+  This means you may use it for any purpose,
+  and make any changes you like.
+  All I ask is that you include a link back
+  to this page in your credits.
+
+  Are you using this icon set? Send me an email
+  (including a link or picture if available) to
+  mjames@gmail.com
+
+  Any other questions about this icon set please
+  contact mjames@gmail.com
+
+
+  The icons can also be used under Creative Commons Attribution 3.0 License
+  (Hi Debian folks!) with the following requirements:
+
+    As an author, I would appreciate a reference to my authorship of
+    the Silk icon set contents within a readme file or equivalent
+    documentation for the software which includes the set or a subset
+    of the icons contained within. 
+
@@ -1,3 +1,40 @@
+Changes to squid-3.2.0.5 (12 Feb 2011):
+
+	- Regression Fix: profiler should not be built by default
+	- Regression Bug 3081: assertion failed: AsyncCallQueue
+	- Regression Bug 2948: Requests for FTP active downloads cause failed assertion
+	- Bug 3089: FTP command output overrides directory listing
+	- Bug 2870: --disable-auth does not work
+	- Bug 2586: multiple memory leaks during reconfigure
+	- Bug 2581: FTP directory listing sometimes fails
+	- Port from 2.7: maximum staleness limits
+	- HTTP/1.1: Support RFC 5861 Cache-Control: stale-if-error option
+	- HTTP/1.1: Support configurable status codes for deny_info
+	- Support upcoming "fresh message creation" eCAP API
+	- Aggregate SNMP responses when using SMP with multiple workers
+	- Several more Solaris, Windows and ICC support fixes
+	- ... all bug fixes and updates from 3.1.11
+	- ... and more code cleanup shufflings
+	- ... and several documentation updates
+
+Changes to squid-3.2.0.4 (22 Dec 2010):
+
+	- Port 2.x: cache_dir min-size setting
+	- Bug 3059: Crash on digest auth headers with unknown nonce
+	- Fix cachemgr reported HTTP/ICP requests/messages per minute when multiple workers used
+	- Fix cachemgr mem-pools reporting
+	- Add Dynamic SSL certificate generation
+	- Add useragent, referer, combined built-in log formats
+	- Obsolete log_fqdn directive
+	- Obsolete useragent/referer/forward_log directives
+	- HTTP/1.1: Send 1.1 on CONNECT responses
+	- Updated Kerberos support for newer GSSAPI releases
+	- Improve handling of adapted body delivery failures in REQMOD request satisfaction mode
+	- Improve handling of early eCAP transaction failures
+	- Various ext_edirectory_acl fixes
+	- ... all bug and feature fixes included in 3.1.10 release
+	- ... and a lot of code and documentation polishing
+
 Changes to squid-3.2.0.3 (07 Nov 2010):
 
 	- Regression fix: SMP broke ICP outgoing IP lookup if no udp_outgoing_addr set
@@ -89,6 +126,51 @@ Changes to squid-3.2.0.1 (03 Aug 2010):
 	- ... and a great many testing improvements
 	- ... and many documentation updates
 
+Changes to squid-3.1.11 (08 Feb 2011):
+
+	- Bug 3149: not caching eCAP adapted body
+	- Bug 3144: redirector program blocks while reading STDIN
+	- Bug 3140: memory leak in error page generation
+	- Bug 3137: RADIUS auth helper does not send identifier to RADIUS server
+	- Bug 3115: logging segfaults if access_log is set to a directory
+	- Bug 2968: Show the Vary: headers information in cachemgr objects report
+	- Bug 2959: remove SAMBAPREFIX dependency
+	- Bug 2868: icc doesn't like string literal in assert checks
+	- HTTP/1.1: Send 307 status on deny_info redirection
+	- HTTP/1.1: Support POST/PUT with no body
+	- HTTP/1.1: Allow persistent connections for Mozilla/3.0 User-Agents
+	- Support RFC 5861 Cache-Control: stale-if-error option
+	- Add ftp_eprt directive to disable EPRT extensions in FTP
+	- Fix external_acl_type grace=0 to obey TTL
+	- Fix IP/FQDN cache accounting to avoid idle caches on busy servers
+	- Prevent pipeline_prefetch misconfigurations breaking NTLM/Negotiate auth
+	- ... and some documentation updates and corrections
+	- ... and some portability and stability fixes
+
+Changes to squid-3.1.10 (22 Dec 2010):
+
+	- Bug 3121: memory leak in DigestAuth: AuthUser object is locked twice
+	- Bug 3113: Consuming too much memory when uploading files
+	- Bug 3110: 'reply_body_max_size none' does not work with x-forwarded-for
+	- Bug 3096: Consuming too much memory when delaying traffic
+	- Bug 3091: Bypassed ICAP errors are not counted as service failures
+	- Bug 3090: Polish FTP login error handing
+	- Bug 3068: cache_dir capacity and usage overflows
+	- Bug 3028: Permit wbinfo_group.pl to authenticate Kerberos users with NT domain
+	- Bug  427: HTTP Compliance: Support If-Match and If-None-Match requests
+	- Fix memory leak in adaptation_access
+	- Fix /dev/poll and poll() selection priority
+	- Fix PREFIX/var/run creation during install
+	- Fix cachemgr http_port config report display
+	- Add upgrade help process for obsolete options
+	- Accept RFC 2965 Set-Cookie2 / Cookie2 headers as 'known'
+	- HTTP/1.1: entry is stale if request has max-age=0
+	- HTTP/1.1: do not forward TRACE with Max-Forwards: 0 after REQMOD
+	- Toolchain update to support newer auto-tools
+	- ... and updated error page translations
+	- ... and updated documentation
+	- ... and some code optimization/simplification polish
+
 Changes to squid-3.1.9 (25 Oct 2010):
 
 	- Bug 3088: dnsserver is segfaulting
@@ -82,3 +82,9 @@ BBC (UK) and Siemens IT Solutions and Services (UK)
 
 	Provided developement and testing resources for Solaris /dev/poll
 	support.
+
+Yahoo! Inc. - http://www.yahoo.com/
+
+	Yahoo! Inc. supported the development of improved refresh
+	logics. Many thanks to Yahoo! Inc. for supporting the development
+	of these features.
@@ -86,6 +86,15 @@ AC_DEFUN([SQUID_CC_GUESS_VARIANT], [
 #endif
     ]])],[squid_cv_compiler="sunstudio"],[])
   fi
+  dnl Intel CC
+  if test -z "$squid_cv_compiler" ; then
+   AC_COMPILE_IFELSE([
+    AC_LANG_PROGRAM([[
+#if !defined(__ICC)
+#error "not Intel(R) C++ Compiler"
+#endif
+    ]])],[squid_cv_compiler="icc"],[])
+  fi
   dnl end of block to be repeated
   if test -z "$squid_cv_compiler" ; then
    squid_cv_compiler="none"
@@ -122,6 +131,13 @@ AC_DEFUN([SQUID_CC_GUESS_OPTIONS], [
    squid_cv_cc_option_optimize="-fast"
    squid_cv_cc_arg_pipe=""
    ;;
+  icc) 
+   squid_cv_cxx_option_werror="-Werror"
+   squid_cv_cc_option_werror="$squid_cv_cxx_option_werror" 
+   squid_cv_cc_option_wall="-Wall"
+   squid_cv_cc_option_optimize="-O2"
+   squid_cv_cc_arg_pipe=""
+   ;;
   *) 
    squid_cv_cxx_option_werror="" 
    squid_cv_cc_option_werror="" 
@@ -30,7 +30,7 @@ find_variant()
   shift
   versions="$*"
   for version in $versions; do
-    for variant in "" "-${version}" "`echo $version | sed -e 's/\.//g'`"; do
+    for variant in "" "${version}" "-${version}" "`echo $version | sed -e 's/\.//g'`"; do
       if check_version $tool ${tool}${variant} $version; then
 	found="${variant}"
 	break
@@ -214,7 +214,7 @@ char *alloca();
 /* Assumes a `char *destination' variable.  */
 #define REGEX_REALLOCATE(source, osize, nsize)				\
   (destination = (char *) alloca (nsize),				\
-   xmemcpy (destination, source, osize),				\
+   memcpy (destination, source, osize),				\
    destination)
 
 #endif /* not REGEX_MALLOC */
@@ -32,6 +32,7 @@ libcompat_squid_a_SOURCES = \
 	osdetect.h \
 	psignal.h \
 	stdvarargs.h \
+	strnstr.cc \
 	strsep.h \
 	strtoll.h \
 	tempnam.h \
@@ -40,6 +41,7 @@ libcompat_squid_a_SOURCES = \
 	valgrind.h \
 	xalloc.cc \
 	xalloc.h \
+	xis.h \
 	xstrerror.cc \
 	xstrerror.h \
 	xstring.cc \
@@ -205,6 +205,45 @@ extern "C" {
 #include "compat/xstrerror.h"
 #include "compat/xstring.h"
 #include "compat/xstrto.h"
+#include "compat/xis.h"
 
+#if !HAVE_MEMCPY
+#if HAVE_BCOPY
+#define memcpy(d,s,n) bcopy((s),(d),(n))
+#elif HAVE_MEMMOVE
+#define memcpy(d,s,n) memmove((d),(s),(n))
+#endif
+#endif
+
+#if !HAVE_MEMMOVE && HAVE_BCOPY
+#define memmove(d,s,n) bcopy((s),(d),(n))
+#endif
+
+/*
+ * strnstr() is needed. The OS may not provide a working copy.
+ */
+#if HAVE_STRNSTR
+/* If strnstr exists and is usable we do so. */
+#define squid_strnstr(a,b,c)    strnstr(a,b,c)
+#else
+/* If not we have our own copy imported from FreeBSD */
+const char * squid_strnstr(const char *s, const char *find, size_t slen);
+#endif
+
+#if __GNUC__
+#if !defined(PRINTF_FORMAT_ARG1)
+#define PRINTF_FORMAT_ARG1 __attribute__ ((format (printf, 1, 2)))
+#endif
+#if !defined(PRINTF_FORMAT_ARG2)
+#define PRINTF_FORMAT_ARG2 __attribute__ ((format (printf, 2, 3)))
+#endif
+#if !defined(PRINTF_FORMAT_ARG3)
+#define PRINTF_FORMAT_ARG3 __attribute__ ((format (printf, 3, 4)))
+#endif
+#else /* !__GNU__ */
+#define PRINTF_FORMAT_ARG1
+#define PRINTF_FORMAT_ARG2
+#define PRINTF_FORMAT_ARG3
+#endif
 
 #endif /* _SQUID_COMPAT_SHARED_H */
@@ -34,7 +34,7 @@
 #ifndef SQUID_OS_MSWIN_H
 #define SQUID_OS_MSWIN_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #define ACL WindowsACL
 #if defined(_MSC_VER) /* Microsoft C Compiler ONLY */
@@ -749,5 +749,14 @@ struct rusage {
 SQUIDCEXTERN size_t getpagesize(void);
 #endif
 
-#endif /* _SQUID_WIN32_ */
+/* gcc doesn't recognize the Windows native 64 bit formatting tags causing
+ * the compile fail, so we must disable the check on native Windows.
+ */
+#if __GNUC__
+#define PRINTF_FORMAT_ARG1
+#define PRINTF_FORMAT_ARG2
+#define PRINTF_FORMAT_ARG3
+#endif
+
+#endif /* _SQUID_WINDOWS_ */
 #endif /* SQUID_OS_MSWIN_H */
@@ -42,7 +42,6 @@ typedef union {
 #include <sys/resource.h>
 SQUIDCEXTERN int getrusage(int, struct rusage *);
 
-
 /**
  * prototypes for system function missing from system includes
  * on some Solaris systems.
@@ -33,7 +33,7 @@
 #ifndef SQUID_OS_WINDOWS_H
 #define SQUID_OS_WINDOWS_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #ifndef ACL
 #define ACL WindowsACL
@@ -45,5 +45,5 @@
 #undef _MSWIN_ACL_WAS_NOT_DEFINED
 #endif
 
-#endif /* _SQUID_WIN32_ */
+#endif /* _SQUID_WINDOWS_ */
 #endif /* SQUID_OS_WINDOWS_H */
@@ -65,16 +65,20 @@
 #elif defined(__DragonFly__)
 #define _SQUID_DRAGONFLY_ 1
 
-#elif defined(__CYGWIN32__)  || defined(__CYGWIN__)
+#elif defined(__CYGWIN32__) || defined(__CYGWIN__)
 #define _SQUID_CYGWIN_ 1
-#define _SQUID_WIN32_ 1
+#define _SQUID_WINDOWS_ 1
+
+#elif defined(__MINGW32__) || defined(__MINGW__)
+#define _SQUID_MINGW_ 1
+#define _SQUID_WINDOWS_ 1
 
 #elif defined(WIN32) || defined(WINNT) || defined(__WIN32__) || defined(__WIN32)
 /* We are using _SQUID_MSWIN_ define in cf.data.pre, so
    it must be defined to 1 to avoid the build failure of cfgen.
  */
 #define _SQUID_MSWIN_ 1
-#define _SQUID_WIN32_ 1
+#define _SQUID_WINDOWS_ 1
 
 #elif defined(__APPLE__)
 #define _SQUID_APPLE_ 1
@@ -1,5 +1,6 @@
-#ifndef _SQUID_COMPAT_STRNSTR_C_
-#define _SQUID_COMPAT_STRNSTR_C_
+#ifndef _SQUID_COMPAT_STRNSTR_CC_
+#define _SQUID_COMPAT_STRNSTR_CC_
+
 /*
  *  Shamelessly duplicated from the FreeBSD public sources
  *  for use by the Squid Project under GNU Public License.
@@ -17,7 +18,6 @@
  */
 
 #include "config.h"
-#include "strnstr.h"
 
 #if !HAVE_STRNSTR
 
@@ -65,7 +65,7 @@
 #include <string.h>
 #endif
 
-/*
+/**
  * Find the first occurrence of find in s, where the search is limited to the
  * first slen characters of s.
  */
@@ -93,4 +93,4 @@ squid_strnstr(const char *s, const char *find, size_t slen)
 }
 
 #endif /* !HAVE_STRNSTR */
-#endif /* _SQUID_COMPAT_STRNSTR_C_ */
+#endif /* _SQUID_COMPAT_STRNSTR_CC_ */
@@ -56,7 +56,7 @@ malloc_statistics(void (*func) (int, int, int, void *), void *data)
     for (; i <= XMS_DBG_MAXSIZE; i += XMS_DBG_GRAIN)
         func(i, malloc_sizes[XMS_DBG_INDEX(i)], malloc_histo[XMS_DBG_INDEX(i)], data);
 
-    xmemcpy(&malloc_histo, &malloc_sizes, sizeof(malloc_sizes));
+    memcpy(&malloc_histo, &malloc_sizes, sizeof(malloc_sizes));
 }
 #endif /* XMALLOC_STATISTICS */
 
@@ -79,7 +79,7 @@ xcalloc(size_t n, size_t sz)
         if (failure_notify) {
             static char msg[128];
             snprintf(msg, 128, "xcalloc: Unable to allocate %Zu blocks of %Zu bytes!\n", n, sz);
-            (*failure_notify) (msg);
+            failure_notify(msg);
         } else {
             perror("xcalloc");
         }
@@ -120,7 +120,7 @@ xmalloc(size_t sz)
         if (failure_notify) {
             static char msg[128];
             snprintf(msg, 128, "xmalloc: Unable to allocate %Zu bytes!\n", sz);
-            (*failure_notify) (msg);
+            failure_notify(msg);
         } else {
             perror("malloc");
         }
@@ -168,7 +168,7 @@ xrealloc(void *s, size_t sz)
         if (failure_notify) {
             static char msg[128];
             snprintf(msg, 128, "xrealloc: Unable to reallocate %Zu bytes!\n", sz);
-            (*failure_notify) (msg);
+            failure_notify(msg);
         } else {
             perror("realloc");
         }
@@ -0,0 +1,22 @@
+#ifndef _SQUID_COMPAT_XIS_H
+#define _SQUID_COMPAT_XIS_H
+
+#if HAVE_CTYPE_H
+#include <ctype.h>
+#endif
+#define xisspace(x) isspace((unsigned char)x)
+#define xtoupper(x) toupper((unsigned char)x)
+#define xtolower(x) tolower((unsigned char)x)
+#define xisdigit(x) isdigit((unsigned char)x)
+#define xisascii(x) isascii((unsigned char)x)
+#define xislower(x) islower((unsigned char)x)
+#define xisalpha(x) isalpha((unsigned char)x)
+#define xisprint(x) isprint((unsigned char)x)
+#define xisalnum(x) isalnum((unsigned char)x)
+#define xiscntrl(x) iscntrl((unsigned char)x)
+#define xispunct(x) ispunct((unsigned char)x)
+#define xisupper(x) isupper((unsigned char)x)
+#define xisxdigit(x) isxdigit((unsigned char)x)
+#define xisgraph(x) isgraph((unsigned char)x)
+
+#endif /* _SQUID_COMPAT_XIS_H */
@@ -61,17 +61,9 @@ xstrndup(const char *s, size_t n)
         }
         exit(1);
     }
-    if (n < 0) {
-        errno = EINVAL;
-        if (failure_notify) {
-            (*failure_notify) ("xstrndup: tried to dup a negative length string!\n");
-        } else {
-            perror("xstrndup: tried to dup a negative length string!");
-        }
-        exit(1);
-    }
 
     sz = strlen(s) + 1;
+    // size_t is unsigned, as mandated by c99 and c++ standards.
     if (sz > n)
         sz = n;
 
@@ -39,7 +39,11 @@ AC_CANONICAL_HOST
 AC_MSG_CHECKING([simplified host os])
 simple_host_os=`echo $host_os|sed 's/[0-9].*//g;s/-.*//g'`
 squid_host_os_version=`echo $host_os|tr -d "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-"`
-squid_host_os=`echo $simple_host_os| sed s/$squid_host_os_version//g`
+if test -n "$squid_host_os_version"; then
+	squid_host_os="`echo $simple_host_os| sed s/$squid_host_os_version//g`"
+else
+	squid_host_os="$simple_host_os"
+fi
 AC_MSG_RESULT($squid_host_os (version $squid_host_os_version))
 # on windows squid_host_os is either mingw or cygwin, version is 32
 
@@ -510,7 +514,7 @@ for module in $squid_disk_module_candidates none; do
             AC_MSG_NOTICE([Windows threads support automatically enabled])
             ;;
           freebsd)
-            if test $squid_host_os_version -lt 7 ; then
+            if test `echo "$squid_host_os_version" | cut -b1` -lt 7 ; then
                 AC_MSG_NOTICE(pthread library requires FreeBSD 7 or later)
                 squid_opt_use_diskthreads="no"
             else
@@ -705,7 +709,7 @@ for fs in $squid_storeio_module_candidates none; do
       if ! test "x$squid_disk_module_candidates_AIO" = "xyes"; then
         AC_MSG_ERROR([COSS requires POSIX AIO which is not available.])
       fi
-      # Automake om MinGW needs explicit exe extension
+      # Automake on MinGW needs explicit exe extension
       # for STORE_TESTS substition
       STORE_TESTS="$STORE_TESTS tests/testCoss$EXEEXT"
       ;;
@@ -954,28 +958,6 @@ dnl   fi
 dnl ])
 
 
-AC_ARG_ENABLE(useragent-log,
-  AS_HELP_STRING([--enable-useragent-log],
-                 [Enable logging of User-Agent header]), [ 
-SQUID_YESNO([$enableval],
-            [unrecognized argument to --enable-useragent-log: $enableval])
-  enable_useragent_log=$enableval
-])
-SQUID_DEFINE_BOOL(USE_USERAGENT_LOG,${enable_useragent_log:=no},
-    [If you want to log User-Agent request header values, define this.])
-AC_MSG_NOTICE([User-Agent logging enabled: $enable_useragent_log])
-
-AC_ARG_ENABLE(referer-log,
-  AS_HELP_STRING([--enable-referer-log],[Enable logging of Referer header]), [ 
-SQUID_YESNO([$enableval],
-            [unrecognized argument to --enable-referer-log: $enableval])
-])
-SQUID_DEFINE_BOOL(USE_REFERER_LOG,${enable_referer_log:=no},
-       [If you want to log Referer request header values, define this.
-        By default, they are written to referer.log in the Squid logdir.
-        This feature is deprecated in favour of custom log formats])
-AC_MSG_NOTICE([Referer logging enabled: $enable_referer_log])
-
 AC_ARG_ENABLE(wccp,
   AS_HELP_STRING([--disable-wccp],[Disable Web Cache Coordination Protocol]), [
 SQUID_YESNO([$enableval],[unrecognized argument to --disable-wccp: $enableval])
@@ -1011,9 +993,9 @@ AC_ARG_ENABLE(snmp,
 ])
 SQUID_DEFINE_BOOL(SQUID_SNMP,${enable_snmp:=yes},
    [Define to enable SNMP monitoring of Squid])
-AM_CONDITIONAL(USE_SNMP, [test "x$enable_snmp" = "xyes"])
+AM_CONDITIONAL(ENABLE_SNMP, [test "x$enable_snmp" = "xyes"])
 if test "x$enable_snmp" = "xyes"; then
-    SNMPLIB='../snmplib/libsnmp.a'
+    SNMPLIB='../snmplib/libsnmplib.a'
     makesnmplib=snmplib
 fi
 AC_MSG_NOTICE([SNMP support enabled: $enable_snmp])
@@ -1042,7 +1024,7 @@ AC_ARG_ENABLE(cachemgr-hostname,
 
 AC_ARG_ENABLE(eui,
   AS_HELP_STRING([--disable-eui],
-                 [Enable use of ARP / MAC/ EUI (ether address)]), [
+                 [Disable use of ARP / MAC/ EUI (ether address)]), [
 SQUID_YESNO([$enableval],[--disable-eui expects no arguments])
 ])
 if test "x${enable_eui:=yes}" = "xyes" ; then
@@ -1207,7 +1189,13 @@ AC_ARG_ENABLE(select,
   AS_HELP_STRING([--disable-select],[Disable select(2) support.]),
 [
 SQUID_YESNO($enableval,[--disable-select takes no extra argument])
-test "x$enableval" = "xyes" && squid_opt_io_loop_engine="select"
+if test "x$enableval" = "xyes"; then
+  if test "x$squid_host_os" = "xmingw"; then
+    squid_opt_io_loop_engine="select_win32"
+  else
+    squid_opt_io_loop_engine="select"
+  fi
+fi
 ])
 AC_MSG_NOTICE([enabling select syscall for net I/O: ${enable_select:=auto}])
 
@@ -1395,6 +1383,10 @@ if test "x$with_netfilter_conntrack" != "xno"; then
             AC_MSG_ERROR([--with-netfilter-conntrack specified but libnetfilter-conntrack headers not found])
         fi
         with_netfilter_conntrack=no])
+  # If nothing is broken; enable the libraries usage.
+  if test "x$with_netfilter_conntrack" != "xno"; then
+    with_netfilter_conntrack=yes
+  fi
 fi
 AC_MSG_NOTICE([Linux Netfilter Conntrack support enabled: ${with_netfilter_conntrack} ${squid_opt_netfilterconntrackpath}])
 
@@ -1577,8 +1569,8 @@ SQUID_YESNO([$enableval],
             [unrecognized argument to --enable-auth: $enableval])
 ])
 AC_MSG_NOTICE([Authentication support enabled: ${enable_auth:=yes}])
-SQUID_DEFINE_BOOL(USE_AUTH,$enable_auth,
-   [Enable support for authentication])
+SQUID_DEFINE_BOOL(USE_AUTH,$enable_auth,[Enable support for authentication])
+AM_CONDITIONAL(ENABLE_AUTH, test "x$enable_auth" != "xno")
 AUTH_MODULES=""
 
 AC_ARG_ENABLE(auth-basic,
@@ -1829,6 +1821,9 @@ if test x"$krb5confpath" != "xno"; then
     fi
 fi
 if test "x$ac_krb5_config" = "xyes" ; then
+  # Kerberos helpers use res_search() from libresolv or libc
+  AC_SEARCH_LIBS([__res_search],[resolv])
+
   ac_heimdal="`$krb5confpath --version 2>/dev/null | grep -i heimdal`"
   ac_solaris="`$krb5confpath --version 2>/dev/null | grep -i solaris`"
   if test "x$ac_heimdal" != "x" ; then
@@ -2070,7 +2065,7 @@ if test "x$squid_require_sasl" = "xyes"; then
       AC_MSG_ERROR(Neither SASL nor SASL2 found)
     ])
   ])
-  case "$host_os" in
+  case "$squid_host_os" in
     Darwin)
       if test "$ac_cv_lib_sasl2_sasl_errstring" = "yes" ; then
         AC_DEFINE(HAVE_SASL_DARWIN,1,[Define to 1 if Mac Darwin without sasl.h])
@@ -2121,14 +2116,12 @@ AC_ARG_ENABLE(cpu-profiling,
 SQUID_YESNO([$enableval],
             [unrecognized argument to --enable-cpu-profiling: $enableval])
 ])
-if test "x$enable_cpu_profiling" != "xno"; then
+# Default OFF. This is a debug feature. Only check and enable if forced ON.
+if test "x$enable_cpu_profiling" = "xyes"; then
   SQUID_CHECK_FUNCTIONAL_CPU_PROFILER
-  if test "x$enable_cpu_profiling" = "xyes" -a "x$squid_cv_cpu_profiler_works" = "xno"; then
+  if test "x$squid_cv_cpu_profiler_works" = "xno"; then
     AC_MSG_ERROR([CPU profiling will not be functional in this build.])
-  elif test "x$squid_cv_cpu_profiler_works" = "xno"; then
-    AC_MSG_NOTICE([CPU profiling will not be functional in this build.])
   fi
-  enable_cpu_profiling="$squid_cv_cpu_profiler_works"
 fi
 SQUID_DEFINE_BOOL(USE_XPROF_STATS,${enable_cpu_profiling:=no},
                       [Define to enable CPU profiling within Squid])
@@ -2229,6 +2222,7 @@ AC_HEADER_DIRENT
 AC_HEADER_STDC
 
 AC_CHECK_HEADERS( \
+  algorithm \
   arpa/inet.h \
   arpa/nameser.h \
   assert.h \
@@ -3118,11 +3112,10 @@ elif test "x$enable_devpoll" != "xno" ; then
   squid_opt_io_loop_engine="devpoll"
 elif test "x$enable_poll" != "xno" -a "x$ac_cv_func_poll" = "xyes" ; then
   squid_opt_io_loop_engine="poll"
-elif test "x$enable_select" != "xno" -a "x$ac_cv_func_select" = "xyes" ; then
+elif test "x$enable_select" != "xno" -a "x$ac_cv_func_select" = "xyes"; then
   squid_opt_io_loop_engine="select"
-  if test "x$squid_host_os" = "xmingw" ; then
-    squid_opt_io_loop_engine="select_win32"
-  fi
+elif test "x$enable_select" != "xno" -a "x$squid_host_os" = "xmingw"; then
+  squid_opt_io_loop_engine="select_win32"
 else
   AC_MSG_WARN([Eep!  Cannot find epoll, kqueue, /dev/poll, poll or select!])
   AC_MSG_WARN([Will try select and hope for the best.])
@@ -3134,7 +3127,6 @@ AC_MSG_NOTICE([Using ${squid_opt_io_loop_engine} for the IO loop.])
 AM_CONDITIONAL([USE_POLL], [test $squid_opt_io_loop_engine = poll])
 AM_CONDITIONAL([USE_EPOLL], [test $squid_opt_io_loop_engine = epoll])
 AM_CONDITIONAL([USE_SELECT], [test $squid_opt_io_loop_engine = select])
-AM_CONDITIONAL([USE_SELECT_SIMPLE], [test $squid_opt_io_loop_engine = select_simple])
 AM_CONDITIONAL([USE_SELECT_WIN32], [test $squid_opt_io_loop_engine = select_win32])
 AM_CONDITIONAL([USE_KQUEUE], [test $squid_opt_io_loop_engine = kqueue])
 AM_CONDITIONAL([USE_DEVPOLL], [test $squid_opt_io_loop_engine = devpoll])
@@ -3386,6 +3378,7 @@ AC_CONFIG_FILES([\
 	src/ipc/Makefile \
 	src/ssl/Makefile \
 	src/mgr/Makefile \
+	src/snmp/Makefile \
 	contrib/Makefile \
 	snmplib/Makefile \
 	icons/Makefile \
@@ -3431,6 +3424,7 @@ AC_CONFIG_FILES([\
 	helpers/external_acl/unix_group/Makefile \
 	helpers/external_acl/wbinfo_group/Makefile \
 	helpers/log_daemon/Makefile \
+	helpers/log_daemon/DB/Makefile \
 	helpers/log_daemon/file/Makefile \
 	helpers/url_rewrite/Makefile \
 	helpers/url_rewrite/fake/Makefile \
@@ -176,7 +176,7 @@ fubar(char *g, int glen, void *state) {
      * then passes the state off to FUBAR.
      * No check for null-termination is done.
      */
-   xmemcpy(g, glen, state->foo_end_ptr );
+   memcpy(g, glen, state->foo_end_ptr );
    state->foo_end_ptr += glen;
    fubar(state);
 }
@@ -70,15 +70,21 @@ section 38    Network Measurement Database
 section 39    Cache Array Routing Protocol
 section 39    Peer source hash based selection
 section 39    Peer user hash based selection
-section 40    Referer Logging
-section 40    User-Agent Logging
 section 41    Event Processing
 section 42    ICMP Pinger program
 section 43    AIOPS
 section 43    Windows AIOPS
 section 44    Peer Selection Algorithm
 section 45    Callback Data Registry
 section 46    Access Log
+section 46    Access Log - Apache combined format
+section 46    Access Log - Apache common format
+section 46    Access Log - Squid Custom format
+section 46    Access Log - Squid ICAP Logging
+section 46    Access Log - Squid format
+section 46    Access Log - Squid referer format
+section 46    Access Log - Squid useragent format
+section 46    Access Log Format Tokens
 section 47    Store COSS Directory Routines
 section 47    Store Directory Routines
 section 48    Persistent Connections
@@ -7,7 +7,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
-"POT-Creation-Date: 2010-11-06 03:27+1400\n"
+"POT-Creation-Date: 2011-02-06 22:40+1400\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.1.9 release notes</title>
+<title>Squid 3.1.11 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.1.9
+The Squid Team are pleased to announce the release of Squid-3.1.11
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.1/"> or the <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
 
@@ -563,6 +563,10 @@ This section gives a thorough account of those changes in three categories:
 	direct client address in delay pools.
 	</verb>
 
+	<tag>client_request_buffer_max_size</tag>
+	<p>New directive added with squid-3.1.10 to set limits on the amount of buffer space allocated
+	for receiving upload and request data from clients.
+
         <tag>dns_v4_fallback</tag>
         <p>New option to prevent Squid from always looking up IPv4 regardless of whether IPv6 addresses are found.
            Squid will follow a policy of prefering IPv6 links, keeping the IPv4 only as a safety net behind IPv6.
@@ -681,39 +685,17 @@ This section gives a thorough account of those changes in three categories:
 		follow_x_forwarded_for allow my_other_proxy
 	</verb>
 
-	<tag>ftp_epsv</tag>
-	<verb>
-	FTP Protocol extensions permit the use of a special "EPSV" command.
-
-	NATs may be able to put the connection on a "fast path" through the
-	translator using EPSV, as the EPRT command will never be used and therefore,
-	translation of the data portion of the segments will never be needed.
+	<tag>ftp_eprt</tag>
+	<p>New directive added with squid-3.1.11 to control whether Squid uses EPRT extension
+	   for efficient NAT handling and IPv6 protocol support in FTP.
 
-	Turning this OFF will prevent EPSV being attempted.
-
-	WARNING: Doing so will convert Squid back to the old behavior with all
-	the related problems with external NAT devices/layers.
-
-	Requires ftp_passive to be ON (default) for any effect.
-	</verb>
+	<tag>ftp_epsv</tag>
+	<p>New directive to control whether Squid uses EPSV extension for
+	   efficient NAT handling and IPv6 protocol support in FTP.
 
 	<tag>ftp_epsv_all</tag>
-	<verb>
-	FTP Protocol extensions permit the use of a special "EPSV ALL" command.
-
-	NATs may be able to put the connection on a "fast path" through the
-	translator, as the EPRT command will never be used and therefore,
-	translation of the data portion of the segments will never be needed.
-
-	When a client only expects to do two-way FTP transfers this may be useful.
-	If Squid finds that it must do a three-way FTP transfer after issuing
-	an EPSV ALL command, the FTP session will fail.
-
-	If you have any doubts about this option do not use it.
-	Squid will nicely attempt all other connection methods.
-
-	Requires ftp_passive to be ON (default)
-	</verb>
+	<p>New directive to control whether Squid uses "EPSV ALL" extension for
+	   efficient NAT handling and IPv6 protocol support in FTP.
 
 	<tag>forward_max_tries</tag>
 	<p>Controls how many different forward paths Squid will try
@@ -1106,7 +1088,7 @@ NOCOMMENT_START
 	X-Forwarded-For header.
 
 	If set to "truncate", Squid will remove all existing
-	X-Forwarded-For entries, and place itself as the sole entry.
+	X-Forwarded-For entries, and place the client IP as the sole entry.
 	</verb>
 
 	<tag>http_port transparent intercept ssl-bump connection-auth[=on|off] ignore-cc</tag>
@@ -1,6 +1,6 @@
 <!doctype linuxdoc system>
 <article>
-<title>Squid 3.2.0.3 release notes</title>
+<title>Squid 3.2.0.5 release notes</title>
 <author>Squid Developers</author>
 
 <abstract>
@@ -13,7 +13,7 @@ for Applied Network Research and members of the Web Caching community.
 
 <sect>Notice
 <p>
-The Squid Team are pleased to announce the release of Squid-3.2.0.3 for testing.
+The Squid Team are pleased to announce the release of Squid-3.2.0.5 for testing.
 
 This new release is available for download from <url url="http://www.squid-cache.org/Versions/v3/3.2/"> or the <url url="http://www.squid-cache.org/Mirrors/http-mirrors.html" name="mirrors">.
 
@@ -76,8 +76,9 @@ Most user-facing changes are reflected in squid.conf (see below).
    must coordinate caching activities (in-between environments are in a gray
    area requiring case-by-case analysis).
 
-<p>Cache manager and SNMP statistics are reported from a worker point of
-   view, for now.
+<p>Cache manager statistics are reported from a worker point of view, for now.
+   Though some reports are combined. SNMP statistics are combined across all
+   workers.
 
 <p>Startup, reconfiguration, shutdown, and log rotation are handled as for a
    monolithic Squid. Abnormally terminated workers are restarted while
@@ -287,6 +288,8 @@ Most user-facing changes are reflected in squid.conf (see below).
   logging a single cache.log at relatively high debug levels on a high-traffic system. Or one which is
   required to store a long period of access.log and needs to conserve disk space.
 
+<p>The referer_log and useragent_log directives have been converted to built-in log formats.
+  These logs are now created using an access_log line with the format "referrer" or "useragent".
 
 <sect1> Client Bandwidth Limits
 <p>In mobile environments, Squid may need to limit Squid-to-client bandwidth
@@ -396,6 +399,9 @@ This section gives a thorough account of those changes in three categories:
 	<p>The else part is optional. The keywords <em>if</em>, <em>else</em> and <em>endif</em> 
 	must be typed on their own lines, as if they were regular configuration directives.
 
+	<tag>max_stale</tag>
+	<p>Places an upper limit on how stale content Squid will serve from the cache if cache validation fails
+
 	<tag>memory_cache_mode</tag>
 	<p>Controls which objects to keep in the memory cache (cache_mem)
 	<verb>
@@ -448,6 +454,8 @@ This section gives a thorough account of those changes in three categories:
 	New installs, or installs with no logs configured explicitly will use this module by default.
 	<p>New <em>tcp</em> module to send each log line as text data to a TCP receiver.
 	<p>New <em>udp</em> module to send each log line as text data to a UDP receiver.
+	<p>New format <em>referrer</em> to log with the format prevously used by referer_log directive.
+	<p>New format <em>useragent</em> to log with the format prevously used by useragent_log directive.
 
 	<tag>acl random</tag>
 	<p>New type <em>random</em>. Pseudo-randomly match requests based on a configured probability.
@@ -488,7 +496,7 @@ This section gives a thorough account of those changes in three categories:
         <p><em>icap::%&gt;bs</em> Number of message body bytes received from the ICAP server.
 	<p><em>%&gt;lp</em> Local TCP port used by transactions with http servers.
 	<p><em>%sn</em> Unique sequence number per log line. Ported from 2.7
-	<p><em>%&lt;eui</em> EUI logging (EUI-48 / MAC address for IPv4, EUI-64 for IPv6)
+	<p><em>%&gt;eui</em> EUI logging (EUI-48 / MAC address for IPv4, EUI-64 for IPv6)
 	   Both EUI forms are logged in the same field. Type can be identified by length or byte delimiter.
         <p><em>%err_code</em> The ID of an error response served by Squid or
           a similar internal error identifier
@@ -510,6 +518,10 @@ This section gives a thorough account of those changes in three categories:
 	   This will be included by default if available (see the --without-netfilter-conntrack configure option for more details).
 	<p><em>miss</em> sets a value for a cache miss. It is available for both the tos and mark options and takes precedence over the preserve-miss feature.
 
+	<tag>refresh_pattern</tag>
+	<p>New option <em>max-stale=</em> to provide a maximum staleness factor. Squid won't
+	   serve objects more stale than this even if it failed to validate the object.
+
 	<tag>tcp_outgoing_mark</tag>
 	<p>New configuration parameter <em>tcp_outgoing_mark</em>
 	<p>Allows packets leaving Squid on the server side to be marked with a Netfilter mark value in the same way as the existing tcp_outgoing_tos feature.
@@ -535,6 +547,12 @@ This section gives a thorough account of those changes in three categories:
 <sect1>Removed tags<label id="removedtags">
 <p>
 <descrip>
+	<tag>emulate_httpd_log</tag>
+	<p>Replaced by <em>common</em> format option on an <em>access_log</em> directive.
+
+	<tag>forward_log</tag>
+	<p>Obsolete.
+
 	<tag>ftp_list_width</tag>
 	<p>Obsolete.
 
@@ -544,9 +562,14 @@ This section gives a thorough account of those changes in three categories:
 	<tag>log_fqdn</tag>
 	<p>Obsolete. Replaced by automatic detection of the %>A logformat tag.
 
+	<tag>referer_log</tag>
+	<p>Replaced by the <em>referrer</em> format option on an <em>access_log</em> directive.
+
 	<tag>url_rewrite_concurrency</tag>
 	<p>Replaced by url_rewrite_children ... concurrency=N option.
 
+	<tag>useragent_log</tag>
+	<p>Replaced by the <em>useragent</em> format option on an <em>access_log</em> directive.
 </descrip>
 
 
@@ -647,6 +670,12 @@ This section gives an account of those changes in three categories:
 	<tag>--enable-auth-ntlm-helpers</tag>
 	<p>replaced by <em>--enable-auth-ntlm</em>.
 
+	<tag>--enable-referer-log</tag>
+	<p>Obsolete.
+
+	<tag>--enable-useragent-log</tag>
+	<p>Obsolete.
+
 </descrip>
 
 
@@ -846,13 +875,9 @@ This section gives an account of those changes in three categories:
 	<tag>logformat</tag>
 	<p><em>%oa</em> tag not yet ported from 2.7
 
-	<tag>max_stale</tag>
-	<p>Not yet ported from 2.7
-
 	<tag>refresh_pattern</tag>
 	<p><em>stale-while-revalidate=</em> not yet ported from 2.7
 	<p><em>ignore-stale-while-revalidate=</em> not yet ported from 2.7
-	<p><em>max-stale=</em> not yet ported from 2.7
 	<p><em>negative-ttl=</em> not yet ported from 2.7
 
 	<tag>refresh_stale_hit</tag>
@@ -29,6 +29,7 @@ ERROR_TEMPLATES =  \
 	templates/ERR_FTP_PUT_ERROR \
 	templates/ERR_FTP_PUT_MODIFIED \
 	templates/ERR_FTP_UNAVAILABLE \
+	templates/ERR_GATEWAY_FAILURE \
 	templates/ERR_ICAP_FAILURE \
 	templates/ERR_INVALID_REQ \
 	templates/ERR_INVALID_RESP \
@@ -3,7 +3,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-07-26 10:33+0200\n"
 "Last-Translator: F Wolff <friedel@translate.org.za>\n"
 "Language-Team: translate-discuss-af@lists.sourceforge.net\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "'n URL vir die aangevraagde URN kon nie verkry word nie"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Toegang geweier."
@@ -145,16 +151,17 @@ msgstr "Gids: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FOUT"
 
@@ -175,15 +182,16 @@ msgstr "FOUT: Oplaai na FTP het misluk"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FOUT: Die aangevraagde URL kon nie verkry word nie"
 
@@ -237,6 +245,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Aanstuur geweier."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -246,16 +258,17 @@ msgstr "Aanstuur geweier."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gegenereer op %T deur %h (%s)"
 
@@ -476,14 +489,15 @@ msgstr "Die volgende URL kon nie opgespoor word nie: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -513,15 +527,15 @@ msgstr "Die navraag of antwoord is te groot."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Die aangevraagde URL kon nie verkry word nie"
 
@@ -574,6 +588,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -694,15 +714,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Die kasbediener se administrateur is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -3,7 +3,7 @@
 az	Azerbaijani
 bg	Bulgarian
 ca	Catalan
-cz	Czech
+cs	Czech
 da	Danish
 de	German
 el	Greek
@@ -20,7 +20,7 @@ ja	Japanese
 ko	Korean
 lt	Lithuanian
 nl	Dutch
-po	Polish
+pl	Polish
 pt	Portuguese
 ro	Romanian
 ru	Russian-1251 Russian-koi8-r
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-27 20:36+0000\n"
 "Last-Translator: MaXeR <Unknown>\n"
 "Language-Team: Arabic <ar@li.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -137,16 +143,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "خطأ"
 
@@ -167,15 +174,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -227,6 +235,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -236,16 +248,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -450,14 +463,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -482,15 +496,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -541,6 +555,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -654,15 +674,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-05 17:49+0000\n"
 "Last-Translator: Elxan İsmayılov <elxan.i@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Sorğulanan URN üçün URL ilə əlaqə yaradılmadı"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Giriş qadağandır."
@@ -150,16 +156,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "SƏHV"
 
@@ -180,15 +187,16 @@ msgstr "SƏHV: FTP yükləmə uğursuzluqla başa çatdı"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "SƏHV: Sorğulanan URL ilə əlaqə yaradılmadı"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Yönləndirmə qadağandır."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Yönləndirmə qadağandır."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -500,14 +513,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -534,15 +548,15 @@ msgstr "Sorğu və ya cavab həddən ziyadə böyükdür."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Sorğulanan URL ilə əlaqə yaradılmadı"
 
@@ -606,6 +620,16 @@ msgstr ""
 "Sibling tipli əlaqə yaratmaq cəhdinə görə keş sorğunuzu yönləndirməyəcəkdir. "
 "Güman ki, %i müştərisi tələblərə uyğun olmayan keşdir."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Bu limitlər sizin keşi idarə edən Internet xidməti provayderi tərəfindən "
+"təyin olunmuşdur. Əgər bunun səhv olduğunu düşünürsünüzsə onlarla əlaqə "
+"saxlayın."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -733,15 +757,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 #, fuzzy
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Sizin keş administratorunuz <a href=\"%w%W\">%w</a>"
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-11-29 07:32+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Недостатъчна информация за локализиране на обекта"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Отказан достъп"
@@ -151,16 +157,17 @@ msgstr "директория: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ГРЕШКА"
 
@@ -181,15 +188,16 @@ msgstr "ГРЕШКА: Неуспешен опит за качване на фа
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ГРЕШКА: Заявената страница е недостъпна."
 
@@ -243,6 +251,10 @@ msgstr "За браузер Opera идете на: <ul>"
 msgid "Forwarding Denied."
 msgstr "Пренасочването на заявката е отказано."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Пренасочването на заявката е отказано."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Генерирано на %T от %h (%s)"
 
@@ -495,14 +508,15 @@ msgstr "Следният адрес е недостъпен: <a href=\"%U\">%U</
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +543,15 @@ msgstr "Заявката или отговорът са прекалено го
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Заявеният адрес е недостъпен."
 
@@ -599,6 +613,16 @@ msgstr ""
 "сървър за клиента, от който идва заявката. Вероятно клиентът %i е неправилно "
 "конфигуриран кеш сървър."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Тези ограничения са поставени от Интернет доставчика, който администрира "
+"този кеш сървър. Ако считате това за неправилно, моля обърнете се към "
+"администратора."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Неуспешна ICAP комуникация."
@@ -736,15 +760,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Вашият кеш администратор е <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-02-04 18:35+1300\n"
 "Last-Translator: Jordi Bruguera <jordi@dns1.grn.es>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "No es pot mostrar la URN que heu sol.licitat"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acc&eacute;s no autoritzat."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -180,15 +187,16 @@ msgstr "ERROR: Ha fallat l'enviament del fitxer FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: No es pot mostrar la URL que heu sol.licitat"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Reenviament denegat."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Reenviament denegat."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -495,14 +508,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -530,15 +544,15 @@ msgstr "La petici&oacute; o la resposta s&oacute;n massa llargues."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "No es pot mostrar la URL que heu sol.licitat"
 
@@ -603,6 +617,15 @@ msgstr ""
 "est&agrave; for&ccedil;ant una connexi&oacute; a una cachegermana.  Potser "
 "que el client %i sigui una cache mal configurada."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Aquests l&iacute;mits han estat establerts pel prove&iuml;dor Internet que "
+"opera aquesta cache. Contacta amb ells si creus que es tracta d'un error."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +758,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "L'administrador d'aquesta cache &eacute;s <a href=\"mailto:%w%W\">%w</a>."
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-11-20 17:14+0000\n"
 "Last-Translator: Kuvaly <kuvaly@seznam.cz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -45,6 +45,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Nelze získat URL pro požadované URN"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Přístup odepřen."
@@ -148,16 +154,17 @@ msgstr "Adresář: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "CHYBA"
 
@@ -178,15 +185,16 @@ msgstr "CHYBA: Selhalo nahrávání na FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "CHYBA: Nelze získat požadované URL"
 
@@ -241,6 +249,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -250,16 +262,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -492,14 +505,15 @@ msgstr "Požadovaný dokument na adrese: <a href=\"%U\">%U</a> nebyl nalezen."
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -525,15 +539,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Požadovaný dokument je nedostupný"
 
@@ -595,6 +609,15 @@ msgstr ""
 "hierarchické struktuře cache serverů. %i je pravděpodobně chybně "
 "nakonfigurovaný cache server."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Tento limit byl nastaven administrátorem této cache. Pokud si myslíte, že je "
+"potřeba tyto limity změnit, kontaktujte ho."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +743,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2008-11-07 17:17+1300\n"
 "Last-Translator: Morten S. Nielsen <mortensn@geocities.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL for den angivne URN kunne ikke hentes"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Adgang N&aelig;gtet."
@@ -146,16 +152,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEJL"
 
@@ -177,15 +184,16 @@ msgstr "FEJL: FTP upload fejlede"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEJL: Den angivne URL kunne ikke hentes"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Videresendelse N&aelig;gtet."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "Videresendelse N&aelig;gtet."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -484,14 +497,15 @@ msgstr "Den f&oslash;gende URL kunne ikke hentes: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -519,15 +533,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Den angivne URL kunne ikke hentes"
 
@@ -588,6 +602,12 @@ msgstr ""
 "ver at opretholde et s&oslash;skendeforhold. M&aring;ske er klienten "
 "p&aring; %i en fejlkonfigureret cache."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +740,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-06-10 10:13+0200\n"
 "Last-Translator: Robert Förster <Dessa@gmake.de>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,6 +48,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Eine URL für den angeforderten URN konnte nicht gefunden werden"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Zugriff verweigert."
@@ -151,16 +157,17 @@ msgstr "Verzeichnis: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEHLER"
 
@@ -181,15 +188,16 @@ msgstr "FEHLER: FTP Upload fehlgeschlagen"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEHLER: Die angeforderte URL konnte nicht gefunden werden"
 
@@ -243,6 +251,10 @@ msgstr "Für Opera Browser gehen sie zu: <ul>"
 msgid "Forwarding Denied."
 msgstr "Weiterleitung verweigert."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Weiterleitung verweigert."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Erzeugt am %T von %h (%s)"
 
@@ -489,14 +502,15 @@ msgstr "Die folgende URL konnte nicht gefunden werden: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -527,15 +541,15 @@ msgstr "Die Anfrage oder Antwort ist zu lang."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Die angeforderte URL konnte nicht gefunden werden"
 
@@ -596,6 +610,16 @@ msgstr ""
 "Geschwisterverhältnis zu erzwingen. Warscheinlich ist der Client auf %i ein "
 "Cache der falsch konfiguriert wurde."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Diese Einschränkungen wurden vom Internetdienstanbieter eingerichtet der "
+"diesen Cache betreibt. Bitte kontaktieren sie ihn falls sie denken, dass "
+"dies ein Fehler ist."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Das heißt, dass etwas mit der ICAP Kommunikation nicht stimmt."
@@ -741,15 +765,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Ihr Cache Administrator ist <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-02-25 14:35+1300\n"
 "Last-Translator: George Papamichelakis <george@step.gr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Δεν βρέθηκε διεύθυνση για το ζητούμενο όνομα"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Απαγορεύεται η Πρόσβαση."
@@ -150,16 +156,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ΣΦΑΛΜΑ"
 
@@ -181,15 +188,16 @@ msgstr "ΣΦΑΛΜΑ: Η μεταφόρτωση FTP απέτυχε"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ΣΦΑΛΜΑ: Αδύνατη η πρόσβαση στην αιτούμενη διεύθυνση"
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Απαγορεύεται η προώθηση."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Απαγορεύεται η προώθηση."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -501,14 +514,15 @@ msgstr "Η ακόλουθη διεύθυνση δεν βρέθηκε: <a href=\"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -536,15 +550,15 @@ msgstr "Το αίτημα ή η απάντηση είναι υπερμεγέθη
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 #, fuzzy
 msgid "The requested URL could not be retrieved"
 msgstr "Αδύνατη η πρόσβαση στην αιτούμενη διεύθυνση"
@@ -610,6 +624,16 @@ msgstr ""
 "συγγενική σχέση. Ίσως ο πελάτης στο %i είναι ένας μεσολαβητής ο οποίος δεν "
 "είναι σωστά ρυθμισμένος."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Τα όρια αυτά καθορίζονται από τον Παροχέα Υπηρεσιών Διαδικτύου που "
+"λειτουργεί αυτή την υπηρεσία. Παρακαλώ επικοινωνήστε μαζί τους αν νομίζετε "
+"οτι αυτό είναι λάθος."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -742,15 +766,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "Ο διαχειριστής του μεσολαβητή σας είναι ο <a href=\"mailto:%w%W\">%w</a>."
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-11-24 13:00+0200\n"
 "Last-Translator: Amos <squid3@treenet.co.nz>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -46,6 +46,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "A URL for the requested URN could not be retrieved"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Access Denied."
@@ -152,16 +158,17 @@ msgstr "Directory: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -182,15 +189,16 @@ msgstr "ERROR: FTP upload failed"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: The requested URL could not be retrieved"
 
@@ -242,6 +250,10 @@ msgstr "For Opera browsers go to: <ul>"
 msgid "Forwarding Denied."
 msgstr "Forwarding Denied."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Forwarding Denied."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generated %T by %h (%s)"
 
@@ -490,14 +503,15 @@ msgstr "The following URL could not be retrieved: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -526,15 +540,15 @@ msgstr "The request or reply is too large."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "The requested URL could not be retrieved"
 
@@ -595,6 +609,16 @@ msgstr ""
 "sibling relationship. Perhaps the client at %i is a cache which has been "
 "misconfigured."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"These limits have been established by the Internet Service Provider who "
+"operates this cache. Please contact them directly if you feel this is an "
+"error."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "This means that some aspect of the ICAP communication failed."
@@ -734,15 +758,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -4,7 +4,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -15,7 +15,7 @@ msgstr ""
 "#-#-#-#-#  ERR_AGENT_CONFIGURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -26,7 +26,7 @@ msgstr ""
 "#-#-#-#-#  ERR_AGENT_WPAD.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -37,7 +37,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CACHE_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,7 +48,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CACHE_MGR_ACCESS_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -59,7 +59,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CANNOT_FORWARD.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -70,7 +70,7 @@ msgstr ""
 "#-#-#-#-#  ERR_CONNECT_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -81,7 +81,7 @@ msgstr ""
 "#-#-#-#-#  ERR_DIR_LISTING.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -92,7 +92,7 @@ msgstr ""
 "#-#-#-#-#  ERR_DNS_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -103,7 +103,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ESI.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -114,7 +114,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FORWARDING_DENIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -125,7 +125,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_DISABLED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -136,7 +136,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -147,7 +147,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_FORBIDDEN.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -158,7 +158,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_NOT_FOUND.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -169,7 +169,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_CREATED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -180,7 +180,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -191,7 +191,7 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_PUT_MODIFIED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -202,7 +202,18 @@ msgstr ""
 "#-#-#-#-#  ERR_FTP_UNAVAILABLE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
+"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Generator: Translate Toolkit 1.7.0\n"
+"#-#-#-#-#  ERR_GATEWAY_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
+"Project-Id-Version: Squid-3\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -213,7 +224,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ICAP_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -224,7 +235,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_REQ.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -235,7 +246,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_RESP.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -246,7 +257,7 @@ msgstr ""
 "#-#-#-#-#  ERR_INVALID_URL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -257,7 +268,7 @@ msgstr ""
 "#-#-#-#-#  ERR_LIFETIME_EXP.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -268,7 +279,7 @@ msgstr ""
 "#-#-#-#-#  ERR_NO_RELAY.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -279,7 +290,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ONLY_IF_CACHED_MISS.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -290,7 +301,7 @@ msgstr ""
 "#-#-#-#-#  ERR_PRECONDITION_FAILED.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -301,7 +312,7 @@ msgstr ""
 "#-#-#-#-#  ERR_READ_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -312,7 +323,7 @@ msgstr ""
 "#-#-#-#-#  ERR_READ_TIMEOUT.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -323,7 +334,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SECURE_CONNECT_FAIL.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -334,7 +345,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SHUTTING_DOWN.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -345,7 +356,7 @@ msgstr ""
 "#-#-#-#-#  ERR_SOCKET_FAILURE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -356,7 +367,7 @@ msgstr ""
 "#-#-#-#-#  ERR_TOO_BIG.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -367,7 +378,7 @@ msgstr ""
 "#-#-#-#-#  ERR_UNSUP_HTTPVERSION.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -378,7 +389,7 @@ msgstr ""
 "#-#-#-#-#  ERR_UNSUP_REQ.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -389,7 +400,7 @@ msgstr ""
 "#-#-#-#-#  ERR_URN_RESOLVE.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -400,7 +411,7 @@ msgstr ""
 "#-#-#-#-#  ERR_WRITE_ERROR.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -411,7 +422,7 @@ msgstr ""
 "#-#-#-#-#  ERR_ZERO_SIZE_OBJECT.pot (Squid-3)  #-#-#-#-#\n"
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:27+1300\n"
+"POT-Creation-Date: 2011-02-06 22:40+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -446,6 +457,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -539,16 +556,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -569,15 +587,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -629,6 +648,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -638,16 +661,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -852,14 +876,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -884,15 +909,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -943,6 +968,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -1056,15 +1087,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-03-06 00:14+0000\n"
 "Last-Translator: juancarlospaco <juancarlospaco@hotmail.com>\n"
 "Language-Team: Spanish <es@li.org>\n"
@@ -52,6 +52,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "No se ha podido obtener una URL para el URN solicitado"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acceso Denegado"
@@ -156,16 +162,17 @@ msgstr "Directorio: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -186,15 +193,16 @@ msgstr "ERROR: falla en envio FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: El URL solicitado no se ha podido conseguir"
 
@@ -246,6 +254,10 @@ msgstr "Para navegadores Opera vaya a:"
 msgid "Forwarding Denied."
 msgstr "Reenv&iacute;o denegado."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -255,16 +267,17 @@ msgstr "Reenv&iacute;o denegado."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generado %T por %h (%s)"
 
@@ -507,14 +520,15 @@ msgstr "El siguiente URL no pudo ser obtenido: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -545,15 +559,15 @@ msgstr "La petición o la respuesta es demasiado larga."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "El URL solicitado no se ha podido conseguir"
 
@@ -613,6 +627,16 @@ msgstr ""
 "Este caché no transmitirá su solicitud, ya que intenta imponer una relación "
 "de conexión. Quizás el cliente en% i es un caché que se ha desconfigurado."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Estos límites han sido establecidos por el proveedor de servicios de "
+"Internet que opera este caché. Por favor, comuníquese con ellos directamente "
+"si cree que esto es un error"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Esto significa que falló algún aspecto de la comunicación ICAP."
@@ -761,15 +785,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Su administrador del cach&eacute; es <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-29 22:14+0000\n"
 "Last-Translator: Tanel Kurvits <Unknown>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "P&auml;ring URNile ei saa vastust"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Juurdep&auml;&auml;s keelatud."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "VIGA"
 
@@ -179,15 +186,16 @@ msgstr "VIGA: FTP PUT eba&otilde;nnestus"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "VIGA: P&auml;ring URLile ei saa vastust"
 
@@ -242,6 +250,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Edastamine keelatud."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Edastamine keelatud."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -497,14 +510,15 @@ msgstr "URLi <a href=\"%U\">%U</a> ei &otilde;nnestu lugeda"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 #, fuzzy
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
@@ -538,15 +552,15 @@ msgstr "Päring või vastus on liiga suur."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "P&auml;ring URLile ei saa vastust"
 
@@ -612,6 +626,16 @@ msgstr ""
 "edastamisel ainult naaber vahemälu serverite meetodit. Ilmselt on %i "
 "vigaselt konfigureeritud vahemälu server."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Need piirangus on seadnud teie teenusepakkuja, keshaldab seda vahemälu "
+"serverit. Kui te arvate, et tegemist on veaga, kontakteeruge palun otse oma "
+"teenusepakkujaga."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -743,15 +767,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Teie teenusepakkuja aadress on <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-06-07 23:05+0330\n"
 "Last-Translator: Mohsen Saeedi <mohsen.saeedi@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "آدرسی برای URN درخواست شده موجود نبود."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "دسترسی رد شد."
@@ -145,16 +151,17 @@ msgstr "مسیر: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "خطا"
 
@@ -175,15 +182,16 @@ msgstr "خطا: بارگذاری روی FTP با موفقیت همراه نبو
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "خطا: آدرس درخواست شده را نمی‌توانست دریافت شود"
 
@@ -238,6 +246,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "امکان Forward بسته شده است."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -247,16 +259,17 @@ msgstr "امکان Forward بسته شده است."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%T توسط %h(%s) تولید شد."
 
@@ -472,14 +485,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -504,15 +518,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -563,6 +577,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -676,15 +696,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-19 17:55+1300\n"
 "Last-Translator: Panu H_llfors <panupa@iki.fi>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pääsy evätty."
@@ -143,16 +149,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "VIRHE"
 
@@ -173,15 +180,16 @@ msgstr "VIRHE: FTP lähetys epäonnistui"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "VIRHE: Pyydettyä URL-osoitetta ei voitu hakea"
 
@@ -236,6 +244,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Edelleenohjaus evätty."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -245,16 +257,17 @@ msgstr "Edelleenohjaus evätty."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -482,14 +495,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -515,15 +529,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Pyydettyä URL-osoitetta ei voitu hakea"
 
@@ -581,6 +595,12 @@ msgstr ""
 "sisarsuhdetta. Ehkä asiakas osoitteessa %i on väärin konfiguroitu "
 "välityspalvelin."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -710,15 +730,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 #, fuzzy
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Välityspalvelintasi ylläpitää <a href=\"mailto:%w%W\">%w</a>."
@@ -2,8 +2,8 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
-"PO-Revision-Date: 2010-11-17 19:36+0200\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
+"PO-Revision-Date: 2011-02-14 23:49+0200\n"
 "Last-Translator: Bernard <fli4l.charrier@free.fr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
 "Language: fr\n"
@@ -47,6 +47,14 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "En utilisant URN, la requête URL n'a pas pu être chargée."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+"Une défaillance interne non-récupérable ou un problème de configuration "
+"empêchent cette requête de s'achever."
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accès interdit."
@@ -106,7 +114,7 @@ msgid ""
 "has failed."
 msgstr ""
 "Au moins une précondition indiquée dans l'en-tête de la requête du client "
-"HTTP  a échoué."
+"HTTP a échoué."
 
 #: templates/ERR_CACHE_ACCESS_DENIED:3 templates/ERR_CACHE_ACCESS_DENIED:5
 msgid "Cache Access Denied."
@@ -132,16 +140,16 @@ msgstr "La connexion %I a échouée."
 #: templates/ERR_INVALID_REQ:10
 msgid "Content-Length missing for POST or PUT requests."
 msgstr ""
-"Le champ \"Content-Length\" est absent, pour l'utilisation des requêtes POST "
-"ou PUT"
+"Le champ \"Content-Length\" est absent, pour l'utilisation des requêtes avec "
+"POST ou PUT"
 
 #: templates/ERR_DIR_LISTING:3
 msgid "Directory Content:"
 msgstr "Contenu du Répertoire :"
 
 #: templates/ERR_DIR_LISTING:4
 msgid "Directory Listing"
-msgstr "Listing du Répertoire"
+msgstr "Liste du répertoire"
 
 #: templates/ERR_DIR_LISTING:1
 msgid "Directory: %U"
@@ -158,16 +166,17 @@ msgstr "Répertoire : <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERREUR"
 
@@ -188,15 +197,16 @@ msgstr "ERREUR : envoi FTP défectueux"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERREUR : l'URL demandée n'a pas pu être chargée"
 
@@ -210,19 +220,19 @@ msgstr "Le traitement ESI a échoué."
 
 #: templates/ERR_FTP_PUT_CREATED:1 templates/ERR_FTP_PUT_MODIFIED:1
 msgid "FTP PUT Successful."
-msgstr "FTP PUT envoi du fichier réussi."
+msgstr "FTP avec PUT, envoi du fichier réussi."
 
 #: templates/ERR_FTP_PUT_ERROR:3
 msgid "FTP PUT upload failed"
-msgstr "FTP PUT échec à l'envoi du fichier"
+msgstr "FTP avec PUT, échec lors de l'envoi du fichier"
 
 #: templates/ERR_FTP_DISABLED:5
 msgid "FTP is Disabled"
 msgstr "FTP est désactivé"
 
 #: templates/ERR_SECURE_CONNECT_FAIL:5
 msgid "Failed to establish a secure connection to %I"
-msgstr "Il n'a pas été possible d'établir d'une connexion sécurisée vers %I"
+msgstr "Il n'a pas été possible d'établir une connexion sécurisée vers %I"
 
 #: templates/ERR_FTP_PUT_CREATED:3
 msgid "File created"
@@ -242,14 +252,17 @@ msgstr "Pour configurer Firefox, allez à : <ul>"
 msgid "For Internet Explorer browsers go to: <ul>"
 msgstr "Pour configurer Internet Explorer, allez à : <ul>"
 
-# Suggestion2 ok
 #: templates/ERR_AGENT_CONFIGURE:12 templates/ERR_AGENT_WPAD:11
 msgid "For Opera browsers go to: <ul>"
 msgstr "Pour configurer Opéra, allez à : <ul>"
 
 #: templates/ERR_FORWARDING_DENIED:5
 msgid "Forwarding Denied."
-msgstr "Retransmission interdite."
+msgstr "Transmission interdite."
+
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr "Défaillance de la passerelle Proxy "
 
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
@@ -260,23 +273,24 @@ msgstr "Retransmission interdite."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Générer le %T en %h (%s)"
 
 #: templates/ERR_INVALID_REQ:12
 msgid ""
 "HTTP/1.1 <q>Expect:</q> feature is being asked from an HTTP/1.0 software."
-msgstr "HTTP/1.1 <q>Expect:</ q> cette fonction a besoin du logiciel HTTP/1.0."
+msgstr "HTTP/1.1 <q>Expect:</q> cette fonction a besoin du logiciel HTTP/1.0."
 
 #: templates/ERR_URN_RESOLVE:6
 msgid "Hey, don't expect too much from URNs on %T :)"
@@ -297,15 +311,15 @@ msgid ""
 "If you are making a GET request, then the item you are trying to download is "
 "too large."
 msgstr ""
-"Si vous effectuez une requête GET, l'élément que vous essayez de télécharger "
-"est alors trop volumineux."
+"Si vous effectuez une requête avec GET, l'élément que vous essayez de "
+"télécharger est alors trop volumineux."
 
 #: templates/ERR_TOO_BIG:6
 msgid ""
 "If you are making a POST or PUT request, then the item you are trying to "
 "upload is too large."
 msgstr ""
-"Si vous effectuez une requête POST ou PUT, l'élément que vous essayez "
+"Si vous effectuez une requête avec POST ou PUT, l'élément que vous essayez "
 "d'envoyer est alors trop volumineux."
 
 #: templates/ERR_INVALID_REQ:11 templates/ERR_INVALID_URL:11
@@ -322,8 +336,8 @@ msgstr "Les double espaces ne sont pas valides dans une adresse URL"
 #: templates/ERR_AGENT_CONFIGURE:14
 msgid "In the HTTP proxy box type the proxy name %h and port 3128."
 msgstr ""
-"Dans l'onglet proxy HTTP, vous devez indiquer le chemin du proxy %h et le "
-"port 3128"
+"Vous devez indiquer le nom du proxy %h et le port 3128 dans l'onglet proxy "
+"du HTTP"
 
 #: templates/ERR_INVALID_URL:5
 msgid "Invalid URL"
@@ -370,9 +384,10 @@ msgid ""
 "have difficulties authenticating yourself or <a href=\"http://%h/cgi-bin/"
 "chpasswd.cgi\">change</a> your default password."
 msgstr ""
-"S'il vous plait, contacter <a href=\"mailto:%w%W\">administrateur du proxy</"
-"a> si vous avez des difficultés pour vous authentifier ou pour <a href="
-"\"http://%h/cgi-bin/chpasswd.cgi\">changez</a> votre mot de passe par défaut."
+"S'il vous plait, contacter <a href=\"mailto:%w%W\">l'administrateur du "
+"proxy</a> si vous avez des difficultés pour vous authentifier ou pour <a "
+"href=\"http://%h/cgi-bin/chpasswd.cgi\">changez</a> votre mot de passe par "
+"défaut."
 
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:7
 msgid ""
@@ -381,9 +396,9 @@ msgid ""
 "administrator, read Squid documentation on cache manager interface and check "
 "cache log for more detailed error messages."
 msgstr ""
-"S'il vous plait, contacter <a href=\"mailto:%w%W\">administrateur du proxy</"
-"a> si vous avez des difficultés pour vous authentifier ou si vous <em>êtes</"
-"em> l'administrateur, lisez la documentation Squid sur l'interface du "
+"S'il vous plait, contacter <a href=\"mailto:%w%W\">l'administrateur du "
+"proxy</a> si vous avez des difficultés pour vous authentifier ou si vous "
+"<em>êtes</em> administrateur, lisez la documentation Squid de l'interface du "
 "gestionnaire de cache, vérifiez aussi les fichiers logs du gestionnaire "
 "cache pour analyser en détails les messages d'erreurs."
 
@@ -405,7 +420,7 @@ msgstr "La requête est trop volumineuse"
 
 #: templates/ERR_AGENT_WPAD:10
 msgid "Select Automatically detect settings"
-msgstr "Sélectionnez détection automatique les paramètres"
+msgstr "Sélectionnez la détection automatique des paramètres"
 
 #: templates/ERR_AGENT_WPAD:13
 msgid "Select Use Automatic proxy configuration"
@@ -442,16 +457,16 @@ msgstr ""
 
 #: templates/ERR_ZERO_SIZE_OBJECT:6
 msgid "Squid did not receive any data for this request."
-msgstr "Squid n'a reçu toutes les données pour cette requête."
+msgstr "Squid n'a pas reçu toutes les données pour cette requête."
 
 #: templates/ERR_UNSUP_REQ:6
 msgid ""
 "Squid does not support all request methods for all access protocols. For "
 "example, you can not POST a Gopher request."
 msgstr ""
-"Squid ne prend pas en charge tout les types de requêtes par rapport à tous "
-"les protocoles d'accès. Vous ne pouvez pas par exemple utiliser le protocole "
-"POST dans une requête Gopher."
+"Squid ne prend pas en charge tous les types de requêtes par rapport à tous "
+"les protocoles d'accès. Vous ne pouvez pas par exemple utiliser une requête "
+"POST avec le protocole Gopher."
 
 #: templates/ERR_LIFETIME_EXP:6
 msgid ""
@@ -465,7 +480,7 @@ msgid ""
 "Squid is unable to create a TCP socket, presumably due to excessive load. "
 "Please retry your request."
 msgstr ""
-"Squid n'est pas en mesure d'ouvrir une socket TCP, probablement due à une "
+"Squid n'est pas en mesure d'ouvrir le socket TCP, probablement due à une "
 "surcharge. Veuillez renouveler votre requête."
 
 #: templates/ERR_FTP_FAILURE:5 templates/ERR_FTP_FORBIDDEN:5
@@ -485,16 +500,16 @@ msgstr "Le processeur ESI a répondu :"
 #: templates/ERR_FTP_UNAVAILABLE:4
 msgid "The FTP server was too busy to retrieve the URL: <a href=\"%U\">%U</a>"
 msgstr ""
-"Le serveur FTP était surchargé et ne permettent pas l'accès à l'URL : <a "
-"href=\"%U\">%U</a>"
+"Le serveur FTP est surchargé et ne permet pas d'accéder à l'URL : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_INVALID_RESP:5
 msgid ""
 "The HTTP Response message received from the contacted server could not be "
 "understood or was otherwise malformed. Please contact the site operator."
 msgstr ""
-"Le message reçu par le serveur HTTP contacté, n'a pas pu être compris ou a "
-"été mal formulé. Veuillez contacter le responsable du site."
+"La réponse HTTP reçu, qui a été envoyée par le serveur n'a pas pu être "
+"compris ou a été mal formulé. Veuillez contacter le responsable du site."
 
 #: templates/ERR_ICAP_FAILURE:9
 msgid "The ICAP server is not reachable."
@@ -508,28 +523,29 @@ msgstr "L'URL suivante n'a pas pu être chargée : <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
 msgstr ""
-"En essayant d'accéder à l'URL <a href=\"%U\">%U</a> l'erreur suivante a été "
-"rencontrée :"
+"L'erreur suivante s'est produite en essayant d'accéder à l'URL : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_URN_RESOLVE:4
 msgid ""
 "The following error was encountered while trying to retrieve the URN: <a "
 "href=\"%U\">%U</a>"
 msgstr ""
-"En essayant d'accéder à l'URN <a href=\"%U\">%U</a> l'erreur suivante a été "
-"rencontrée :"
+"l'erreur suivante s'est produite en essayant d'accéder à l'URN : <a href=\"%"
+"U\">%U</a>"
 
 #: templates/ERR_CONNECT_FAIL:7
 msgid "The remote host or network may be down. Please try the request again."
@@ -546,15 +562,15 @@ msgstr "La requête ou la réponse est trop volumineuse."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "L'URL demandée n'a pas pu être trouvé"
 
@@ -615,6 +631,15 @@ msgstr ""
 "application une interaction. Le client %i est peut-être un cache mal "
 "configuré."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ces limites ont été fixées par le Fournisseur d'Accès Internet et agissent "
+"sur ce proxy. Si vous pensez que c'est une erreur, contactez le fournisseur "
+"d'accès."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Cela signifie que certains aspects de la communication ICAP a échoués."
@@ -625,7 +650,7 @@ msgid ""
 "file. Check the path, permissions, diskspace and try again."
 msgstr ""
 "Cela signifie que le serveur FTP n'a pas les autorisations ou pas assez "
-"d'espace pour stocker ce fichier. Veuillez vérifier l'emplacement, les "
+"d'espace pour stocker ce fichier. Veuillez vérifier le chemin, les "
 "autorisations et l'espace disque puis essayez de nouveau."
 
 #: templates/ERR_DNS_FAIL:7
@@ -654,9 +679,9 @@ msgid ""
 "comply with RFC 1738). If this is the cause, then the file can be found at "
 "<a href=\"%B\">%B</a>."
 msgstr ""
-"Cela pourrait être causé par une URL FTP qui contient les chemins absolus "
-"(ce qui n'est pas compatible avec la RFC 1738). Si tel est le cas, le "
-"fichier peut être disponible à l'adresse <a% href=\\\"%B\\\"> B </ a>."
+"Cela pourrait être causé par une URL FTP qui contient un chemin absolut (ce "
+"qui n'est pas compatible avec la RFC 1738). Si tel est le cas, le fichier "
+"peut être disponible à l'adresse <a href=\"%B\">%B</a>."
 
 #: templates/ERR_SECURE_CONNECT_FAIL:7
 msgid ""
@@ -666,7 +691,7 @@ msgid ""
 "the host security credentials."
 msgstr ""
 "Ce proxy et l'hôte distant n'ont pas pu négocier mutuellement une connexion "
-"de sécurité pour le traitement de votre requête. Il est possible que l'hôte "
+"sécurisée pour le traitement de votre requête. Il est possible que l'hôte "
 "distant ne supporte pas les connexions sécurisées, ou que le proxy n'est pas "
 "satisfait du certificat de sécurité de l'hôte distant."
 
@@ -721,8 +746,8 @@ msgid ""
 "Valid document was not found in the cache and <q>only-if-cached</q> "
 "directive was specified."
 msgstr ""
-"Aucun document valide n'a été trouvé dans le cache et la directive <q>only-"
-"if-cached</q> a été spécifiée."
+"Aucun document valide n'a été trouvé dans le cache, de plus la directive "
+"<q>only-if-cached</q> a été spécifiée."
 
 #: templates/ERR_AGENT_CONFIGURE:1 templates/ERR_AGENT_CONFIGURE:3
 #: templates/ERR_AGENT_WPAD:1 templates/ERR_AGENT_WPAD:3
@@ -757,15 +782,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Votre administrateur proxy est <a href=\"mailto:%w\">%w</a>."
 
@@ -783,7 +809,7 @@ msgstr "Votre webmaster est <a href=\"mailto:%w\">%w</a>."
 
 #: templates/ERR_ZERO_SIZE_OBJECT:5
 msgid "Zero Sized Reply"
-msgstr "Réponse de longueur nulle"
+msgstr "Réponse de taille zéro"
 
 #~ msgid "ERROR: The requested URN not be retrieved"
 #~ msgstr "ERREUR : L'URN demandée n'a pu être chargée"
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-07 15:11+1300\n"
 "Last-Translator: yoav <yoavb@zavit.net.il>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "הגישה נדחית"
@@ -143,16 +149,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "שגיאה"
 
@@ -173,15 +180,16 @@ msgstr "שגיאה: העלאת קובץ ל-FTP נכשלה"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "שגיאה: הכתובת המבוקשת לא נגישה"
 
@@ -236,6 +244,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "העברה נדחית."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -245,16 +257,17 @@ msgstr "העברה נדחית."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -480,14 +493,15 @@ msgstr "לא ניתן לגשת אל הכתובת הנ\"ל: <a href=\"%U\">%U</a>
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -513,15 +527,15 @@ msgstr "הבקשה או התשובה גדולים מדי."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "לא ניתן לגשת אל הכתובת המבוקשת"
 
@@ -581,6 +595,15 @@ msgstr ""
 "השרת לא יעביר את בקשתך בגלל שהיא מנסה לחייב קשרי ילדים. אולי הלקוח ב %i הוא "
 "שרת פרוקסי שלא הוגדר נכון."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"הגבלות אלו הוצבו ע\"י ספק האינטרנט אשר מתחזק שרת זה. אנא צור עמם רשק אם "
+"לדעתך זוהי טעות."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -700,15 +723,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "מנהל השרת הוא <a href=\"mailto:%w%W\">%w</a>. "
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-09-30 09:51+0000\n"
 "Last-Translator: Muszela Balázs <bazsi86@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Az URN egy URL-je nem tölthető le"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Hozzáférés megtagadva."
@@ -147,16 +153,17 @@ msgstr "FTP Könyvtár: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "HIBA"
 
@@ -177,15 +184,16 @@ msgstr "HIBA: FTP feltöltési hiba"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "HIBA: A kért URL nem tölthető le"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Kéréstovábbítás megtagadva."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "Kéréstovábbítás megtagadva."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -496,14 +509,15 @@ msgstr "Az alábbi URL nem tölthető le: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -531,15 +545,15 @@ msgstr "A kérés vagy a válasz túl nagy méretű."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A kért URL nem tölthető le"
 
@@ -603,6 +617,16 @@ msgstr ""
 "szeretne kierőszakolni a klienstől. Feltehetőleg a kliens (%i) egy olyan "
 "cache szerver, amelyik félre lett konfigurálva."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"A cache-t működtető Internet szolgáltató vezette be ezeket a korlátozásokat. "
+"Kérjük, forduljon közvetlenül szolgáltatójához amennyiben a szerver "
+"helytelen beállításában látja a hiba okát."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,16 +2,16 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
-"PO-Revision-Date: 2010-08-21 17:08+0200\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
+"PO-Revision-Date: 2011-01-20 21:35+0200\n"
 "Last-Translator: Arthur <arthurtumanyan@yahoo.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
 "Language: hy\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=1; plural=0;\n"
-"X-Generator: Pootle 2.0.1\n"
+"X-Generator: Pootle 2.0.5\n"
 
 #: templates/ERR_DIR_LISTING:6
 msgid "<a href=\"../\">Parent Directory</a> (<a href=\"/\">Root Directory</a>)"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Պահանջվող URN-ի համար URL-ն հնարավոր չէ ստանալ"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Մուտքն արգելված է."
@@ -100,7 +106,7 @@ msgstr ""
 msgid ""
 "At least one precondition specified by the HTTP client in the request header "
 "has failed."
-msgstr ""
+msgstr "HTTP հարցումի նախապայմաններից առնվազն մեկը անհնար է մշակել"
 
 #: templates/ERR_CACHE_ACCESS_DENIED:3 templates/ERR_CACHE_ACCESS_DENIED:5
 msgid "Cache Access Denied."
@@ -112,17 +118,16 @@ msgid "Cache Manager Access Denied."
 msgstr "Քեշի կառավառման մուտքն արգելված է."
 
 #: templates/ERR_URN_RESOLVE:5
-#, fuzzy
 msgid "Cannot Resolve URN"
-msgstr "Cannot Resolve URN"
+msgstr "Չհաջողվեց մշակել URN հարցումը"
 
 #: templates/ERR_LIFETIME_EXP:5
 msgid "Connection Lifetime Expired"
 msgstr "Կապի հաստատման ժամանակը սպառվեց"
 
 #: templates/ERR_CONNECT_FAIL:5
 msgid "Connection to %I failed."
-msgstr ""
+msgstr "Չհաջողվեց կապ հաստատել %I -ի հետ"
 
 #: templates/ERR_INVALID_REQ:10
 msgid "Content-Length missing for POST or PUT requests."
@@ -134,7 +139,7 @@ msgstr "Դիրեկտորիայի պարունակությունը:"
 
 #: templates/ERR_DIR_LISTING:4
 msgid "Directory Listing"
-msgstr ""
+msgstr "Դիրեկտորիայի պարունակությունը"
 
 #: templates/ERR_DIR_LISTING:1
 msgid "Directory: %U"
@@ -151,16 +156,17 @@ msgstr "Դիրեկտորիա: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ՍԽԱԼ"
 
@@ -181,15 +187,16 @@ msgstr "ՍԽԱԼ; FTP upload գործողությունը խափանվեց"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ՍԽԱԼ: Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
@@ -199,7 +206,7 @@ msgstr "ՍԽԱԼ: Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
 #: templates/ERR_ESI:5
 msgid "ESI Processing failed."
-msgstr ""
+msgstr "Չհաջողվեց մշակել ESI հարցումը"
 
 #: templates/ERR_FTP_PUT_CREATED:1 templates/ERR_FTP_PUT_MODIFIED:1
 msgid "FTP PUT Successful."
@@ -241,6 +248,10 @@ msgstr "Opera բրաուզերի համար այցելեք: <ul>"
 msgid "Forwarding Denied."
 msgstr "Վերահասցեագրումն արգելված է."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -250,16 +261,17 @@ msgstr "Վերահասցեագրումն արգելված է."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Ստեղծված է %T by %h (%s)"
 
@@ -281,25 +293,19 @@ msgstr "Ինչպես փնտրել այս կարգաբերումները քո բ
 
 #: templates/ERR_ICAP_FAILURE:5
 msgid "ICAP protocol error."
-msgstr ""
+msgstr "ICAP արձանարության սխալ"
 
 #: templates/ERR_TOO_BIG:7
-#, fuzzy
 msgid ""
 "If you are making a GET request, then the item you are trying to download is "
 "too large."
-msgstr ""
-"Եթե Դուք GET հարցում եք ձևակերպում, ապա տարրը ,որը Դուք փորձում եք "
-"բեռնավորել, շատ մեծ ծավալ ունի."
+msgstr "GET հարցման օբյեկտը շատ մեծ ծավալ ունի."
 
 #: templates/ERR_TOO_BIG:6
-#, fuzzy
 msgid ""
 "If you are making a POST or PUT request, then the item you are trying to "
 "upload is too large."
-msgstr ""
-"Եթե Դուք POST կամ PUT  հարցում եք ձևակերպում, ապա տարրը ,որը Դուք փորձում եք "
-"բեռնավորել, շատ մեծ ծավալ ունի"
+msgstr "POST հարցման օբյեկտը շատ մեծ ծավալ ունի."
 
 #: templates/ERR_INVALID_REQ:11 templates/ERR_INVALID_URL:11
 msgid "Illegal character in hostname; underscores are not allowed."
@@ -376,7 +382,7 @@ msgstr ""
 
 #: templates/ERR_PRECONDITION_FAILED:5
 msgid "Precondition Failed."
-msgstr ""
+msgstr "Չհաջողվեց մշակել նախապայմանը"
 
 #: templates/ERR_READ_ERROR:5
 msgid "Read Error"
@@ -466,9 +472,8 @@ msgid "The DNS server returned:"
 msgstr "DNS սերվերի պատասխանը:"
 
 #: templates/ERR_ESI:6
-#, fuzzy
 msgid "The ESI processor returned:"
-msgstr "ESI պրոցեսորը պատասխանեց:"
+msgstr "ESI հարցման պատասխանն է։"
 
 #: templates/ERR_FTP_UNAVAILABLE:4
 msgid "The FTP server was too busy to retrieve the URL: <a href=\"%U\">%U</a>"
@@ -496,14 +501,15 @@ msgstr "Հետևյալ URL-ն հնարավոր չէ ստանալ: <a href=\"%U\"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +535,15 @@ msgstr "Հարցումը կամ պատասխանը շատ մեծ ծավալ ու
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Պահանջվող URL-ն հնարավոր չէ ստանալ"
 
@@ -597,6 +603,15 @@ msgstr ""
 "փոխհարաբերություններ հաստատելու պատճառով: Հավանական է, որ %i -ն սխալ "
 "սարքաբերված քեշ է."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Այս սահմանափակումը իրականացված է Ձեր ինտերնետ կապ ապահովողի կողմից: Եթե Դուք "
+"սա սխալ եք համարում, դիմեք նրան:"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Սա նշանակում է, որ ICAP կոմունիկացիայի որոշ ասպեկտներ սխալ են:"
@@ -733,15 +748,16 @@ msgstr "Այս ցանցից օգտվելու համար Ձեր բրաուզեր
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Ձեր քեշի կառավարիչը <a href=\"mailto:%w%W\">%w</a> է."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2008-11-02 03:46+1300\n"
 "Last-Translator: Ramdhani Fathurrohman <kontak@ramdhani.net>\n"
 "Language-Team: Indonesian <id@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL untuk URN yang diminta tidak bisa didapatkan kembali"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Akses Ditolak"
@@ -157,16 +163,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -187,15 +194,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -248,6 +256,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -257,16 +269,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -471,14 +484,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -503,15 +517,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -562,6 +576,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -675,15 +695,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-05-05 13:38+0200\n"
 "Last-Translator: Francesco Chemolli <kinkie@squid-cache.org>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -50,6 +50,12 @@ msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 "Non è stato possibile ottenere una URL corrispondente alla URN richiesta."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accesso negato."
@@ -153,16 +159,17 @@ msgstr "Directory: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRORE"
 
@@ -183,15 +190,16 @@ msgstr "ERRORE: l'invio del file via FTP non è riuscito."
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRORE: non è possibile accedere alla URL richiesta"
 
@@ -245,6 +253,10 @@ msgstr "Per configurare i browser Opera: <ul>"
 msgid "Forwarding Denied."
 msgstr "Inoltro negato."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -254,16 +266,17 @@ msgstr "Inoltro negato."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generato da %h (%s) il %T."
 
@@ -499,14 +512,15 @@ msgstr "Non è stato possibile accedere alla URL: <a href=\"%U\">%U</a>."
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -537,15 +551,15 @@ msgstr "La richesta o la risposta è di dimensioni troppo grandi."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Non è stato possibile accedere alla URL richiesta."
 
@@ -607,6 +621,15 @@ msgstr ""
 "relazione di parentela. Forse il client all'indirizzo %i è un proxy "
 "configurato in modo errato."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Questi limiti sono stati stabiliti dall'ISP che gestisce questo proxy. Se "
+"ritieni sia un errore, contatta il fornitore del servizio."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -755,15 +778,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "L'amministratore del proxy è <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-01-30 20:02+1300\n"
 "Last-Translator: Takahiro Kambe <taca@back-street.net>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -48,6 +48,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "リクエストされたURNのURLを調べられませんでした。"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "アクセスを拒否されました。"
@@ -157,16 +163,17 @@ msgstr "ディレクトリ: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "エラー"
 
@@ -187,15 +194,16 @@ msgstr "エラー: FTP アップロードは失敗しました"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "エラー: 要求されたURLからデータを取り出せませんでした。"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "転送は拒否されました。"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "転送は拒否されました。"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%Tに%h (%s)が生成しました。"
 
@@ -493,14 +506,15 @@ msgstr "以下のURLを取得できませんでした: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -528,15 +542,15 @@ msgstr "リクエストまたはリプライが大きすぎます。"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "リクエストされた URL は取得できませんでした"
 
@@ -598,6 +612,15 @@ msgstr ""
 "シュはあなたのリクエストを転送できませんでした．%i のキャッシュが誤った設定と"
 "なっているかもしれません．"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"これらの制限は、このキャッシュの運用者によって課されています。これがエラーだ"
+"と感じるときは直接運用者に連絡して下さい。"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -730,15 +753,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 17:23+1300\n"
 "Last-Translator: Jaeyeon Jung <jjung@cosmos.kaist.ac.kr>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "서버 이용 요구가 거절되었습니다."
@@ -145,16 +151,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "에러"
 
@@ -177,15 +184,16 @@ msgstr "에러: FTP upload 실패"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "에러: 요청된 URL을 가져올 수 없습니다"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "포워딩 불가"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr "포워딩 불가"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -485,14 +498,15 @@ msgstr "다음 URL이 처리되지 못했습니다: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -518,15 +532,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "요청된 URL을 가져올 수 없습니다."
 
@@ -586,6 +600,12 @@ msgstr ""
 "이 캐쉬는 sibling 관계로 설정되어 있기 때문에 이 요청을 처리할 수 없습니다. "
 "%i 의 client가 잘못 설정된 캐쉬일 수 있습니다."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -713,15 +733,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-07 19:27+1300\n"
 "Last-Translator: DVM <dvm382@takas.lt>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -44,6 +44,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "puslapis nurodytam URN negali būti atsiųstas"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Priėjimas draudžiamas."
@@ -146,16 +152,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "KLAIDA"
 
@@ -176,15 +183,16 @@ msgstr "KLAIDA: FTP uploadas nepavyko"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "KLAIDA: Puslapis nurodytu adresu negali būti atsiųstas"
 
@@ -239,6 +247,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Pervedimo komanda neleistina."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -248,16 +260,17 @@ msgstr "Pervedimo komanda neleistina."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -497,14 +510,15 @@ msgstr "Nepavyko atsiųsti puslapio: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -532,15 +546,15 @@ msgstr "Užklausa arba atsakymas yra per dideli."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Puslapis nurodytu adresu negali būti atsiųstas"
 
@@ -603,6 +617,15 @@ msgstr ""
 "Šis kešas negali perkelti jūsų užklausos, kadangi ji bando sukurti sibling "
 "tipo ryšius. Gal būt klientas %i yra kešas, kuris klaidingai sukonfigūruotas."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Šie apribojimai yra uždėti jūsų Interneto tiekėjo. Prašome kreiptis į savo "
+"administratorių arba Interneto tiekėją, jei manote, kad tai neteisinga."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -733,15 +756,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-28 12:47+0000\n"
 "Last-Translator: Mārtiņš Bruņenieks <Unknown>\n"
 "Language-Team: Latvian <lv@li.org>\n"
@@ -50,6 +50,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pieeja liegta"
@@ -157,16 +163,17 @@ msgstr "Direktorijs: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "Kļūda"
 
@@ -187,15 +194,16 @@ msgstr "Kļūda: FTP augšupielāde nav atļauta"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "KĻŪDA: Pieprasītā adrese nav atrodama"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Pārsūtīšana aizliegta."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "Pārsūtīšana aizliegta."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Ģenerēts %T by %h (%s)"
 
@@ -494,14 +507,15 @@ msgstr "Nevar atvērt sekojošu adresi: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -529,15 +543,15 @@ msgstr "Pieprasījums vai atbilde ir par lielu."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Nevar atvērt pieprasīto adresi."
 
@@ -597,6 +611,15 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Šos limitus ir uzstādījis pakalpojuma sniedzējs, kurš uztur šo kešatmiņu. "
+"Lūdzu sazinieties ar viņu, ja uzskatat, ka šī ir kļūda."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Tas nozīmē, ka ir problēmas ar ICAP komunikācijas niansēm."
@@ -719,15 +742,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Jūsu kešatmiņas administrators ir <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 23:33+0000\n"
 "Last-Translator: Mohamad Faizul bin Zulkifli <piju@mylinux.net.my>\n"
 "Language-Team: Malay <ms@li.org>\n"
@@ -50,6 +50,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL yang diminta tidak dapat dimuaturun"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Akses Disekat"
@@ -147,16 +153,17 @@ msgstr "Direktori: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "RALAT"
 
@@ -177,15 +184,16 @@ msgstr "RALAT: FTP Gagal"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "RALAT: URL yang diminta tidak dapat diterima"
 
@@ -240,6 +248,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -249,16 +261,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Dibuat pada %T by %h (%s)"
 
@@ -463,14 +476,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -495,15 +509,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -554,6 +568,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -667,15 +687,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Pengurus Proxy anda ialah <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-18 23:24+0200\n"
 "Last-Translator: Rene Wijninga <r.wijninga@whine.nl>\n"
 "Language-Team: Dutch <nl@li.org>\n"
@@ -52,6 +52,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "De gevraagde URN kon niet worden benaderd"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Toegang niet toegestaan."
@@ -156,16 +162,17 @@ msgstr "Map: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FOUT"
 
@@ -186,15 +193,16 @@ msgstr "FOUT: FTP upload mislukt"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FOUT: De gevraagde URL kon niet worden opgehaald"
 
@@ -249,6 +257,10 @@ msgstr "Voor Opera browsers ga naar: <ul>"
 msgid "Forwarding Denied."
 msgstr "Doorsturen niet toegestaan."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -258,16 +270,17 @@ msgstr "Doorsturen niet toegestaan."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gegenereerd %T door %h (%s)"
 
@@ -501,14 +514,15 @@ msgstr "De volgende URL kon niet worden opgehaald: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -539,15 +553,15 @@ msgstr "De aanvraag of het antwoord is te groot."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "De gevraagde URL kon niet worden opgehaald"
 
@@ -609,6 +623,16 @@ msgstr ""
 "tracht te bewerkstelligen. Wellicht dat de client op %i een fout ingestelde "
 "cache is."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Deze grootte-beperkingen zijn ingesteld door de beheerder van deze cache.  "
+"Neem contact op met de beheerder van deze cache, wanneer U van mening bent "
+"dat deze beperking onjuist is."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Dit betekent dat een onderdeel van de ICAP communicatie is mislukt."
@@ -755,15 +779,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "De beheerder van deze cache is <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -38,6 +38,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Accès interdich."
@@ -131,16 +137,17 @@ msgstr "Repertòri : <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERROR"
 
@@ -161,15 +168,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERREUR : L'URL demandada a pas pogut èsser cargada"
 
@@ -221,6 +229,10 @@ msgstr "Per Opera, anatz a : <ul>"
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -230,16 +242,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generada lo %T per %h (%s)"
 
@@ -444,14 +457,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -478,15 +492,15 @@ msgstr "La requèsta o la responsa es tròp gròssa."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "L'URL demandada a pas pogut èsser cargada"
 
@@ -537,6 +551,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -650,15 +670,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vòstre administrator d'amagatal es <a href=\"mailto:%w\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-01-02 23:51+0000\n"
 "Last-Translator: Jarosław Ogrodnik <nobodythere@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -46,6 +46,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL dla żądanego URN nie może zostać sprowadzony"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Dostęp zabroniony."
@@ -146,16 +152,17 @@ msgstr "Katalog: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "BŁĄD"
 
@@ -176,15 +183,16 @@ msgstr "BŁĄD: Nieudany FTP upload"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "BŁĄD: Żądany URL nie może zostać pobrany"
 
@@ -239,6 +247,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Przekazanie żądania zabronione."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -248,16 +260,17 @@ msgstr "Przekazanie żądania zabronione."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Utworzono %T przez %h (%s)"
 
@@ -485,14 +498,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -519,15 +533,15 @@ msgstr "Zapytanie lub odpowiedź jest zbyt długa."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Żądany URL nie może zostać pobrany"
 
@@ -584,6 +598,12 @@ msgstr ""
 "Ten serwer cache nie przekaże Twojego żądania ponieważ wymusza ono relację "
 "typu sibling. Być może klient %i jest błędnie skonfigurowanym serwerem cache."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -710,15 +730,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-09-25 09:18+1300\n"
 "Last-Translator: Aecio F. Neto <aecioneto@gmail.com>\n"
 "Language-Team: Brazilian Portuguese <pt_BR@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Uma URL para a URN requisitada não pode ser recuperada"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acesso Negado."
@@ -157,16 +163,17 @@ msgstr "Directório: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRO"
 
@@ -187,15 +194,16 @@ msgstr "ERRO: upload via FTP falhou"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRO: A URL requisitada não pode ser recuperada"
 
@@ -250,6 +258,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Encaminhamento Negado."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -259,16 +271,17 @@ msgstr "Encaminhamento Negado."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Gerado %T por %h (%s)"
 
@@ -501,14 +514,15 @@ msgstr "A seguinte URL não pôde ser recuperada: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -540,15 +554,15 @@ msgstr "A requisição ou a resposta é muito grande."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A URL requisitada não pôde ser recuperada"
 
@@ -612,6 +626,16 @@ msgstr ""
 "Este cache não encaminhará sua requisição porque está tentando forçar um "
 "relacionamento. Talvez o cliente em %i é um cache que está mal configurado."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Esses limites foram estabelecidos pelo Provedor de Serviço Internet em que "
+"este cache opera. Por favor, contate-os diretamente se você acha que isso é "
+"um erro."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Isto significa que alguma característica da comunicação ICAP falhou."
@@ -750,15 +774,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Seu administrador do cache é <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-14 14:41+1300\n"
 "Last-Translator: Pedro Lineu Orso <orso@pop.hsbcbamerindus.com.br>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Uma URL para requisição URN não pode ser recuperada"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Proibido o Acesso."
@@ -149,16 +155,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ERRO"
 
@@ -179,15 +186,16 @@ msgstr "ERRO: Erro no FTP upload"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERRO: A URL solicitada não pode ser recuperada"
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Expedição proibida."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Expedição proibida."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -498,14 +511,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -533,15 +547,15 @@ msgstr "A requisição ou resposta é muito grande."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "A URL solicitada não pode ser recuperada"
 
@@ -605,6 +619,16 @@ msgstr ""
 "relacionamentos. Talvez o usuário em %i é um cache que não está configurado "
 "corretamente."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Os limites foram estabelecidos pelo administrador deste cache. Por favor, "
+"entre em contato caso acredite que este cache está configurado "
+"incorretamente."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-20 16:29+0200\n"
 "Last-Translator: Arthur <arthur@psw.ro>\n"
 "Language-Team: Romanian <ro@li.org>\n"
@@ -54,6 +54,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Un URL pentru URN-ul cerut nu a putut fi accesat"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Acces interzis."
@@ -158,16 +164,17 @@ msgstr "Directorul: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "EROARE"
 
@@ -188,15 +195,16 @@ msgstr "EROARE: Operaţia FTP de încărcare a eşuat"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "EROARE: URL-ul cerut nu a putut fi accesat"
 
@@ -251,6 +259,10 @@ msgstr "Pentru navigatorul Opera mergeţi la: <ul>"
 msgid "Forwarding Denied."
 msgstr "Înaintarea cererii este interzisă."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -260,16 +272,17 @@ msgstr "Înaintarea cererii este interzisă."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generat %T de către %h (%s)"
 
@@ -504,14 +517,15 @@ msgstr "URL-ul următor nu a putut fi accesat: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -542,15 +556,15 @@ msgstr "Cererea sau răspunsul este prea mare."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "URL-ul cerut nu a putut fi accesat"
 
@@ -612,6 +626,16 @@ msgstr ""
 "stabilească o relaţie de echivalenţă. Poate că clientul %i este un cache "
 "care a fost configurat greşit."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Aceste limite au fost impuse de către organizaţia care oferă serviciile de "
+"Internet şi care administreză acest cache. Vă rugăm să îi contactaţi în mod "
+"direct dacă sunteţi de părere că este o greşeală."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Aceasta însemnă că o parte din comunicarea ICAP a eşuat."
@@ -756,15 +780,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Administratorul cache-ului este <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-14 11:47+0000\n"
 "Last-Translator: Amos Jeffries <Unknown>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -43,6 +43,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL для запрошенного URN не может быть получен"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Доступ запрещён."
@@ -142,16 +148,17 @@ msgstr "Каталог: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ОШИБКА"
 
@@ -172,15 +179,16 @@ msgstr "ОШИБКА: Отправка по FTP не удалась"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ОШИБКА: Запрошенный URL не может быть получен"
 
@@ -234,6 +242,10 @@ msgstr "Для браузера Opera перейдите в: <ul>"
 msgid "Forwarding Denied."
 msgstr "Пересылка запрещена."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -243,16 +255,17 @@ msgstr "Пересылка запрещена."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Создано %T на %h (%s)"
 
@@ -478,14 +491,15 @@ msgstr "Следующий URL не может быть получен: <a href=
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -510,15 +524,15 @@ msgstr "Запрос или ответ слишком велик."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Запрошенный URL не может быть получен"
 
@@ -580,6 +594,15 @@ msgstr ""
 "принудительно установить братские взаимоотношения (sibling relationship). "
 "Скорее всего, клиент %i - неправильно сконфигурированный кэш."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Эти ограничения были установлены администратором. Свяжитесь с ним для "
+"получения информации."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Это означает, что какой-то этап связи по протоколу ICAP не удался."
@@ -723,15 +746,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Администратор Вашего кэша: <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-19 18:57+0100\n"
 "Last-Translator: Ivan Masár <helix84@centrum.sk>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL pre požadované URN je nedostupné"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Prístup zamietnutý."
@@ -150,16 +156,17 @@ msgstr "Adresár: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "CHYBA"
 
@@ -180,15 +187,16 @@ msgstr "CHYBA: Nahrávanie prostredníctvom FTP zlyhalo"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "CHYBA: Požadovaný URL nebolo možné získať"
 
@@ -243,6 +251,10 @@ msgstr "Prehliadače Opera - choďte na: <ul>"
 msgid "Forwarding Denied."
 msgstr "Preposielanie zamietnuté."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Preposielanie zamietnuté."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Vytvoril %T, %h (%s)"
 
@@ -495,14 +508,15 @@ msgstr "Nasledovný URL je nedostupný: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -531,15 +545,15 @@ msgstr "Požiadavka alebo odpoveď je príliš veľká."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Požadovaný URL nebolo možné získať"
 
@@ -599,6 +613,15 @@ msgstr ""
 "vzťahu súrodenec. Možno je klient na %i cache server, ktorý bol zle "
 "nakonfigurovaný."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Tieto obmedzenia zaviedol poskytovateľ tohto cache servera. Prosím, "
+"kontaktujte ho priamo ak máte pocit, že to je chyba."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "To znamená, že niektorá časť komunikácie ICAP zlyhala."
@@ -741,15 +764,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vaším správcom cache je <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -38,6 +38,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -131,16 +137,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -161,15 +168,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr ""
 
@@ -221,6 +229,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -230,16 +242,17 @@ msgstr ""
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -444,14 +457,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -476,15 +490,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -535,6 +549,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -648,15 +668,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-03-08 23:50+0200\n"
 "Last-Translator: Bratislav <batailic@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -45,6 +45,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Adresa (URL) za traženi podatak (URN) ne može da se učita"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Pristup nije dozvoljen."
@@ -150,16 +156,17 @@ msgstr "Direktorijum: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "GREŠKA"
 
@@ -180,15 +187,16 @@ msgstr "GREŠKA: FTP upis/upload nije uspeo"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "GREŠKA: Tražena adresa (URL) ne može da se učita"
 
@@ -243,6 +251,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Prosleđivanje nije dozvoljeno."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -252,16 +264,17 @@ msgstr "Prosleđivanje nije dozvoljeno."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Generisano %T sa %h (%s)"
 
@@ -492,14 +505,15 @@ msgstr "Adresa (URL) nije dostupna: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -525,15 +539,15 @@ msgstr "Zahtev ili odgovor je prevelik."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Tražena adresa (URL) ne može da se učita"
 
@@ -598,6 +612,16 @@ msgstr ""
 "sibling odnose.  Možda je klijent na %i proksi serveru koji je pogrešno "
 "konfigurisan."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ove limite postavio je intenet servis provajder koji upravlja ovim proksi "
+"serverom.  Ako smatrate da je to greška, molimo stupite u kontakt sa "
+"administratorom."
+
 #: templates/ERR_ICAP_FAILURE:7
 #, fuzzy
 msgid "This means that some aspect of the ICAP communication failed."
@@ -735,15 +759,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Vaš keš/proksi administrator je: <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-02-10 23:51+0000\n"
 "Last-Translator: Henrik Nordström <henrik@henriknordstrom.net>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -47,6 +47,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "En URL f&ouml;r beg&auml;rd URN kunde inte h&auml;mtas"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Tilltr&auml;de Nekas."
@@ -154,16 +160,17 @@ msgstr "Katalog: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "FEL"
 
@@ -184,15 +191,16 @@ msgstr "FEL: FTP uppladdning misslyckades"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "FEL: Beg&auml;rd URL kunde inte h&auml;mtas"
 
@@ -247,6 +255,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Vidarebefodran Nekad."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -256,16 +268,17 @@ msgstr "Vidarebefodran Nekad."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Skapad %T av %h (%s)"
 
@@ -505,14 +518,15 @@ msgstr "F&ouml;ljande URL kunde inte h&auml;mtas: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -544,15 +558,15 @@ msgstr "Beg&auml;ran &auml;r f&ouml;r stor."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Den beg&auml;rda URL:en kunde inte h&auml;mtas"
 
@@ -618,6 +632,16 @@ msgstr ""
 "rs&ouml;ker att tvinga sig till en r&auml;ttighet som den inte har.  Kanske "
 "klienten vid %i &auml;r en cache som &auml;r felkonfigurerad."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Dessa gr&auml;nser &auml;r inst&auml;llda av den Internet Leverant&ouml;r "
+"som handhar den h&auml;r cacheservern.  Var v&auml;nlig kontakta dem direkt "
+"ifall du anser att detta &auml;r ett fel."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Detta betyder att ICAP kommunikationen misslyckades."
@@ -760,15 +784,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 "Din cacheserver administrat&ouml;r &auml;r <a href=\"mailto:%w%W\">%w</a>."
@@ -24,7 +24,7 @@ body
 
 <table id="dirlisting" summary="Directory Listing">
 <tr>
-<th><a href="../"><img border="0" src="/squid-internal-static/icons/anthony-dirup.gif" alt="Parent Directory"></a></th>
+<th><a href="../"><img border="0" src="/squid-internal-static/icons/silk/arrow_up.png" alt=""></a></th>
 <th nowrap="nowrap"><a href="../">Parent Directory</a> (<a href="/">Root Directory</a>)</th>
 </tr>
 
@@ -0,0 +1,39 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
+<html><head>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ERROR: The requested URL could not be retrieved</title>
+<style type="text/css"><!-- 
+ %l
+
+body
+:lang(fa) { direction: rtl; font-size: 100%; font-family: Tahoma, Roya, sans-serif; float: right; }
+:lang(he) { direction: rtl; float: right; }
+ --></style>
+</head><body>
+<div id="titles">
+<h1>ERROR</h1>
+<h2>The requested URL could not be retrieved</h2>
+</div>
+<hr>
+
+<div id="content">
+<p>The following error was encountered while trying to retrieve the URL: <a href="%U">%U</a></p>
+
+<blockquote id="error">
+<p><b>Gateway Proxy Failure</b></p>
+</blockquote>
+
+<p>A non-recoverable internal failure or configuration problem prevents this request from being completed.</p>
+
+<p>This may be due to limits established by the Internet Service Provider who operates this cache. Please contact them directly for more information.</p>
+
+<p>Your cache administrator is <a href="mailto:%w%W">%w</a>.</p>
+<br>
+</div>
+
+<hr>
+<div id="footer">
+<p>Generated %T by %h (%s)</p>
+<!-- %c -->
+</div>
+</body></html>
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-11 06:25+0000\n"
 "Last-Translator: Anon Sricharoenchai <Unknown>\n"
 "Language-Team: Thai <th@li.org>\n"
@@ -45,6 +45,12 @@ msgstr "มีภาวะข้อผิดผลาดระหว่างท
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "ไม่สามารถเรียกดู URL สำหรับ URN ที่ได้รับการร้องขอ"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr ""
@@ -140,16 +146,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr ""
 
@@ -170,15 +177,16 @@ msgstr "ERROR: ส่งไฟล์ขึ้น FTP ไม่สำเร็จ
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ERROR: ไม่สามารถเรียกดู URL ที่ได้รับการร้องขอ"
 
@@ -233,6 +241,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "การส่งต่อ (forwarding) ไม่ได้รับอนุญาต"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -242,16 +254,17 @@ msgstr "การส่งต่อ (forwarding) ไม่ได้รับอ
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -458,14 +471,15 @@ msgstr "ไม่สามารถเรียกดู URL ต่อไปน
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -490,15 +504,15 @@ msgstr "คำร้องขอหรือคำตอบกลับมีข
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "ไม่สามารถเรียกดู URL ที่ได้รับการร้องขอ"
 
@@ -552,6 +566,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -665,15 +685,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "ผู้ดูแลระบบแคชของคุณคือ <a href=\"mailto:%w%W\">%w</a>"
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-01-10 15:46+0000\n"
 "Last-Translator: Hüseyin Sevgi <hsevgi@msn.com>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN'ye erişmek için bir URL alınamadı."
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Erişim Yasak."
@@ -149,16 +155,17 @@ msgstr "Dizin: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "HATA"
 
@@ -179,15 +186,16 @@ msgstr "HATA: FTP dosya yüklemesi yapılamadı"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "HATA: İstenilen URL'e ulaşılamadı"
 
@@ -242,6 +250,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Yönlendirme yasak."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -251,16 +263,17 @@ msgstr "Yönlendirme yasak."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%h (%s) tarafından %T oluşturuldu"
 
@@ -483,14 +496,15 @@ msgstr "URL adresine erişilemiyor: <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -518,15 +532,15 @@ msgstr "Talep veya cevap çok büyük."
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "İstenilen URL'e ulaşılamadı"
 
@@ -591,6 +605,16 @@ msgstr ""
 "dolayı isteğinizi yönlendirememektedir. %i isimli Cache Sunucu ayarlarında "
 "bir yanlışlık olabilir."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Bu sınırlar internet servis sağlayıcınız tarafından kurulmuştur. Eğer bunun "
+"bir hata olduğnu düşünüyorsanız lütfen servis sağlayıcınızla irtibata "
+"geçiniz."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -720,15 +744,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Önbellk yöneticiniz <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-12-03 12:10+1300\n"
 "Last-Translator: Feshchuk Yuriy <swopster@meta.ua>\n"
 "Language-Team: Ukrainian <uk@li.org>\n"
@@ -51,6 +51,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URL для запитуваного URN не може бути отриманий"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Доступ заборонено"
@@ -155,16 +161,17 @@ msgstr "Директорія: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ПОМИЛКА"
 
@@ -185,15 +192,16 @@ msgstr "ПОМИЛКА: Невдала пересилка по FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ПОМИЛКА: Запитаний URL не може бути отриманий"
 
@@ -248,6 +256,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Пересилку заборонено"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -257,16 +269,17 @@ msgstr "Пересилку заборонено"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Згенеровано %T на %h (%s)"
 
@@ -496,14 +509,15 @@ msgstr "Наступний URL: <a href=\"%U\"> %U</a> не може бути о
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -530,15 +544,15 @@ msgstr "Запит або відповідь завеликі"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Запитаний URL не може бути отриманий."
 
@@ -600,6 +614,15 @@ msgstr ""
 "Цей кеш не перешле Ваш запит, через намагання встановити родинні "
 "взаємовідносини. Скоріш за все клієнт %i - невірно сконфігурований кеш."
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"Ці ліміти встановлено Інтернет постачальником, котрий керує даним кешом. "
+"Будь-ласка, зв'яжіться з ним, якщо Ви вважаєте дане повідомлення помилкою."
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "Це означає, що деякі елементи ICAP з'єднання несправні."
@@ -739,15 +762,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "Адміністратор даного кешу <a href=\"mailto:%w%W\">%w</a>."
 
@@ -7,7 +7,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: squid\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-03-14 16:45+0000\n"
 "Last-Translator: Akmal Xushvaqov <akmalxster@gmail.com>\n"
 "Language-Team: Uzbek <uz@li.org>\n"
@@ -49,6 +49,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Сўралган URN учун URL топилмади"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Рухсат берилмаган."
@@ -151,16 +157,17 @@ msgstr "Директория: <a href=\"/\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "ХАТО"
 
@@ -181,15 +188,16 @@ msgstr "ХАТО: FTP'га юклаш муваффақиятсиз якунла
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "ХАТО: Сўралган URL топилмади."
 
@@ -244,6 +252,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "Узатиш рад қилинди."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -253,16 +265,17 @@ msgstr "Узатиш рад қилинди."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "%h (%s) томонидан  %T яратилган"
 
@@ -481,14 +494,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -516,15 +530,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "Сўралган URL топилмади"
 
@@ -577,6 +591,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -690,15 +710,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2010-04-28 16:17+0200\n"
 "Last-Translator:  <clytie@riverland.net.au>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "Không thể lấy được một địa chỉ URL cho URN yêu cầu"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "Truy cập bị từ chối."
@@ -141,16 +147,17 @@ msgstr "Thư mục: <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "LỖI"
 
@@ -171,15 +178,16 @@ msgstr "LỖI: không tải lên được qua FTP"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "LỖI: không thể lấy địa chỉ URL yêu cầu"
 
@@ -234,6 +242,10 @@ msgstr "Đối với trình duyệt Opera thì thăm: <ul>"
 msgid "Forwarding Denied."
 msgstr "Chuyển tiếp bị từ chối."
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -243,16 +255,17 @@ msgstr "Chuyển tiếp bị từ chối."
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "Tạo %T bởi %h (%s)"
 
@@ -474,14 +487,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -506,15 +520,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr ""
 
@@ -565,6 +579,12 @@ msgid ""
 "misconfigured."
 msgstr ""
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -678,15 +698,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-10-28 11:35+0000\n"
 "Last-Translator: 王英华 <wantinghard@gmail.com>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -41,6 +41,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN 中的一个网址（URL）无法获取"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "访问被拒绝。"
@@ -139,16 +145,17 @@ msgstr "文件夹： <a href=\"%U\">%U</a>/"
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "错误"
 
@@ -169,15 +176,16 @@ msgstr "错误: FTP上传失败"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "错误: 不能获取请求的 URL"
 
@@ -232,6 +240,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "拒绝转送"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -241,16 +253,17 @@ msgstr "拒绝转送"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr "已由 %h (%s) 生成 %T"
 
@@ -469,14 +482,15 @@ msgstr "无法取回下面的 URL： <a href=\"%U\">%U</a>"
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -502,15 +516,15 @@ msgstr "请求或响应太大"
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "您所请求的网址（URL）无法获取"
 
@@ -569,6 +583,15 @@ msgstr ""
 "本缓存服务器无法转送您的请求，也许您是通过一个并未被本缓存服务器设定为允许存"
 "取的缓存服务器 %i 来访问的。"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+#, fuzzy
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+"这些长度限制由操作本缓存服务器的服务提供者制定。如果您觉得这是错误的，请与他"
+"们直接联系。"
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr "这意味着 ICAP 通信的某些地方失败了。"
@@ -700,15 +723,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr "缓存服务器的管理员 <a href=\"mailto:%w%W\">%w</a>."
 
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Squid-3\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2010-11-06 03:26+1300\n"
+"POT-Creation-Date: 2011-02-06 22:39+1300\n"
 "PO-Revision-Date: 2009-06-05 16:09+1300\n"
 "Last-Translator: Erick C. Chang <erick@mail.thu.edu.tw>\n"
 "Language-Team: Squid Developers <squid-dev@squid-cache.org>\n"
@@ -42,6 +42,12 @@ msgstr ""
 msgid "A URL for the requested URN could not be retrieved"
 msgstr "URN 中的一個網址（URL）無法被傳回"
 
+#: templates/ERR_GATEWAY_FAILURE:6
+msgid ""
+"A non-recoverable internal failure or configuration problem prevents this "
+"request from being completed."
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:5
 msgid "Access Denied."
 msgstr "存取被拒絕"
@@ -142,16 +148,17 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:2 templates/ERR_FTP_DISABLED:2
 #: templates/ERR_FTP_FAILURE:2 templates/ERR_FTP_FORBIDDEN:2
 #: templates/ERR_FTP_NOT_FOUND:2 templates/ERR_FTP_PUT_ERROR:2
-#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_ICAP_FAILURE:2
-#: templates/ERR_INVALID_REQ:2 templates/ERR_INVALID_RESP:2
-#: templates/ERR_INVALID_URL:2 templates/ERR_LIFETIME_EXP:2
-#: templates/ERR_NO_RELAY:2 templates/ERR_ONLY_IF_CACHED_MISS:2
-#: templates/ERR_PRECONDITION_FAILED:2 templates/ERR_READ_ERROR:2
-#: templates/ERR_READ_TIMEOUT:2 templates/ERR_SECURE_CONNECT_FAIL:2
-#: templates/ERR_SHUTTING_DOWN:2 templates/ERR_SOCKET_FAILURE:2
-#: templates/ERR_TOO_BIG:2 templates/ERR_UNSUP_HTTPVERSION:2
-#: templates/ERR_UNSUP_REQ:2 templates/ERR_URN_RESOLVE:2
-#: templates/ERR_WRITE_ERROR:2 templates/ERR_ZERO_SIZE_OBJECT:2
+#: templates/ERR_FTP_UNAVAILABLE:2 templates/ERR_GATEWAY_FAILURE:2
+#: templates/ERR_ICAP_FAILURE:2 templates/ERR_INVALID_REQ:2
+#: templates/ERR_INVALID_RESP:2 templates/ERR_INVALID_URL:2
+#: templates/ERR_LIFETIME_EXP:2 templates/ERR_NO_RELAY:2
+#: templates/ERR_ONLY_IF_CACHED_MISS:2 templates/ERR_PRECONDITION_FAILED:2
+#: templates/ERR_READ_ERROR:2 templates/ERR_READ_TIMEOUT:2
+#: templates/ERR_SECURE_CONNECT_FAIL:2 templates/ERR_SHUTTING_DOWN:2
+#: templates/ERR_SOCKET_FAILURE:2 templates/ERR_TOO_BIG:2
+#: templates/ERR_UNSUP_HTTPVERSION:2 templates/ERR_UNSUP_REQ:2
+#: templates/ERR_URN_RESOLVE:2 templates/ERR_WRITE_ERROR:2
+#: templates/ERR_ZERO_SIZE_OBJECT:2
 msgid "ERROR"
 msgstr "錯誤"
 
@@ -172,15 +179,16 @@ msgstr "錯誤: 檔案傳輸上傳（PUT）失敗"
 #: templates/ERR_FORWARDING_DENIED:1 templates/ERR_FTP_DISABLED:1
 #: templates/ERR_FTP_FAILURE:1 templates/ERR_FTP_FORBIDDEN:1
 #: templates/ERR_FTP_NOT_FOUND:1 templates/ERR_FTP_UNAVAILABLE:1
-#: templates/ERR_ICAP_FAILURE:1 templates/ERR_INVALID_REQ:1
-#: templates/ERR_INVALID_RESP:1 templates/ERR_INVALID_URL:1
-#: templates/ERR_LIFETIME_EXP:1 templates/ERR_NO_RELAY:1
-#: templates/ERR_ONLY_IF_CACHED_MISS:1 templates/ERR_PRECONDITION_FAILED:1
-#: templates/ERR_READ_ERROR:1 templates/ERR_READ_TIMEOUT:1
-#: templates/ERR_SECURE_CONNECT_FAIL:1 templates/ERR_SHUTTING_DOWN:1
-#: templates/ERR_SOCKET_FAILURE:1 templates/ERR_TOO_BIG:1
-#: templates/ERR_UNSUP_HTTPVERSION:1 templates/ERR_UNSUP_REQ:1
-#: templates/ERR_WRITE_ERROR:1 templates/ERR_ZERO_SIZE_OBJECT:1
+#: templates/ERR_GATEWAY_FAILURE:1 templates/ERR_ICAP_FAILURE:1
+#: templates/ERR_INVALID_REQ:1 templates/ERR_INVALID_RESP:1
+#: templates/ERR_INVALID_URL:1 templates/ERR_LIFETIME_EXP:1
+#: templates/ERR_NO_RELAY:1 templates/ERR_ONLY_IF_CACHED_MISS:1
+#: templates/ERR_PRECONDITION_FAILED:1 templates/ERR_READ_ERROR:1
+#: templates/ERR_READ_TIMEOUT:1 templates/ERR_SECURE_CONNECT_FAIL:1
+#: templates/ERR_SHUTTING_DOWN:1 templates/ERR_SOCKET_FAILURE:1
+#: templates/ERR_TOO_BIG:1 templates/ERR_UNSUP_HTTPVERSION:1
+#: templates/ERR_UNSUP_REQ:1 templates/ERR_WRITE_ERROR:1
+#: templates/ERR_ZERO_SIZE_OBJECT:1
 msgid "ERROR: The requested URL could not be retrieved"
 msgstr "錯誤: 欲連結之網址（URL）無法正確的傳回"
 
@@ -235,6 +243,10 @@ msgstr ""
 msgid "Forwarding Denied."
 msgstr "轉送要求被拒"
 
+#: templates/ERR_GATEWAY_FAILURE:5
+msgid "Gateway Proxy Failure"
+msgstr ""
+
 #: templates/ERR_ACCESS_DENIED:8 templates/ERR_AGENT_CONFIGURE:16
 #: templates/ERR_AGENT_WPAD:15 templates/ERR_CACHE_ACCESS_DENIED:8
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:8 templates/ERR_CANNOT_FORWARD:8
@@ -244,16 +256,17 @@ msgstr "轉送要求被拒"
 #: templates/ERR_FTP_FAILURE:8 templates/ERR_FTP_FORBIDDEN:8
 #: templates/ERR_FTP_NOT_FOUND:9 templates/ERR_FTP_PUT_CREATED:4
 #: templates/ERR_FTP_PUT_ERROR:9 templates/ERR_FTP_PUT_MODIFIED:4
-#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_ICAP_FAILURE:11
-#: templates/ERR_INVALID_REQ:14 templates/ERR_INVALID_RESP:8
-#: templates/ERR_INVALID_URL:13 templates/ERR_LIFETIME_EXP:8
-#: templates/ERR_NO_RELAY:8 templates/ERR_ONLY_IF_CACHED_MISS:8
-#: templates/ERR_PRECONDITION_FAILED:8 templates/ERR_READ_ERROR:9
-#: templates/ERR_READ_TIMEOUT:9 templates/ERR_SECURE_CONNECT_FAIL:9
-#: templates/ERR_SHUTTING_DOWN:7 templates/ERR_SOCKET_FAILURE:9
-#: templates/ERR_TOO_BIG:10 templates/ERR_UNSUP_HTTPVERSION:8
-#: templates/ERR_UNSUP_REQ:8 templates/ERR_URN_RESOLVE:8
-#: templates/ERR_WRITE_ERROR:9 templates/ERR_ZERO_SIZE_OBJECT:8
+#: templates/ERR_FTP_UNAVAILABLE:8 templates/ERR_GATEWAY_FAILURE:9
+#: templates/ERR_ICAP_FAILURE:11 templates/ERR_INVALID_REQ:14
+#: templates/ERR_INVALID_RESP:8 templates/ERR_INVALID_URL:13
+#: templates/ERR_LIFETIME_EXP:8 templates/ERR_NO_RELAY:8
+#: templates/ERR_ONLY_IF_CACHED_MISS:8 templates/ERR_PRECONDITION_FAILED:8
+#: templates/ERR_READ_ERROR:9 templates/ERR_READ_TIMEOUT:9
+#: templates/ERR_SECURE_CONNECT_FAIL:9 templates/ERR_SHUTTING_DOWN:7
+#: templates/ERR_SOCKET_FAILURE:9 templates/ERR_TOO_BIG:10
+#: templates/ERR_UNSUP_HTTPVERSION:8 templates/ERR_UNSUP_REQ:8
+#: templates/ERR_URN_RESOLVE:8 templates/ERR_WRITE_ERROR:9
+#: templates/ERR_ZERO_SIZE_OBJECT:8
 msgid "Generated %T by %h (%s)"
 msgstr ""
 
@@ -477,14 +490,15 @@ msgstr ""
 #: templates/ERR_CACHE_MGR_ACCESS_DENIED:4 templates/ERR_CANNOT_FORWARD:4
 #: templates/ERR_CONNECT_FAIL:4 templates/ERR_DNS_FAIL:4 templates/ERR_ESI:4
 #: templates/ERR_FORWARDING_DENIED:4 templates/ERR_FTP_DISABLED:4
-#: templates/ERR_ICAP_FAILURE:4 templates/ERR_INVALID_URL:4
-#: templates/ERR_LIFETIME_EXP:4 templates/ERR_NO_RELAY:4
-#: templates/ERR_ONLY_IF_CACHED_MISS:4 templates/ERR_PRECONDITION_FAILED:4
-#: templates/ERR_READ_ERROR:4 templates/ERR_READ_TIMEOUT:4
-#: templates/ERR_SECURE_CONNECT_FAIL:4 templates/ERR_SHUTTING_DOWN:4
-#: templates/ERR_SOCKET_FAILURE:4 templates/ERR_TOO_BIG:4
-#: templates/ERR_UNSUP_HTTPVERSION:4 templates/ERR_UNSUP_REQ:4
-#: templates/ERR_WRITE_ERROR:4 templates/ERR_ZERO_SIZE_OBJECT:4
+#: templates/ERR_GATEWAY_FAILURE:4 templates/ERR_ICAP_FAILURE:4
+#: templates/ERR_INVALID_URL:4 templates/ERR_LIFETIME_EXP:4
+#: templates/ERR_NO_RELAY:4 templates/ERR_ONLY_IF_CACHED_MISS:4
+#: templates/ERR_PRECONDITION_FAILED:4 templates/ERR_READ_ERROR:4
+#: templates/ERR_READ_TIMEOUT:4 templates/ERR_SECURE_CONNECT_FAIL:4
+#: templates/ERR_SHUTTING_DOWN:4 templates/ERR_SOCKET_FAILURE:4
+#: templates/ERR_TOO_BIG:4 templates/ERR_UNSUP_HTTPVERSION:4
+#: templates/ERR_UNSUP_REQ:4 templates/ERR_WRITE_ERROR:4
+#: templates/ERR_ZERO_SIZE_OBJECT:4
 msgid ""
 "The following error was encountered while trying to retrieve the URL: <a "
 "href=\"%U\">%U</a>"
@@ -510,15 +524,15 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:3 templates/ERR_FTP_DISABLED:3
 #: templates/ERR_FTP_FAILURE:3 templates/ERR_FTP_FORBIDDEN:3
 #: templates/ERR_FTP_NOT_FOUND:3 templates/ERR_FTP_UNAVAILABLE:3
-#: templates/ERR_ICAP_FAILURE:3 templates/ERR_INVALID_REQ:3
-#: templates/ERR_INVALID_RESP:3 templates/ERR_INVALID_URL:3
-#: templates/ERR_LIFETIME_EXP:3 templates/ERR_NO_RELAY:3
-#: templates/ERR_ONLY_IF_CACHED_MISS:3 templates/ERR_PRECONDITION_FAILED:3
-#: templates/ERR_READ_ERROR:3 templates/ERR_READ_TIMEOUT:3
-#: templates/ERR_SECURE_CONNECT_FAIL:3 templates/ERR_SHUTTING_DOWN:3
-#: templates/ERR_SOCKET_FAILURE:3 templates/ERR_TOO_BIG:3
-#: templates/ERR_UNSUP_REQ:3 templates/ERR_WRITE_ERROR:3
-#: templates/ERR_ZERO_SIZE_OBJECT:3
+#: templates/ERR_GATEWAY_FAILURE:3 templates/ERR_ICAP_FAILURE:3
+#: templates/ERR_INVALID_REQ:3 templates/ERR_INVALID_RESP:3
+#: templates/ERR_INVALID_URL:3 templates/ERR_LIFETIME_EXP:3
+#: templates/ERR_NO_RELAY:3 templates/ERR_ONLY_IF_CACHED_MISS:3
+#: templates/ERR_PRECONDITION_FAILED:3 templates/ERR_READ_ERROR:3
+#: templates/ERR_READ_TIMEOUT:3 templates/ERR_SECURE_CONNECT_FAIL:3
+#: templates/ERR_SHUTTING_DOWN:3 templates/ERR_SOCKET_FAILURE:3
+#: templates/ERR_TOO_BIG:3 templates/ERR_UNSUP_REQ:3
+#: templates/ERR_WRITE_ERROR:3 templates/ERR_ZERO_SIZE_OBJECT:3
 msgid "The requested URL could not be retrieved"
 msgstr "欲連結之網址（URL）無法正確的傳回"
 
@@ -577,6 +591,12 @@ msgstr ""
 "本快取伺服器將無法替您轉向您的連線要求，也許是因為您所使用的快取伺服器（%i）"
 "並未被本快取伺服器設定為准許進行存取。"
 
+#: templates/ERR_GATEWAY_FAILURE:7
+msgid ""
+"This may be due to limits established by the Internet Service Provider who "
+"operates this cache. Please contact them directly for more information."
+msgstr ""
+
 #: templates/ERR_ICAP_FAILURE:7
 msgid "This means that some aspect of the ICAP communication failed."
 msgstr ""
@@ -702,15 +722,16 @@ msgstr ""
 #: templates/ERR_FORWARDING_DENIED:7 templates/ERR_FTP_DISABLED:7
 #: templates/ERR_FTP_FAILURE:7 templates/ERR_FTP_FORBIDDEN:7
 #: templates/ERR_FTP_NOT_FOUND:8 templates/ERR_FTP_PUT_ERROR:8
-#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_INVALID_REQ:13
-#: templates/ERR_INVALID_RESP:7 templates/ERR_INVALID_URL:12
-#: templates/ERR_LIFETIME_EXP:7 templates/ERR_NO_RELAY:7
-#: templates/ERR_ONLY_IF_CACHED_MISS:7 templates/ERR_READ_ERROR:8
-#: templates/ERR_READ_TIMEOUT:8 templates/ERR_SECURE_CONNECT_FAIL:8
-#: templates/ERR_SHUTTING_DOWN:6 templates/ERR_SOCKET_FAILURE:8
-#: templates/ERR_TOO_BIG:9 templates/ERR_UNSUP_HTTPVERSION:7
-#: templates/ERR_UNSUP_REQ:7 templates/ERR_URN_RESOLVE:7
-#: templates/ERR_WRITE_ERROR:8 templates/ERR_ZERO_SIZE_OBJECT:7
+#: templates/ERR_FTP_UNAVAILABLE:7 templates/ERR_GATEWAY_FAILURE:8
+#: templates/ERR_INVALID_REQ:13 templates/ERR_INVALID_RESP:7
+#: templates/ERR_INVALID_URL:12 templates/ERR_LIFETIME_EXP:7
+#: templates/ERR_NO_RELAY:7 templates/ERR_ONLY_IF_CACHED_MISS:7
+#: templates/ERR_READ_ERROR:8 templates/ERR_READ_TIMEOUT:8
+#: templates/ERR_SECURE_CONNECT_FAIL:8 templates/ERR_SHUTTING_DOWN:6
+#: templates/ERR_SOCKET_FAILURE:8 templates/ERR_TOO_BIG:9
+#: templates/ERR_UNSUP_HTTPVERSION:7 templates/ERR_UNSUP_REQ:7
+#: templates/ERR_URN_RESOLVE:7 templates/ERR_WRITE_ERROR:8
+#: templates/ERR_ZERO_SIZE_OBJECT:7
 msgid "Your cache administrator is <a href=\"mailto:%w%W\">%w</a>."
 msgstr ""
 
@@ -63,7 +63,7 @@
 #if HAVE_FCNTL_H
 #include <fcntl.h>
 #endif
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #include <io.h>
 #endif
 #if HAVE_CTYPE_H
@@ -375,6 +375,7 @@ authenticate(int socket_fd, const char *username, const char *passwd)
         *ptr++ = len + 2;
         memcpy(ptr, identifier, len);
         ptr += len;
+        total_length += len + 2;
     } else {
         *ptr++ = PW_NAS_IP_ADDRESS;
         *ptr++ = 6;
@@ -1,21 +1,9 @@
 include $(top_srcdir)/src/Common.am
 
-# SAMBAPREFIX must point to the directory where Samba has been installed.
-# By default, Samba is installed in /usr/local/samba. If you changed this
-# by using the --prefix option when configuring Samba, you need to change
-# SAMBAPREFIX accordingly.
-
-## FIXME: autoconf should test for the samba path.
-
-SMB_AUTH_HELPER	= basic_smb_auth.sh
-SAMBAPREFIX=/usr/local/samba
-SMB_AUTH_HELPER_PATH = $(libexecdir)/$(SMB_AUTH_HELPER)
-
-libexec_SCRIPTS	= $(SMB_AUTH_HELPER)
-
+libexec_SCRIPTS	= basic_smb_auth.sh
 libexec_PROGRAMS = basic_smb_auth
 basic_smb_auth_SOURCES= basic_smb_auth.cc
-basic_smb_auth_CXXFLAGS = -DSAMBAPREFIX=\"$(SAMBAPREFIX)\" -DHELPERSCRIPT=\"$(SMB_AUTH_HELPER_PATH)\"
+basic_smb_auth_CXXFLAGS = -DHELPERSCRIPT=\"$(libexecdir)/basic_smb_auth.sh\"
 basic_smb_auth_LDADD = \
 		$(top_builddir)/lib/libmiscencoding.la \
 		$(COMPAT_LIB) \
@@ -197,10 +197,6 @@ main(int argc, char *argv[])
 
     shcmd = debug_enabled ? HELPERSCRIPT : HELPERSCRIPT " > /dev/null 2>&1";
 
-    /* pass to helper script */
-    if (putenv((char *)"SAMBAPREFIX=" SAMBAPREFIX) != 0)
-        return 1;
-
     while (fgets(buf, HELPER_INPUT_BUFFER, stdin) != NULL) {
 
         if ((s = strchr(buf, '\n')) == NULL)
@@ -47,13 +47,13 @@ else
   addropt=""
 fi
 echo "Query address options: $addropt"
-dcip=`$SAMBAPREFIX/bin/nmblookup $addropt "$PASSTHROUGH#1c" | awk '/^[0-9.]+ / { print $1 ; exit }'`
+dcip=`nmblookup $addropt "$PASSTHROUGH#1c" | awk '/^[0-9.]+ / { print $1 ; exit }'`
 echo "Domain controller IP address: $dcip"
 [ -n "$dcip" ] || exit 1
 
 # All right, we have the IP address of a domain controller,
 # but we need its name too
-dcname=`$SAMBAPREFIX/bin/nmblookup -A $dcip | awk '$2 == "<00>" { print $1 ; exit }'`
+dcname=`nmblookup -A $dcip | awk '$2 == "<00>" { print $1 ; exit }'`
 echo "Domain controller NETBIOS name: $dcname"
 [ -n "$dcname" ] || exit 1
 
@@ -63,7 +63,7 @@ export USER
 
 # Read the contents of the file $AUTHFILE on the $AUTHSHARE share
 authfilebs=`echo "$AUTHFILE" | tr / '\\\\'`
-authinfo=`$SAMBAPREFIX/bin/smbclient "//$dcname/$AUTHSHARE" -I $dcip -d 0 -E -W "$DOMAINNAME" -c "get $authfilebs -" 2>/dev/null`
+authinfo=`smbclient "//$dcname/$AUTHSHARE" -I $dcip -d 0 -E -W "$DOMAINNAME" -c "get $authfilebs -" 2>/dev/null`
 echo "Contents of //$dcname/$AUTHSHARE/$AUTHFILE: $authinfo"
 
 # Allow for both \n and \r\n end-of-line termination
@@ -1,8 +1,10 @@
 #!/bin/sh
-for prefix in ${SAMBAPREFIX} /usr/local /opt /opt/samba /usr/local/samba /usr
+for prefix in /usr/local /opt /opt/samba /usr/local/samba /usr
 do
     if [ -x ${prefix}/bin/smbclient ]; then
         exit 0
     fi
 done
-exit 1
+echo "WARNING: Samba smbclient not found in default location. basic_smb_auth may not work on this machine"
+# allow script install anyway.
+exit 0
@@ -36,7 +36,10 @@
 #endif
 
 /* Check if we try to compile on a Windows Platform */
-#if defined(_SQUID_CYGWIN_) || defined(_SQUID_MSWIN_)
+#if !_SQUID_WINDOWS_
+/* NON Windows Platform !!! */
+#error NON WINDOWS PLATFORM
+#endif
 
 #include "valid.h"
 
@@ -174,9 +177,3 @@ main(int argc, char **argv)
     }
     return 0;
 }
-
-#else  /* NON Windows Platform !!! */
-
-#error NON WINDOWS PLATFORM
-
-#endif
@@ -30,9 +30,12 @@
 #include "util.h"
 
 /* Check if we try to compile on a Windows Platform */
-#if defined(_SQUID_CYGWIN_) || defined(_SQUID_MSWIN_)
+#if !_SQUID_WINDOWS_
+/* NON Windows Platform !!! */
+#error NON WINDOWS PLATFORM
+#endif
 
-#if defined(_SQUID_CYGWIN_)
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 #endif
 #include "valid.h"
@@ -175,8 +178,3 @@ Valid_User(char *UserName, char *Password, char *Group)
     }
     return result;
 }
-#else  /* NON Windows Platform !!! */
-
-#error NON WINDOWS PLATFORM
-
-#endif
@@ -28,7 +28,7 @@
 #ifndef _VALID_H_
 #define _VALID_H_
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <windows.h>
 #endif
 #include <lm.h>
@@ -61,7 +61,7 @@
 #include "helpers/defines.h"
 #include "include/util.h"
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 int _wcsicmp(const wchar_t *, const wchar_t *);
 #endif
@@ -72,7 +72,7 @@
 #include "include/util.h"
 
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 int _wcsicmp(const wchar_t *, const wchar_t *);
 #endif
@@ -19,7 +19,7 @@
  *
  ********************************************************************************
  *
- * ext_edirectory_userip_acl.cc -- Rev 2010-12-06
+ * ext_edirectory_userip_acl.cc -- Rev 2010-12-15
  *
  */
 
@@ -249,46 +249,48 @@ void local_printfx(const char *msg,...)
  * Will not exceed size tolerances.
  *
  */
-int StringSplit(char *In_Str, char chr, char *Out_Str, size_t Out_Sz)
+int
+StringSplit(char *In_Str, char chr, char *Out_Str, size_t Out_Sz)
 {
-    char aBuf[EDUI_MAXLEN + (EDUI_MAXLEN / 4)], bBuf[Out_Sz], *p = NULL;
-    size_t In_Len, Out_Len, i;
-
-    if ((In_Str == NULL) || (Out_Str == NULL)) return (-1);
-    In_Len = strlen(In_Str) + 1;
-    if (In_Len > sizeof(aBuf)) return (-2);
-    /* Fully-Zero out everything, and copy Input to aBuf */
-    memset(aBuf, '\0', sizeof(aBuf));
-    memset(bBuf, '\0', sizeof(bBuf));
-    xstrncpy(aBuf, In_Str, In_Len);					/* Should be safe, '\0' padded buf */
-    memset(In_Str, '\0', In_Len);
-    memset(Out_Str, '\0', Out_Sz);
-
-    /* We need to use 'for' to get array-position information */
-    for (i = 0; i < In_Len; i++) {
-        if (aBuf[i] != (int) chr)
-            bBuf[i] = aBuf[i];
-        else {
-            /* Set pointer to current position, copy bBuf to Output */
-            p = &(aBuf[i]);
-            p++;
-            xstrncpy(Out_Str, bBuf, Out_Sz);
-            Out_Len = strlen(bBuf);
-            Out_Str[Out_Len + 1] = '\0';
-            xstrncpy(In_Str, p, ((In_Len - Out_Len) + 1));
-            return i;
-        }
+    if ((In_Str == NULL) || (Out_Str == NULL))
+        return (-1);
+
+    size_t In_Len = strlen(In_Str) + 1;
+
+    // find the char delimiter position...
+    char *p = In_Str;
+    while (*p != chr && *p != '\0' && (In_Str+In_Len) > p) {
+        p++;
     }
-    /* char not found */
-    Out_Len = strlen(bBuf);
-    if (Out_Len > 0) {
-        /* String without char remains */
-        xstrncpy(Out_Str, bBuf, Out_Sz);
-        Out_Str[Out_Len + 1] = '\0';
-        In_Str[0] = '\0';
-        return Out_Len;
-    } else
-        return (-3);
+
+    size_t i = (p-In_Str);
+
+    // token to big for the output buffer
+    if (i >= Out_Sz)
+        return (-2);
+
+    // wipe the unused Out_Obj area
+    memset(Out_Str+i, 0, Out_Sz-i);
+    // copy token from In_Str to Out_Str
+    memcpy(Out_Str, In_Str, i);
+
+    // omit the delimiter
+    if (*p == chr) {
+        p++;
+        i++;
+    } else {
+        // chr not found (or \0 found first). Wipe whole input buffer.
+        memset(In_Str, 0, In_Len);
+//        return (-3);
+// Returning <0 breaks current ConvertIP() code for last object
+        return (i);
+    }
+
+    // move the unused In_Str forward
+    memmove(In_Str, p, In_Len-i);
+    // wipe the end of In_Str
+    memset(In_Str+In_Len-i, 0, i);
+    return (i-1);
 }
 
 /*
@@ -298,37 +300,52 @@ int StringSplit(char *In_Str, char chr, char *Out_Str, size_t Out_Sz)
  * Will not exceed size tolerances.
  *
  */
-int BinarySplit(void *In_Obj, size_t In_Sz, char chr, void *Out_Obj, size_t Out_Sz)
+int
+BinarySplit(void *In_Obj, size_t In_Sz, char chr, void *Out_Obj, size_t Out_Sz)
 {
-    char aBuf[In_Sz + (In_Sz / 2)], bBuf[Out_Sz], *p = NULL;
-    size_t i;
-
-    if ((In_Obj == NULL) || (Out_Obj == NULL)) return (-1);
-    if ((In_Sz > sizeof(aBuf)) || (Out_Sz > sizeof(bBuf))) return (-2);
-    /* Fully-Zero out everything, and copy Input to aBuf */
-    memset(aBuf, '\0', sizeof(aBuf));
-    memset(bBuf, '\0', sizeof(bBuf));
-    memcpy(aBuf, In_Obj, In_Sz);
-    memset(In_Obj, '\0', In_Sz);
-    memset(Out_Obj, '\0', Out_Sz);
-
-    /* We need to use 'for' to get array-position information */
-    for (i = 0; i < In_Sz; i++) {
-        if (aBuf[i] != (int) chr)
-            bBuf[i] = aBuf[i];
-        else {
-            /* Set pointer to current position, copy bBuf to Output */
-            p = &(aBuf[i]);
-            p++;
-            memcpy(Out_Obj, bBuf, Out_Sz);
-            memcpy(In_Obj, p, In_Sz);
-            return i;
-        }
+    // check tolerances
+    if ((In_Obj == NULL) || (Out_Obj == NULL))
+        return (-1);
+
+    char *in = static_cast<char*>(In_Obj);
+    char *out = static_cast<char*>(Out_Obj);
+
+    // find the char delimiter position...
+    char *p = static_cast<char*>(In_Obj);
+    while (*p != chr && (in+In_Sz) > p) {
+        p++;
     }
-    /* char not found */
-    memcpy(Out_Obj, bBuf, Out_Sz);				/* Data remainder */
-    return (-3);
+
+    size_t i = (p-in);
+
+    // token to big for the output buffer
+    if (i > Out_Sz)
+        return (-2);
+
+    // wipe the unused Out_Obj area
+    memset(out+i, 0, Out_Sz-i);
+    // copy token from In_Obj to Out_Obj
+    memcpy(Out_Obj, In_Obj, i);
+
+    // omit the delimiter
+    if (*p == chr) {
+        p++;
+        i++;
+    } else {
+        // chr not found
+        memset(In_Obj, 0, In_Sz);
+//        return (-3);
+// Returning <0 breaks current code for last object
+        return (i);
+    }
+
+    // move the unused In_Obj forward
+    memmove(In_Obj, p, In_Sz-i);
+    // wipe the end of In_Obj
+    memset(in+In_Sz-i, 0, i);
+    return (i-1);
 }
+
 /* Displays version information */
 static void DisplayVersion()
 {
@@ -1,12 +1,18 @@
 #!/bin/sh
-
-for sambaprefix in ${SAMBAPREFIX} /usr/local /opt /opt/samba /usr/local/samba /usr
+samba_found="no"
+for sambaprefix in /usr/local /opt /opt/samba /usr/local/samba /usr
 do
-    for perlprefix in /usr /usr/local /opt /opt/perl
-    do
-        if [ -x $sambaprefix/bin/wbinfo -a -x $perlprefix/bin/perl ]; then
-            exit 0
-        fi
-    done
+    if [ -x $sambaprefix/bin/wbinfo ]; then
+      samba_found="yes"
+    fi
+done
+if test "$samba_found" = "no"; then
+    echo "WARNING: Samba wbinfo not found in default location. ext_wbinfo_group_acl may not work on this machine"
+fi
+for perlprefix in /usr /usr/local /opt /opt/perl
+do
+    if [ -x $perlprefix/bin/perl ]; then
+        exit 0
+    fi
 done
 exit 1
@@ -0,0 +1,17 @@
+include $(top_srcdir)/src/Common.am
+
+libexec_SCRIPTS	= log_db_daemon
+CLEANFILES += log_db_daemon log_db_daemon.8
+man_MANS = log_db_daemon.8
+EXTRA_DIST= \
+	config.test \
+	doc/views.sql \
+	doc/date_day_column.sql \
+	log_db_daemon.8 \
+	log_db_daemon.pl.in
+
+log_db_daemon.8: log_db_daemon
+	pod2man log_db_daemon log_db_daemon.8
+
+log_db_daemon: log_db_daemon.pl.in
+	$(subst_perlshell)
@@ -0,0 +1,7 @@
+#!/bin/sh
+
+## Test: do we have perl to build the helper scripts?
+## Test: do we have pod2man to build the manual?
+perl --version >/dev/null && echo | pod2man >/dev/null
+
+exit $?
@@ -0,0 +1,28 @@
+-- we need a separate column to store the date and time of the request
+ALTER TABLE access_log ADD COLUMN date_day DATE;
+ALTER TABLE access_log ADD COLUMN date_time TIME;
+
+-- let's populate the new columns, in case some rows already exist;
+-- the date and time values should be set by a trigger
+UPDATE access_log SET date_day  = DATE(FROM_UNIXTIME(time_since_epoch));
+UPDATE access_log SET date_time = TIME(FROM_UNIXTIME(time_since_epoch));
+
+-- let's create a view that uses the date column
+CREATE VIEW requests_per_day_2 AS SELECT date_day, COUNT(*) AS num_of_requests FROM access_log GROUP BY 1 ORDER BY 1;
+
+-- that view needs an index on the group by column
+CREATE INDEX date_day_idx ON access_log(date_day);
+
+
+-- a trigger that automatically extracts the date value from the time_since_epoch column
+-- and stores it in the date_day column
+DELIMITER //
+CREATE TRIGGER extract_date_day_bi BEFORE INSERT ON access_log FOR EACH ROW
+BEGIN
+	SET NEW.date_day  = DATE(FROM_UNIXTIME(NEW.time_since_epoch));
+    SET NEW.date_time = TIME(FROM_UNIXTIME(NEW.time_since_epoch));
+END //
+
+
+-- Note: after running this script against an already populated access_log,
+-- views have to be recreated, or the new date_day column will not show up.
@@ -0,0 +1,405 @@
+--
+-- Sample views
+--
+
+-- ip address of hosts accessing the cache
+CREATE OR REPLACE VIEW cache_clients AS
+    SELECT DISTINCT ip_client FROM access_log ORDER BY 1;
+
+-- this index helps view 'cache_clients'
+CREATE INDEX client_ip_idx ON access_log(ip_client);
+
+
+-- traffic by client
+CREATE OR REPLACE VIEW traffic_by_client AS
+    SELECT
+        ip_client,
+        SUM(http_reply_size)         AS total_bytes,
+        SUM(http_reply_size)/1024    AS total_kilobytes,
+        SUM(http_reply_size)/1048576 AS total_megabytes
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 1;
+
+-- most active clients
+-- same as before, but sorted by traffic;
+-- show only the 10 most active clients
+CREATE OR REPLACE VIEW most_active_clients AS
+    SELECT
+        ip_client,
+        SUM(http_reply_size)         AS total_bytes,
+        SUM(http_reply_size)/1024    AS total_kilobytes,
+        SUM(http_reply_size)/1048576 AS total_megabytes
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 2 DESC
+    LIMIT 10;
+
+
+-- traffic per day
+CREATE OR REPLACE VIEW traffic_per_day AS
+    SELECT
+        date_day,
+        SUM(http_reply_size)         AS total_bytes,
+        SUM(http_reply_size)/1024    AS total_kilobytes,
+        SUM(http_reply_size)/1048576 AS total_megabytes
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 1;
+
+-- traffic by client per day
+CREATE OR REPLACE VIEW traffic_per_day_per_client AS
+    SELECT
+        date_day,
+        ip_client,
+        SUM(http_reply_size)         AS total_bytes,
+        SUM(http_reply_size)/1024    AS total_kilobytes,
+        SUM(http_reply_size)/1048576 AS total_megabytes
+    FROM access_log
+    GROUP BY 1,2
+    ORDER BY 1,2 DESC;
+
+CREATE OR REPLACE VIEW traffic_per_month_per_client AS
+    SELECT
+        YEAR(date_day)          AS date_year,
+        MONTH(date_day)         AS date_month,
+        ip_client,
+        SUM(http_reply_size)         AS total_bytes,
+        SUM(http_reply_size)/1024    AS total_kilobytes,
+        SUM(http_reply_size)/1048576 AS total_megabytes
+    FROM access_log
+    GROUP BY 2,3
+    ORDER BY 1,2,3;
+
+-- list of clients with some stats
+CREATE OR REPLACE VIEW cache_clients_with_infos AS
+SELECT
+    a.ip_client,
+    COUNT(*)                                                         AS total_requests,
+    (COUNT(*)/(SELECT COUNT(*) FROM access_log))*100                 AS requests_perc,
+    SUM(a.http_reply_size)                                                AS total_traffic,
+    (SUM(a.http_reply_size)/(SELECT SUM(http_reply_size) FROM access_log))*100 AS traffic_perc,
+    (SELECT COUNT(*) FROM access_log a1 WHERE a1.ip_client=a.ip_client AND squid_request_status LIKE '%HIT%')
+    /
+    (SELECT COUNT(*) FROM access_log)
+    * 100                                                            AS hit_perc,
+    (SELECT COUNT(*) FROM access_log a1 WHERE a1.ip_client=a.ip_client AND squid_request_status LIKE '%MISS%')
+    /
+    (SELECT COUNT(*) FROM access_log)
+    * 100                                                            AS miss_perc,
+    MIN(date_day) AS first_access_date,
+    MIN(date_time) AS first_access_time,
+    MAX(date_day) AS last_access_date,
+    MAX(date_time) AS last_access_time
+FROM access_log a
+GROUP BY 1
+ORDER BY 1;
+
+-- this index helps view 'cache_clients_with_infos'
+CREATE INDEX client_req_status_idx ON access_log(ip_client, squid_request_status);
+
+
+-- number of requests per day
+CREATE OR REPLACE VIEW requests_per_day AS
+    SELECT
+        DATE(FROM_UNIXTIME(time_since_epoch)) AS date_day,
+        COUNT(*) AS num_of_requests
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 1;
+
+-- number of requests per minute
+CREATE OR REPLACE VIEW requests_per_minute AS
+    SELECT
+        DATE(FROM_UNIXTIME(time_since_epoch)) AS date_day,
+        HOUR(FROM_UNIXTIME(time_since_epoch)) AS date_hour,
+        MINUTE(FROM_UNIXTIME(time_since_epoch)) AS date_minute,
+        COUNT(*) AS num_of_requests
+    FROM access_log
+    GROUP BY 1,2,3
+    ORDER BY 1,2,3;
+
+-- number of requests per day of each cache client
+CREATE OR REPLACE VIEW requests_per_day_per_client AS
+    SELECT
+        DATE(FROM_UNIXTIME(time_since_epoch)) AS date_day,
+        ip_client,
+        COUNT(*) AS num_of_requests
+        FROM access_log
+        GROUP BY 1,2
+        ORDER BY 1,2;
+
+-- percentage of each request status
+CREATE OR REPLACE VIEW requests_status_perc AS
+    SELECT
+        squid_request_status,
+        (COUNT(*)/(SELECT COUNT(*) FROM access_log)*100) AS percentage
+    FROM access_log
+    GROUP BY squid_request_status
+    ORDER BY 2 DESC;
+
+-- this index helps view 'requests_status_perc'
+CREATE INDEX req_status_idx ON access_log(squid_request_status);
+
+-- request hits and misses, in percentage
+CREATE OR REPLACE VIEW hits_misses_perc AS
+    SELECT
+        'hits',
+        (SELECT COUNT(*) FROM access_log WHERE squid_request_status LIKE '%HIT%')
+        /
+        (SELECT COUNT(*) FROM access_log)*100
+        AS percentage
+UNION
+    SELECT
+        'misses',
+        (SELECT COUNT(*) FROM access_log WHERE squid_request_status LIKE '%MISS%')
+        /
+        (SELECT COUNT(*) FROM access_log)*100
+        AS pecentage;
+
+-- response times
+CREATE OR REPLACE VIEW time_response_ranges AS
+    SELECT
+        '0..500',
+        COUNT(*) / (SELECT COUNT(*) FROM access_log)*100 AS percentage
+    FROM access_log
+    WHERE time_response >= 0 AND time_response < 500
+UNION
+    SELECT
+        '500..1000',
+        COUNT(*) / (SELECT COUNT(*) FROM access_log)*100 AS percentage
+    FROM access_log
+    WHERE time_response >= 500 AND time_response < 1000
+UNION
+    SELECT
+        '1000..2000',
+        COUNT(*) / (SELECT COUNT(*) FROM access_log)*100 AS percentage
+    FROM access_log
+    WHERE time_response >= 1000 AND time_response < 2000
+UNION
+    SELECT
+        '>= 2000',
+        COUNT(*) / (SELECT COUNT(*) FROM access_log)*100 AS percentage
+    FROM access_log
+    WHERE time_response >= 2000;
+
+-- this index helps view 'time_response_ranges'
+CREATE INDEX time_response_idx ON access_log(time_response);
+
+-- response time graph
+CREATE OR REPLACE VIEW time_response_graph AS
+    SELECT
+        time_response,
+        COUNT(*) AS num_req
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 1;
+
+-- traffic by mime type
+CREATE OR REPLACE VIEW traffic_by_http_mime_type AS
+    SELECT
+        http_mime_type,
+        SUM(http_reply_size) as total_bytes
+    FROM access_log
+    GROUP BY http_mime_type
+    ORDER BY 2 DESC;
+
+-- last 10 queries
+CREATE OR REPLACE VIEW last_10_queries AS
+    SELECT *
+    FROM access_log
+    WHERE
+        id > (SELECT MAX(id) FROM access_log) - 10
+    ORDER BY id DESC;
+
+-- id of the last query of each client
+-- this view is required by the "last n queries by ip" view
+CREATE OR REPLACE VIEW last_query_by_client AS
+    SELECT
+        ip_client,
+        MAX(id) AS last_query_id
+    FROM access_log
+    GROUP BY ip_client;
+
+
+-- last 10 queries of each client
+-- NOTE: this query is conceptually wrong because it assumes that no holes exist
+-- in the values of column 'id'.
+-- This can be false if e.g. some access_log entries get deleted...
+CREATE OR REPLACE VIEW last_10_queries_by_client AS
+    SELECT *
+    FROM access_log a
+    WHERE
+        id > (
+            SELECT l.last_query_id
+            FROM last_query_by_client l
+            WHERE l.ip_client = a.ip_client
+        ) - 10
+    ORDER BY a.ip_client, a.id DESC;
+
+-- this index helps the "last_10_queries_by_client" view
+CREATE INDEX client_ip_record_id_idx ON access_log(ip_client, id);
+
+
+-- number of HIT requests per day
+CREATE OR REPLACE VIEW hits_per_day AS
+    SELECT
+        date_day,
+        COUNT(*) AS num_hits
+    FROM access_log
+    WHERE squid_request_status LIKE '%HIT%'
+    GROUP BY 1;
+
+-- HIT requests per day, percent (100% = total number of requests that day)
+CREATE OR REPLACE VIEW hits_per_day_perc AS
+    SELECT
+        r.date_day,
+        h.num_hits/r.num_of_requests*100 AS hits_per_day_perc
+    FROM requests_per_day r
+    JOIN
+        hits_per_day h
+        ON r.date_day = h.date_day;
+
+
+-- request methods (count)
+CREATE OR REPLACE VIEW http_methods AS
+    SELECT
+        http_method,
+        COUNT(*)
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 1;
+
+-- request methods by percent
+CREATE OR REPLACE VIEW http_methods_perc AS
+    SELECT
+        http_method,
+        COUNT(*) / (SELECT COUNT(*) FROM access_log) * 100 AS perc
+    FROM access_log
+    GROUP BY 1
+    ORDER BY 2 DESC;
+
+
+-- slowest queries
+CREATE OR REPLACE VIEW slowest_requests AS
+    SELECT *
+    FROM access_log
+    ORDER BY time_response DESC
+    LIMIT 10;
+
+
+CREATE OR REPLACE VIEW slowest_request_by_method AS
+    SELECT *
+    FROM access_log
+    GROUP BY http_method
+    ORDER BY http_method, time_response DESC;
+
+
+-- requests with the biggest reply size
+CREATE OR REPLACE VIEW biggest_requests AS
+    SELECT *
+    FROM access_log
+    ORDER BY http_reply_size DESC
+    LIMIT 10;
+
+
+
+-- list each day which has at least one request, with some statistics
+CREATE OR REPLACE VIEW days_with_infos AS
+    SELECT
+    date_day,
+    MIN(date_time)                        AS first_req_time,
+    MAX(date_time)                        AS last_req_time,
+    COUNT(*)                              AS number_of_requests,
+    SUM(http_reply_size)                       AS total_traffic_bytes,
+    SUM(http_reply_size) / 1048576             AS total_traffic_megabytes,
+    COUNT(DISTINCT ip_client)    AS number_of_clients,
+    AVG(time_response)                    AS avg_time_response,
+    MAX(time_response)                    AS max_time_response,
+
+    -- client that has made the highest number of requests that day
+    (
+        SELECT ip_client
+        FROM requests_per_day_per_client r
+        WHERE r.date_day = a.date_day
+        ORDER BY r.num_of_requests DESC LIMIT 1
+    )                                     AS most_active_client_r,
+
+    -- the number of requests that client actually made
+    (
+        SELECT r.num_of_requests
+        FROM requests_per_day_per_client r
+        WHERE r.date_day = a.date_day
+        ORDER BY r.num_of_requests DESC LIMIT 1
+    )                                     AS most_active_client_r_nr,
+
+    -- same info but as percentage on the total number of requests that day
+    -- we have to repeat the whole query because we cannot reference aliases
+    -- defined in previous columns
+    -- a date_day column with an index on it would help here; a view would probably help too...
+    (
+        (
+            SELECT r.num_of_requests
+            FROM requests_per_day_per_client r
+            WHERE r.date_day = a.date_day
+            ORDER BY 1 DESC LIMIT 1
+        ) / (
+            SELECT COUNT(*)
+            FROM access_log a1
+            WHERE a.date_day = a1.date_day
+        ) * 100
+    )                                     AS most_active_client_r_pc,
+
+    -- client that has generated the highest traffic that day
+    (
+        SELECT t.ip_client
+        FROM traffic_per_day_per_client t
+        WHERE t.date_day = a.date_day
+        ORDER BY t.total_bytes DESC LIMIT 1
+    )                                     AS most_active_client_t,
+
+    -- the actual traffic generated by that client
+    (
+        SELECT t.total_bytes
+        FROM traffic_per_day_per_client t
+        WHERE t.date_day = a.date_day
+        ORDER BY t.total_bytes DESC LIMIT 1
+    )                                     AS most_active_client_t_b,
+
+    -- same info expressed in megabytes
+    (
+        SELECT t.total_bytes
+        FROM traffic_per_day_per_client t
+        WHERE t.date_day = a.date_day
+        ORDER BY t.total_bytes DESC LIMIT 1
+    ) / 1048576                           AS most_active_client_t_mb,
+
+    -- same info in percentage on the total traffic that day
+    -- see previous comments
+    (
+        (
+            SELECT t.total_bytes
+            FROM traffic_per_day_per_client t
+            WHERE t.date_day = a.date_day
+            ORDER BY t.total_bytes DESC LIMIT 1
+        ) / (
+            SELECT SUM(http_reply_size)
+            FROM access_log a1
+            WHERE a.date_day = a1.date_day
+        ) * 100                               
+    )                                     AS most_active_client_t_pc
+
+    FROM access_log a
+    GROUP BY 1
+    ORDER BY 1;
+
+-- this index helps the "days_with_info" view
+CREATE INDEX date_day_idx ON access_log(date_day);
+
+
+CREATE OR REPLACE VIEW requests_in_last_minute AS
+    select * from access_log where time_since_epoch >= ( (select max(time_since_epoch) from access_log) - 60);
+
+
+CREATE OR REPLACE VIEW avg_req_per_minute AS
+    SELECT COUNT(*) FROM requests_in_last_minute;
@@ -0,0 +1,453 @@
+#!@PERL@
+use strict;
+use warnings;
+use DBI;
+use English qw( -no_match_vars );
+use Getopt::Long;
+use Pod::Usage;
+
+$|=1;
+
+=pod
+
+=head1 NAME
+
+log_db_daemon - Database logging daemon for Squid
+
+=head1 SYNOPSIS
+
+log_db_daemon DSN [options]
+
+=head1 DESCRIPTOIN
+
+This program writes Squid access.log entries to a database.
+Presently only accepts the B<squid> native format
+
+=over 8
+
+=item   B<DSN>
+
+Database DSN encoded as a path. This is sent as the access_log file path.
+
+Sample configuration:
+  access_log daemon:/host/database/table/username/password squid
+
+  to leave a parameter unspecified use a double slash:
+  access_log daemon://database/table/username/password squid
+
+Default "DBI:mysql:database=squid"
+
+=item   B<--debug>
+
+Write debug messages to Squid stderr or cache.log
+
+=cut
+
+# the first argument to this script is the log file path describing the DSN
+my $log_file = shift;
+
+# others may be options
+my $debug = 0;
+GetOptions(
+        'debug' => \$debug,
+        );
+
+
+# utility routine to print messages on stderr (so they appear in cache log)
+# without using warn, which would clutter the log with source line numbers
+sub log_info {
+    my $msg = shift;
+    print STDERR "$msg\n";
+}
+
+# we use logfile to pass database access information to this script
+# sample configuration:
+# access_log daemon:/host/database/table/username/password squid
+# to let a parmeter unspecified, e.g. the database host, use a double slash:
+# access_log daemon://database/table/username/password squid
+my ( $host, $database, $table, $user, $pass ) = $log_file =~ / \/(.*?)\/(.*?)\/(.*?)\/(.*?)\/(.*?) \z /xms;
+
+if ( !$host ) {
+    $host = 'localhost';
+    log_info("Database host not specified. Using $host.");
+}
+
+if ( !$database ) {
+    $database = 'squid_log';
+    log_info("Database name not specified. Using $database.");
+}
+
+if ( !$table ) {
+    $table = 'access_log';
+    log_info("Table parameter not specified. Using $table.");
+}
+
+if ( !$user ) {
+    $user = 'squid';
+    log_info("User parameter not specified. Using $user.");
+}
+
+if ( !$pass ) {
+    log_info('No password specified. Connecting with NO password.');
+}
+
+# fields that we should have in the table
+# Order here must match the order of fields in the Log format and parse() output array.
+my @db_fields = qw(
+    id
+    time_since_epoch
+    time_response
+    ip_client
+    squid_request_status
+    http_status_code
+    http_reply_size
+    http_method
+    http_url
+    http_username
+    squid_hier_status
+    ip_server
+    http_mime_type
+);
+
+# perform db connection
+my $dsn = "DBI:mysql:database=$database" . ($host ne "localhost" ? ":$host" : "");
+my $dbh;
+my $sth;
+eval {
+    warn "Connecting... dsn='$dsn', username='$user', password='...'";
+    $dbh = DBI->connect($dsn, $user, $pass, { AutoCommit => 1, RaiseError => 1, PrintError => 1 });
+};
+if ($EVAL_ERROR) {
+    die "Cannot connect to database: $DBI::errstr";
+}
+
+
+# a simple test to assure the specified table exists
+eval {
+    my $q = 'SELECT ' . join(',',@db_fields) . " FROM $table LIMIT 1";
+    my $sth = $dbh->prepare($q);
+    $sth->execute;
+};
+if ($EVAL_ERROR) {
+    # run a query to create the table of required syntax
+    my $create_query = 'CREATE TABLE ' . $table . ' (' .
+    " id INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY," .
+    " time_since_epoch     DECIMAL(15,3)," .
+    " time_response        INTEGER," .
+    " ip_client            CHAR(15)," .
+    " ip_server            CHAR(15)," .
+    " http_status_code     VARCHAR(10)," .
+    " http_reply_size      INTEGER," .
+    " http_method          VARCHAR(20)," .
+    " http_url             TEXT," .
+    " http_username        VARCHAR(20)," .
+    " http_mime_type       VARCHAR(50)," .
+    " squid_request_status VARCHAR(50)," .
+    " squid_hier_status    VARCHAR(20)" .
+    ");" ;
+
+    $sth = $dbh->prepare($create_query);
+    $sth->execute;
+    # test again and fail hard if it is still broken.
+    eval {
+        my $q = 'SELECT ' . join(',',@db_fields) . " FROM $table LIMIT 1";
+        my $sth = $dbh->prepare($q);
+        $sth->execute;
+    };
+    if ($EVAL_ERROR) {
+        die "Error initializing database table: $EVAL_ERROR";
+    };
+}
+# test 
+
+# for better performance, prepare the statement at startup
+eval {
+    my $q = "INSERT INTO $table (" . join(',',@db_fields) . ") VALUES(NULL" . ',?' x (scalar(@db_fields)-1) . ')';
+    #$sth = $dbh->prepare("INSERT INTO $table VALUES(NULL,?,?,?,?,?,?,?,?,?,?,?,?)");
+    $sth = $dbh->prepare($q);
+};
+if ($EVAL_ERROR) {
+    die "Error while preparing sql statement: $EVAL_ERROR";
+}
+
+sub parse($) {
+    my ($line) = @_;
+    my (@t) = $line =~ /^L(\d+\.\d+) *(\d+?) (.*?) (.*?)\/(\d+?) (\d+?) (.*?) (.*?) (.*?) (.*?)\/(.*?) (.*)$/;
+}
+
+# main loop
+while (my $line = <>) {
+    chomp $line;
+
+    my $cmd = substr($line, 0, 1);      # extract command byte
+
+    if ( $cmd eq 'L' ) {
+        my @log_entry = parse($line);
+        eval {                  # we catch db errors to avoid crashing squid in case something goes wrong...
+            $sth->execute(@log_entry) or die $sth->errstr
+        };
+        if ( $EVAL_ERROR ) {    # leave a trace of the error in the logs
+            warn $EVAL_ERROR . " values=(" . join(', ', @log_entry) . ')';
+        }
+    }
+}
+
+$dbh->disconnect();
+
+__END__
+
+=head1 DESCRIPTION
+
+This module exploits the new logfile daemon support available in squid 2.7 and 3.2 to store access log entries in a MySQL database.
+
+=head1 CONFIGURATION
+
+=head2 Squid configuration
+
+=head3 access_log directive
+
+The path to the access log file is used to provide the database connection parameters.
+
+  access_log daemon:/mysql_host:port/database/table/username/password squid
+
+The 'daemon' prefix is mandatory and tells squid that the B<logfile_daemon> helper is to be used instead of the normal file logging.
+
+The last parameter tells squid which log format to use when writing lines to the log daemon.
+Presently B<squid> format is supported.
+
+=over 4
+
+=item mysql_host:port
+
+Host where the mysql server is running. If left empty, 'localhost' is assumed.
+
+=item database
+
+Name of the database to connect to. If left empty, 'squid_log' is assumed.
+
+=item table
+
+Name of the database table where log lines are stored. If left empty, 'access_log' is assumed.
+
+=item username
+
+Username to use when connecting to the database. If left empty, 'squid' is assumed.
+
+=item password
+
+Password to use when connecting to the database. If left empty, no password is used.
+
+=back
+
+To leave all fields to their default values, you can use a single slash:
+
+  access_log daemon:/ squid
+
+To specify only the database password, which by default is empty, you must leave unspecified all the other parameters by using null strings:
+
+  access_log daemon://///password squid
+
+=head3 logfile_daemon directive
+
+This is the current way of telling squid where the logfile daemon resides.
+
+  logfile_daemon /path/to/squid/libexec/logfile-daemon_mysql.pl
+
+The script must be copied to the location specified in the directive.
+
+=head2 Database configuration
+
+Let's call the database 'squid_log' and the log table 'access_log'. The username and password for the db connection will be both 'squid'.
+
+=head3 Database
+
+Create the database:
+
+  CREATE DATABASE squid_log;
+
+=head3 User
+
+Create the user:
+
+  GRANT INSERT,SELECT,CREATE ON squid_log.* TO 'squid'@'localhost' IDENTIFIED BY 'squid';
+  FLUSH PRIVILEGES;
+
+Note that only CREATE, INSERT and SELECT privileges are granted to the 'squid' user. This ensures that the logfile daemon script cannot change or modify the log entries.
+
+=head3 Table
+
+The Daemon will attempt to initialize this table if none exists when it starts.
+
+The table created should look like:
+
+  CREATE TABLE access_log (
+    id                   INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
+    time_since_epoch     DECIMAL(15,3),
+    time_response        INTEGER,
+    ip_client            CHAR(15),
+    ip_server            CHAR(15),
+    http_status_code     VARCHAR(10),
+    http_reply_size      INTEGER,
+    http_method          VARCHAR(20),
+    http_url             TEXT,
+    http_username        VARCHAR(20),
+    http_mime_type       VARCHAR(50),
+    squid_hier_status    VARCHAR(20),
+    squid_request_status VARCHAR(20)
+  );
+
+=head1 VERSION INFORMATION
+
+This document refers to C<log_db_daemon> script version 0.5.
+
+The script has been developed and tested in the following environment:
+
+=over 4
+
+=item squid-2.7 Squid-3.2
+
+=item mysql 5.0.26 and 5.1
+
+=item perl 5.8.8
+
+=item OpenSUSE 10.2
+
+=back
+
+=head1 DATA EXTRACTION
+
+=head2 Sample queries.
+
+=over 4
+
+=item Clients accessing the cache
+
+  SELECT DISTINCT ip_client FROM access_log;
+
+=item Number of request per day
+
+  SELECT
+    DATE(FROM_UNIXTIME(time_since_epoch)) AS date_day,
+    COUNT(*) AS num_of_requests
+  FROM access_log
+  GROUP BY 1
+  ORDER BY 1;
+
+=item Request status count
+
+To obtain the raw count of each request status:
+
+  SELECT squid_request_status, COUNT(*) AS n
+  FROM access_log
+  GROUP BY squid_request_status
+  ORDER BY 2 DESC;
+
+To calculate the percentage of each request status:
+
+  SELECT
+    squid_request_status,
+    (COUNT(*)/(SELECT COUNT(*) FROM access_log)*100) AS percentage
+  FROM access_log
+  GROUP BY squid_request_status
+  ORDER BY 2 DESC;
+
+To distinguish only between HITs and MISSes:
+
+  SELECT
+    'hits',
+    (SELECT COUNT(*)
+    FROM access_log
+    WHERE squid_request_status LIKE '%HIT%')
+    /
+    (SELECT COUNT(*) FROM access_log)*100
+    AS percentage
+  UNION
+  SELECT
+    'misses',
+    (SELECT COUNT(*)
+    FROM access_log
+    WHERE squid_request_status LIKE '%MISS%')
+    /
+    (SELECT COUNT(*) FROM access_log)*100
+    AS pecentage;
+
+=item Response time ranges
+
+  SELECT
+    '0..500',
+    COUNT(*)/(SELECT COUNT(*) FROM access_log)*100 AS percentage
+  FROM access_log
+  WHERE time_response >= 0 AND time_response < 500
+  UNION
+  SELECT
+    '500..1000',
+    COUNT(*)/(SELECT COUNT(*) FROM access_log)*100 AS percentage
+  FROM access_log
+  WHERE time_response >= 500 AND time_response < 1000
+  UNION
+  SELECT
+    '1000..2000',
+    COUNT(*)/(SELECT COUNT(*) FROM access_log)*100 AS percentage
+  FROM access_log
+  WHERE time_response >= 1000 AND time_response < 2000
+  UNION
+  SELECT
+    '>= 2000',
+    COUNT(*)/(SELECT COUNT(*) FROM access_log)*100 AS percentage
+  FROM access_log
+  WHERE time_response >= 2000;
+
+=item Traffic by mime type
+
+  SELECT
+    http_mime_type,
+    SUM(http_reply_size) as total_bytes
+  FROM access_log
+  GROUP BY http_mime_type
+  ORDER BY 2 DESC;
+
+=item Traffic by client
+
+  SELECT
+    ip_client,
+    SUM(http_reply_size) AS total_bytes
+  FROM access_log
+  GROUP BY 1
+  ORDER BY 2 DESC;
+
+=back
+
+=head2 Speed issues
+
+The MyISAM storage engine is known to be faster than the InnoDB one, so although it doesn't support transactions and referential integrity, it might be more appropriate in this scenario. You might want to append "ENGINE=MYISAM" at the end of the table creation code in the above SQL script.
+
+Indexes should be created according to the queries that are more frequently run. The DDL script only creates an implicit index for the primary key column.
+
+=head1 TODO
+
+=head2 Table cleanup
+
+This script currently implements only the C<L> (i.e. "append a line to the log") command, therefore the log lines are never purged from the table. This approach has an obvious scalability problem.
+
+One solution would be to implement e.g. the "rotate log" command in a way that would calculate some summary values, put them in a "summary table" and then delete the lines used to caluclate those values.
+
+Similar cleanup code could be implemented in an external script and run periodically independently from squid log commands.
+
+=head2 Testing
+
+This script has only been tested in low-volume scenarios (single client, less than 10 req/s). Tests in high volume environments could reveal performance bottlenecks and bugs.
+
+=head1 AUTHOR
+
+Marcello Romani, marcello.romani@libero.it
+Amos Jeffries, amosjeffries@squid-cache.org
+
+=head1 COPYRIGHT AND LICENSE
+
+Copyright (C) 2008 by Marcello Romani
+
+This library is free software; you can redistribute it and/or modify
+it under the same terms as Perl itself, either Perl version 5.8.8 or,
+at your option, any later version of Perl 5 you may have available.
+
+=cut
@@ -1,5 +1,6 @@
 ## Alphabetical list of sub-directories to distribute with Squid:
 DIST_SUBDIRS = \
+	DB \
 	file
 
 SUBDIRS	= $(LOG_DAEMON_HELPERS)
@@ -56,14 +56,14 @@ rotate(const char *path, int rotate_count)
         i--;
         snprintf(from, MAXPATHLEN, "%s.%d", path, i - 1);
         snprintf(to, MAXPATHLEN, "%s.%d", path, i);
-#if defined(_SQUID_OS2_) || defined(_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         remove(to);
 #endif
         rename(from, to);
     }
     if (rotate_count > 0) {
         snprintf(to, MAXPATHLEN, "%s.%d", path, 0);
-#if defined(_SQUID_OS2_) || defined(_SQUID_WIN32_)
+#if _SQUID_OS2_ || _SQUID_WINDOWS_
         remove(to);
 #endif
         rename(path, to);
@@ -84,7 +84,7 @@
 #else
 /* no gcc, no debugging. varargs macros are a gcc extension */
 #define SEND2(X,Y) debug("sending '" X "' to squid\n",Y); printf(X "\n",Y);
-#define SEND4(X,Y,Z,W) debug("sending '" X "' to squid\n",Y,Z); printf(X "\n",Y,Z);
+#define SEND4(X,Y,Z,W) debug("sending '" X "' to squid\n",Y,Z,W); printf(X "\n",Y,Z,W);
 #endif
 
 const char *authenticate_ntlm_domain = "WORKGROUP";
@@ -1,37 +1,12 @@
-# $Id$
-#
+include $(top_srcdir)/icons/list
 
-ICONS	=	anthony-binhex.gif \
-		anthony-bomb.gif \
-		anthony-box.gif \
-		anthony-box2.gif \
-		anthony-c.gif \
-		anthony-compressed.gif \
-		anthony-dir.gif \
-		anthony-dirup.gif \
-		anthony-dvi.gif \
-		anthony-f.gif \
-		anthony-image.gif \
-		anthony-image2.gif \
-		anthony-layout.gif \
-		anthony-link.gif \
-		anthony-movie.gif \
-		anthony-pdf.gif \
-		anthony-portal.gif \
-		anthony-ps.gif \
-		anthony-quill.gif \
-		anthony-script.gif \
-		anthony-sound.gif \
-		anthony-tar.gif \
-		anthony-tex.gif \
-		anthony-text.gif \
-		anthony-unknown.gif \
-		anthony-xbm.gif \
-		anthony-xpm.gif
-
-icondir = $(datadir)/icons
+icondir = $(localstatedir)/www/squid/icons/silk
 icon_DATA = $(ICONS)
-EXTRA_DIST = $(ICONS)
+EXTRA_DIST = $(ICONS) list SN.png
 DISTCLEANFILES = 
 
-## DEFAULT_ICON_DIR        = $(sysconfdir)/icons
+install-data-local: SN.png install-iconDATA
+	$(INSTALL_DATA) $(srcdir)/SN.png "$(DESTDIR)$(localstatedir)/www/squid/icons/"
+
+uninstall-local:
+	$(RM) $(DESTDIR)$(localstatedir)/www/squid/icons/SN.png
@@ -0,0 +1,11 @@
+--2011-02-07 01:21:41--  http://www.squid-cache.org/Artwork/SN.png
+Resolving www.squid-cache.org... 198.186.193.234, 209.169.10.131
+Connecting to www.squid-cache.org|198.186.193.234|:80... connected.
+HTTP request sent, awaiting response... 200 OK
+Length: 12716 (12K) [image/png]
+Saving to: `SN.png'
+
+     0K .......... ..                                         100% 27.0K=0.5s
+
+2011-02-07 01:21:42 (27.0 KB/s) - `SN.png' saved [12716/12716]
+
@@ -0,0 +1,51 @@
+ICONS= \
+    silk/application.png \
+    silk/arrow_up.png \
+    silk/bomb.png \
+    silk/box.png \
+    silk/bricks.png \
+    silk/bullet_red.png \
+    silk/cd.png \
+    silk/chart_line.png \
+    silk/compress.png \
+    silk/computer_link.png \
+    silk/css.png \
+    silk/cup.png \
+    silk/database.png \
+    silk/database_table.png \
+    silk/drive_disk.png \
+    silk/film.png \
+    silk/film_key.png \
+    silk/folder.png \
+    silk/folder_table.png \
+    silk/image.png \
+    silk/information.png \
+    silk/layers.png \
+    silk/layout.png \
+    silk/link.png \
+    silk/music.png \
+    silk/package.png \
+    silk/package_go.png \
+    silk/page_code.png \
+    silk/page_excel.png \
+    silk/page_green.png \
+    silk/page_white.png \
+    silk/page_white_acrobat.png \
+    silk/page_white_c.png \
+    silk/page_white_cplusplus.png \
+    silk/page_white_flash.png \
+    silk/page_white_magnify.png \
+    silk/page_white_picture.png \
+    silk/page_white_powerpoint.png \
+    silk/page_white_stack.png \
+    silk/page_white_text.png \
+    silk/page_white_word.png \
+    silk/page_white_zip.png \
+    silk/page_world.png \
+    silk/photo.png \
+    silk/picture.png \
+    silk/plugin.png \
+    silk/plugin_add.png \
+    silk/script.png \
+    silk/script_gear.png \
+    silk/script_palette.png 
@@ -42,7 +42,7 @@
 
 /* represents [start, end) */
 
-template <class C>
+template <class C, class S = size_t>
 class Range
 {
 
@@ -52,35 +52,35 @@ class Range
     C start;
     C end;
     Range intersection (Range const &) const;
-    C size() const;
+    S size() const;
 };
 
-template <class C>
-std::ostream& operator << (std::ostream &os, Range<C> const &aRange)
+template <class C, class S>
+std::ostream& operator << (std::ostream &os, Range<C, S> const &aRange)
 {
     os << "[" << aRange.start << "," << aRange.end << ")";
     return os;
 }
 
-template<class C>
-Range<C>::Range () : start(), end() {}
+template<class C, class S>
+Range<C, S>::Range () : start(), end() {}
 
-template<class C>
-Range<C>::Range (C start_, C end_) : start(start_), end(end_) {}
+template<class C, class S>
+Range<C, S>::Range (C start_, C end_) : start(start_), end(end_) {}
 
-template<class C>
-Range<C>
-Range<C>::intersection (Range const &rhs) const
+template<class C, class S>
+Range<C, S>
+Range<C, S>::intersection (Range const &rhs) const
 {
-    Range<C> result (max(start, rhs.start), min(end, rhs.end));
+    Range<C, S> result (max(start, rhs.start), min(end, rhs.end));
     return result;
 }
 
-template<class C>
-C
-Range<C>::size() const
+template<class C, class S>
+S
+Range<C, S>::size() const
 {
-    return end > start ? end - start : 0;
+    return (S) (end > start ? end - start : 0);
 }
 
 #endif /* SQUID_RANGE_H */
@@ -91,38 +91,6 @@
 #define SQUID_UDP_SO_RCVBUF SQUID_DETECT_UDP_SO_RCVBUF
 #endif
 
-#if HAVE_MEMCPY
-#define xmemcpy(d,s,n) memcpy((d),(s),(n))
-#elif HAVE_BCOPY
-#define xmemcpy(d,s,n) bcopy((s),(d),(n))
-#elif HAVE_MEMMOVE
-#define xmemcpy(d,s,n) memmove((d),(s),(n))
-#endif
-
-#if HAVE_MEMMOVE
-#define xmemmove(d,s,n) memmove((d),(s),(n))
-#elif HAVE_BCOPY
-#define xmemmove(d,s,n) bcopy((s),(d),(n))
-#endif
-
-#if HAVE_CTYPE_H
-#include <ctype.h>
-#endif
-#define xisspace(x) isspace((unsigned char)x)
-#define xtoupper(x) toupper((unsigned char)x)
-#define xtolower(x) tolower((unsigned char)x)
-#define xisdigit(x) isdigit((unsigned char)x)
-#define xisascii(x) isascii((unsigned char)x)
-#define xislower(x) islower((unsigned char)x)
-#define xisalpha(x) isalpha((unsigned char)x)
-#define xisprint(x) isprint((unsigned char)x)
-#define xisalnum(x) isalnum((unsigned char)x)
-#define xiscntrl(x) iscntrl((unsigned char)x)
-#define xispunct(x) ispunct((unsigned char)x)
-#define xisupper(x) isupper((unsigned char)x)
-#define xisxdigit(x) isxdigit((unsigned char)x)
-#define xisgraph(x) isgraph((unsigned char)x)
-
 #if HAVE_RANDOM
 #define squid_random random
 #define squid_srandom srandom
@@ -134,20 +102,6 @@
 #define squid_srandom srand
 #endif
 
-/* gcc doesn't recognize the Windows native 64 bit formatting tags causing
- * the compile fail, so we must disable the check on native Windows.
- */
-
-#if __GNUC__ && !defined(_SQUID_MSWIN_)
-#define PRINTF_FORMAT_ARG1 __attribute__ ((format (printf, 1, 2)))
-#define PRINTF_FORMAT_ARG2 __attribute__ ((format (printf, 2, 3)))
-#define PRINTF_FORMAT_ARG3 __attribute__ ((format (printf, 3, 4)))
-#else
-#define PRINTF_FORMAT_ARG1
-#define PRINTF_FORMAT_ARG2
-#define PRINTF_FORMAT_ARG3
-#endif
-
 /*
  * Determine if this is a leak check build or standard
  */
@@ -162,9 +116,4 @@
 /* temp hack: needs to be pre-defined for now. */
 #define SQUID_MAXPATHLEN 256
 
-/*
- * strnstr() is needed. The OS may not provide a working copy.
- */
-#include "strnstr.h"
-
 #endif /* SQUID_CONFIG_H */
@@ -117,27 +117,22 @@ struct squid_radix_node_head {
     (void *v, void *mask, struct squid_radix_node_head * head, struct squid_radix_node nodes[]);
 
     struct squid_radix_node *(*rnh_deladdr)	/* remove based on sockaddr */
-
     (void *v, void *mask, struct squid_radix_node_head * head);
 
     struct squid_radix_node *(*rnh_delpkt)	/* remove based on packet hdr */
-
     (void *v, void *mask, struct squid_radix_node_head * head);
 
     struct squid_radix_node *(*rnh_matchaddr)		/* locate based on sockaddr */
-
     (void *v, struct squid_radix_node_head * head);
 
     struct squid_radix_node *(*rnh_lookup)	/* locate based on sockaddr */
 
     (void *v, void *mask, struct squid_radix_node_head * head);
 
     struct squid_radix_node *(*rnh_matchpkt)	/* locate based on packet hdr */
-
     (void *v, struct squid_radix_node_head * head);
 
     int (*rnh_walktree)		/* traverse tree */
-
     (struct squid_radix_node_head * head, int (*f) (struct squid_radix_node *, void *), void *w);
 
     struct squid_radix_node rnh_nodes[3];	/* empty tree for common case */
@@ -11,7 +11,6 @@
 #include "Stack.h"
 
 template <class V>
-
 class SplayNode
 {
 
@@ -32,8 +31,7 @@ class SplayNode
     SplayNode<V> const * start() const;
     SplayNode<V> const * finish() const;
 
-    SplayNode<V> * remove
-    (const Value data, SPLAYCMP * compare);
+    SplayNode<V> * remove(const Value data, SPLAYCMP * compare);
 
     SplayNode<V> * insert(Value data, SPLAYCMP * compare);
 
@@ -43,15 +41,12 @@ class SplayNode
 typedef SplayNode<void *> splayNode;
 
 template <class V>
-
 class SplayConstIterator;
 
 template <class V>
-
 class SplayIterator;
 
 template <class V>
-
 class Splay
 {
 
@@ -67,8 +62,7 @@ class Splay
     template <class FindValue> Value const *find (FindValue const &, int( * compare)(FindValue const &a, Value const &b)) const;
     void insert(Value const &, SPLAYCMP *compare);
 
-    void remove
-    (Value const &, SPLAYCMP *compare);
+    void remove(Value const &, SPLAYCMP *compare);
 
     void destroy(SPLAYFREE *);
 
@@ -158,8 +152,7 @@ SplayNode<V>::destroy(SPLAYFREE * free_func)
 
 template<class V>
 SplayNode<V> *
-SplayNode<V>::remove
-(Value const dataToRemove, SPLAYCMP * compare)
+SplayNode<V>::remove(Value const dataToRemove, SPLAYCMP * compare)
 {
     if (this == NULL)
         return NULL;
@@ -311,13 +304,11 @@ Splay<V>::insert(Value const &value, SPLAYCMP *compare)
 
 template <class V>
 void
-Splay<V>::remove
-(Value const &value, SPLAYCMP *compare)
+Splay<V>::remove(Value const &value, SPLAYCMP *compare)
 {
     assert (find (value, compare));
 
-    head = head->remove
-           (value, compare);
+    head = head->remove(value, compare);
 
     --elements;
 }
@@ -376,7 +367,6 @@ Splay<V>::end() const
 }
 
 template <class V>
-
 class SplayConstIterator
 {
 
@@ -33,7 +33,7 @@
 #ifndef _INC_SQUID_WINDOWS_H
 #define _INC_SQUID_WINDOWS_H
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #ifndef ACL
 #define ACL WindowsACL
@@ -45,6 +45,5 @@
 #undef _MSWIN_ACL_WAS_NOT_DEFINED
 #endif
 
-#endif /* _SQUID_WIN32_ */
-
+#endif /* _SQUID_WINDOWS_ */
 #endif /* _INC_SQUID_WINDOWS_H */
@@ -34,13 +34,13 @@
 #ifndef _LIBSSPWIN32_H_
 #define _LIBSSPWIN32_H_
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 
 #define SECURITY_WIN32
 #define NTLM_PACKAGE_NAME "NTLM"
 #define NEGOTIATE_PACKAGE_NAME "Negotiate"
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <wchar.h>
 #define _T(x) TEXT(x)
 #else
@@ -77,6 +77,5 @@ const char * WINAPI SSP_MakeNegotiateBlob(PVOID, int, PBOOL, int *, char *);
 extern BOOL Use_Unicode;
 extern BOOL NTLM_LocalCall;
 
-#endif /* _SQUID_WIN32_ */
-
+#endif /* _SQUID_WINDOWS_ */
 #endif /* LIBSSPWIN32_H_ */
@@ -1,11 +0,0 @@
-#if HAVE_STRNSTR
-
-/* Is strnstr exists and is usable we do so. */
-#define squid_strnstr(a,b,c)	strnstr(a,b,c)
-
-#else /* not HAVE_STRNSTR */
-
-/* If its not usable we have our own copy imported from FreeBSD */
-const char * squid_strnstr(const char *s, const char *find, size_t slen);
-
-#endif /* HAVE_STRNSTR*/
@@ -70,7 +70,6 @@ libmiscutil_la_SOURCES = \
 	rfc3596.c \
 	$(SNPRINTFSOURCE) \
 	Splay.cc \
-	strnstr.cc \
 	stub_memaccount.c \
 	util.c \
 	xusleep.c \
@@ -430,12 +430,15 @@ MemImplementingAllocator::~MemImplementingAllocator()
 {
     MemImplementingAllocator *find_pool, *prev_pool;
 
-    assert(MemPools::GetInstance().pools != NULL && "Called MemImplementingAllocator::~MemImplementingAllocator, but no pool exists!");
+    /* Abort if the associated pool doesn't exist */
+    assert(MemPools::GetInstance().pools != NULL );
 
     /* Pool clean, remove it from List and free */
     for (find_pool = MemPools::GetInstance().pools, prev_pool = NULL; (find_pool && this != find_pool); find_pool = find_pool->next)
         prev_pool = find_pool;
-    assert(find_pool != NULL && "pool to destroy not found");
+
+    /* make sure that we found the pool to destroy */
+    assert(find_pool != NULL);
 
     if (prev_pool)
         prev_pool->next = next;
@@ -321,7 +321,7 @@ MemPoolChunked::~MemPoolChunked()
 
     flushMetersFull();
     clean(0);
-    assert(meter.inuse.level == 0 && "While trying to destroy pool");
+    assert(meter.inuse.level == 0);
 
     chunk = Chunks;
     while ( (fchunk = chunk) != NULL) {
@@ -120,7 +120,7 @@ MemPoolMalloc::MemPoolMalloc(char const *aLabel, size_t aSize) : MemImplementing
 
 MemPoolMalloc::~MemPoolMalloc()
 {
-    assert(meter.inuse.level == 0 && "While trying to destroy pool");
+    assert(meter.inuse.level == 0);
     clean(0);
 }
 
@@ -62,19 +62,34 @@ AC_LTDL_DLLIB
 AC_SUBST(INCLTDL)
 AC_SUBST(LIBLTDL)
 
-
 dnl set useful flags
+TRIE_CFLAGS=
+TRIE_CXXFLAGS=
 if test "$GCC" = "yes"; then
-   TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
-   TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wcomments"
-else
-   TRIE_CFLAGS=
-   TRIE_CXXFLAGS=
-fi
+  TRIE_CFLAGS="-Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
+  TRIE_CXXFLAGS="-Wall -Wpointer-arith -Wwrite-strings -Wcomments"
+
+  AC_ARG_ENABLE(strict-error-checking,
+    AS_HELP_STRING([--disable-strict-error-checking],[By default compile
+                   with all possible static compiler error-checks enabled.
+                   This flag disables the behavior]), [
+    case $enableval in
+      yes|1|true)
+	enable_strict_error_checking=yes
+	;;
+      *)
+	enable_strict_error_checking=no
+	;;
+    esac
+  ])
+  AC_MSG_NOTICE([strict error checking enabled: ${enable_strict_error_checking:=yes}])
+  if test "x${enable_strict_error_checking:=yes}" = "xyes"; then
+     TRIE_CFLAGS="-Werror $TRIE_CFLAGS"
+     TRIE_CXXFLAGS="-Werror $TRIE_CXXFLAGS"
+  fi
 
-if test "$GCC" = "yes" ; then
-	AC_TEST_CHECKFORHUGEOBJECTS
-	TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
+  AC_TEST_CHECKFORHUGEOBJECTS
+  TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
 fi
 
 AC_SUBST(TRIE_CFLAGS)
@@ -29,55 +29,50 @@
 #include "Trie.cci"
 #endif
 
-Trie::Trie (TrieCharTransform *aTransform) : head (0) , transform (aTransform)
+Trie::Trie(TrieCharTransform *aTransform) : head(0) , transform(aTransform)
 {}
 
-extern "C" void *TrieCreate ()
+extern "C" void *TrieCreate()
 {
     return new Trie;
 }
 
-Trie::~Trie ()
+Trie::~Trie()
 {
     delete head;
     delete transform;
 }
 
-extern "C" void TrieDestroy (void *aTrie)
+extern "C" void TrieDestroy(void *aTrie)
 {
     delete (Trie *)aTrie;
 }
 
-extern "C" void *TrieFind (void *aTrie, char const *aString, size_t theLength)
+extern "C" void *TrieFind(void *aTrie, char const *aString, size_t theLength)
 {
-    return ((Trie *)aTrie)->find (aString, theLength);
+    return ((Trie *)aTrie)->find(aString, theLength);
 }
 
 bool
-
-Trie::add
-(char const *aString, size_t theLength, void *privatedata)
+Trie::add(char const *aString, size_t theLength, void *privatedata)
 {
     if (!privatedata)
         return false;
 
     if (head) {
-        if (find (aString, theLength))
+        if (find(aString, theLength))
             return false;
 
-        return head->add
-               (aString, theLength, privatedata, transform);
+        return head->add(aString, theLength, privatedata, transform);
     }
 
     head = new TrieNode;
 
-    return head->add
-           (aString, theLength, privatedata, transform);
+    return head->add(aString, theLength, privatedata, transform);
 }
 
-extern "C" int TrieAdd (void *aTrie, char const *aString, size_t theLength, void *privatedata)
+extern "C" int TrieAdd(void *aTrie, char const *aString, size_t theLength, void *privatedata)
 {
 
-    return ((Trie *)aTrie)->add
-           (aString, theLength, privatedata);
+    return ((Trie *)aTrie)->add(aString, theLength, privatedata);
 }
@@ -24,34 +24,31 @@
 #include <unistd.h>
 #endif
 
-TrieNode::TrieNode () : _privateData (NULL)
+TrieNode::TrieNode() : _privateData(NULL)
 {
     for (int i = 0; i < 256; ++i)
         internal[i] = NULL;
 }
 
-TrieNode::~TrieNode ()
+TrieNode::~TrieNode()
 {
     for (int i = 0; i < 256; ++i)
         delete internal[i];
 }
 
 /* as for find */
 bool
-
-TrieNode::add
-(char const *aString, size_t theLength, void *privatedata, TrieCharTransform *transform)
+TrieNode::add(char const *aString, size_t theLength, void *privatedata, TrieCharTransform *transform)
 {
     /* We trust that privatedata and existant keys have already been checked */
 
     if (theLength) {
-        int index = transform ? (*transform) (*aString): *aString;
+        int index = transform ? (*transform)(*aString): *aString;
 
         if (!internal[index])
             internal[index] = new TrieNode;
 
-        return internal[index]->add
-               (aString + 1, theLength - 1, privatedata, transform);
+        return internal[index]->add(aString + 1, theLength - 1, privatedata, transform);
     } else {
         /* terminal node */
 
@@ -45,10 +45,8 @@ main(int argc, char **argv)
     MDString("abc");
     MDString("message digest");
     MDString("abcdefghijklmnopqrstuvwxyz");
-    MDString
-    ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");
-    MDString
-    ("1234567890123456789012345678901234567890\
-1234567890123456789012345678901234567890");
+    MDString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");
+    MDString("1234567890123456789012345678901234567890"
+             "1234567890123456789012345678901234567890");
     return 0;
 }
@@ -13,8 +13,8 @@ extern "C" {
 
 #if !USE_XPROF_STATS
 
-#define PROF_start(ARGS) ((void)0)
-#define PROF_stop(ARGS) ((void)0)
+#define PROF_start(probename) ((void)0)
+#define PROF_stop(probename) ((void)0)
 
 #else /* USE_XPROF_STATS */
 
@@ -51,8 +51,8 @@ extern "C" {
     extern void xprof_stop(xprof_type type, const char *timer);
     extern void xprof_event(void *data);
 
-#define PROF_start(type) xprof_start(XPROF_##type, #type)
-#define PROF_stop(type) xprof_stop(XPROF_##type, #type)
+#define PROF_start(probename) xprof_start(XPROF_##probename, #probename)
+#define PROF_stop(probename) xprof_stop(XPROF_##probename, #probename)
 
 #endif /* USE_XPROF_STATS */
 
@@ -1,115 +1,82 @@
 #ifndef _PROFILER_XPROF_TYPE_H_
 #define _PROFILER_XPROF_TYPE_H_
-
+/* AUTO-GENERATED FILE */
 #if USE_XPROF_STATS
-
-// TODO: auto-generate this list from a scan of the source code.
-
-// This list MUST be kept in sync with the PROF_start()/PROF_stop() macros
-// used throughout the rest of the sources.
-
 typedef enum {
     XPROF_PROF_UNACCOUNTED,
+    XPROF_HttpHeaderClean,
+    XPROF_HttpHeaderParse,
+    XPROF_HttpHeader_getCc,
+    XPROF_HttpMsg_httpMsgParseStep,
+    XPROF_HttpParserParseReqLine,
+    XPROF_HttpStateData_processReplyBody,
+    XPROF_HttpStateData_processReplyHeader,
+    XPROF_HttpStateData_readReply,
+    XPROF_InvokeHandlers,
+    XPROF_MemBuf_append,
+    XPROF_MemBuf_consume,
+    XPROF_MemBuf_grow,
+    XPROF_MemObject_write,
     XPROF_PROF_OVERHEAD,
-    XPROF_hash_lookup,
-    XPROF_splay_splay,
-    XPROF_xmalloc,
-    XPROF_malloc,
-    XPROF_free,
-    XPROF_free_const,
-    XPROF_xrealloc,
-    XPROF_realloc,
-    XPROF_xcalloc,
-    XPROF_calloc,
-    XPROF_xstrdup,
-    XPROF_xstrndup,
-    XPROF_xstrncpy,
-    XPROF_xcountws,
-    XPROF_socket,
-    XPROF_read,
-    XPROF_write,
-    XPROF_send,
-    XPROF_recv,
-    XPROF_sendto,
-    XPROF_recvfrom,
-    XPROF_accept,
-    XPROF_connect,
-    XPROF_memPoolChunkNew,
-    XPROF_memPoolAlloc,
-    XPROF_memPoolFree,
-    XPROF_memPoolClean,
-    XPROF_aclMatchAclList,
+    XPROF_SignalEngine_checkEvents,
+    XPROF_StoreEntry_write,
+    XPROF_StringAllocAndFill,
+    XPROF_StringAppend,
+    XPROF_StringClean,
+    XPROF_StringInitBuf,
+    XPROF_StringReset,
     XPROF_aclCheckFast,
-    XPROF_comm_open,
-    XPROF_comm_connect_addr,
-    XPROF_comm_accept,
-    XPROF_comm_close,
-    XPROF_comm_udp_sendto,
+    XPROF_aclMatchAclList,
+    XPROF_calloc,
+    XPROF_clientSocketRecipient,
     XPROF_commHandleWrite,
+    XPROF_comm_accept,
     XPROF_comm_check_incoming,
-    XPROF_comm_poll_prep_pfds,
-    XPROF_comm_poll_normal,
+    XPROF_comm_close,
+    XPROF_comm_connect_addr,
     XPROF_comm_handle_ready_fd,
+    XPROF_comm_open,
+    XPROF_comm_poll_normal,
+    XPROF_comm_poll_prep_pfds,
     XPROF_comm_read_handler,
+    XPROF_comm_udp_sendto,
     XPROF_comm_write_handler,
-    XPROF_storeGet,
-    XPROF_storeMaintainSwapSpace,
-    XPROF_storeRelease,
-    XPROF_diskHandleWrite,
     XPROF_diskHandleRead,
+    XPROF_diskHandleWrite,
+    XPROF_esiExpressionEval,
+    XPROF_esiParsing,
+    XPROF_esiProcessing,
+    XPROF_eventRun,
+    XPROF_file_close,
     XPROF_file_open,
     XPROF_file_read,
     XPROF_file_write,
-    XPROF_file_close,
-    XPROF_esiExpressionEval,
-    XPROF_esiProcessing,
-    XPROF_esiParsing,
+    XPROF_free,
+    XPROF_free_const,
+    XPROF_hash_lookup,
+    XPROF_headersEnd,
+    XPROF_httpRequestFree,
+    XPROF_httpStart,
+    XPROF_malloc,
+    XPROF_mem_hdr_write,
+    XPROF_parseHttpRequest,
+    XPROF_read,
+    XPROF_realloc,
+    XPROF_recv,
+    XPROF_send,
     XPROF_storeClient_kickReads,
-    XPROF_eventRun,
     XPROF_storeDirCallback,
-    XPROF_comm_calliocallback,
-    XPROF_CommReadCallbackData_callCallback,
-    XPROF_CommAcceptCallbackData_callCallback,
-    XPROF_CommWriteCallbackData_callCallback,
-    XPROF_CommFillCallbackData_callCallback,
-    XPROF_HttpStateData_readReply,
-    XPROF_HttpStateData_processReplyBody,
-    XPROF_StoreEntry_write,
+    XPROF_storeGet,
     XPROF_storeGetMemSpace,
-    XPROF_MemObject_write,
+    XPROF_storeMaintainSwapSpace,
+    XPROF_storeRelease,
     XPROF_storeWriteComplete,
-    XPROF_mem_hdr_write,
-    XPROF_headersEnd,
-    XPROF_parseHttpRequest,
-    XPROF_HttpStateData_processReplyHeader,
-    XPROF_MemBuf_consume,
-    XPROF_MemBuf_append,
-    XPROF_MemBuf_grow,
-    XPROF_InvokeHandlers,
-    XPROF_HttpMsg_httpMsgParseStep,
-    XPROF_EventDispatcher_dispatch,
-    XPROF_SignalEngine_checkEvents,
-    XPROF_Temp1,
-    XPROF_Temp2,
-    XPROF_Temp3,
-    XPROF_clientSocketRecipient,
-    XPROF_httpStart,
-    XPROF_HttpParserParseReqLine,
-    XPROF_httpRequestFree,
-    XPROF_HttpHeaderParse,
-    XPROF_HttpHeaderClean,
-    XPROF_StringInitBuf,
-    XPROF_StringAllocAndFill,
-    XPROF_StringClean,
-    XPROF_StringReset,
-    XPROF_StringAppend,
-    XPROF_HttpHeader_findEntry,
-    XPROF_HttpHeader_getCc,
-    XPROF_HttpHeader_getRange,
-    XPROF_checkTimeouts,
-    XPROF_CommSelect,
+    XPROF_write,
+    XPROF_xcalloc,
+    XPROF_xcountws,
+    XPROF_xmalloc,
+    XPROF_xrealloc,
     XPROF_LAST
 } xprof_type;
-
-#endif /* USE_XPROF_STATS */
-#endif /* _PROFILING_H_ */
+#endif
+#endif
@@ -209,22 +209,16 @@ parse_rfc1123(const char *str)
     t = mktime(tm);
     if (t != -1) {
         time_t dst = 0;
-#if defined (_TIMEZONE)
-#elif defined (_timezone)
-#elif defined(_SQUID_AIX_)
-#elif defined(_SQUID_CYGWIN_)
-#elif defined(_SQUID_MSWIN_)
-#elif defined(_SQUID_SGI_)
-#else
-    extern long timezone;
+#if !(defined(_TIMEZONE) || defined(_timezone) || _SQUID_AIX_ || _SQUID_WINDOWS_ || _SQUID_SGI_)
+        extern long timezone;
 #endif
         /*
          * The following assumes a fixed DST offset of 1 hour,
          * which is probably wrong.
          */
         if (tm->tm_isdst > 0)
             dst = -3600;
-#if defined ( _timezone) || defined(_SQUID_WIN32_)
+#if defined(_timezone) || _SQUID_WINDOWS_
         t -= (_timezone + dst);
 #else
     t -= (timezone + dst);
@@ -246,48 +240,6 @@ mkrfc1123(time_t t)
     return buf;
 }
 
-const char *
-mkhttpdlogtime(const time_t * t)
-{
-    static char buf[128];
-
-    struct tm *gmt = gmtime(t);
-
-#if !USE_GMT
-    int gmt_min, gmt_hour, gmt_yday, day_offset;
-    size_t len;
-    struct tm *lt;
-    int min_offset;
-
-    /* localtime & gmtime may use the same static data */
-    gmt_min = gmt->tm_min;
-    gmt_hour = gmt->tm_hour;
-    gmt_yday = gmt->tm_yday;
-
-    lt = localtime(t);
-
-    day_offset = lt->tm_yday - gmt_yday;
-    /* wrap round on end of year */
-    if (day_offset > 1)
-        day_offset = -1;
-    else if (day_offset < -1)
-        day_offset = 1;
-
-    min_offset = day_offset * 1440 + (lt->tm_hour - gmt_hour) * 60
-                 + (lt->tm_min - gmt_min);
-
-    len = strftime(buf, 127 - 5, "%d/%b/%Y:%H:%M:%S ", lt);
-    snprintf(buf + len, 128 - len, "%+03d%02d",
-             (min_offset / 60) % 24,
-             min_offset % 60);
-#else /* USE_GMT */
-    buf[0] = '\0';
-    strftime(buf, 127, "%d/%b/%Y:%H:%M:%S -000", gmt);
-#endif /* USE_GMT */
-
-    return buf;
-}
-
 #if 0
 int
 main()
@@ -1,33 +1,33 @@
 /*
-   Unix SMB/Netbios implementation.
-   Version 1.9.
-   SMB Byte handling
-   Copyright (C) Andrew Tridgell 1992-1995
-
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * Unix SMB/Netbios implementation.
+ * Version 1.9.
+ * SMB Byte handling
+ * Copyright (C) Andrew Tridgell 1992-1995
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 /*
-   This file implements macros for machine independent short and
-   int manipulation
-*/
+ * This file implements macros for machine independent short and
+ * int manipulation
+ */
 
 #undef CAREFUL_ALIGNMENT
 
 /* we know that the 386 can handle misalignment and has the "right"
-   byteorder */
+ * byteorder */
 #ifdef __i386__
 #define CAREFUL_ALIGNMENT 0
 #endif
@@ -54,11 +54,11 @@
 #define SIVALS(buf,pos,val) SIVALX((buf),(pos),((int32)(val)))
 #else
 /* this handles things for architectures like the 386 that can handle
-   alignment errors */
+ * alignment errors */
 /*
-   WARNING: This section is dependent on the length of int16 and int32
-   being correct
-*/
+ * WARNING: This section is dependent on the length of int16 and int32
+ * being correct
+ */
 #define SVAL(buf,pos) (*(uint16 *)((char *)(buf) + (pos)))
 #define IVAL(buf,pos) (*(uint32 *)((char *)(buf) + (pos)))
 #define SVALS(buf,pos) (*(int16 *)((char *)(buf) + (pos)))
@@ -1,27 +1,27 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Common Structures etc Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Common Structures etc Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #ifndef _RFCNB_RFCNB_COMMON_H
 #define _RFCNB_RFCNB_COMMON_H
@@ -34,13 +34,14 @@ extern "C" {
 
     typedef struct RFCNB_Pkt {
 
-        char * data;			/* The data in this portion */
+        char *data;             /* The data in this portion */
         int len;
         struct RFCNB_Pkt *next;
 
     } RFCNB_Pkt;
 
 #ifdef __cplusplus
 }
+
 #endif
-#endif /* _RFCNB_RFCNB_COMMON_H */
+#endif                          /* _RFCNB_RFCNB_COMMON_H */
@@ -1,27 +1,27 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Error Response Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Error Response Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #ifndef _RFCNB_ERROR_H_
 #define _RFCNB_ERROR_H_
@@ -32,33 +32,34 @@ extern "C" {
 
     /* Error responses */
 
-#define RFCNBE_Bad -1          /* Bad response */
+#define RFCNBE_Bad -1           /* Bad response */
 #define RFCNBE_OK 0
 
-    /* these should follow the spec ... is there one ?*/
+    /* these should follow the spec ... is there one ? */
 
-#define RFCNBE_NoSpace 1       /* Could not allocate space for a struct */
-#define RFCNBE_BadName 2       /* Could not translate a name            */
-#define RFCNBE_BadRead 3       /* Read sys call failed                  */
-#define RFCNBE_BadWrite 4      /* Write Sys call failed                 */
-#define RFCNBE_ProtErr 5       /* Protocol Error                        */
-#define RFCNBE_ConGone 6       /* Connection dropped                    */
-#define RFCNBE_BadHandle 7     /* Handle passed was bad                 */
-#define RFCNBE_BadSocket 8     /* Problems creating socket              */
-#define RFCNBE_ConnectFailed 9 /* Connect failed                        */
-#define RFCNBE_CallRejNLOCN 10 /* Call rejected, not listening on CN    */
-#define RFCNBE_CallRejNLFCN 11 /* Call rejected, not listening for CN   */
-#define RFCNBE_CallRejCNNP  12 /* Call rejected, called name not present */
-#define RFCNBE_CallRejInfRes 13/* Call rejetced, name ok, no resources   */
-#define RFCNBE_CallRejUnSpec 14/* Call rejected, unspecified error      */
-#define RFCNBE_BadParam      15/* Bad parameters passed ...             */
-#define RFCNBE_Timeout       16/* IO Timed out                          */
+#define RFCNBE_NoSpace 1        /* Could not allocate space for a struct */
+#define RFCNBE_BadName 2        /* Could not translate a name            */
+#define RFCNBE_BadRead 3        /* Read sys call failed                  */
+#define RFCNBE_BadWrite 4       /* Write Sys call failed                 */
+#define RFCNBE_ProtErr 5        /* Protocol Error                        */
+#define RFCNBE_ConGone 6        /* Connection dropped                    */
+#define RFCNBE_BadHandle 7      /* Handle passed was bad                 */
+#define RFCNBE_BadSocket 8      /* Problems creating socket              */
+#define RFCNBE_ConnectFailed 9  /* Connect failed                        */
+#define RFCNBE_CallRejNLOCN 10  /* Call rejected, not listening on CN    */
+#define RFCNBE_CallRejNLFCN 11  /* Call rejected, not listening for CN   */
+#define RFCNBE_CallRejCNNP  12  /* Call rejected, called name not present */
+#define RFCNBE_CallRejInfRes 13 /* Call rejetced, name ok, no resources   */
+#define RFCNBE_CallRejUnSpec 14 /* Call rejected, unspecified error      */
+#define RFCNBE_BadParam      15 /* Bad parameters passed ...             */
+#define RFCNBE_Timeout       16 /* IO Timed out                          */
 
     /* Text strings for the error responses                                 */
 
     extern const char *RFCNB_Error_Strings[];
 
 #ifdef __cplusplus
 }
+
 #endif
-#endif /* _RFCNB_ERROR_H_ */
+#endif                          /* _RFCNB_ERROR_H_ */
@@ -1,29 +1,29 @@
 #include "config.h"
 
 /* UNIX RFCNB (RFC1001/RFC1002) NEtBIOS implementation
-
-   Version 1.0
-   RFCNB IO Routines ...
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB IO Routines ...
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #include "rfcnb/std-includes.h"
 #include "rfcnb/rfcnb-priv.h"
@@ -36,23 +36,25 @@
 #include <string.h>
 #endif
 
-int RFCNB_Timeout = 0;    /* Timeout in seconds ... */
+int RFCNB_Timeout = 0;          /* Timeout in seconds ... */
 
-int RFCNB_Discard_Rest(struct RFCNB_Con *con, int len);
+static int RFCNB_Discard_Rest(struct RFCNB_Con *con, int len);
 
 #ifdef NOT_USED
-void rfcnb_alarm(int sig)
-
+void
+rfcnb_alarm(int sig)
 {
 
     fprintf(stderr, "IO Timed out ...\n");
 
 }
 
-/* Set timeout value and setup signal handling */
-
-int RFCNB_Set_Timeout(int seconds)
+#endif /* NOT_USED */
 
+#ifdef NOT_USED
+/* Set timeout value and setup signal handling */
+int
+RFCNB_Set_Timeout(int seconds)
 {
     /* If we are on a Bezerkeley system, use sigvec, else sigaction */
 
@@ -65,36 +67,35 @@ int RFCNB_Set_Timeout(int seconds)
 
     RFCNB_Timeout = seconds;
 
-    if (RFCNB_Timeout > 0) { /* Set up handler to ignore but not restart */
+    if (RFCNB_Timeout > 0) {    /* Set up handler to ignore but not restart */
 
 #ifndef SA_RESTART
-        invec.sv_handler = (void (*)())rfcnb_alarm;
+        invec.sv_handler = (void (*)()) rfcnb_alarm;
         invec.sv_mask = 0;
         invec.sv_flags = SV_INTERRUPT;
 
-        if (sigvec(SIGALRM, &invec, &outvec)  < 0)
-            return(-1);
-#else
-        inact.sa_handler = (void (*)())rfcnb_alarm;
+        if (sigvec(SIGALRM, &invec, &outvec) < 0)
+            return (-1);
+#else /* !SA_RESTART */
+        inact.sa_handler = (void (*)()) rfcnb_alarm;
 #ifdef Solaris
         /* Solaris seems to have an array of vectors ... */
         inact.sa_mask.__sigbits[0] = 0;
         inact.sa_mask.__sigbits[1] = 0;
         inact.sa_mask.__sigbits[2] = 0;
         inact.sa_mask.__sigbits[3] = 0;
-#else
-        inact.sa_mask = (sigset_t)0;
-#endif
-        inact.sa_flags = 0;    /* Don't restart */
+#else /* !Solaris */
+        inact.sa_mask = (sigset_t) 0;
+#endif /* Solaris */
+        inact.sa_flags = 0;     /* Don't restart */
 
         if (sigaction(SIGALRM, &inact, &outact) < 0)
-            return(-1);
+            return (-1);
 
-#endif
+#endif /* !SA_RESTART */
 
     }
-
-#else /* ADAPTED SQUID CODE */
+#else /* !ORIGINAL_SAMBA_CODE ADAPTED SQUID CODE */
 #if HAVE_SIGACTION
     struct sigaction inact, outact;
 #else
@@ -112,28 +113,27 @@ int RFCNB_Set_Timeout(int seconds)
 
         if (sigaction(SIGALRM, &inact, &outact) < 0)
             return (-1);
-#else
+#else /* !HAVE_SIGACTION */
     invec.sv_handler = (void (*)()) rfcnb_alarm;
     invec.sv_mask = 0;
     invec.sv_flags = SV_INTERRUPT;
 
     if (sigvec(SIGALRM, &invec, &outvec) < 0)
         return (-1);
-#endif
-
-#endif
-    return(0);
-
+#endif /* !HAVE_SIGACTION */
+    }
+#endif /* !ORIGINAL_SAMBA_CODE ADAPTED SQUID CODE */
+    return (0);
 }
-#endif
+#endif /* NOT_USED */
 
 /* Discard the rest of an incoming packet as we do not have space for it
-   in the buffer we allocated or were passed ...                         */
-
-int RFCNB_Discard_Rest(struct RFCNB_Con *con, int len)
+ * in the buffer we allocated or were passed ...                         */
 
+int
+RFCNB_Discard_Rest(struct RFCNB_Con *con, int len)
 {
-    char temp[100];   /* Read into here */
+    char temp[100];             /* Read into here */
     int rest, this_read, bytes_read;
 
     /* len is the amount we should read */
@@ -146,63 +146,62 @@ int RFCNB_Discard_Rest(struct RFCNB_Con *con, int len)
 
     while (rest > 0) {
 
-        this_read = (rest > sizeof(temp)?sizeof(temp):rest);
+        this_read = (rest > sizeof(temp) ? sizeof(temp) : rest);
 
-        bytes_read = read(con -> fd, temp, this_read);
+        bytes_read = read(con->fd, temp, this_read);
 
-        if (bytes_read <= 0) { /* Error so return */
+        if (bytes_read <= 0) {  /* Error so return */
 
             if (bytes_read < 0)
                 RFCNB_errno = RFCNBE_BadRead;
             else
                 RFCNB_errno = RFCNBE_ConGone;
 
             RFCNB_saved_errno = errno;
-            return(RFCNBE_Bad);
+            return (RFCNBE_Bad);
 
         }
-
         rest = rest - bytes_read;
 
     }
 
-    return(0);
+    return (0);
 
 }
 
 
 /* Send an RFCNB packet to the connection.
-
-   We just send each of the blocks linked together ...
-
-   If we can, try to send it as one iovec ...
-
-*/
-
-int RFCNB_Put_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
-
+ *
+ * We just send each of the blocks linked together ...
+ *
+ * If we can, try to send it as one iovec ...
+ *
+ */
+
+int
+RFCNB_Put_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 {
     int len_sent, tot_sent, this_len;
     struct RFCNB_Pkt *pkt_ptr;
     char *this_data;
     int i;
-    struct iovec io_list[10];          /* We should never have more      */
-    /* If we do, this will blow up ...*/
+    struct iovec io_list[10];   /* We should never have more      */
+    /* If we do, this will blow up ... */
 
     /* Try to send the data ... We only send as many bytes as len claims */
     /* We should try to stuff it into an IOVEC and send as one write     */
 
 
     pkt_ptr = pkt;
-    len_sent =  tot_sent = 0;             /* Nothing sent so far */
+    len_sent = tot_sent = 0;    /* Nothing sent so far */
     i = 0;
 
-    while ((pkt_ptr != NULL) & (i < 10)) {  /* Watch that magic number! */
+    while ((pkt_ptr != NULL) & (i < 10)) {      /* Watch that magic number! */
 
-        this_len = pkt_ptr -> len;
-        this_data = pkt_ptr -> data;
+        this_len = pkt_ptr->len;
+        this_data = pkt_ptr->data;
         if ((tot_sent + this_len) > len)
-            this_len = len - tot_sent;        /* Adjust so we don't send too much */
+            this_len = len - tot_sent;  /* Adjust so we don't send too much */
 
         /* Now plug into the iovec ... */
 
@@ -212,9 +211,10 @@ int RFCNB_Put_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 
         tot_sent += this_len;
 
-        if (tot_sent == len) break;   /* Let's not send too much */
+        if (tot_sent == len)
+            break;              /* Let's not send too much */
 
-        pkt_ptr = pkt_ptr -> next;
+        pkt_ptr = pkt_ptr->next;
 
     }
 
@@ -227,79 +227,76 @@ int RFCNB_Put_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
     if (RFCNB_Timeout > 0)
         alarm(RFCNB_Timeout);
 
-    if ((len_sent = writev(con -> fd, io_list, i)) < 0) { /* An error */
+    if ((len_sent = writev(con->fd, io_list, i)) < 0) {         /* An error */
 
-        con -> errn = errno;
-        if (errno == EINTR)  /* We were interrupted ... */
+        con->errn = errno;
+        if (errno == EINTR)     /* We were interrupted ... */
             RFCNB_errno = RFCNBE_Timeout;
         else
             RFCNB_errno = RFCNBE_BadWrite;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
-    if (len_sent < tot_sent) { /* Less than we wanted */
-        if (errno == EINTR)      /* We were interrupted */
+    if (len_sent < tot_sent) {  /* Less than we wanted */
+        if (errno == EINTR)     /* We were interrupted */
             RFCNB_errno = RFCNBE_Timeout;
         else
             RFCNB_errno = RFCNBE_BadWrite;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
     }
-
     if (RFCNB_Timeout > 0)
-        alarm(0);                /* Reset that sucker */
+        alarm(0);               /* Reset that sucker */
 
 #ifdef RFCNB_DEBUG
 
     fprintf(stderr, "Len sent = %i ...\n", len_sent);
-    RFCNB_Print_Pkt(stderr, "sent", pkt, len_sent); /* Print what send ... */
+    RFCNB_Print_Pkt(stderr, "sent", pkt, len_sent);     /* Print what send ... */
 
 #endif
 
-    return(len_sent);
+    return (len_sent);
 
 }
 
 /* Read an RFCNB packet off the connection.
+ *
+ * We read the first 4 bytes, that tells us the length, then read the
+ * rest. We should implement a timeout, but we don't just yet
+ *
+ */
 
-   We read the first 4 bytes, that tells us the length, then read the
-   rest. We should implement a timeout, but we don't just yet
-
-*/
-
-
-int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 
+int
+RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 {
     int read_len, pkt_len;
-    char hdr[RFCNB_Pkt_Hdr_Len];      /* Local space for the header */
+    char hdr[RFCNB_Pkt_Hdr_Len];        /* Local space for the header */
     struct RFCNB_Pkt *pkt_frag;
     int more, this_time, offset, frag_len, this_len;
     BOOL seen_keep_alive = TRUE;
 
     /* Read that header straight into the buffer */
 
-    if (len < RFCNB_Pkt_Hdr_Len) { /* What a bozo */
+    if (len < RFCNB_Pkt_Hdr_Len) {      /* What a bozo */
 
 #ifdef RFCNB_DEBUG
         fprintf(stderr, "Trying to read less than a packet:");
         perror("");
 #endif
         RFCNB_errno = RFCNBE_BadParam;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
     /* We discard keep alives here ... */
 
     if (RFCNB_Timeout > 0)
         alarm(RFCNB_Timeout);
 
     while (seen_keep_alive) {
 
-        if ((read_len = read(con -> fd, hdr, sizeof(hdr))) < 0) { /* Problems */
+        if ((read_len = read(con->fd, hdr, sizeof(hdr))) < 0) {         /* Problems */
 #ifdef RFCNB_DEBUG
             fprintf(stderr, "Reading the packet, we got:");
             perror("");
@@ -309,13 +306,12 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
             else
                 RFCNB_errno = RFCNBE_BadRead;
             RFCNB_saved_errno = errno;
-            return(RFCNBE_Bad);
+            return (RFCNBE_Bad);
 
         }
-
         /* Now we check out what we got */
 
-        if (read_len == 0) { /* Connection closed, send back eof?  */
+        if (read_len == 0) {    /* Connection closed, send back eof?  */
 
 #ifdef RFCNB_DEBUG
             fprintf(stderr, "Connection closed reading\n");
@@ -326,10 +322,9 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
             else
                 RFCNB_errno = RFCNBE_ConGone;
             RFCNB_saved_errno = errno;
-            return(RFCNBE_Bad);
+            return (RFCNBE_Bad);
 
         }
-
         if (RFCNB_Pkt_Type(hdr) == RFCNB_SESSION_KEEP_ALIVE) {
 
 #ifdef RFCNB_DEBUG
@@ -344,20 +339,19 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 
     /* What if we got less than or equal to a hdr size in bytes? */
 
-    if (read_len < sizeof(hdr)) { /* We got a small packet */
+    if (read_len < sizeof(hdr)) {       /* We got a small packet */
 
         /* Now we need to copy the hdr portion we got into the supplied packet */
 
-        memcpy(pkt -> data, hdr, read_len);  /*Copy data */
+        memcpy(pkt->data, hdr, read_len);       /*Copy data */
 
 #ifdef RFCNB_DEBUG
         RFCNB_Print_Pkt(stderr, "rcvd", pkt, read_len);
 #endif
 
-        return(read_len);
+        return (read_len);
 
     }
-
     /* Now, if we got at least a hdr size, alloc space for rest, if we need it */
 
     pkt_len = RFCNB_Pkt_Len(hdr);
@@ -368,13 +362,13 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 
     /* Now copy in the hdr */
 
-    memcpy(pkt -> data, hdr, sizeof(hdr));
+    memcpy(pkt->data, hdr, sizeof(hdr));
 
     /* Get the rest of the packet ... first figure out how big our buf is? */
     /* And make sure that we handle the fragments properly ... Sure should */
     /* use an iovec ...                                                    */
 
-    if (len < pkt_len)            /* Only get as much as we have space for */
+    if (len < pkt_len)          /* Only get as much as we have space for */
         more = len - RFCNB_Pkt_Hdr_Len;
     else
         more = pkt_len;
@@ -383,24 +377,24 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
 
     /* We read for each fragment ... */
 
-    if (pkt -> len == read_len) {    /* If this frag was exact size */
-        pkt_frag = pkt -> next;        /* Stick next lot in next frag */
-        offset = 0;                    /* then we start at 0 in next  */
+    if (pkt->len == read_len) { /* If this frag was exact size */
+        pkt_frag = pkt->next;   /* Stick next lot in next frag */
+        offset = 0;             /* then we start at 0 in next  */
     } else {
-        pkt_frag = pkt;                /* Otherwise use rest of this frag */
-        offset = RFCNB_Pkt_Hdr_Len;    /* Otherwise skip the header       */
+        pkt_frag = pkt;         /* Otherwise use rest of this frag */
+        offset = RFCNB_Pkt_Hdr_Len;     /* Otherwise skip the header       */
     }
 
-    frag_len = pkt_frag -> len;
+    frag_len = pkt_frag->len;
 
-    if (more <= frag_len)     /* If len left to get less than frag space */
+    if (more <= frag_len)       /* If len left to get less than frag space */
         this_len = more;        /* Get the rest ...                        */
     else
         this_len = frag_len - offset;
 
     while (more > 0) {
 
-        if ((this_time = read(con -> fd, (pkt_frag -> data) + offset, this_len)) <= 0) { /* Problems */
+        if ((this_time = read(con->fd, (pkt_frag->data) + offset, this_len)) <= 0) {    /* Problems */
 
             if (errno == EINTR) {
 
@@ -414,42 +408,41 @@ int RFCNB_Get_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len)
             }
 
             RFCNB_saved_errno = errno;
-            return(RFCNBE_Bad);
+            return (RFCNBE_Bad);
 
         }
-
 #ifdef RFCNB_DEBUG
         fprintf(stderr, "Frag_Len = %i, this_time = %i, this_len = %i, more = %i\n", frag_len,
                 this_time, this_len, more);
 #endif
 
-        read_len = read_len + this_time;  /* How much have we read ... */
+        read_len = read_len + this_time;        /* How much have we read ... */
 
         /* Now set up the next part */
 
-        if (pkt_frag -> next == NULL) break;       /* That's it here */
+        if (pkt_frag->next == NULL)
+            break;              /* That's it here */
 
-        pkt_frag = pkt_frag -> next;
-        this_len = pkt_frag -> len;
+        pkt_frag = pkt_frag->next;
+        this_len = pkt_frag->len;
         offset = 0;
 
         more = more - this_time;
 
     }
 
 #ifdef RFCNB_DEBUG
-    fprintf(stderr,"Pkt Len = %i, read_len = %i\n", pkt_len, read_len);
+    fprintf(stderr, "Pkt Len = %i, read_len = %i\n", pkt_len, read_len);
     RFCNB_Print_Pkt(stderr, "rcvd", pkt, read_len + sizeof(hdr));
 #endif
 
-    if (read_len < (pkt_len + sizeof(hdr))) {  /* Discard the rest */
+    if (read_len < (pkt_len + sizeof(hdr))) {   /* Discard the rest */
 
-        return(RFCNB_Discard_Rest(con, (pkt_len + sizeof(hdr)) - read_len));
+        return (RFCNB_Discard_Rest(con, (pkt_len + sizeof(hdr)) - read_len));
 
     }
-
     if (RFCNB_Timeout > 0)
-        alarm(0);                /* Reset that sucker */
+        alarm(0);               /* Reset that sucker */
 
-    return(read_len + sizeof(RFCNB_Hdr));
+    return (read_len + sizeof(RFCNB_Hdr));
 }
@@ -1,27 +1,27 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB IO Routines Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB IO Routines Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 int RFCNB_Put_Pkt(struct RFCNB_Con *con, struct RFCNB_Pkt *pkt, int len);
 
@@ -1,27 +1,27 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #ifndef _RFCNB_RFCNB_PRIV_H
 #define _RFCNB_RFCNB_PRIV_H
@@ -55,7 +55,7 @@ typedef unsigned short uint16;
 
 /* Structures      */
 
-typedef struct redirect_addr * redirect_ptr;
+typedef struct redirect_addr *redirect_ptr;
 
 struct redirect_addr {
 
@@ -68,28 +68,28 @@ struct redirect_addr {
 typedef struct RFCNB_Con {
 
     int fd;                     /* File descripter for TCP/IP connection */
-    int errn;                  /* last error                            */
-    int timeout;		      /* How many milli-secs before IO times out */
-    int redirects;	      /* How many times we were redirected     */
-    struct redirect_addr *redirect_list;  /* First is first address */
+    int errn;                   /* last error                            */
+    int timeout;                /* How many milli-secs before IO times out */
+    int redirects;              /* How many times we were redirected     */
+    struct redirect_addr *redirect_list;        /* First is first address */
     struct redirect_addr *last_addr;
 
 } RFCNB_Con;
 
-typedef char RFCNB_Hdr[4]; /* The header is 4 bytes long with  */
+typedef char RFCNB_Hdr[4];      /* The header is 4 bytes long with  */
 /* char[0] as the type, char[1] the */
 /* flags, and char[2..3] the length */
 
 /* Macros to extract things from the header. These are for portability
-   between architecture types where we are worried about byte order     */
+ * between architecture types where we are worried about byte order     */
 
 #define RFCNB_Pkt_Hdr_Len        4
 #define RFCNB_Pkt_Sess_Len       72
 #define RFCNB_Pkt_Retarg_Len     10
 #define RFCNB_Pkt_Nack_Len       5
 #define RFCNB_Pkt_Type_Offset    0
 #define RFCNB_Pkt_Flags_Offset   1
-#define RFCNB_Pkt_Len_Offset     2   /* Length is 2 bytes plus a flag bit */
+#define RFCNB_Pkt_Len_Offset     2      /* Length is 2 bytes plus a flag bit */
 #define RFCNB_Pkt_N1Len_Offset   4
 #define RFCNB_Pkt_Called_Offset  5
 #define RFCNB_Pkt_N2Len_Offset   38
@@ -99,24 +99,23 @@ typedef char RFCNB_Hdr[4]; /* The header is 4 bytes long with  */
 #define RFCNB_Pkt_Port_Offset    8
 
 /* The next macro isolates the length of a packet, including the bit in the
-   flags                                                                   */
+ * flags                                                                   */
 
 #define RFCNB_Pkt_Len(p)  (PVAL((p), 3) | (PVAL((p), 2) << 8) |     \
                           ((PVAL((p), RFCNB_Pkt_Flags_Offset) & 0x01) << 16))
 
 #define RFCNB_Put_Pkt_Len(p, v) ((p)[1] = (((v) >> 16) & 1)); \
-				((p)[2] = (((v) >> 8) & 0xFF)); \
-				((p)[3] = ((v) & 0xFF));
+                                ((p)[2] = (((v) >> 8) & 0xFF)); \
+                                ((p)[3] = ((v) & 0xFF));
 
 #define RFCNB_Pkt_Type(p) (CVAL((p), RFCNB_Pkt_Type_Offset))
 
-/*typedef struct RFCNB_Hdr {
-
-  unsigned char type;
-  unsigned char flags;
-  int16 len;
-
-  } RFCNB_Hdr;
+#if UNUSED_CODE
+typedef struct RFCNB_Hdr {
+    unsigned char type;
+    unsigned char flags;
+    int16 len;
+} RFCNB_Hdr;
 
 typedef struct RFCNB_Sess_Pkt {
     unsigned char type;
@@ -126,31 +125,28 @@ typedef struct RFCNB_Sess_Pkt {
     char called_name[33];
     unsigned char n2_len;
     char calling_name[33];
-  } RFCNB_Sess_Pkt;
+} RFCNB_Sess_Pkt;
 
 
 typedef struct RFCNB_Nack_Pkt {
-
-  struct RFCNB_Hdr hdr;
-  unsigned char error;
-
-  } RFCNB_Nack_Pkt;
+    struct RFCNB_Hdr hdr;
+    unsigned char error;
+} RFCNB_Nack_Pkt;
 
 typedef struct RFCNB_Retarget_Pkt {
-
-  struct RFCNB_Hdr hdr;
-  int dest_ip;
-  unsigned char port;
-
-  } RFCNB_Redir_Pkt; */
+    struct RFCNB_Hdr hdr;
+    int dest_ip;
+    unsigned char port;
+} RFCNB_Redir_Pkt;
+#endif /* UNUSED_CODE */
 
 /* Static variables */
 
 /* Only declare this if not defined */
 
 #ifndef RFCNB_ERRNO
 extern int RFCNB_errno;
-extern int RFCNB_saved_errno;    /* Save this from point of error */
+extern int RFCNB_saved_errno;   /* Save this from point of error */
 #endif
 
 #endif /* _RFCNB_RFCNB_PRIV_H */
@@ -1,29 +1,29 @@
 #include "config.h"
 
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Utility Routines ...
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Utility Routines ...
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #include "rfcnb/rfcnb.h"
 #include "rfcnb/std-includes.h"
@@ -38,10 +38,7 @@
 #include <string.h>
 #endif
 
-extern void (*Prot_Print_Routine)(); /* Pointer to protocol print routine */
-
 const char *RFCNB_Error_Strings[] = {
-
     "RFCNBE_OK: Routine completed successfully.",
     "RFCNBE_NoSpace: No space available for a malloc call.",
     "RFCNBE_BadName: NetBIOS name could not be translated to IP address.",
@@ -59,15 +56,13 @@ const char *RFCNB_Error_Strings[] = {
     "RFCNBE_CallRejUnSpec: Call rejected. Unspecified error.",
     "RFCNBE_BadParam: Bad parameters passed to a routine.",
     "RFCNBE_Timeout: IO Operation timed out ..."
-
 };
 
 /* Convert name and pad to 16 chars as needed */
 /* Name 1 is a C string with null termination, name 2 may not be */
 /* If SysName is true, then put a <00> on end, else space>       */
-
-void RFCNB_CvtPad_Name(char *name1, char *name2)
-
+void
+RFCNB_CvtPad_Name(char *name1, char *name2)
 {
     char c, c1, c2;
     int i, len;
@@ -79,81 +74,75 @@ void RFCNB_CvtPad_Name(char *name1, char *name2)
         if (i >= len) {
 
             c1 = 'C';
-            c2 = 'A'; /* CA is a space */
+            c2 = 'A';           /* CA is a space */
 
         } else {
 
             c = name1[i];
-            c1 = (char)((int)c/16 + (int)'A');
-            c2 = (char)((int)c%16 + (int)'A');
+            c1 = (char) ((int) c / 16 + (int) 'A');
+            c2 = (char) ((int) c % 16 + (int) 'A');
         }
 
-        name2[i*2] = c1;
-        name2[i*2+1] = c2;
+        name2[i * 2] = c1;
+        name2[i * 2 + 1] = c2;
 
     }
 
-    name2[32] = 0;   /* Put in the nll ...*/
+    name2[32] = 0;              /* Put in the nll ... */
 
 }
 
 /* Converts an Ascii NB Name (16 chars) to an RFCNB Name (32 chars)
-   Uses the encoding in RFC1001. Each nibble of byte is added to 'A'
-   to produce the next byte in the name.
-
-   This routine assumes that AName is 16 bytes long and that NBName has
-   space for 32 chars, so be careful ...
-
-*/
-
-void RFCNB_AName_To_NBName(char *AName, char *NBName)
-
+ * Uses the encoding in RFC1001. Each nibble of byte is added to 'A'
+ * to produce the next byte in the name.
+ *
+ * This routine assumes that AName is 16 bytes long and that NBName has
+ * space for 32 chars, so be careful ...
+ */
+void
+RFCNB_AName_To_NBName(char *AName, char *NBName)
 {
     char c, c1, c2;
     int i;
 
-    for (i=0; i < 16; i++) {
+    for (i = 0; i < 16; i++) {
 
         c = AName[i];
 
-        c1 = (char)((c >> 4) + 'A');
-        c2 = (char)((c & 0xF) + 'A');
+        c1 = (char) ((c >> 4) + 'A');
+        c2 = (char) ((c & 0xF) + 'A');
 
-        NBName[i*2] = c1;
-        NBName[i*2+1] = c2;
+        NBName[i * 2] = c1;
+        NBName[i * 2 + 1] = c2;
     }
 
-    NBName[32] = 0; /* Put in a null */
-
+    NBName[32] = 0;             /* Put in a null */
 }
 
 /* Do the reverse of the above ... */
-
-void RFCNB_NBName_To_AName(char *NBName, char *AName)
-
+void
+RFCNB_NBName_To_AName(char *NBName, char *AName)
 {
     char c, c1, c2;
     int i;
 
-    for (i=0; i < 16; i++) {
+    for (i = 0; i < 16; i++) {
 
-        c1 = NBName[i*2];
-        c2 = NBName[i*2+1];
+        c1 = NBName[i * 2];
+        c2 = NBName[i * 2 + 1];
 
-        c = (char)(((int)c1 - (int)'A') * 16 + ((int)c2 - (int)'A'));
+        c = (char) (((int) c1 - (int) 'A') * 16 + ((int) c2 - (int) 'A'));
 
         AName[i] = c;
 
     }
 
-    AName[i] = 0;   /* Put a null on the end ... */
-
+    AName[i] = 0;               /* Put a null on the end ... */
 }
 
 /* Print a string of bytes in HEX etc */
-
-void RFCNB_Print_Hex(FILE *fd, struct RFCNB_Pkt *pkt, int Offset, int Len)
-
+void
+RFCNB_Print_Hex(FILE * fd, struct RFCNB_Pkt *pkt, int Offset, int Len)
 {
     char c1, c2, outbuf1[33];
     unsigned char c;
@@ -168,27 +157,26 @@ void RFCNB_Print_Hex(FILE *fd, struct RFCNB_Pkt *pkt, int Offset, int Len)
     while (pkt_ptr != NULL) {
 
         for (i = 0;
-                i < ((Len > (pkt_ptr -> len)?pkt_ptr -> len:Len) - Offset);
+                i < ((Len > (pkt_ptr->len) ? pkt_ptr->len : Len) - Offset);
                 i++) {
 
-            c = pkt_ptr -> data[i + Offset];
+            c = pkt_ptr->data[i + Offset];
             c1 = Hex_List[c >> 4];
             c2 = Hex_List[c & 0xF];
 
             outbuf1[j++] = c1;
             outbuf1[j++] = c2;
 
-            if (j == 32) { /* Print and reset */
+            if (j == 32) {      /* Print and reset */
                 outbuf1[j] = 0;
                 fprintf(fd, "    %s\n", outbuf1);
                 j = 0;
             }
-
         }
 
         Offset = 0;
-        Len = Len - pkt_ptr -> len;   /* Reduce amount by this much */
-        pkt_ptr = pkt_ptr -> next;
+        Len = Len - pkt_ptr->len;       /* Reduce amount by this much */
+        pkt_ptr = pkt_ptr->next;
 
     }
 
@@ -200,57 +188,50 @@ void RFCNB_Print_Hex(FILE *fd, struct RFCNB_Pkt *pkt, int Offset, int Len)
         fprintf(fd, "    %s\n", outbuf1);
 
     }
-
     fprintf(fd, "\n");
-
 }
 
 /* Get a packet of size n */
-
-struct RFCNB_Pkt *RFCNB_Alloc_Pkt(int n)
-
-{
+struct RFCNB_Pkt *
+RFCNB_Alloc_Pkt(int n) {
     RFCNB_Pkt *pkt;
 
-    if ((pkt = (struct RFCNB_Pkt *)malloc(sizeof(struct RFCNB_Pkt))) == NULL) {
+    if ((pkt = (struct RFCNB_Pkt *) malloc(sizeof(struct RFCNB_Pkt))) == NULL) {
 
         RFCNB_errno = RFCNBE_NoSpace;
         RFCNB_saved_errno = errno;
-        return(NULL);
+        return (NULL);
 
     }
+    pkt->next = NULL;
+    pkt->len = n;
 
-    pkt -> next = NULL;
-    pkt -> len = n;
-
-    if (n == 0) return(pkt);
+    if (n == 0)
+        return (pkt);
 
-    if ((pkt -> data = (char *)malloc(n)) == NULL) {
+    if ((pkt->data = (char *) malloc(n)) == NULL) {
 
         RFCNB_errno = RFCNBE_NoSpace;
         RFCNB_saved_errno = errno;
         free(pkt);
-        return(NULL);
+        return (NULL);
 
     }
-
-    return(pkt);
-
+    return (pkt);
 }
 
 /* Free up a packet */
-
-void RFCNB_Free_Pkt(struct RFCNB_Pkt *pkt)
-
+void
+RFCNB_Free_Pkt(struct RFCNB_Pkt *pkt)
 {
     struct RFCNB_Pkt *pkt_next;
     char *data_ptr;
 
     while (pkt != NULL) {
 
-        pkt_next = pkt -> next;
+        pkt_next = pkt->next;
 
-        data_ptr = pkt -> data;
+        data_ptr = pkt->data;
 
         if (data_ptr != NULL)
             free(data_ptr);
@@ -260,13 +241,11 @@ void RFCNB_Free_Pkt(struct RFCNB_Pkt *pkt)
         pkt = pkt_next;
 
     }
-
 }
 
 /* Print an RFCNB packet */
-
-void RFCNB_Print_Pkt(FILE *fd, char *dirn, struct RFCNB_Pkt *pkt, int len)
-
+void
+RFCNB_Print_Pkt(FILE * fd, char *dirn, struct RFCNB_Pkt *pkt, int len)
 {
     char lname[17];
 
@@ -275,61 +254,60 @@ void RFCNB_Print_Pkt(FILE *fd, char *dirn, struct RFCNB_Pkt *pkt, int len)
 
     fprintf(fd, "RFCNB Pkt %s:", dirn);
 
-    switch (RFCNB_Pkt_Type(pkt -> data)) {
+    switch (RFCNB_Pkt_Type(pkt->data)) {
 
     case RFCNB_SESSION_MESSAGE:
 
-        fprintf(fd, "SESSION MESSAGE: Length = %i\n", RFCNB_Pkt_Len(pkt -> data));
+        fprintf(fd, "SESSION MESSAGE: Length = %i\n", RFCNB_Pkt_Len(pkt->data));
         RFCNB_Print_Hex(fd, pkt, RFCNB_Pkt_Hdr_Len,
 #ifdef RFCNB_PRINT_DATA
-                        RFCNB_Pkt_Len(pkt -> data) - RFCNB_Pkt_Hdr_Len);
+                        RFCNB_Pkt_Len(pkt->data) - RFCNB_Pkt_Hdr_Len);
 #else
                         40);
 #endif
 
-        if (Prot_Print_Routine != 0) { /* Print the rest of the packet */
+        if (Prot_Print_Routine) {       /* Print the rest of the packet */
 
             Prot_Print_Routine(fd, strcmp(dirn, "sent"), pkt, RFCNB_Pkt_Hdr_Len,
-                               RFCNB_Pkt_Len(pkt -> data) - RFCNB_Pkt_Hdr_Len);
+                               RFCNB_Pkt_Len(pkt->data) - RFCNB_Pkt_Hdr_Len);
 
         }
-
         break;
 
     case RFCNB_SESSION_REQUEST:
 
         fprintf(fd, "SESSION REQUEST: Length = %i\n",
-                RFCNB_Pkt_Len(pkt -> data));
-        RFCNB_NBName_To_AName((char *)(pkt -> data + RFCNB_Pkt_Called_Offset), lname);
+                RFCNB_Pkt_Len(pkt->data));
+        RFCNB_NBName_To_AName((char *) (pkt->data + RFCNB_Pkt_Called_Offset), lname);
         fprintf(fd, "  Called Name: %s\n", lname);
-        RFCNB_NBName_To_AName((char *)(pkt -> data + RFCNB_Pkt_Calling_Offset), lname);
+        RFCNB_NBName_To_AName((char *) (pkt->data + RFCNB_Pkt_Calling_Offset), lname);
         fprintf(fd, "  Calling Name: %s\n", lname);
 
         break;
 
     case RFCNB_SESSION_ACK:
 
         fprintf(fd, "RFCNB SESSION ACK: Length = %i\n",
-                RFCNB_Pkt_Len(pkt -> data));
+                RFCNB_Pkt_Len(pkt->data));
 
         break;
 
     case RFCNB_SESSION_REJ:
         fprintf(fd, "RFCNB SESSION REJECT: Length = %i\n",
-                RFCNB_Pkt_Len(pkt -> data));
+                RFCNB_Pkt_Len(pkt->data));
 
-        if (RFCNB_Pkt_Len(pkt -> data) < 1) {
+        if (RFCNB_Pkt_Len(pkt->data) < 1) {
             fprintf(fd, "   Protocol Error, short Reject packet!\n");
         } else {
-            fprintf(fd, "   Error = %x\n", CVAL(pkt -> data, RFCNB_Pkt_Error_Offset));
+            fprintf(fd, "   Error = %x\n", CVAL(pkt->data, RFCNB_Pkt_Error_Offset));
         }
 
         break;
 
     case RFCNB_SESSION_RETARGET:
 
         fprintf(fd, "RFCNB SESSION RETARGET: Length = %i\n",
-                RFCNB_Pkt_Len(pkt -> data));
+                RFCNB_Pkt_Len(pkt->data));
 
         /* Print out the IP address etc and the port? */
 
@@ -338,117 +316,106 @@ void RFCNB_Print_Pkt(FILE *fd, char *dirn, struct RFCNB_Pkt *pkt, int len)
     case RFCNB_SESSION_KEEP_ALIVE:
 
         fprintf(fd, "RFCNB SESSION KEEP ALIVE: Length = %i\n",
-                RFCNB_Pkt_Len(pkt -> data));
+                RFCNB_Pkt_Len(pkt->data));
         break;
 
     default:
 
         break;
     }
-
 }
 
 /* Resolve a name into an address */
-
-int RFCNB_Name_To_IP(char *host, struct in_addr *Dest_IP)
-
+int
+RFCNB_Name_To_IP(char *host, struct in_addr *Dest_IP)
 {
-    int addr;         /* Assumes IP4, 32 bit network addresses */
+    int addr;                   /* Assumes IP4, 32 bit network addresses */
     struct hostent *hp;
 
     /* Use inet_addr to try to convert the address */
 
-    if ((addr = inet_addr(host)) == INADDR_NONE) { /* Oh well, a good try :-) */
+    if ((addr = inet_addr(host)) == INADDR_NONE) {      /* Oh well, a good try :-) */
 
         /* Now try a name look up with gethostbyname */
 
-        if ((hp = gethostbyname(host)) == NULL) { /* Not in DNS */
+        if ((hp = gethostbyname(host)) == NULL) {       /* Not in DNS */
 
             /* Try NetBIOS name lookup, how the hell do we do that? */
 
-            RFCNB_errno = RFCNBE_BadName;   /* Is this right? */
+            RFCNB_errno = RFCNBE_BadName;       /* Is this right? */
             RFCNB_saved_errno = errno;
-            return(RFCNBE_Bad);
+            return (RFCNBE_Bad);
 
-        } else { /* We got a name */
+        } else {                /* We got a name */
 
-            memcpy((void *)Dest_IP, (void *)hp -> h_addr_list[0], sizeof(struct in_addr));
+            memcpy((void *) Dest_IP, (void *) hp->h_addr_list[0], sizeof(struct in_addr));
 
         }
-    } else { /* It was an IP address */
+    } else {                    /* It was an IP address */
 
-        memcpy((void *)Dest_IP, (void *)&addr, sizeof(struct in_addr));
+        memcpy((void *) Dest_IP, (void *) &addr, sizeof(struct in_addr));
 
     }
 
     return 0;
-
 }
 
 /* Disconnect the TCP connection to the server */
-
-int RFCNB_Close(int socket)
-
+int
+RFCNB_Close(int socket)
 {
 
     close(socket);
 
     /* If we want to do error recovery, here is where we put it */
 
     return 0;
-
 }
 
 /* Connect to the server specified in the IP address.
-   Not sure how to handle socket options etc.         */
-
-int RFCNB_IP_Connect(struct in_addr Dest_IP, int port)
-
+ * Not sure how to handle socket options etc.         */
+int
+RFCNB_IP_Connect(struct in_addr Dest_IP, int port)
 {
     struct sockaddr_in Socket;
     int fd;
 
     /* Create a socket */
 
-    if ((fd = socket(PF_INET, SOCK_STREAM, 0)) < 0) { /* Handle the error */
+    if ((fd = socket(PF_INET, SOCK_STREAM, 0)) < 0) {   /* Handle the error */
 
         RFCNB_errno = RFCNBE_BadSocket;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
     }
-
-    memset((char *)&Socket, 0, sizeof(Socket));
-    memcpy((char *)&Socket.sin_addr, (char *)&Dest_IP, sizeof(Dest_IP));
+    memset((char *) &Socket, 0, sizeof(Socket));
+    memcpy((char *) &Socket.sin_addr, (char *) &Dest_IP, sizeof(Dest_IP));
 
     Socket.sin_port = htons(port);
     Socket.sin_family = PF_INET;
 
     /* Now connect to the destination */
 
-    if (connect(fd, (struct sockaddr *)&Socket, sizeof(Socket)) < 0) { /* Error */
+    if (connect(fd, (struct sockaddr *) &Socket, sizeof(Socket)) < 0) {         /* Error */
 
         close(fd);
         RFCNB_errno = RFCNBE_ConnectFailed;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
     }
-
-    return(fd);
-
+    return (fd);
 }
 
 /* handle the details of establishing the RFCNB session with remote
-   end
-
-*/
-
-int RFCNB_Session_Req(struct RFCNB_Con *con,
-                      char *Called_Name,
-                      char *Calling_Name,
-                      BOOL *redirect,
-                      struct in_addr *Dest_IP,
-                      int * port)
-
+ * end
+ */
+int
+RFCNB_Session_Req(struct RFCNB_Con *con,
+                  char *Called_Name,
+                  char *Calling_Name,
+                  BOOL * redirect,
+                  struct in_addr *Dest_IP,
+                  int *port)
 {
     char *sess_pkt;
 
@@ -464,15 +431,12 @@ int RFCNB_Session_Req(struct RFCNB_Con *con,
     pkt = RFCNB_Alloc_Pkt(RFCNB_Pkt_Sess_Len);
 
     if (pkt == NULL) {
-
-        return(RFCNBE_Bad);  /* Leave the error that RFCNB_Alloc_Pkt gives) */
-
+        return (RFCNBE_Bad);    /* Leave the error that RFCNB_Alloc_Pkt gives) */
     }
+    sess_pkt = pkt->data;       /* Get pointer to packet proper */
 
-    sess_pkt = pkt -> data;    /* Get pointer to packet proper */
-
-    sess_pkt[RFCNB_Pkt_Type_Offset]  = RFCNB_SESSION_REQUEST;
-    RFCNB_Put_Pkt_Len(sess_pkt, RFCNB_Pkt_Sess_Len-RFCNB_Pkt_Hdr_Len);
+    sess_pkt[RFCNB_Pkt_Type_Offset] = RFCNB_SESSION_REQUEST;
+    RFCNB_Put_Pkt_Len(sess_pkt, RFCNB_Pkt_Sess_Len - RFCNB_Pkt_Hdr_Len);
     sess_pkt[RFCNB_Pkt_N1Len_Offset] = 32;
     sess_pkt[RFCNB_Pkt_N2Len_Offset] = 32;
 
@@ -482,42 +446,36 @@ int RFCNB_Session_Req(struct RFCNB_Con *con,
     /* Now send the packet */
 
 #ifdef RFCNB_DEBUG
-
     fprintf(stderr, "Sending packet: ");
-
 #endif
 
     if ((len = RFCNB_Put_Pkt(con, pkt, RFCNB_Pkt_Sess_Len)) < 0) {
 
-        return(RFCNBE_Bad);       /* Should be able to write that lot ... */
+        return (RFCNBE_Bad);    /* Should be able to write that lot ... */
 
     }
-
 #ifdef RFCNB_DEBUG
-
     fprintf(stderr, "Getting packet.\n");
-
 #endif
 
     res_pkt.data = resp;
-    res_pkt.len  = sizeof(resp);
+    res_pkt.len = sizeof(resp);
     res_pkt.next = NULL;
 
     if ((len = RFCNB_Get_Pkt(con, &res_pkt, sizeof(resp))) < 0) {
 
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
     /* Now analyze the packet ... */
 
     switch (RFCNB_Pkt_Type(resp)) {
 
-    case RFCNB_SESSION_REJ:         /* Didnt like us ... too bad */
+    case RFCNB_SESSION_REJ:     /* Didnt like us ... too bad */
 
         /* Why did we get rejected ? */
 
-        switch (CVAL(resp,RFCNB_Pkt_Error_Offset)) {
+        switch (CVAL(resp, RFCNB_Pkt_Error_Offset)) {
 
         case 0x80:
             RFCNB_errno = RFCNBE_CallRejNLOCN;
@@ -539,37 +497,28 @@ int RFCNB_Session_Req(struct RFCNB_Con *con,
             break;
         }
 
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
         break;
 
-    case RFCNB_SESSION_ACK:        /* Got what we wanted ...      */
+    case RFCNB_SESSION_ACK:     /* Got what we wanted ...      */
 
-        return(0);
+        return (0);
         break;
 
-    case RFCNB_SESSION_RETARGET:   /* Go elsewhere                */
+    case RFCNB_SESSION_RETARGET:        /* Go elsewhere                */
 
         *redirect = TRUE;       /* Copy port and ip addr       */
 
         memcpy(Dest_IP, (resp + RFCNB_Pkt_IP_Offset), sizeof(struct in_addr));
         *port = SVAL(resp, RFCNB_Pkt_Port_Offset);
 
-        return(0);
+        return (0);
         break;
 
-    default:  /* A protocol error */
+    default:                    /* A protocol error */
 
         RFCNB_errno = RFCNBE_ProtErr;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
         break;
     }
 }
-
-
-
-
-
-
-
-
-
@@ -1,37 +1,37 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Utility Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Utility Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 void RFCNB_CvtPad_Name(char *name1, char *name2);
 
 void RFCNB_AName_To_NBName(char *AName, char *NBName);
 
 void RFCNB_NBName_To_AName(char *NBName, char *AName);
 
-void RFCNB_Print_Hex(FILE *fd, struct RFCNB_Pkt *pkt, int Offset, int Len);
+void RFCNB_Print_Hex(FILE * fd, struct RFCNB_Pkt *pkt, int Offset, int Len);
 
-void RFCNB_Print_Pkt(FILE *fd, char *dirn, struct RFCNB_Pkt *pkt, int len);
+void RFCNB_Print_Pkt(FILE * fd, char *dirn, struct RFCNB_Pkt *pkt, int len);
 
 int RFCNB_Name_To_IP(char *host, struct in_addr *Dest_IP);
 
@@ -42,7 +42,9 @@ int RFCNB_IP_Connect(struct in_addr Dest_IP, int port);
 int RFCNB_Session_Req(struct RFCNB_Con *con,
                       char *Called_Name,
                       char *Calling_Name,
-                      BOOL *redirect,
+                      BOOL * redirect,
                       struct in_addr *Dest_IP,
-                      int * port);
+                      int *port);
 
+typedef void RFCNB_Prot_Print_Routine(FILE * fd, int dir, struct RFCNB_Pkt *pkt, int header, int payload);
+extern RFCNB_Prot_Print_Routine *Prot_Print_Routine;
@@ -1,27 +1,27 @@
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   RFCNB Defines
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * RFCNB Defines
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 #ifndef _RFCNB_RFCNB_H
 #define _RFCNB_RFCNB_H
@@ -52,7 +52,7 @@ extern "C" {
 
     int RFCNB_Hangup(struct RFCNB_Con *con_Handle);
 
-    void *RFCNB_Listen();
+    void *RFCNB_Listen(void);
 
     void RFCNB_Get_Error(char *buffer, int buf_len);
 
@@ -66,5 +66,6 @@ extern "C" {
 
 #ifdef __cplusplus
 }
+
 #endif
-#endif /* _RFCNB_RFCNB_H */
+#endif                          /* _RFCNB_RFCNB_H */
@@ -1,29 +1,29 @@
 #include "config.h"
 
 /* UNIX RFCNB (RFC1001/RFC1002) NetBIOS implementation
-
-   Version 1.0
-   Session Routines ...
-
-   Copyright (C) Richard Sharpe 1996
-
-*/
+ *
+ * Version 1.0
+ * Session Routines ...
+ *
+ * Copyright (C) Richard Sharpe 1996
+ *
+ */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 
 int RFCNB_errno = 0;
 int RFCNB_saved_errno = 0;
@@ -42,22 +42,17 @@ int RFCNB_saved_errno = 0;
 
 int RFCNB_Stats[RFCNB_MAX_STATS];
 
-void (*Prot_Print_Routine)() = NULL;      /* Pointer to print routine */
-
-int RFCNB_Get_Last_Errno(void);
-int RFCNB_Get_Error_Msg(int code, char *msg_buf, int len);
-void RFCNB_Register_Print_Routine(void (*fn)());
+RFCNB_Prot_Print_Routine *Prot_Print_Routine = NULL;   /* Pointer to protocol print routine */
 
 /* Set up a session with a remote name. We are passed Called_Name as a
-   string which we convert to a NetBIOS name, ie space terminated, up to
-   16 characters only if we need to. If Called_Address is not empty, then
-   we use it to connect to the remote end, but put in Called_Name ... Called
-   Address can be a DNS based name, or a TCP/IP address ...
-*/
-
-void *RFCNB_Call(char *Called_Name, char *Calling_Name, char *Called_Address,
-                 int port)
-
+ * string which we convert to a NetBIOS name, ie space terminated, up to
+ * 16 characters only if we need to. If Called_Address is not empty, then
+ * we use it to connect to the remote end, but put in Called_Name ... Called
+ * Address can be a DNS based name, or a TCP/IP address ...
+ */
+
+void *
+RFCNB_Call(char *Called_Name, char *Calling_Name, char *Called_Address, int port)
 {
     struct RFCNB_Con *con;
     struct in_addr Dest_IP;
@@ -68,88 +63,84 @@ void *RFCNB_Call(char *Called_Name, char *Calling_Name, char *Called_Address,
 
     /* Now, we really should look up the port in /etc/services ... */
 
-    if (port == 0) port = RFCNB_Default_Port;
+    if (port == 0)
+        port = RFCNB_Default_Port;
 
     /* Create a connection structure first */
 
-    if ((con = (struct RFCNB_Con *)malloc(sizeof(struct RFCNB_Con))) == NULL) { /* Error in size */
+    if ((con = (struct RFCNB_Con *) malloc(sizeof(struct RFCNB_Con))) == NULL) {        /* Error in size */
 
         RFCNB_errno = RFCNBE_NoSpace;
         RFCNB_saved_errno = errno;
-        return(NULL);
+        return (NULL);
 
     }
-
-    con -> fd = -0;             /* no descriptor yet */
-    con -> errn = 0;            /* no error yet */
-    con -> timeout = 0;         /* no timeout   */
-    con -> redirects = 0;
+    con->fd = -0;               /* no descriptor yet */
+    con->errn = 0;              /* no error yet */
+    con->timeout = 0;           /* no timeout   */
+    con->redirects = 0;
 
     /* Resolve that name into an IP address */
 
     Service_Address = Called_Name;
-    if (strcmp(Called_Address, "") != 0) { /* If the Called Address = "" */
+    if (strcmp(Called_Address, "") != 0) {      /* If the Called Address = "" */
         Service_Address = Called_Address;
     }
-
-    if ((errno = RFCNB_Name_To_IP(Service_Address, &Dest_IP)) < 0) { /* Error */
+    if ((errno = RFCNB_Name_To_IP(Service_Address, &Dest_IP)) < 0) {    /* Error */
 
         /* No need to modify RFCNB_errno as it was done by RFCNB_Name_To_IP */
         free(con);
-        return(NULL);
+        return (NULL);
 
     }
-
     /* Now connect to the remote end */
 
-    redirect = TRUE;     /* Fudge this one so we go once through */
+    redirect = TRUE;            /* Fudge this one so we go once through */
 
-    while (redirect) {   /* Connect and get session info etc */
+    while (redirect) {          /* Connect and get session info etc */
 
-        redirect = FALSE;  /* Assume all OK */
+        redirect = FALSE;       /* Assume all OK */
 
         /* Build the redirect info. First one is first addr called */
         /* And tack it onto the list of addresses we called        */
 
-        if ((redir_addr = (struct redirect_addr *)malloc(sizeof(struct redirect_addr))) == NULL) { /* Could not get space */
+        if ((redir_addr = (struct redirect_addr *) malloc(sizeof(struct redirect_addr))) == NULL) {     /* Could not get space */
 
             RFCNB_errno = RFCNBE_NoSpace;
             RFCNB_saved_errno = errno;
             free(con);
-            return(NULL);
+            return (NULL);
 
         }
+        memcpy((char *) &(redir_addr->ip_addr), (char *) &Dest_IP, sizeof(Dest_IP));
+        redir_addr->port = port;
+        redir_addr->next = NULL;
 
-        memcpy((char *)&(redir_addr -> ip_addr), (char *)&Dest_IP, sizeof(Dest_IP));
-        redir_addr -> port = port;
-        redir_addr -> next = NULL;
+        if (con->redirect_list == NULL) {       /* Stick on head */
 
-        if (con -> redirect_list == NULL) { /* Stick on head */
-
-            con -> redirect_list = con -> last_addr = redir_addr;
+            con->redirect_list = con->last_addr = redir_addr;
 
         } else {
 
-            con -> last_addr -> next = redir_addr;
-            con -> last_addr = redir_addr;
+            con->last_addr->next = redir_addr;
+            con->last_addr = redir_addr;
 
         }
 
         /* Now, make that connection */
 
-        if ((Client = RFCNB_IP_Connect(Dest_IP, port)) < 0) { /* Error */
+        if ((Client = RFCNB_IP_Connect(Dest_IP, port)) < 0) {   /* Error */
 
             /* No need to modify RFCNB_errno as it was done by RFCNB_IP_Connect */
             free(con);
-            return(NULL);
+            return (NULL);
 
         }
-
-        con -> fd = Client;
+        con->fd = Client;
 
         /* Now send and handle the RFCNB session request              */
         /* If we get a redirect, we will comeback with redirect true
-           and a new IP address in DEST_IP                            */
+         * and a new IP address in DEST_IP                            */
 
         if ((errno = RFCNB_Session_Req(con,
                                        Called_Name,
@@ -158,33 +149,30 @@ void *RFCNB_Call(char *Called_Name, char *Calling_Name, char *Called_Address,
 
             /* No need to modify RFCNB_errno as it was done by RFCNB_Session.. */
 
-            RFCNB_Close(con->fd);      /* Close it */
+            RFCNB_Close(con->fd);       /* Close it */
             free(con);
-            return(NULL);
+            return (NULL);
 
         }
-
         if (redirect) {
 
             /* We have to close the connection, and then try again */
 
-            (con -> redirects)++;
+            (con->redirects)++;
 
-            RFCNB_Close(con -> fd);  /* Close it */
+            RFCNB_Close(con->fd);       /* Close it */
 
         }
     }
 
-    return(con);
-
+    return (con);
 }
 
 /* We send a packet to the other end ... for the moment, we treat the
-   data as a series of pointers to blocks of data ... we should check the
-   length ... */
-
-int RFCNB_Send(struct RFCNB_Con *Con_Handle, struct RFCNB_Pkt *udata, int Length)
-
+ * data as a series of pointers to blocks of data ... we should check the
+ * length ... */
+int
+RFCNB_Send(struct RFCNB_Con *Con_Handle, struct RFCNB_Pkt *udata, int Length)
 {
     struct RFCNB_Pkt *pkt;
     char *hdr;
@@ -198,17 +186,16 @@ int RFCNB_Send(struct RFCNB_Con *Con_Handle, struct RFCNB_Pkt *udata, int Length
 
         RFCNB_errno = RFCNBE_NoSpace;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
+    pkt->next = udata;          /* The user data we want to send */
 
-    pkt -> next = udata;   /* The user data we want to send */
-
-    hdr = pkt -> data;
+    hdr = pkt->data;
 
     /* Following crap is for portability across multiple UNIX machines */
 
-    *(hdr + RFCNB_Pkt_Type_Offset)  = RFCNB_SESSION_MESSAGE;
+    *(hdr + RFCNB_Pkt_Type_Offset) = RFCNB_SESSION_MESSAGE;
     RFCNB_Put_Pkt_Len(hdr, Length);
 
 #ifdef RFCNB_DEBUG
@@ -221,25 +208,22 @@ int RFCNB_Send(struct RFCNB_Con *Con_Handle, struct RFCNB_Pkt *udata, int Length
 
         /* No need to change RFCNB_errno as it was done by put_pkt ...     */
 
-        return(RFCNBE_Bad);   /* Should be able to write that lot ... */
+        return (RFCNBE_Bad);    /* Should be able to write that lot ... */
 
     }
-
     /* Now we have sent that lot, let's get rid of the RFCNB Header and return */
 
-    pkt -> next = NULL;
+    pkt->next = NULL;
 
     RFCNB_Free_Pkt(pkt);
 
-    return(len);
-
+    return (len);
 }
 
 /* We pick up a message from the internet ... We have to worry about
-   non-message packets ...                                           */
-
-int RFCNB_Recv(void *con_Handle, struct RFCNB_Pkt *Data, int Length)
-
+ * non-message packets ...                                           */
+int
+RFCNB_Recv(void *con_Handle, struct RFCNB_Pkt *Data, int Length)
 {
     struct RFCNB_Pkt *pkt;
 //    struct RFCNB_Hdr *hdr;
@@ -249,10 +233,9 @@ int RFCNB_Recv(void *con_Handle, struct RFCNB_Pkt *Data, int Length)
 
         RFCNB_errno = RFCNBE_BadHandle;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
     /* Now get a packet from below. We allocate a header first */
 
     /* Plug in the header and send the data */
@@ -263,124 +246,78 @@ int RFCNB_Recv(void *con_Handle, struct RFCNB_Pkt *Data, int Length)
 
         RFCNB_errno = RFCNBE_NoSpace;
         RFCNB_saved_errno = errno;
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
-    pkt -> next = Data;  /* Plug in the data portion */
+    pkt->next = Data;           /* Plug in the data portion */
 
     if ((ret_len = RFCNB_Get_Pkt(con_Handle, pkt, Length + RFCNB_Pkt_Hdr_Len)) < 0) {
 
 #ifdef RFCNB_DEBUG
         fprintf(stderr, "Bad packet return in RFCNB_Recv... \n");
 #endif
 
-        return(RFCNBE_Bad);
+        return (RFCNBE_Bad);
 
     }
-
     /* We should check that we go a message and not a keep alive */
 
-    pkt -> next = NULL;
+    pkt->next = NULL;
 
     RFCNB_Free_Pkt(pkt);
 
-    return(ret_len);
-
+    return (ret_len);
 }
 
 /* We just disconnect from the other end, as there is nothing in the RFCNB */
 /* protocol that specifies any exchange as far as I can see                */
-
-int RFCNB_Hangup(struct RFCNB_Con *con_Handle)
-
+int
+RFCNB_Hangup(struct RFCNB_Con *con_Handle)
 {
 
     if (con_Handle != NULL) {
-        RFCNB_Close(con_Handle -> fd);  /* Could this fail? */
+        RFCNB_Close(con_Handle->fd);    /* Could this fail? */
         free(con_Handle);
     }
-
     return 0;
-
-
 }
 
 /* Set TCP_NODELAY on the socket                                          */
-
-int RFCNB_Set_Sock_NoDelay(struct RFCNB_Con *con_Handle, BOOL yn)
-
+int
+RFCNB_Set_Sock_NoDelay(struct RFCNB_Con *con_Handle, BOOL yn)
 {
 
-    return(setsockopt(con_Handle -> fd, IPPROTO_TCP, TCP_NODELAY,
-                      (char *)&yn, sizeof(yn)));
-
+    return (setsockopt(con_Handle->fd, IPPROTO_TCP, TCP_NODELAY,
+                       (char *) &yn, sizeof(yn)));
 }
 
 #if NOT_IMPLEMENTED
-
 /* Listen for a connection on a port???, when                             */
 /* the connection comes in, we return with the connection                 */
-
-void *RFCNB_Listen()
-
+void *
+RFCNB_Listen()
 {
-
 }
+
 #endif
 
 /* Pick up the last error response as a string, hmmm, this routine should */
 /* have been different ...                                                */
-
-void RFCNB_Get_Error(char *buffer, int buf_len)
-
+void
+RFCNB_Get_Error(char *buffer, int buf_len)
 {
 
     if (RFCNB_saved_errno <= 0) {
-        snprintf(buffer, (buf_len-1) ,"%s", RFCNB_Error_Strings[RFCNB_errno]);
+        snprintf(buffer, (buf_len - 1), "%s", RFCNB_Error_Strings[RFCNB_errno]);
     } else {
-        snprintf(buffer, (buf_len-1), "%s\n\terrno:%s", RFCNB_Error_Strings[RFCNB_errno],
+        snprintf(buffer, (buf_len - 1), "%s\n\terrno:%s", RFCNB_Error_Strings[RFCNB_errno],
                  strerror(RFCNB_saved_errno));
     }
-
 }
 
 /* Pick up the last error response and returns as a code                 */
-
-int RFCNB_Get_Last_Error()
-
-{
-
-    return(RFCNB_errno);
-
-}
-
-/* Pick up saved errno as well */
-
-int RFCNB_Get_Last_Errno()
-
+int
+RFCNB_Get_Last_Error()
 {
-
-    return(RFCNB_saved_errno);
-
-}
-
-/* Pick up the last error response and return in string ...             */
-
-int RFCNB_Get_Error_Msg(int code, char *msg_buf, int len)
-
-{
-
-    return (strncpy(msg_buf, RFCNB_Error_Strings[abs(code)], len) != NULL);
-
-}
-
-/* Register a higher level protocol print routine */
-
-void RFCNB_Register_Print_Routine(void (*fn)())
-
-{
-
-    Prot_Print_Routine = fn;
-
+    return (RFCNB_errno);
 }
@@ -1,28 +1,28 @@
 /* RFCNB Standard includes ... */
 /*
-
-   RFCNB Standard Includes
-
-   Copyright (C) 1996, Richard Sharpe
-*/
+ *
+ * RFCNB Standard Includes
+ *
+ * Copyright (C) 1996, Richard Sharpe
+ */
 
 /* One day we will conditionalize these on OS types ... */
 
 /*
-   This program is free software; you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation; either version 2 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program; if not, write to the Free Software
-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
 #ifndef _RFCNB_STD_INCLUDES_H
 #define _RFCNB_STD_INCLUDES_H
 
@@ -38,7 +38,6 @@
 
 #include "smblib/smblib-priv.h"
 #define uchar unsigned char
-extern int DEBUGLEVEL;
 
 #include "rfcnb/byteorder.h"
 
@@ -48,11 +48,13 @@ int SMB_Types[] = {SMB_P_Core,
                    -1
                   };
 
+#if UNDEFINED
 char *SMB_DOSTimToStr(int DOS_time);
 char *SMB_AtrToStr(int attribs, BOOL verbose);
 int SMB_Get_Tree_MBS(SMB_Tree_Handle tree);
 int SMB_Get_Max_Buf_Siz(SMB_Handle_Type Con_Handle);
 int SMB_Get_Protocol_IDX(SMB_Handle_Type Con_Handle);
+#endif /* UNDEFINED */
 int SMB_Get_Protocol(SMB_Handle_Type Con_Handle);
 int SMB_Figure_Protocol(const char *dialects[], int prot_index);
 int SMB_TreeDisconnect(SMB_Tree_Handle Tree_Handle, BOOL discard);
@@ -80,6 +82,7 @@ void SMB_Print_Pkt(FILE fd, RFCNB_Pkt *pkt, BOOL command, int Offset, int Len)
 
 /* Convert a DOS Date_Time to a local host type date time for printing */
 
+#if UNDEFINED
 char *SMB_DOSTimToStr(int DOS_time)
 
 {
@@ -172,6 +175,7 @@ int SMB_Get_Protocol_IDX(SMB_Handle_Type Con_Handle)
     }
 
 }
+#endif /* UNDEFINED */
 
 /* Pick up the protocol from the connection structure                       */
 
@@ -55,8 +55,6 @@ const char *SMB_Prots[] = {"PC NETWORK PROGRAM 1.0",
                            NULL
                           };
 
-int SMB_Term(void);
-int SMBlib_Set_Sock_NoDelay(SMB_Handle_Type Con_Handle, BOOL yn);
 
 /* Initialize the SMBlib package     */
 
@@ -79,20 +77,6 @@ int SMB_Init()
 
 }
 
-int SMB_Term()
-
-{
-
-#ifdef SMBLIB_INSTRUMENT
-
-    SMBlib_Instrument_Term();       /* Clean up and print results */
-
-#endif
-
-    return 0;
-
-}
-
 /* SMB_Create: Create a connection structure and return for later use */
 /* We have other helper routines to set variables                     */
 
@@ -105,24 +89,6 @@ SMB_Handle_Type SMB_Create_Con_Handle()
 
 }
 
-int SMBlib_Set_Sock_NoDelay(SMB_Handle_Type Con_Handle, BOOL yn)
-
-{
-
-
-    if (RFCNB_Set_Sock_NoDelay(Con_Handle -> Trans_Connect, yn) < 0) {
-
-#ifdef DEBUG
-#endif
-
-        fprintf(stderr, "Setting no-delay on TCP socket failed ...\n");
-
-    }
-
-    return(0);
-
-}
-
 /* SMB_Connect_Server: Connect to a server, but don't negotiate protocol */
 /* or anything else ...                                                  */
 
@@ -114,6 +114,31 @@ for FILENAME in `ls -1`; do
 done
 }
 
+# Build XPROF types file from current sources
+echo "#ifndef _PROFILER_XPROF_TYPE_H_" >${ROOT}/lib/profiler/list
+echo "#define _PROFILER_XPROF_TYPE_H_" >>${ROOT}/lib/profiler/list
+echo "/* AUTO-GENERATED FILE */" >>${ROOT}/lib/profiler/list
+echo "#if USE_XPROF_STATS" >>${ROOT}/lib/profiler/list
+echo "typedef enum {" >>${ROOT}/lib/profiler/list
+echo "XPROF_PROF_UNACCOUNTED," >>${ROOT}/lib/profiler/list
+grep -R -h "PROF_start.*" ./* | grep -v probename | sed -e 's/ //g; s/PROF_start(/XPROF_/; s/);/,/' | sort -u >>${ROOT}/lib/profiler/list
+echo "  XPROF_LAST } xprof_type;" >>${ROOT}/lib/profiler/list
+echo "#endif" >>${ROOT}/lib/profiler/list
+echo "#endif" >>${ROOT}/lib/profiler/list
+mv ${ROOT}/lib/profiler/list ${ROOT}/lib/profiler/xprof_type.h
+
+# Build icons install include form current icons available
+(
+echo -n "ICONS="
+for f in `ls -1 ${ROOT}/icons/silk/*`
+do
+	echo " \\"
+	echo -n "    ${f}"
+done
+echo " "
+)| sed s%${ROOT}/icons/%%g >${ROOT}/icons/list
+
+# Run formating
 echo "" >${ROOT}/doc/debug-sections.tmp
 srcformat || exit 1
 sort -u <${ROOT}/doc/debug-sections.tmp | sort -n >${ROOT}/doc/debug-sections.txt
@@ -202,13 +202,14 @@ ($$)
 my (@chained);
 
 my $in_options = 0;
-sub start_option($)
+sub start_option($$)
 {
-    my ($name) = @_;
+    my ($name, $type) = @_;
     if (!$in_options) {
 	print $index "<ul>\n";
 	$in_options = 1;
     }
+    return if $type eq "obsolete";
     print $index '    <li><a href="' . htmlescape(section_link($name)) . '" name="toc_' . htmlescape($name) . '">' . htmlescape($name) . "</a></li>\n";
 }
 sub end_options()
@@ -241,12 +242,12 @@ ($)
 		$data->{'name'} = $name;
 		$data->{'aliases'} = \@aliases;
 
-		start_option($name);
 		print "DEBUG: new option: $name\n" if $verbose;
 	} elsif ($_ =~ /^COMMENT: (.*)$/) {
 		$data->{"comment"} = $1;
 	} elsif ($_ =~ /^TYPE: (.*)$/) {
 		$data->{"type"} = $1;
+		start_option($data->{"name"}, $data->{"type"});
 	} elsif ($_ =~ /^DEFAULT: (.*)$/) {
 		if ($1 eq "none") {
 		    $data->{"default"} = "$1";
@@ -4,8 +4,8 @@
 ## 
 AM_CFLAGS = $(SQUID_CFLAGS)
 AM_CXXFLAGS = $(SQUID_CXXFLAGS)
-noinst_LIBRARIES = libsnmp.a
-libsnmp_a_SOURCES  = asn1.c parse.c snmp_vars.c \
+noinst_LIBRARIES = libsnmplib.a
+libsnmplib_a_SOURCES  = asn1.c parse.c snmp_vars.c \
 	coexistance.c snmp_api.c snmp_error.c  \
 	mib.c snmp_api_error.c   \
 	snmp_msg.c \
@@ -409,7 +409,7 @@ asn_parse_string(u_char * data, int *datalength,
         snmp_set_api_error(SNMPERR_ASN_DECODE);
         return (NULL);
     }
-    xmemcpy((char *) string, (char *) bufp, (int) asn_length);
+    memcpy((char *) string, (char *) bufp, (int) asn_length);
     *strlength = (int) asn_length;
     *datalength -= (int) asn_length + (bufp - data);
     return (bufp + asn_length);
@@ -448,7 +448,7 @@ asn_build_string(u_char * data, int *datalength,
         snmp_set_api_error(SNMPERR_ASN_DECODE);
         return (NULL);
     }
-    xmemcpy((char *) data, (char *) string, strlength);
+    memcpy((char *) data, (char *) string, strlength);
     *datalength -= strlength;
     return (data + strlength);
 }
@@ -587,7 +587,7 @@ asn_parse_length(u_char * data, u_int * length)
             return (NULL);
         }
         *length = (u_int) 0;
-        xmemcpy((char *) (length), (char *) data + 1, (int) lengthbyte);
+        memcpy((char *) (length), (char *) data + 1, (int) lengthbyte);
         *length = ntohl(*length);
         *length >>= (8 * ((sizeof *length) - lengthbyte));
         return (data + lengthbyte + 1);
@@ -818,7 +818,7 @@ asn_build_objid(u_char * data, int *datalength,
         snmp_set_api_error(SNMPERR_ASN_DECODE);
         return (NULL);
     }
-    xmemcpy((char *) data, (char *) buf, asnlength);
+    memcpy((char *) data, (char *) buf, asnlength);
     *datalength -= asnlength;
     return (data + asnlength);
 }
@@ -932,7 +932,7 @@ asn_parse_bitstring(u_char * data, int *datalength,
         snmp_set_api_error(SNMPERR_ASN_DECODE);
         return (NULL);
     }
-    xmemcpy((char *) string, (char *) bufp, (int) asn_length);
+    memcpy((char *) string, (char *) bufp, (int) asn_length);
     *strlength = (int) asn_length;
     *datalength -= (int) asn_length + (bufp - data);
     return (bufp + asn_length);
@@ -973,7 +973,7 @@ asn_build_bitstring(u_char * data, int *datalength,
         snmp_set_api_error(SNMPERR_ASN_ENCODE);
         return (NULL);
     }
-    xmemcpy((char *) data, (char *) string, strlength);
+    memcpy((char *) data, (char *) string, strlength);
     *datalength -= strlength;
     return (data + strlength);
 }
@@ -150,7 +150,7 @@ snmp_pdu_clone(struct snmp_pdu *Src) {
         snmp_set_api_error(SNMPERR_OS_ERR);
         return (NULL);
     }
-    xmemcpy((char *) Dest, (char *) Src, sizeof(struct snmp_pdu));
+    memcpy((char *) Dest, (char *) Src, sizeof(struct snmp_pdu));
 
 #if DEBUG_PDU
     snmplib_debug(8, "PDU %x:  Created %x\n", (unsigned int) Src, (unsigned int) Dest);
@@ -518,8 +518,8 @@ snmp_pdu_decode(u_char * Packet,	/* data */
             snmp_set_api_error(SNMPERR_OS_ERR);
             return (NULL);
         }
-        xmemcpy((char *) PDU->enterprise, (char *) objid,
-                PDU->enterprise_length * sizeof(oid));
+        memcpy((char *) PDU->enterprise, (char *) objid,
+               PDU->enterprise_length * sizeof(oid));
 
         /* Agent-addr */
         four = 4;
@@ -141,7 +141,7 @@ snmp_var_new(oid * Name, int Len) {
 
     /* Only copy a name if it was specified. */
     if (Name)
-        xmemcpy((char *) New->name, (char *) Name, Len * sizeof(oid));
+        memcpy((char *) New->name, (char *) Name, Len * sizeof(oid));
 
     return (New);
 }
@@ -179,7 +179,7 @@ snmp_var_clone(struct variable_list *Src) {
            sizeof(struct variable_list));
 #endif
 
-    xmemcpy((char *) Dest, (char *) Src, sizeof(struct variable_list));
+    memcpy((char *) Dest, (char *) Src, sizeof(struct variable_list));
 
     if (Src->name != NULL) {
         Dest->name = (oid *) xmalloc(Src->name_length * sizeof(oid));
@@ -191,8 +191,8 @@ snmp_var_clone(struct variable_list *Src) {
 #if DEBUG_VARS
         printf("VARS: Copying name OID. (Size %d)\n", Src->name_length);
 #endif
-        xmemcpy((char *) Dest->name, (char *) Src->name,
-                Src->name_length * sizeof(oid));
+        memcpy((char *) Dest->name, (char *) Src->name,
+               Src->name_length * sizeof(oid));
     }
     /* CISCO Catalyst 2900 returns NULL strings as data of length 0. */
     if ((Src->val.string != NULL) &&
@@ -207,7 +207,7 @@ snmp_var_clone(struct variable_list *Src) {
 #if DEBUG_VARS
         printf("VARS: Copying value (Size %d)\n", Src->val_len);
 #endif
-        xmemcpy((char *) Dest->val.string, (char *) Src->val.string, Src->val_len);
+        memcpy((char *) Dest->val.string, (char *) Src->val.string, Src->val_len);
     }
 #if DEBUG_VARS
     printf("VARS: Cloned %x.\n", (unsigned int) Dest);
@@ -530,7 +530,7 @@ snmp_var_DecodeVarBind(u_char * Buffer, int *BufLen,
             }
             /* Only copy if we successfully decoded something */
             if (bufp) {
-                xmemcpy((char *) Var->val.objid, (char *) TmpBuf, Var->val_len);
+                memcpy((char *) Var->val.objid, (char *) TmpBuf, Var->val_len);
             }
 #if DEBUG_VARS_DECODE
             printf("VARS: Decoded OBJID (length %d) (%d bytes left)\n",
@@ -18,7 +18,9 @@
 #include "acl/DestinationDomain.h"
 #include "acl/DestinationIp.h"
 #include "acl/DomainData.h"
+#if USE_AUTH
 #include "acl/ExtUser.h"
+#endif
 #include "acl/FilledChecklist.h"
 #include "acl/Gadgets.h"
 #include "acl/HierCodeData.h"
@@ -64,8 +66,10 @@
 #include "acl/UrlPath.h"
 #include "acl/UrlPort.h"
 #include "acl/UserData.h"
+#if USE_AUTH
 #include "auth/AclProxyAuth.h"
 #include "auth/AclMaxUserIp.h"
+#endif
 #if USE_IDENT
 #include "ident/AclIdent.h"
 #endif
@@ -79,10 +83,12 @@ ACL::Prototype ACLDestinationDomain::RegexRegistryProtoype(&ACLDestinationDomain
 ACLStrategised<char const *> ACLDestinationDomain::RegexRegistryEntry_(new ACLRegexData,ACLDestinationDomainStrategy::Instance() ,"dstdom_regex");
 ACL::Prototype ACLDestinationIP::RegistryProtoype(&ACLDestinationIP::RegistryEntry_, "dst");
 ACLDestinationIP ACLDestinationIP::RegistryEntry_;
+#if USE_AUTH
 ACL::Prototype ACLExtUser::UserRegistryProtoype(&ACLExtUser::UserRegistryEntry_, "ext_user");
 ACLExtUser ACLExtUser::UserRegistryEntry_(new ACLUserData, "ext_user");
 ACL::Prototype ACLExtUser::RegexRegistryProtoype(&ACLExtUser::RegexRegistryEntry_, "ext_user_regex" );
 ACLExtUser ACLExtUser::RegexRegistryEntry_(new ACLRegexData, "ext_user_regex");
+#endif
 ACL::Prototype ACLHierCode::RegistryProtoype(&ACLHierCode::RegistryEntry_, "hier_code");
 ACLStrategised<hier_code> ACLHierCode::RegistryEntry_(new ACLHierCodeData, ACLHierCodeStrategy::Instance(), "hier_code");
 ACL::Prototype ACLHTTPRepHeader::RegistryProtoype(&ACLHTTPRepHeader::RegistryEntry_, "rep_header");
@@ -152,14 +158,15 @@ ACL::Prototype ACLIdent::RegexRegistryProtoype(&ACLIdent::RegexRegistryEntry_, "
 ACLIdent ACLIdent::RegexRegistryEntry_(new ACLRegexData, "ident_regex");
 #endif
 
-
+#if USE_AUTH
 ACL::Prototype ACLProxyAuth::UserRegistryProtoype(&ACLProxyAuth::UserRegistryEntry_, "proxy_auth");
 ACLProxyAuth ACLProxyAuth::UserRegistryEntry_(new ACLUserData, "proxy_auth");
 ACL::Prototype ACLProxyAuth::RegexRegistryProtoype(&ACLProxyAuth::RegexRegistryEntry_, "proxy_auth_regex" );
 ACLProxyAuth ACLProxyAuth::RegexRegistryEntry_(new ACLRegexData, "proxy_auth_regex");
 
 ACL::Prototype ACLMaxUserIP::RegistryProtoype(&ACLMaxUserIP::RegistryEntry_, "max_user_ip");
 ACLMaxUserIP ACLMaxUserIP::RegistryEntry_("max_user_ip");
+#endif
 
 ACL::Prototype ACLTag::RegistryProtoype(&ACLTag::RegistryEntry_, "tag");
 ACLStrategised<const char *> ACLTag::RegistryEntry_(new ACLStringData, ACLTagStrategy::Instance(), "tag");
@@ -1,4 +1,7 @@
 #include "config.h"
+
+#if USE_AUTH
+
 #include "Debug.h"
 #include "protos.h"
 
@@ -41,3 +44,5 @@ InitAuthSchemes()
 #endif
     debugs(29,1,"Initializing Authentication Schemes Complete.");
 }
+
+#endif /* USE_AUTH */
@@ -102,7 +102,7 @@ cacheDigestClone(const CacheDigest * cd)
     clone->count = cd->count;
     clone->del_count = cd->del_count;
     assert(cd->mask_size == clone->mask_size);
-    xmemcpy(clone->mask, cd->mask, cd->mask_size);
+    memcpy(clone->mask, cd->mask, cd->mask_size);
     return clone;
 }
 
@@ -328,7 +328,7 @@ cacheDigestHashKey(const CacheDigest * cd, const cache_key * key)
     const unsigned int bit_count = cd->mask_size * 8;
     unsigned int tmp_keys[4];
     /* we must memcpy to ensure alignment */
-    xmemcpy(tmp_keys, key, sizeof(tmp_keys));
+    memcpy(tmp_keys, key, sizeof(tmp_keys));
     hashed_keys[0] = htonl(tmp_keys[0]) % bit_count;
     hashed_keys[1] = htonl(tmp_keys[1]) % bit_count;
     hashed_keys[2] = htonl(tmp_keys[2]) % bit_count;
@@ -176,6 +176,7 @@ class CommAcceptCbPtrFun: public CallDialer,
 {
 public:
     typedef CommAcceptCbParams Params;
+    typedef RefCount<CommAcceptCbPtrFun> Pointer;
 
     CommAcceptCbPtrFun(IOACB *aHandler, const CommAcceptCbParams &aParams);
     void dial();
@@ -259,11 +260,18 @@ template <class Dialer>
 class CommCbFunPtrCallT: public AsyncCall
 {
 public:
+    typedef RefCount<CommCbFunPtrCallT<Dialer> > Pointer;
     typedef typename Dialer::Params Params;
 
     inline CommCbFunPtrCallT(int debugSection, int debugLevel,
                              const char *callName, const Dialer &aDialer);
 
+    inline CommCbFunPtrCallT(const CommCbFunPtrCallT &o) :
+            AsyncCall(o.debugSection, o.debugLevel, o.name),
+            dialer(o.dialer) {}
+
+    ~CommCbFunPtrCallT() {}
+
     virtual CallDialer* getDialer() { return &dialer; }
 
 public:
@@ -272,6 +280,9 @@ class CommCbFunPtrCallT: public AsyncCall
 protected:
     inline virtual bool canFire();
     inline virtual void fire();
+
+private:
+    CommCbFunPtrCallT & operator=(const CommCbFunPtrCallT &); // not defined. not permitted.
 };
 
 // Conveninece wrapper: It is often easier to call a templated function than
@@ -47,7 +47,7 @@ class ConfigOption
     virtual ~ConfigOption() {}
 
     virtual bool parse(char const *option, const char *value, int reconfiguring) = 0;
-    virtual void dump (StoreEntry * e) const = 0;
+    virtual void dump(StoreEntry * e) const = 0;
 };
 
 class ConfigOptionVector : public ConfigOption
@@ -65,7 +65,7 @@ class ConfigOptionAdapter : public ConfigOption
 {
 
 public:
-    ConfigOptionAdapter(C& theObject, bool (C::*parseFP)(char const *option, const char *value, int reconfiguring), void (C::*dumpFP) (StoreEntry * e) const) : object(theObject), parser (parseFP), dumper(dumpFP) {}
+    ConfigOptionAdapter(C& theObject, bool (C::*parseFP)(char const *option, const char *value, int reconfiguring), void (C::*dumpFP)(StoreEntry * e) const) : object(theObject), parser(parseFP), dumper(dumpFP) {}
 
     bool parse(char const *option, const char *value, int isaReconf) {
         if (parser)
@@ -76,12 +76,12 @@ class ConfigOptionAdapter : public ConfigOption
 
     void dump(StoreEntry * e) const {
         if (dumper)
-            (object.*dumper) (e);
+            (object.*dumper)(e);
     }
 
 private:
     C &object;
-    bool (C::*parser) (char const *option, const char *value, int reconfiguring) ;
+    bool (C::*parser)(char const *option, const char *value, int reconfiguring) ;
     void (C::*dumper)(StoreEntry * e) const;
 };
 
@@ -75,9 +75,8 @@ ConfigParser::strtokFile(void)
                     return (NULL);
                 }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
                 setmode(fileno(wordFile), O_TEXT);
-
 #endif
 
                 fromFile = 1;
@@ -38,7 +38,7 @@ CpuAffinitySet::apply()
                "this process: " << xstrerror());
     } else {
         cpu_set_t cpuSet;
-        xmemcpy(&cpuSet, &theCpuSet, sizeof(cpuSet));
+        memcpy(&cpuSet, &theCpuSet, sizeof(cpuSet));
         CPU_AND(&cpuSet, &cpuSet, &theOrigCpuSet);
         if (CPU_COUNT(&cpuSet) <= 0) {
             debugs(54, DBG_IMPORTANT, "ERROR: invalid CPU affinity for process "
@@ -76,5 +76,5 @@ CpuAffinitySet::applied() const
 void
 CpuAffinitySet::set(const cpu_set_t &aCpuSet)
 {
-    xmemcpy(&theCpuSet, &aCpuSet, sizeof(theCpuSet));
+    memcpy(&theCpuSet, &aCpuSet, sizeof(theCpuSet));
 }
@@ -100,7 +100,7 @@ class Debug
 
 extern FILE *debug_log;
 
-const size_t BuildPrefixInit();
+size_t BuildPrefixInit();
 const char * SkipBuildPrefix(const char* path);
 
 /* Debug stream */
@@ -86,7 +86,7 @@ void
 AIODiskFile::open(int flags, mode_t mode, RefCount<IORequestor> callback)
 {
     /* Simulate async calls */
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     fd = aio_open(path.termedBuf(), flags);
 #else
     fd = file_open(path.termedBuf() , flags);
@@ -232,11 +232,9 @@ void
 AIODiskFile::close ()
 {
     assert (!closed);
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     aio_close(fd);
 #else
-
     file_close(fd);
 #endif
 
@@ -37,7 +37,7 @@
 #include "comm.h"
 #include "aio_win32.h"
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 VOID CALLBACK IoCompletionRoutine(DWORD dwErrorCode,
                                   DWORD dwNumberOfBytesTransfered, LPOVERLAPPED lpOverlapped)
 {
@@ -351,4 +351,4 @@ ssize_t aio_return64(struct aiocb64 * aiocbp)
 {
     return aiocbp->aio_sigevent.sigev_signo;
 }
-#endif /* _SQUID_WIN32_ */
+#endif /* _SQUID_WINDOWS_ */
@@ -36,7 +36,7 @@
 
 #if USE_DISKIO_AIO
 
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include "squid_windows.h"
 #endif
 
@@ -3,7 +3,7 @@
 
 #if USE_DISKIO_AIO
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
 #include "aio_win32.h"
 #else
 #if HAVE_AIO_H
@@ -312,7 +312,7 @@ DiskdFile::write(WriteRequest *aRequest)
     debugs(79, 3, "DiskdFile::write: this " << (void *)this << ", buf " << (void *)aRequest->buf << ", off " << aRequest->offset << ", len " << aRequest->len);
     ssize_t shm_offset;
     char *sbuf = (char *)IO->shm.get(&shm_offset);
-    xmemcpy(sbuf, aRequest->buf, aRequest->len);
+    memcpy(sbuf, aRequest->buf, aRequest->len);
 
     if (aRequest->free_func)
         aRequest->free_func(const_cast<char *>(aRequest->buf));
@@ -34,6 +34,7 @@
  */
 
 #include "squid.h"
+#include "comm/Loops.h"
 
 #include <sys/ipc.h>
 #include <sys/msg.h>
@@ -203,10 +204,8 @@ DiskdIOStrategy::init()
     fd_note(wfd, "squid -> diskd");
 
     commSetTimeout(wfd, -1, NULL, NULL);
-
     commSetNonBlocking(wfd);
-
-    comm_quick_poll_required();
+    Comm::QuickPollRequired();
 }
 
 /*
@@ -88,15 +88,16 @@ do_open(diomsg * r, int len, const char *buf)
 
     fs = (file_state *)xcalloc(1, sizeof(*fs));
     fs->id = r->id;
-    fs->key = &fs->id;		/* gack */
+    fs->key = &fs->id;          /* gack */
     fs->fd = fd;
     hash_join(hash, (hash_link *) fs);
-    DEBUG(2)
-    fprintf(stderr, "%d OPEN  id %d, FD %d, fs %p\n",
-            (int) mypid,
-            fs->id,
-            fs->fd,
-            fs);
+    DEBUG(2) {
+        fprintf(stderr, "%d OPEN  id %d, FD %d, fs %p\n",
+                (int) mypid,
+                fs->id,
+                fs->fd,
+                fs);
+    }
     return fd;
 }
 
@@ -119,12 +120,13 @@ do_close(diomsg * r, int len)
 
     fd = fs->fd;
     hash_remove_link(hash, (hash_link *) fs);
-    DEBUG(2)
-    fprintf(stderr, "%d CLOSE id %d, FD %d, fs %p\n",
-            (int) mypid,
-            r->id,
-            fs->fd,
-            fs);
+    DEBUG(2) {
+        fprintf(stderr, "%d CLOSE id %d, FD %d, fs %p\n",
+                (int) mypid,
+                r->id,
+                fs->fd,
+                fs);
+    }
     xfree(fs);
     return close(fd);
 }
@@ -148,8 +150,9 @@ do_read(diomsg * r, int len, char *buf)
     }
 
     if (r->offset > -1 && r->offset != fs->offset) {
-        DEBUG(2)
-        fprintf(stderr, "seeking to %"PRId64"\n", (int64_t)r->offset);
+        DEBUG(2) {
+            fprintf(stderr, "seeking to %"PRId64"\n", (int64_t)r->offset);
+        }
 
         if (lseek(fs->fd, r->offset, SEEK_SET) < 0) {
             DEBUG(1) {
@@ -160,9 +163,10 @@ do_read(diomsg * r, int len, char *buf)
     }
 
     x = read(fs->fd, buf, readlen);
-    DEBUG(2)
-    fprintf(stderr, "%d READ %d,%d,%"PRId64" ret %d\n", (int) mypid,
-            fs->fd, readlen, (int64_t)r->offset, x);
+    DEBUG(2) {
+        fprintf(stderr, "%d READ %d,%d,%"PRId64" ret %d\n", (int) mypid,
+                fs->fd, readlen, (int64_t)r->offset, x);
+    }
 
     if (x < 0) {
         DEBUG(1) {
@@ -204,9 +208,10 @@ do_write(diomsg * r, int len, const char *buf)
         }
     }
 
-    DEBUG(2)
-    fprintf(stderr, "%d WRITE %d,%d,%"PRId64"\n", (int) mypid,
-            fs->fd, wrtlen, (int64_t)r->offset);
+    DEBUG(2) {
+        fprintf(stderr, "%d WRITE %d,%d,%"PRId64"\n", (int) mypid,
+                fs->fd, wrtlen, (int64_t)r->offset);
+    }
     x = write(fs->fd, buf, wrtlen);
 
     if (x < 0) {
@@ -234,8 +239,9 @@ do_unlink(diomsg * r, int len, const char *buf)
         return -errno;
     }
 
-    DEBUG(2)
-    fprintf(stderr, "%d UNLNK %s\n", (int) mypid, buf);
+    DEBUG(2) {
+        fprintf(stderr, "%d UNLNK %s\n", (int) mypid, buf);
+    }
     return 0;
 }
 
@@ -245,11 +251,11 @@ msg_handle(diomsg * r, int rl, diomsg * s)
     char *buf = NULL;
     s->mtype = r->mtype;
     s->id = r->id;
-    s->seq_no = r->seq_no;	/* optional, debugging */
+    s->seq_no = r->seq_no;      /* optional, debugging */
     s->callback_data = r->callback_data;
     s->requestor = r->requestor;
-    s->size = 0;		/* optional, debugging */
-    s->offset = 0;		/* optional, debugging */
+    s->size = 0;                /* optional, debugging */
+    s->offset = 0;              /* optional, debugging */
     s->shm_offset = r->shm_offset;
     s->newstyle = r->newstyle;
 
@@ -368,10 +374,11 @@ main(int argc, char *argv[])
     for (;;) {
         alarm(1);
         memset(&rmsg, '\0', sizeof(rmsg));
-        DEBUG(2)
-        std::cerr << "msgrcv: " << rmsgid << ", "
-                  << &rmsg << ", " << diomsg::msg_snd_rcv_sz
-                  << ", " << 0 << ", " << 0 << std::endl;
+        DEBUG(2) {
+            std::cerr << "msgrcv: " << rmsgid << ", "
+                      << &rmsg << ", " << diomsg::msg_snd_rcv_sz
+                      << ", " << 0 << ", " << 0 << std::endl;
+        }
         rlen = msgrcv(rmsgid, &rmsg, diomsg::msg_snd_rcv_sz, 0, 0);
 
         if (rlen < 0) {
@@ -403,8 +410,9 @@ main(int argc, char *argv[])
         }
     }
 
-    DEBUG(2)
-    fprintf(stderr, "%d diskd exiting\n", (int) mypid);
+    DEBUG(2) {
+        fprintf(stderr, "%d diskd exiting\n", (int) mypid);
+    }
 
     if (msgctl(rmsgid, IPC_RMID, 0) < 0)
         perror("msgctl IPC_RMID");
@@ -587,8 +587,7 @@ squidaio_cleanup_request(squidaio_request_t * requestp)
     case _AIO_OP_STAT:
 
         if (!cancelled && requestp->ret == 0)
-
-            xmemcpy(requestp->statp, requestp->tmpstatp, sizeof(struct stat));
+            memcpy(requestp->statp, requestp->tmpstatp, sizeof(struct stat));
 
         squidaio_xfree(requestp->tmpstatp, sizeof(struct stat));
 
@@ -672,8 +672,7 @@ squidaio_cleanup_request(squidaio_request_t * requestp)
     case _AIO_OP_STAT:
 
         if (!cancelled && requestp->ret == 0)
-
-            xmemcpy(requestp->statp, requestp->tmpstatp, sizeof(struct stat));
+            memcpy(requestp->statp, requestp->tmpstatp, sizeof(struct stat));
 
         squidaio_xfree(requestp->tmpstatp, sizeof(struct stat));
 
@@ -84,9 +84,10 @@ ExternalACLEntry::update(ExternalACLEntryData const &someData)
 {
     date = squid_curtime;
     result = someData.result;
-
+#if USE_AUTH
     user = someData.user;
     password = someData.password;
+#endif
     message = someData.message;
     tag = someData.tag;
     log = someData.log;
@@ -61,8 +61,11 @@ class ExternalACLEntryData
     ExternalACLEntryData() : result (-1) {}
 
     int result;
+#if USE_AUTH
+    // TODO use an AuthUser to hold this info
     String user;
     String password;
+#endif
     String message;
     String tag;
     String log;
@@ -88,8 +91,10 @@ class ExternalACLEntry: public hash_link
     dlink_node lru;
     int result;
     time_t date;
+#if USE_AUTH
     String user;
     String password;
+#endif
     String message;
     String tag;
     String log;
@@ -23,7 +23,7 @@ HelperChildConfig::operator =(const HelperChildConfig &rhs)
     return *this;
 }
 
-const int
+int
 HelperChildConfig::needNew() const
 {
     /* during the startup and reconfigure use our special amount... */
@@ -21,7 +21,7 @@ class HelperChildConfig
      * \retval N < 0   Error. No more helpers may be started.
      * \retval N       N more helpers may be started immediately.
      */
-    const int needNew() const;
+    int needNew() const;
     void parseConfig();
 
     /* values from squid.conf */
@@ -51,6 +51,7 @@ static const HttpHeaderFieldAttrs CcAttrs[CC_ENUM_END] = {
     {"max-age", (http_hdr_type)CC_MAX_AGE},
     {"s-maxage", (http_hdr_type)CC_S_MAXAGE},
     {"max-stale", (http_hdr_type)CC_MAX_STALE},
+    {"stale-if-error", (http_hdr_type)CC_STALE_IF_ERROR},
     {"min-fresh", (http_hdr_type)CC_MIN_FRESH},
     {"Other,", (http_hdr_type)CC_OTHER}	/* ',' will protect from matches */
 };
@@ -192,6 +193,14 @@ httpHdrCcParseInit(HttpHdrCc * cc, const String * str)
 
             break;
 
+        case CC_STALE_IF_ERROR:
+            if (!p || !httpHeaderParseInt(p, &cc->stale_if_error)) {
+                debugs(65, 2, "cc: invalid stale-if-error specs near '" << item << "'");
+                cc->stale_if_error = -1;
+                EBIT_CLR(cc->mask, type);
+            }
+            break;
+
         case CC_OTHER:
 
             if (cc->other.size())
@@ -1203,7 +1203,7 @@ HttpHeader::putSc(HttpHdrSc *sc)
     Packer p;
     assert(sc);
     /* remove old directives if any */
-    delById(HDR_RANGE);
+    delById(HDR_SURROGATE_CONTROL);
     /* pack into mb */
     mb.init();
     packerToMemInit(&p, &mb);
@@ -48,7 +48,7 @@ class HttpHdrRangeSpec
 
 public:
     MEMPROXY_CLASS(HttpHdrRangeSpec);
-    typedef Range<int64_t> HttpRange;
+    typedef Range<int64_t, uint64_t> HttpRange;
     static int64_t const UnknownPosition;
 
     HttpHdrRangeSpec();
@@ -326,21 +326,6 @@ HttpMsg::persistent() const
          */
         return !httpHeaderHasConnDir(&header, "close");
     } else {
-        /*
-         * Persistent connections in Netscape 3.x are allegedly broken,
-         * return false if it is a browser connection.  If there is a
-         * VIA header, then we assume this is NOT a browser connection.
-         */
-        const char *agent = header.getStr(HDR_USER_AGENT);
-
-        if (agent && !header.has(HDR_VIA)) {
-            if (!strncasecmp(agent, "Mozilla/3.", 10))
-                return 0;
-
-            if (!strncasecmp(agent, "Netscape/3.", 11))
-                return 0;
-        }
-
         /* for old versions of HTTP: persistent if has "keep-alive" */
         return httpHeaderHasConnDir(&header, "keep-alive");
     }
@@ -36,7 +36,9 @@
 
 #include "squid.h"
 #include "HttpRequest.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "HttpHeaderRange.h"
 #include "MemBuf.h"
 #include "Store.h"
@@ -82,7 +84,9 @@ HttpRequest::init()
     login[0] = '\0';
     host[0] = '\0';
     host_is_numeric = -1;
+#if USE_AUTH
     auth_user_request = NULL;
+#endif
     pinned_connection = NULL;
     port = 0;
     canonical = NULL;
@@ -107,8 +111,10 @@ HttpRequest::init()
     vary_headers = NULL;
     myportname = null_string;
     tag = null_string;
+#if USE_AUTH
     extacl_user = null_string;
     extacl_passwd = null_string;
+#endif
     extacl_log = null_string;
     extacl_message = null_string;
     pstate = psReadyToParseStartLine;
@@ -130,9 +136,9 @@ HttpRequest::clean()
     // we used to assert that the pipe is NULL, but now the request only
     // points to a pipe that is owned and initiated by another object.
     body_pipe = NULL;
-
+#if USE_AUTH
     auth_user_request = NULL;
-
+#endif
     safe_free(canonical);
 
     safe_free(vary_headers);
@@ -157,11 +163,10 @@ HttpRequest::clean()
     myportname.clean();
 
     tag.clean();
-
+#if USE_AUTH
     extacl_user.clean();
-
     extacl_passwd.clean();
-
+#endif
     extacl_log.clean();
 
     extacl_message.clean();
@@ -216,8 +221,10 @@ HttpRequest::clone() const
 
     copy->myportname = myportname;
     copy->tag = tag;
+#if USE_AUTH
     copy->extacl_user = extacl_user;
     copy->extacl_passwd = extacl_passwd;
+#endif
     copy->extacl_log = extacl_log;
     copy->extacl_message = extacl_message;
 
@@ -502,7 +509,7 @@ void HttpRequest::packFirstLineInto(Packer * p, bool full_uri) const
 }
 
 /*
- * Indicate whether or not we would usually expect an entity-body
+ * Indicate whether or not we would expect an entity-body
  * along with this request
  */
 bool
@@ -511,28 +518,18 @@ HttpRequest::expectingBody(const HttpRequestMethod& unused, int64_t& theSize) co
     bool expectBody = false;
 
     /*
-     * GET and HEAD don't usually have bodies, but we should be prepared
-     * to accept one if the request_entities directive is set
+     * Note: Checks for message validity is in clientIsContentLengthValid().
+     * this just checks if a entity-body is expected based on HTTP message syntax
      */
-
-    if (method == METHOD_GET || method == METHOD_HEAD)
-        expectBody = Config.onoff.request_entities ? true : false;
-    else if (method == METHOD_PUT || method == METHOD_POST)
-        expectBody = true;
-    else if (header.chunked())
+    if (header.chunked()) {
         expectBody = true;
-    else if (content_length >= 0)
+        theSize = -1;
+    } else if (content_length >= 0) {
         expectBody = true;
-    else
+        theSize = content_length;
+    } else {
         expectBody = false;
-
-    if (expectBody) {
-        if (header.chunked())
-            theSize = -1;
-        else if (content_length >= 0)
-            theSize = content_length;
-        else
-            theSize = -1;
+        // theSize undefined
     }
 
     return expectBody;
@@ -631,9 +628,9 @@ bool HttpRequest::inheritProperties(const HttpMsg *aMsg)
 
     errType = aReq->errType;
     errDetail = aReq->errDetail;
-
+#if USE_AUTH
     auth_user_request = aReq->auth_user_request;
-
+#endif
     if (aReq->pinned_connection) {
         pinned_connection = cbdataReference(aReq->pinned_connection);
     }
@@ -158,9 +158,9 @@ class HttpRequest: public HttpMsg
 
 public:
     Ip::Address host_addr;
-
+#if USE_AUTH
     AuthUserRequest::Pointer auth_user_request;
-
+#endif
     u_short port;
 
     String urlpath;
@@ -24,22 +24,25 @@ SBUF_SOURCE= \
 	MemBlob.h \
 	MemBlob.cc
 
-SNMP_ALL_SOURCE = \
-	snmp_core.cc \
-	snmp_agent.cc
-if USE_SNMP
-SNMP_SOURCE = $(SNMP_ALL_SOURCE)
-else
-SNMP_SOURCE = 
-endif
-
 LOADABLE_MODULES_SOURCES = \
 	LoadableModule.h \
 	LoadableModule.cc \
 	LoadableModules.h \
 	LoadableModules.cc
 
-SUBDIRS	= base comm eui acl fs repl auth ip icmp ident log ipc mgr
+SUBDIRS	= base comm eui acl fs repl
+DIST_SUBDIRS = base comm eui acl fs repl
+
+if ENABLE_AUTH
+SUBDIRS += auth
+AUTH_LIBS= auth/libauth.la
+AUTH_ACL_LIBS= auth/libacls.la
+check_PROGRAMS+= tests/testAuth tests/testACLMaxUserIP
+endif
+DIST_SUBDIRS += auth
+
+SUBDIRS	+= ip icmp ident log ipc mgr
+DIST_SUBDIRS += ip icmp ident log ipc mgr
 
 if ENABLE_SSL
 SUBDIRS += ssl
@@ -49,10 +52,25 @@ SSL_LIBS = \
 else
 SSL_LOCAL_LIBS =
 endif
+DIST_SUBDIRS += ssl
+
+SNMP_ALL_SOURCE = \
+	snmp_core.h \
+	snmp_core.cc \
+	snmp_agent.cc
+if ENABLE_SNMP
+SNMP_SOURCE = $(SNMP_ALL_SOURCE)
+SUBDIRS += snmp
+SNMP_LIBS = snmp/libsnmp.la $(SNMPLIB)
+else
+SNMP_SOURCE = 
+endif
+DIST_SUBDIRS += snmp
 
 if USE_ADAPTATION
 SUBDIRS += adaptation
 endif
+DIST_SUBDIRS += adaptation
 
 if USE_ESI
 SUBDIRS += esi
@@ -65,6 +83,7 @@ ESI_LIBS = $(ESI_LOCAL_LIBS) \
 else
 ESI_LIBS = 
 endif
+DIST_SUBDIRS += esi
 
 DELAY_POOL_ALL_SOURCE = \
 	CommonPool.h \
@@ -161,12 +180,12 @@ noinst_LTLIBRARIES = libsquid.la
 
 # libraries used by many targets
 COMMON_LIBS = \
-	auth/libacls.la \
+	$(AUTH_ACL_LIBS) \
 	ident/libident.la \
 	acl/libacls.la \
 	eui/libeui.la \
 	acl/libstate.la \
-	auth/libauth.la \
+	$(AUTH_LIBS) \
 	acl/libapi.la \
 	base/libbase.la \
 	libsquid.la \
@@ -236,19 +255,6 @@ DiskIO/DiskIOModules_gen.cc: Makefile
 	$(SHELL) $(srcdir)/DiskIO/modules.sh $(DISK_MODULES) > DiskIO/DiskIOModules_gen.cc
 
 
-squid_COMMSOURCES = \
-	comm_select.cc \
-	comm_select.h \
-	comm_select_win32.cc \
-	comm_poll.cc \
-	comm_poll.h \
-	comm_devpoll.cc \
-	comm_epoll.cc \
-	comm_epoll.h \
-	comm_kqueue.cc \
-	comm_kqueue.h
-
-
 # common library for all the binaries and tests. This is kindof a catch all
 # and smaller libraries split from this are encouraged. Using lt convenience
 # libraries, dependencies should not be a problem either.
@@ -295,7 +301,6 @@ squid_SOURCES = \
 	CommIO.h \
 	CompletionDispatcher.cc \
 	CompletionDispatcher.h \
-	$(squid_COMMSOURCES) \
 	CommRead.h \
 	ConfigOption.cc \
 	ConfigParser.cc \
@@ -419,7 +424,6 @@ squid_SOURCES = \
 	PingData.h \
 	protos.h \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	RemovalPolicy.cc \
 	RemovalPolicy.h \
@@ -488,7 +492,6 @@ squid_SOURCES = \
 	URLScheme.cc \
 	URLScheme.h \
 	urn.cc \
-	useragent.cc \
 	wccp.cc \
 	wccp2.cc \
 	whois.cc \
@@ -562,10 +565,10 @@ squid_LDADD = \
 	$(DISK_OS_LIBS) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
+	$(SNMP_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -579,8 +582,7 @@ squid_DEPENDENCIES = \
 	$(DISK_LIBS) \
 	$(DISK_LINKOBJS) \
 	$(REPL_OBJS) \
-	$(SNMPLIB) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LOCAL_LIBS) \
 	$(SSL_LIBS) \
 	$(COMMON_LIBS)
@@ -662,7 +664,6 @@ ufsdump_LDADD = \
 	$(REPL_OBJS) \
 	$(CRYPTLIB) \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SSLLIB) \
 	$(COMPAT_LIB) \
 	$(EPOLL_LIBS) \
@@ -773,13 +774,13 @@ DEFAULT_PINGER		= $(libexecdir)/`echo pinger | sed '$(transform);s/$$/$(EXEEXT)/
 DEFAULT_UNLINKD		= $(libexecdir)/`echo unlinkd | sed '$(transform);s/$$/$(EXEEXT)/'`
 DEFAULT_LOGFILED	= $(libexecdir)/`echo log_file_daemon | sed '$(transform);s/$$/$(EXEEXT)/'`
 DEFAULT_DISKD		= $(libexecdir)/`echo diskd | sed '$(transform);s/$$/$(EXEEXT)/'`
-DEFAULT_ICON_DIR	= $(datadir)/icons
+DEFAULT_ICON_DIR	= $(localstatedir)/www/squid/icons
 DEFAULT_ERROR_DIR	= $(datadir)/errors
 
 # Make location configure settings available to the code
 DEFS += -DDEFAULT_CONFIG_FILE=\"$(DEFAULT_CONFIG_FILE)\" -DDEFAULT_SQUID_DATA_DIR=\"$(datadir)\" -DDEFAULT_SQUID_CONFIG_DIR=\"$(sysconfdir)\"
 
-snmp_core.o snmp_agent.o: ../snmplib/libsnmp.a $(top_srcdir)/include/cache_snmp.h
+snmp_core.o snmp_agent.o: ../snmplib/libsnmplib.a $(top_srcdir)/include/cache_snmp.h
 
 globals.cc: globals.h mk-globals-c.awk
 	$(AWK) -f $(srcdir)/mk-globals-c.awk < $(srcdir)/globals.h > $@ || ($(RM) -f $@ && exit 1)
@@ -832,7 +833,7 @@ cf.data: cf.data.pre Makefile
 	sed \
 	-e "s%[@]DEFAULT_HTTP_PORT[@]%$(DEFAULT_HTTP_PORT)%g" \
 	-e "s%[@]DEFAULT_ICP_PORT[@]%$(DEFAULT_ICP_PORT)%g" \
-	-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%${CACHE_EFFECTIVE_USER}%g" \
+	-e "s%[@]DEFAULT_CACHE_EFFECTIVE_USER[@]%$(CACHE_EFFECTIVE_USER)%g" \
 	-e "s%[@]DEFAULT_MIME_TABLE[@]%$(DEFAULT_MIME_TABLE)%g" \
 	-e "s%[@]DEFAULT_DNSSERVER[@]%$(DEFAULT_DNSSERVER)%g" \
 	-e "s%[@]DEFAULT_SSL_CRTD[@]%$(DEFAULT_SSL_CRTD)%g" \
@@ -910,9 +911,7 @@ TESTSOURCES= \
 TEST_CALL_SOURCES = \
 	event.cc
 
-
-check_PROGRAMS+= tests/testAuth \
-	tests/testACLMaxUserIP \
+check_PROGRAMS+=\
 	tests/testBoilerplate \
 	tests/testCacheManager \
 	tests/testDiskIO \
@@ -1002,7 +1001,7 @@ tests_testHttpReply_LDFLAGS = $(LIBADD_DL)
 tests_testHttpReply_LDADD=\
 	acl/libapi.la \
 	acl/libstate.la \
-	auth/libauth.la \
+	$(AUTH_LIBS) \
 	ip/libip.la \
 	base/libbase.la \
 	$(top_builddir)/lib/libmisccontainers.la \
@@ -1113,7 +1112,17 @@ tests_testACLMaxUserIP_SOURCES= \
 nodist_tests_testACLMaxUserIP_SOURCES= \
 	$(TESTSOURCES)
 tests_testACLMaxUserIP_LDADD= \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	acl/libapi.la \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -1156,6 +1165,7 @@ tests_testCacheManager_SOURCES = \
 	tests/testCacheManager.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1172,7 +1182,6 @@ tests_testCacheManager_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
@@ -1234,7 +1243,6 @@ tests_testCacheManager_SOURCES = \
 	peer_sourcehash.cc \
 	peer_userhash.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	RemovalPolicy.cc \
 	Server.cc \
@@ -1272,7 +1280,6 @@ tests_testCacheManager_SOURCES = \
 	url.cc \
 	URLScheme.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -1282,19 +1289,31 @@ nodist_tests_testCacheManager_SOURCES = \
 	$(BUILT_SOURCES)
 # comm.cc only requires comm/libcomm.la until fdc_table is dead.
 tests_testCacheManager_LDADD = \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	acl/libapi.la \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
+	ipc/libipc.la \
+	mgr/libmgr.la \
+	$(SNMP_LIBS) \
 	comm/libcomm.la \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1325,11 +1344,21 @@ tests_testDiskIO_LDADD = \
 	SquidConfig.o \
 	CommCalls.o \
 	DnsLookupDetails.o \
-	$(COMMON_LIBS) \
+	$(AUTH_ACL_LIBS) \
+	ident/libident.la \
+	acl/libacls.la \
+	eui/libeui.la \
+	acl/libstate.la \
+	$(AUTH_LIBS) \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
+	fs/libfs.la \
 	$(REPL_OBJS) \
 	$(DISK_LIBS) \
 	$(DISK_OS_LIBS) \
 	acl/libapi.la \
+	mgr/libmgr.la \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -1361,6 +1390,7 @@ tests_testEvent_SOURCES = \
 	tests/testEvent.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1377,7 +1407,6 @@ tests_testEvent_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
@@ -1439,7 +1468,6 @@ tests_testEvent_SOURCES = \
 	peer_sourcehash.cc \
 	peer_userhash.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	Server.cc \
 	$(SNMP_SOURCE) \
@@ -1476,7 +1504,6 @@ tests_testEvent_SOURCES = \
 	url.cc \
 	URLScheme.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -1486,18 +1513,18 @@ nodist_tests_testEvent_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testEvent_LDADD = \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1524,6 +1551,7 @@ tests_testEventLoop_SOURCES = \
 	tests/testEventLoop.h \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1540,7 +1568,6 @@ tests_testEventLoop_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
@@ -1602,7 +1629,6 @@ tests_testEventLoop_SOURCES = \
 	peer_sourcehash.cc \
 	peer_userhash.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	Server.cc \
 	$(SNMP_SOURCE) \
@@ -1639,7 +1665,6 @@ tests_testEventLoop_SOURCES = \
 	url.cc \
 	URLScheme.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -1649,18 +1674,18 @@ nodist_tests_testEventLoop_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testEventLoop_LDADD = \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1690,14 +1715,14 @@ tests_test_http_range_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
 	CpuAffinityMap.h \
 	CpuAffinitySet.cc \
 	CpuAffinitySet.h \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	debug.cc \
 	$(DELAY_POOL_SOURCE) \
 	disk.cc \
@@ -1755,7 +1780,6 @@ tests_test_http_range_SOURCES = \
 	peer_userhash.cc \
 	pconn.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	RemovalPolicy.cc \
 	Server.cc \
@@ -1795,7 +1819,6 @@ tests_test_http_range_SOURCES = \
 	url.cc \
 	URLScheme.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -1807,18 +1830,18 @@ nodist_tests_test_http_range_SOURCES = \
 	$(BUILT_SOURCES)
 tests_test_http_range_LDADD = \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -1843,6 +1866,7 @@ tests_testHttpRequest_SOURCES = \
 	tests/testHttpRequestMethod.cc \
 	tests/testMain.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -1860,7 +1884,6 @@ tests_testHttpRequest_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
@@ -1922,7 +1945,6 @@ tests_testHttpRequest_SOURCES = \
 	peer_sourcehash.cc \
 	peer_userhash.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	RemovalPolicy.cc \
 	Server.cc \
@@ -1960,7 +1982,6 @@ tests_testHttpRequest_SOURCES = \
 	url.cc \
 	URLScheme.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -1970,18 +1991,18 @@ nodist_tests_testHttpRequest_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testHttpRequest_LDADD = \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
-	$(SNMPLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
 	$(SQUID_CPPUNIT_LA) \
 	$(SSLLIB) \
@@ -2099,7 +2120,9 @@ tests_testString_SOURCES = \
 nodist_tests_testString_SOURCES = \
 	$(TESTSOURCES)
 tests_testString_LDADD = \
-	$(COMMON_LIBS) \
+	base/libbase.la \
+	libsquid.la \
+	ip/libip.la \
 	$(top_builddir)/lib/libmiscutil.la \
 	$(REGEXLIB) \
 	$(SQUID_CPPUNIT_LIBS) \
@@ -2262,6 +2285,7 @@ tests_testURL_SOURCES = \
 	tests/testMain.cc \
 	tests/stub_debug.cc \
 	tests/stub_main_cc.cc \
+	tests/stub_ipc_Forwarder.cc \
 	time.cc \
 	BodyPipe.cc \
 	cache_manager.cc \
@@ -2278,7 +2302,6 @@ tests_testURL_SOURCES = \
 	client_side_request.cc \
 	ClientInfo.h \
 	clientStream.cc \
-	$(squid_COMMSOURCES) \
 	ConfigOption.cc \
 	ConfigParser.cc \
 	CpuAffinityMap.cc \
@@ -2340,7 +2363,6 @@ tests_testURL_SOURCES = \
 	peer_sourcehash.cc \
 	peer_userhash.cc \
 	redirect.cc \
-	referer.cc \
 	refresh.cc \
 	Server.cc \
 	$(SNMP_SOURCE) \
@@ -2375,7 +2397,6 @@ tests_testURL_SOURCES = \
 	tunnel.cc \
 	SwapDir.cc \
 	urn.cc \
-	useragent.cc \
 	wccp2.cc \
 	whois.cc \
 	FadingCounter.cc \
@@ -2385,15 +2406,15 @@ nodist_tests_testURL_SOURCES = \
 	$(BUILT_SOURCES)
 tests_testURL_LDADD = \
 	$(COMMON_LIBS) \
+	$(SNMP_LIBS) \
 	icmp/libicmp.la icmp/libicmp-core.la \
 	comm/libcomm.la \
 	log/liblog.la \
 	$(REGEXLIB) \
 	$(REPL_OBJS) \
-	${ADAPTATION_LIBS} \
+	$(ADAPTATION_LIBS) \
 	$(ESI_LIBS) \
 	$(SSL_LIBS) \
-	$(SNMPLIB) \
 	$(top_builddir)/lib/libmisccontainers.la \
 	$(top_builddir)/lib/libmiscencoding.la \
 	$(top_builddir)/lib/libmiscutil.la \
@@ -217,7 +217,7 @@ void MemBuf::consume(mb_size_t shiftSize)
     PROF_start(MemBuf_consume);
     if (shiftSize > 0) {
         if (shiftSize < cSize)
-            xmemmove(buf, buf + shiftSize, cSize - shiftSize);
+            memmove(buf, buf + shiftSize, cSize - shiftSize);
 
         size -= shiftSize;
 
@@ -251,9 +251,7 @@ void MemBuf::append(const char *newContent, mb_size_t sz)
             grow(size + sz + 1);
 
         assert(size + sz <= capacity); /* paranoid */
-
-        xmemcpy(space(), newContent, sz);
-
+        memcpy(space(), newContent, sz);
         appended(sz);
     }
     PROF_stop(MemBuf_append);
@@ -57,7 +57,7 @@ url_checksum(const char *url)
     SquidMD5Init(&M);
     SquidMD5Update(&M, (unsigned char *) url, strlen(url));
     SquidMD5Final(digest, &M);
-    xmemcpy(&ck, digest, sizeof(ck));
+    memcpy(&ck, digest, sizeof(ck));
     return ck;
 }
 
@@ -207,10 +207,12 @@ struct StoreClientStats : public unary_function<store_client, void> {
 };
 
 void
-MemObject::stat (MemBuf * mb) const
+MemObject::stat(MemBuf * mb) const
 {
     mb->Printf("\t%s %s\n",
                RequestMethodStr(method), log_url);
+    if (vary_headers)
+        mb->Printf("\tvary_headers: %s\n", vary_headers);
     mb->Printf("\tinmem_lo: %"PRId64"\n", inmem_lo);
     mb->Printf("\tinmem_hi: %"PRId64"\n", data_hdr.endOffset());
     mb->Printf("\tswapout: %"PRId64" bytes queued\n",
@@ -100,13 +100,11 @@ xprof_comp(xprof_stats_node ** ii, xprof_stats_node ** jj)
 static void
 xprof_sorthist(TimersArray * xprof_list)
 {
-    int i;
-
-    for (i = 0; i < XPROF_LAST; i++) {
+    for (int i = 0; i < XPROF_LAST; i++) {
         sortlist[i] = xprof_list[i];
     }
 
-    qsort(&sortlist[XPROF_hash_lookup], XPROF_LAST - XPROF_hash_lookup, sizeof(xprof_stats_node *), (QS *) xprof_comp);
+    qsort(&sortlist[XPROF_PROF_UNACCOUNTED+1], XPROF_LAST - XPROF_PROF_UNACCOUNTED+1, sizeof(xprof_stats_node *), (QS *) xprof_comp);
 }
 
 static double time_frame;
@@ -3,23 +3,28 @@
  */
 
 #include "squid.h"
+#include "comm.h"
 #include "ProtoPort.h"
 #if HAVE_LIMITS
 #include <limits>
 #endif
 
-http_port_list::http_port_list(const char *aProtocol)
+http_port_list::http_port_list(const char *aProtocol) :
+        listenFd(-1)
 #if USE_SSL
-        :
-        http(*this), dynamicCertMemCacheSize(std::numeric_limits<size_t>::max())
+        , http(*this)
+        , dynamicCertMemCacheSize(std::numeric_limits<size_t>::max())
 #endif
 {
     protocol = xstrdup(aProtocol);
 }
 
 http_port_list::~http_port_list()
 {
-    delete listener;
+    if (listenFd >= 0) {
+        comm_close(listenFd);
+        listenFd = -1;
+    }
 
     safe_free(name);
     safe_free(defaultsite);
@@ -4,9 +4,7 @@
 #ifndef SQUID_PROTO_PORT_H
 #define SQUID_PROTO_PORT_H
 
-//#include "typedefs.h"
 #include "cbdata.h"
-#include "comm/ListenStateData.h"
 
 #if USE_SSL
 #include "ssl/gadgets.h"
@@ -43,11 +41,11 @@ struct http_port_list {
     } tcp_keepalive;
 
     /**
-     * The FD listening socket handler.
-     * If not NULL we are actively listening for client requests.
-     * delete to close the socket.
+     * The FD listening socket.
+     * If >= 0 we are actively listening for client requests.
+     * use comm_close(listenFd) to stop.
      */
-    Comm::ListenStateData *listener;
+    int listenFd;
 
 #if USE_SSL
     // XXX: temporary hack to ease move of SSL options to http_port
@@ -58,4 +58,25 @@ class TimeEngine
     virtual void tick();
 };
 
+namespace Time
+{
+
+/** Display time as a formatted human-readable string.
+ * Time syntax is
+ * "YYYY/MM/DD hh:mm:ss"
+ *
+ * Output is only valid until next call to this function.
+ */
+const char *FormatStrf(time_t t);
+
+/** Display time as a formatted human-readable string.
+ * Time string syntax used is that of Apache httpd.
+ * "DD/MMM/YYYY:hh:mm:ss zzzz"
+ *
+ * Output is only valid until next call to this function.
+ */
+const char *FormatHttpd(time_t t);
+
+} // namespace Time
+
 #endif /* SQUID_TIME_H */
@@ -53,15 +53,13 @@ static void statHistInit(StatHist * H, int capacity, hbase_f * val_in, hbase_f *
 static int statHistBin(const StatHist * H, double v);
 static double statHistVal(const StatHist * H, int bin);
 static StatHistBinDumper statHistBinDumper;
-#if !defined(_SQUID_HPUX_) || !defined(__GNUC__)
-/*
- * HP-UX and GCC (2.8?) give strange errors when these simple
- * functions are static.
- */
-static hbase_f Log;
-static hbase_f Exp;
-static hbase_f Null;
-#endif
+
+namespace Math
+{
+hbase_f Log;
+hbase_f Exp;
+hbase_f Null;
+};
 
 /* low level init, higher level functions has less params */
 static void
@@ -125,7 +123,7 @@ statHistCopy(StatHist * Dest, const StatHist * Orig)
            (long int) (Dest->capacity * sizeof(*Dest->bins)) << " bytes to " <<
            Dest->bins << " from " << Orig->bins);
 
-    xmemcpy(Dest->bins, Orig->bins, Dest->capacity * sizeof(*Dest->bins));
+    memcpy(Dest->bins, Orig->bins, Dest->capacity * sizeof(*Dest->bins));
 }
 
 /*
@@ -274,46 +272,37 @@ statHistDump(const StatHist * H, StoreEntry * sentry, StatHistBinDumper * bd)
 }
 
 /* log based histogram */
-#if !defined(_SQUID_HPUX_) || !defined(__GNUC__)
-static
-#endif
 double
-Log(double x)
+Math::Log(double x)
 {
     assert((x + 1.0) >= 0.0);
     return log(x + 1.0);
 }
 
-#if !defined(_SQUID_HPUX_) || !defined(__GNUC__)
-static
-#endif
 double
-Exp(double x)
+Math::Exp(double x)
 {
     return exp(x) - 1.0;
 }
 
 void
 statHistLogInit(StatHist * H, int capacity, double min, double max)
 {
-    statHistInit(H, capacity, Log, Exp, min, max);
+    statHistInit(H, capacity, Math::Log, Math::Exp, min, max);
 }
 
 /* linear histogram for enums */
 /* we want to be have [-1,last_enum+1] range to track out of range enums */
-#if !defined(_SQUID_HPUX_) || !defined(__GNUC__)
-static
-#endif
 double
-Null(double x)
+Math::Null(double x)
 {
     return x;
 }
 
 void
 statHistEnumInit(StatHist * H, int last_enum)
 {
-    statHistInit(H, last_enum + 3, Null, Null, (double) -1, (double) (last_enum + 1 + 1));
+    statHistInit(H, last_enum + 3, Math::Null, Math::Null, (double) -1, (double) (last_enum + 1 + 1));
 }
 
 void
@@ -327,7 +316,7 @@ statHistEnumDumper(StoreEntry * sentry, int idx, double val, double size, int co
 void
 statHistIntInit(StatHist * H, int n)
 {
-    statHistInit(H, n, Null, Null, (double) 0, (double) n - 1);
+    statHistInit(H, n, Math::Null, Math::Null, (double) 0, (double) n - 1);
 }
 
 void
@@ -158,7 +158,7 @@ StoreMeta::Factory (char type, size_t len, void const *value)
 
     result->length = len;
     result->value = xmalloc(len);
-    xmemcpy(result->value, value, len);
+    memcpy(result->value, value, len);
     return result;
 }
 
@@ -63,7 +63,7 @@ StoreMetaUnpacker::isBufferSane()
 void
 StoreMetaUnpacker::getBufferLength()
 {
-    xmemcpy(hdr_len, &buf[1], sizeof(int));
+    memcpy(hdr_len, &buf[1], sizeof(int));
 }
 
 StoreMetaUnpacker::StoreMetaUnpacker (char const *aBuffer, ssize_t aLen, int *anInt) : buf (aBuffer), buflen(aLen), hdr_len(anInt), position(1 + sizeof(int))
@@ -80,7 +80,7 @@ StoreMetaUnpacker::getType()
 void
 StoreMetaUnpacker::getLength()
 {
-    xmemcpy(&length, &buf[position], sizeof(int));
+    memcpy(&length, &buf[position], sizeof(int));
     position += sizeof(int);
 }
 
@@ -130,7 +130,7 @@ String::allocAndFill(const char *str, int len)
     assert(this && str);
     allocBuffer(len + 1);
     len_ = len;
-    xmemcpy(buf_, str, len);
+    memcpy(buf_, str, len);
     buf_[len] = '\0';
     PROF_stop(StringAllocAndFill);
 }
@@ -200,10 +200,10 @@ String::append(const char *str, int len)
         snew.allocBuffer(snew.len_ + 1);
 
         if (len_)
-            xmemcpy(snew.buf_, rawBuf(), len_);
+            memcpy(snew.buf_, rawBuf(), len_);
 
         if (len)
-            xmemcpy(snew.buf_ + len_, str, len);
+            memcpy(snew.buf_ + len_, str, len);
 
         snew.buf_[snew.len_] = '\0';
 
@@ -287,17 +287,13 @@ StringRegistry::StringRegistry()
 }
 
 void
-
-StringRegistry::add
-(String const *entry)
+StringRegistry::add(String const *entry)
 {
     entries.insert(entry, ptrcmp);
 }
 
 void
-
-StringRegistry::remove
-(String const *entry)
+StringRegistry::remove(String const *entry)
 {
     entries.remove(entry, ptrcmp);
 }
@@ -174,7 +174,8 @@ String::set(char const *loc, char const ch)
 void
 String::cut(String::size_type newLength)
 {
-    if (newLength < 0 || newLength > len_) return;
+    // size_type is size_t, unsigned. No need to check for newLength <0
+    if (newLength > len_) return;
 
     len_ = newLength;
 
@@ -273,17 +273,13 @@ SwapDir::optionObjectSizeDump(StoreEntry * e) const
  * but the parent child relationship isn't implemented yet
  */
 StoreEntry *
-
-SwapDir::get
-(const cache_key *key)
+SwapDir::get(const cache_key *key)
 {
     return Store::Root().get(key);
 }
 
 void
-
-SwapDir::get
-(String const key, STOREGETCLIENT aCallback, void *aCallbackData)
+SwapDir::get(String const key, STOREGETCLIENT aCallback, void *aCallbackData)
 {
     fatal("not implemented");
 }
@@ -341,7 +341,7 @@ asHandleReply(void *data, StoreIOBuffer result)
      * Next, copy the left over data, from s to s + leftoversz to the
      * beginning of the buffer
      */
-    xmemmove(buf, s, leftoversz);
+    memmove(buf, s, leftoversz);
 
     /*
      * Next, update our offset and reqofs, and kick off a copy if required
@@ -35,6 +35,9 @@
  */
 
 #include "squid.h"
+
+#if USE_AUTH
+
 #include "acl/ExtUser.h"
 #include "acl/FilledChecklist.h"
 #include "acl/RegexData.h"
@@ -103,3 +106,4 @@ ACLExtUser::clone() const
     return new ACLExtUser(*this);
 }
 
+#endif /* USE_AUTH */
@@ -35,6 +35,8 @@
 #ifndef SQUID_EXTUSER_H
 #define SQUID_EXTUSER_H
 
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Checklist.h"
 #include "acl/Data.h"
@@ -70,4 +72,5 @@ class ACLExtUser : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLExtUser);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_EXTUSER_H */
@@ -2,8 +2,10 @@
 #include "HttpRequest.h"
 #include "HttpReply.h"
 #include "client_side.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
 #include "auth/AclProxyAuth.h"
+#endif
 #include "acl/FilledChecklist.h"
 
 CBDATA_CLASS_INIT(ACLFilledChecklist);
@@ -13,6 +15,7 @@ ACLFilledChecklist::checkCallback(allow_t answer)
 {
     debugs(28, 5, HERE << this << " answer=" << answer);
 
+#if USE_AUTH
     /* During reconfigure, we can end up not finishing call
      * sequences into the auth code */
 
@@ -24,6 +27,7 @@ ACLFilledChecklist::checkCallback(allow_t answer)
             conn()->auth_user_request = NULL;
         }
     }
+#endif
 
     ACLChecklist::checkCallback(answer); // may delete us
 }
@@ -51,7 +55,9 @@ ACLFilledChecklist::ACLFilledChecklist() :
         dst_rdns(NULL),
         request (NULL),
         reply (NULL),
+#if USE_AUTH
         auth_user_request (NULL),
+#endif
 #if SQUID_SNMP
         snmp_community(NULL),
 #endif
@@ -161,7 +167,9 @@ ACLFilledChecklist::ACLFilledChecklist(const acl_access *A, HttpRequest *http_re
         dst_rdns(NULL),
         request(NULL),
         reply(NULL),
+#if USE_AUTh
         auth_user_request(NULL),
+#endif
 #if SQUID_SNMP
         snmp_community(NULL),
 #endif
@@ -2,7 +2,9 @@
 #define SQUID_ACLFILLED_CHECKLIST_H
 
 #include "acl/Checklist.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 
 class ExternalACLEntry;
 class ConnStateData;
@@ -53,8 +55,9 @@ class ACLFilledChecklist: public ACLChecklist
     HttpReply *reply;
 
     char rfc931[USER_IDENT_SZ];
+#if USE_AUTH
     AuthUserRequest::Pointer auth_user_request;
-
+#endif
 #if SQUID_SNMP
     char *snmp_community;
 #endif
@@ -35,7 +35,7 @@
  */
 
 #include "config.h"
-#ifdef _SQUID_CYGWIN_
+#if _SQUID_CYGWIN_
 #include <squid_windows.h>
 #endif
 #include "squid.h"
@@ -22,25 +22,25 @@ ACLSslErrorData::~ACLSslErrorData()
 }
 
 bool
-ACLSslErrorData::match(ssl_error_t toFind)
+ACLSslErrorData::match(Ssl::ssl_error_t toFind)
 {
     return values->findAndTune (toFind);
 }
 
 /* explicit instantiation required for some systems */
 /** \cond AUTODOCS-IGNORE */
 // AYJ: 2009-05-20 : Removing. clashes with template <int> instantiation for other ACLs.
-// template cbdata_type CbDataList<ssl_error_t>::CBDATA_CbDataList;
+// template cbdata_type CbDataList<Ssl::ssl_error_t>::CBDATA_CbDataList;
 /** \endcond */
 
 wordlist *
 ACLSslErrorData::dump()
 {
     wordlist *W = NULL;
-    CbDataList<ssl_error_t> *data = values;
+    CbDataList<Ssl::ssl_error_t> *data = values;
 
     while (data != NULL) {
-        wordlistAdd(&W, sslFindErrorString(data->element));
+        wordlistAdd(&W, Ssl::getErrorName(data->element));
         data = data->next;
     }
 
@@ -50,12 +50,12 @@ ACLSslErrorData::dump()
 void
 ACLSslErrorData::parse()
 {
-    CbDataList<ssl_error_t> **Tail;
+    CbDataList<Ssl::ssl_error_t> **Tail;
     char *t = NULL;
 
     for (Tail = &values; *Tail; Tail = &((*Tail)->next));
     while ((t = strtokFile())) {
-        CbDataList<ssl_error_t> *q = new CbDataList<ssl_error_t>(sslParseErrorString(t));
+        CbDataList<Ssl::ssl_error_t> *q = new CbDataList<Ssl::ssl_error_t>(Ssl::parseErrorString(t));
         *(Tail) = q;
         Tail = &q->next;
     }
@@ -67,7 +67,7 @@ ACLSslErrorData::empty() const
     return values == NULL;
 }
 
-ACLData<ssl_error_t> *
+ACLData<Ssl::ssl_error_t> *
 ACLSslErrorData::clone() const
 {
     /* Splay trees don't clone yet. */
@@ -9,8 +9,9 @@
 #include "acl/Data.h"
 #include "CbDataList.h"
 #include "ssl/support.h"
+#include "ssl/ErrorDetail.h"
 
-class ACLSslErrorData : public ACLData<ssl_error_t>
+class ACLSslErrorData : public ACLData<Ssl::ssl_error_t>
 {
 
 public:
@@ -20,13 +21,13 @@ class ACLSslErrorData : public ACLData<ssl_error_t>
     ACLSslErrorData(ACLSslErrorData const &);
     ACLSslErrorData &operator= (ACLSslErrorData const &);
     virtual ~ACLSslErrorData();
-    bool match(ssl_error_t);
+    bool match(Ssl::ssl_error_t);
     wordlist *dump();
     void parse();
     bool empty() const;
-    virtual ACLData<ssl_error_t> *clone() const;
+    virtual ACLData<Ssl::ssl_error_t> *clone() const;
 
-    CbDataList<ssl_error_t> *values;
+    CbDataList<Ssl::ssl_error_t> *values;
 };
 
 MEMPROXY_CLASS_INLINE(ACLSslErrorData);
@@ -77,8 +77,7 @@ ACLTimeData::match(time_t when)
 
     if (when != last_when) {
         last_when = when;
-
-        xmemcpy(&tm, localtime(&when), sizeof(struct tm));
+        memcpy(&tm, localtime(&when), sizeof(struct tm));
     }
 
     t = (time_t) (tm.tm_hour * 60 + tm.tm_min);
@@ -57,12 +57,12 @@ Adaptation::ServiceConfig::parseVectPoint(const char *service_configConfig) cons
 bool
 Adaptation::ServiceConfig::parse()
 {
-    char *method_point = NULL;
+    String method_point;
 
     ConfigParser::ParseString(&key);
     ConfigParser::ParseString(&method_point);
-    method = parseMethod(method_point);
-    point = parseVectPoint(method_point);
+    method = parseMethod(method_point.termedBuf());
+    point = parseVectPoint(method_point.termedBuf());
 
     // reset optional parameters in case we are reconfiguring
     bypass = routing = false;
@@ -49,6 +49,9 @@ Adaptation::Ecap::HeaderRep::add(const Name &name, const Value &value)
     HttpHeaderEntry *e = new HttpHeaderEntry(squidId, name.image().c_str(),
             value.toString().c_str());
     theHeader.addEntry(e);
+
+    if (squidId == HDR_CONTENT_LENGTH)
+        theMessage.content_length = theHeader.getInt64(HDR_CONTENT_LENGTH);
 }
 
 void
@@ -59,6 +62,9 @@ Adaptation::Ecap::HeaderRep::removeAny(const Name &name)
         theHeader.delByName(name.image().c_str());
     else
         theHeader.delById(squidId);
+
+    if (squidId == HDR_CONTENT_LENGTH)
+        theMessage.content_length = theHeader.getInt64(HDR_CONTENT_LENGTH);
 }
 
 void
@@ -2,6 +2,7 @@
 #include "icap_log.h"
 #include "AccessLogEntry.h"
 #include "log/File.h"
+#include "log/Formats.h"
 
 int IcapLogfileStatus = LOG_DISABLE;
 
@@ -11,12 +12,9 @@ icapLogOpen()
     customlog *log;
 
     for (log = Config.Log.icaplogs; log; log = log->next) {
-        if (log->type == CLF_NONE)
+        if (log->type == Log::Format::CLF_NONE)
             continue;
 
-        if (log->type == CLF_AUTO)
-            log->type = CLF_ICAP_SQUID;
-
         log->logfile = logfileOpen(log->filename, MAX_URL << 1, 1);
 
         IcapLogfileStatus = LOG_ENABLE;
@@ -1,6 +1,8 @@
 #ifndef SQUID_AUTH_ACL_H
 #define SQUID_AUTH_ACL_H
 
+#if USE_AUTH
+
 // ACL-related code used by authentication-related code. This code is not in
 // auth/Gadgets to avoid making auth/libauth dependent on acl/libstate because
 // acl/libstate already depends on auth/libauth.
@@ -9,4 +11,5 @@ class ACLChecklist;
 /// \ingroup AuthAPI
 extern int AuthenticateAcl(ACLChecklist *ch);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTH_ACL_H */
@@ -35,6 +35,8 @@
 #ifndef SQUID_ACLMAXUSERIP_H
 #define SQUID_ACLMAXUSERIP_H
 
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Checklist.h"
 #include "auth/UserRequest.h"
@@ -81,4 +83,5 @@ class ACLMaxUserIP : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLMaxUserIP);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_ACLMAXUSERIP_H */
@@ -34,6 +34,9 @@
 
 #ifndef SQUID_ACLPROXYAUTH_H
 #define SQUID_ACLPROXYAUTH_H
+
+#if USE_AUTH
+
 #include "acl/Acl.h"
 #include "acl/Data.h"
 #include "acl/Checklist.h"
@@ -97,4 +100,5 @@ class ACLProxyAuth : public ACL
 
 MEMPROXY_CLASS_INLINE(ACLProxyAuth);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_ACLPROXYAUTH_H */
@@ -1,11 +1,14 @@
 #ifndef _SQUID__SRC_AUTH_AUTHACLSTATE_H
 #define _SQUID__SRC_AUTH_AUTHACLSTATE_H
 
+#if USE_AUTH
+
 typedef enum {
     AUTH_ACL_CHALLENGE = -2,
     AUTH_ACL_HELPER = -1,
     AUTH_ACL_CANNOT_AUTHENTICATE = 0,
     AUTH_AUTHENTICATED = 1
 } AuthAclState;
 
-#endif
+#endif /* USE_AUTH */
+#endif /* _SQUID__SRC_AUTH_AUTHACLSTATE_H */
@@ -1,6 +1,8 @@
 #ifndef _SQUID__SRC_AUTH_AUTHTYPE_H
 #define _SQUID__SRC_AUTH_AUTHTYPE_H
 
+#if USE_AUTH
+
 typedef enum {
     AUTH_UNKNOWN,               /* default */
     AUTH_BASIC,
@@ -12,4 +14,5 @@ typedef enum {
 
 extern const char *AuthType_str[];
 
+#endif /* USE_AUTH */
 #endif
@@ -32,6 +32,8 @@
 #ifndef SQUID_AUTHCONFIG_H
 #define SQUID_AUTHCONFIG_H
 
+#if USE_AUTH
+
 #include "auth/UserRequest.h"
 #include "HelperChildConfig.h"
 
@@ -142,4 +144,5 @@ extern authConfig TheConfig;
 
 } // namespace Auth
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHCONFIG_H */
@@ -33,6 +33,8 @@
 #ifndef SQUID_AUTH_GADGETS_H
 #define SQUID_AUTH_GADGETS_H
 
+#if USE_AUTH
+
 #include "hash.h"
 #include "MemPool.h"
 #include "auth/Config.h"
@@ -107,4 +109,5 @@ extern int authenticateSchemeCount(void);
 /// \ingroup AuthAPI
 extern void authenticateOnCloseConnection(ConnStateData * conn);
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTH_GADGETS_H */
@@ -33,6 +33,8 @@
 #ifndef SQUID_AUTHSCHEME_H
 #define SQUID_AUTHSCHEME_H
 
+#if USE_AUTH
+
 #include "Array.h"
 #include "RefCount.h"
 
@@ -100,4 +102,5 @@ class AuthScheme : public RefCountable
     static Vector<AuthScheme::Pointer> *_Schemes;
 };
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHSCHEME_H */
@@ -1,6 +1,8 @@
 #ifndef __AUTH_AUTHENTICATE_STATE_T__
 #define __AUTH_AUTHENTICATE_STATE_T__
 
+#if USE_AUTH
+
 #include "auth/UserRequest.h"
 
 /**
@@ -16,4 +18,5 @@ extern CBDATA_GLOBAL_TYPE(authenticateStateData);
 
 extern void authenticateStateFree(authenticateStateData * r);
 
+#endif /* USE_AUTH */
 #endif /* __AUTH_AUTHENTICATE_STATE_T__ */
@@ -34,6 +34,8 @@
 #ifndef SQUID_AUTHUSER_H
 #define SQUID_AUTHUSER_H
 
+#if USE_AUTH
+
 #include "auth/AuthType.h"
 #include "dlink.h"
 #include "ip/Address.h"
@@ -134,4 +136,5 @@ extern const char *CredentialsState_str[];
 #include "auth/User.cci"
 #endif
 
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHUSER_H */
@@ -35,6 +35,8 @@
 #ifndef SQUID_AUTHUSERREQUEST_H
 #define SQUID_AUTHUSERREQUEST_H
 
+#if USE_AUTH
+
 #include "auth/AuthAclState.h"
 #include "auth/Scheme.h"
 #include "auth/User.h"
@@ -200,5 +202,5 @@ extern int authenticateDirection(AuthUserRequest::Pointer);
 /// See AuthUserRequest::authenticated()
 extern int authenticateUserAuthenticated(AuthUserRequest::Pointer);
 
-
+#endif /* USE_AUTH */
 #endif /* SQUID_AUTHUSERREQUEST_H */
@@ -160,7 +160,6 @@ AuthBasicConfig::done()
 BasicUser::~BasicUser()
 {
     safe_free(passwd);
-    safe_free(cleartext);
 }
 
 static void
@@ -301,109 +300,46 @@ authBasicAuthUserFindUsername(const char *username)
     return NULL;
 }
 
-void
-BasicUser::deleteSelf() const
-{
-    delete this;
-}
-
 BasicUser::BasicUser(AuthConfig *aConfig) :
         AuthUser(aConfig),
         passwd(NULL),
         auth_queue(NULL),
-        cleartext(NULL),
-        currentRequest(NULL),
-        httpAuthHeader(NULL)
+        currentRequest(NULL)
 {}
 
-bool
-BasicUser::decodeCleartext()
-{
-    char *sent_auth = NULL;
-
-    /* username and password */
-    sent_auth = xstrdup(httpAuthHeader);
-
-    /* Trim trailing \n before decoding */
-    strtok(sent_auth, "\n");
-
-    cleartext = uudecode(sent_auth);
-
-    safe_free(sent_auth);
-
-    if (!cleartext)
-        return false;
-
-    /*
-     * Don't allow NL or CR in the credentials.
-     * Oezguer Kesim <oec@codeblau.de>
-     */
-    debugs(29, 9, HERE << "'" << cleartext << "'");
-
-    if (strcspn(cleartext, "\r\n") != strlen(cleartext)) {
-        debugs(29, 1, HERE << "bad characters in authorization header '" << httpAuthHeader << "'");
-        safe_free(cleartext);
-        return false;
-    }
-    return true;
-}
-
-void
-BasicUser::extractUsername()
+char *
+AuthBasicConfig::decodeCleartext(const char *httpAuthHeader)
 {
-    char * seperator = strchr(cleartext, ':');
-
-    if (seperator == NULL) {
-        username(cleartext);
-    } else {
-        /* terminate the username */
-        *seperator = '\0';
+    const char *proxy_auth = httpAuthHeader;
 
-        username(cleartext);
-
-        /* replace the colon so we can find the password */
-        *seperator = ':';
-    }
-
-    if (!static_cast<AuthBasicConfig*>(config)->casesensitive)
-        Tolower((char *)username());
-}
+    /* trim BASIC from string */
+    while (xisgraph(*proxy_auth))
+        proxy_auth++;
 
-void
-BasicUser::extractPassword()
-{
-    passwd = strchr(cleartext, ':');
+    /* Trim leading whitespace before decoding */
+    while (xisspace(*proxy_auth))
+        proxy_auth++;
 
-    if (passwd == NULL) {
-        debugs(29, 4, HERE << "no password in proxy authorization header '" << httpAuthHeader << "'");
-        passwd = NULL;
-        currentRequest->setDenyMessage("no password was present in the HTTP [proxy-]authorization header. This is most likely a browser bug");
-    } else {
-        ++passwd;
-        if (*passwd == '\0') {
-            debugs(29, 4, HERE << "Disallowing empty password,user is '" << username() << "'");
-            passwd = NULL;
-            currentRequest->setDenyMessage("Request denied because you provided an empty password. Users MUST have a password.");
-        } else {
-            passwd = xstrndup(passwd, USER_IDENT_SZ);
+    /* Trim trailing \n before decoding */
+    // XXX: really? is the \n actually still there? does the header parse not drop it?
+    char *eek = xstrdup(proxy_auth);
+    strtok(eek, "\n");
+    char *cleartext = uudecode(eek);
+    safe_free(eek);
+
+    if (cleartext) {
+        /*
+         * Don't allow NL or CR in the credentials.
+         * Oezguer Kesim <oec@codeblau.de>
+         */
+        debugs(29, 9, HERE << "'" << cleartext << "'");
+
+        if (strcspn(cleartext, "\r\n") != strlen(cleartext)) {
+            debugs(29, DBG_IMPORTANT, "WARNING: Bad characters in authorization header '" << httpAuthHeader << "'");
+            safe_free(cleartext);
         }
     }
-}
-
-void
-BasicUser::decode(char const *proxy_auth, AuthUserRequest::Pointer auth_user_request)
-{
-    currentRequest = auth_user_request;
-    httpAuthHeader = proxy_auth;
-    if (decodeCleartext()) {
-        extractUsername();
-        extractPassword();
-    }
-    currentRequest = NULL; // AYJ: why ?? we have only just filled it with data!
-    // so that we dont have circular UserRequest->User->UseRequest loops persisting outside the auth decode sequence????
-
-    // okay we dont need the original buffer string any more.
-    httpAuthHeader = NULL;
+    return cleartext;
 }
 
 bool
@@ -416,26 +352,6 @@ BasicUser::valid() const
     return true;
 }
 
-/**
- * Generate a duplicate of the bad credentials before clearing the working copy.
- */
-void
-BasicUser::makeLoggingInstance(AuthUserRequest::Pointer auth_user_request)
-{
-    if (username()) {
-        /* log the username */
-        debugs(29, 9, HERE << "Creating new user for logging '" << username() << "'");
-        /* new scheme data */
-        AuthUser::Pointer basic_auth = dynamic_cast<AuthUser*>(new BasicUser(config));
-        auth_user_request->user(basic_auth);
-        /* save the credentials */
-        basic_auth->username(username());
-        username(NULL);
-        /* set the auth_user type */
-        basic_auth->auth_type = AUTH_BROKEN;
-    }
-}
-
 void
 BasicUser::updateCached(BasicUser *from)
 {
@@ -469,43 +385,70 @@ AuthBasicConfig::decode(char const *proxy_auth)
 {
     AuthUserRequest::Pointer auth_user_request = dynamic_cast<AuthUserRequest*>(new AuthBasicUserRequest);
     /* decode the username */
-    /* trim BASIC from string */
 
-    while (xisgraph(*proxy_auth))
-        proxy_auth++;
+    // retrieve the cleartext (in a dynamically allocated char*)
+    char *cleartext = decodeCleartext(proxy_auth);
 
-    /* decoder copy. maybe temporary. maybe added to hash if none already existing. */
-    BasicUser *local_basic = new BasicUser(this);
+    // empty header? no auth details produced...
+    if (!cleartext)
+        return auth_user_request;
 
-    /* Trim leading whitespace before decoding */
-    while (xisspace(*proxy_auth))
-        proxy_auth++;
+    AuthUser::Pointer lb;
+    /* permitted because local_basic is purely local function scope. */
+    BasicUser *local_basic = NULL;
+
+    char *seperator = strchr(cleartext, ':');
+
+    lb = local_basic = new BasicUser(this);
+    if (seperator == NULL) {
+        local_basic->username(cleartext);
+    } else {
+        /* terminate the username */
+        *seperator = '\0';
+        local_basic->username(cleartext);
+        local_basic->passwd = xstrdup(seperator+1);
+    }
+
+    if (!casesensitive)
+        Tolower((char *)local_basic->username());
+
+    if (local_basic->passwd == NULL) {
+        debugs(29, 4, HERE << "no password in proxy authorization header '" << proxy_auth << "'");
+        auth_user_request->setDenyMessage("no password was present in the HTTP [proxy-]authorization header. This is most likely a browser bug");
+    } else {
+        if (local_basic->passwd[0] == '\0') {
+            debugs(29, 4, HERE << "Disallowing empty password. User is '" << local_basic->username() << "'");
+            safe_free(local_basic->passwd);
+            auth_user_request->setDenyMessage("Request denied because you provided an empty password. Users MUST have a password.");
+        }
+    }
 
-    local_basic->decode(proxy_auth, auth_user_request);
+    xfree(cleartext);
 
     if (!local_basic->valid()) {
-        local_basic->makeLoggingInstance(auth_user_request);
+        lb->auth_type = AUTH_BROKEN;
+        auth_user_request->user(lb);
         return auth_user_request;
     }
 
     /* now lookup and see if we have a matching auth_user structure in memory. */
     AuthUser::Pointer auth_user;
 
-    if ((auth_user = authBasicAuthUserFindUsername(local_basic->username())) == NULL) {
+    if ((auth_user = authBasicAuthUserFindUsername(lb->username())) == NULL) {
         /* the user doesn't exist in the username cache yet */
         /* save the credentials */
-        debugs(29, 9, HERE << "Creating new user '" << local_basic->username() << "'");
+        debugs(29, 9, HERE << "Creating new user '" << lb->username() << "'");
         /* set the auth_user type */
-        local_basic->auth_type = AUTH_BASIC;
+        lb->auth_type = AUTH_BASIC;
         /* current time for timeouts */
-        local_basic->expiretime = current_time.tv_sec;
+        lb->expiretime = current_time.tv_sec;
 
         /* this basic_user struct is the 'lucky one' to get added to the username cache */
         /* the requests after this link to the basic_user */
         /* store user in hash */
-        local_basic->addToNameCache();
+        lb->addToNameCache();
 
-        auth_user = dynamic_cast<AuthUser*>(local_basic);
+        auth_user = lb;
         assert(auth_user != NULL);
     } else {
         /* replace the current cached password with the new one */
@@ -31,17 +31,13 @@ class BasicUser : public AuthUser
 public:
     MEMPROXY_CLASS(BasicUser);
 
-    virtual void deleteSelf() const;
     BasicUser(AuthConfig *);
     ~BasicUser();
     bool authenticated() const;
     void queueRequest(AuthUserRequest::Pointer auth_user_request, RH * handler, void *data);
     void submitRequest(AuthUserRequest::Pointer auth_user_request, RH * handler, void *data);
-    void decode(char const *credentials, AuthUserRequest::Pointer);
-    char *getCleartext() {return cleartext;}
 
     bool valid() const;
-    void makeLoggingInstance(AuthUserRequest::Pointer auth_user_request);
 
     /** Update the cached password for a username. */
     void updateCached(BasicUser *from);
@@ -52,12 +48,7 @@ class BasicUser : public AuthUser
     BasicAuthQueueNode *auth_queue;
 
 private:
-    bool decodeCleartext();
-    void extractUsername();
-    void extractPassword();
-    char *cleartext;
     AuthUserRequest::Pointer currentRequest;
-    char const *httpAuthHeader;
 };
 
 MEMPROXY_CLASS_INLINE(BasicUser);
@@ -79,12 +70,16 @@ class AuthBasicConfig : public AuthConfig
     virtual void fixHeader(AuthUserRequest::Pointer, HttpReply *, http_hdr_type, HttpRequest *);
     virtual void init(AuthConfig *);
     virtual void parse(AuthConfig *, int, char *);
+    void decode(char const *httpAuthHeader, AuthUserRequest::Pointer);
     virtual void registerWithCacheManager(void);
     virtual const char * type() const;
     char *basicAuthRealm;
     time_t credentialsTTL;
     int casesensitive;
     int utf8;
+
+private:
+    char * decodeCleartext(const char *httpAuthHeader);
 };
 
 #endif /* __AUTH_BASIC_H__ */
@@ -147,17 +147,6 @@ AuthNegotiateConfig::parse(AuthConfig * scheme, int n_configured, char *param_st
     } else {
         debugs(29, 0, "AuthNegotiateConfig::parse: unrecognised negotiate auth scheme parameter '" << param_str << "'");
     }
-
-    /*
-     * disable client side request pipelining. There is a race with
-     * Negotiate when the client sends a second request on an Negotiate
-     * connection before the authenticate challenge is sent. With
-     * this patch, the client may fail to authenticate, but squid's
-     * state will be preserved.  Caveats: this should be a post-parse
-     * test, but that can wait for the modular parser to be integrated.
-     */
-    if (authenticate)
-        Config.onoff.pipeline_prefetch = 0;
 }
 
 const char *
@@ -331,12 +320,6 @@ AuthNegotiateConfig::decode(char const *proxy_auth)
     return auth_user_request;
 }
 
-void
-NegotiateUser::deleteSelf() const
-{
-    delete this;
-}
-
 NegotiateUser::NegotiateUser(AuthConfig *aConfig) : AuthUser (aConfig)
 {
     proxy_auth_list.head = proxy_auth_list.tail = NULL;
@@ -29,7 +29,6 @@ class NegotiateUser : public AuthUser
     MEMPROXY_CLASS(NegotiateUser);
     NegotiateUser(AuthConfig *);
     ~NegotiateUser();
-    virtual void deleteSelf() const;
     virtual int32_t ttl() const;
 
     dlink_list proxy_auth_list;
@@ -135,17 +135,6 @@ AuthNTLMConfig::parse(AuthConfig * scheme, int n_configured, char *param_str)
     } else {
         debugs(29, 0, "AuthNTLMConfig::parse: unrecognised ntlm auth scheme parameter '" << param_str << "'");
     }
-
-    /*
-     * disable client side request pipelining. There is a race with
-     * NTLM when the client sends a second request on an NTLM
-     * connection before the authenticate challenge is sent. With
-     * this patch, the client may fail to authenticate, but squid's
-     * state will be preserved.  Caveats: this should be a post-parse
-     * test, but that can wait for the modular parser to be integrated.
-     */
-    if (authenticate)
-        Config.onoff.pipeline_prefetch = 0;
 }
 
 const char *
@@ -305,12 +294,6 @@ AuthNTLMConfig::decode(char const *proxy_auth)
     return auth_user_request;
 }
 
-void
-NTLMUser::deleteSelf() const
-{
-    delete this;
-}
-
 NTLMUser::NTLMUser (AuthConfig *aConfig) : AuthUser (aConfig)
 {
     proxy_auth_list.head = proxy_auth_list.tail = NULL;
@@ -21,7 +21,6 @@ class NTLMUser : public AuthUser
     NTLMUser(AuthConfig *);
     ~NTLMUser();
 
-    virtual void deleteSelf() const;
     virtual int32_t ttl() const;
 
     dlink_list proxy_auth_list;
@@ -84,6 +84,10 @@ class AsyncCall: public RefCountable
 
 private:
     const char *isCanceled; // set to the cancelation reason by cancel()
+
+    // not implemented to prevent nil calls from being passed around and unknowingly scheduled, for now.
+    AsyncCall();
+    AsyncCall(const AsyncCall &);
 };
 
 inline
@@ -122,6 +126,12 @@ class AsyncCallT: public AsyncCall
                const Dialer &aDialer): AsyncCall(aDebugSection, aDebugLevel, aName),
             dialer(aDialer) {}
 
+    AsyncCallT(const AsyncCallT<Dialer> &o):
+            AsyncCall(o.debugSection, o.debugLevel, o.name),
+            dialer(o.dialer) {}
+
+    ~AsyncCallT() {}
+
     CallDialer *getDialer() { return &dialer; }
 
 protected:
@@ -132,6 +142,9 @@ class AsyncCallT: public AsyncCall
     virtual void fire() { dialer.dial(*this); }
 
     Dialer dialer;
+
+private:
+    AsyncCallT & operator=(const AsyncCallT &); // not defined. call assignments not permitted.
 };
 
 template <class Dialer>
@@ -41,12 +41,12 @@ class InstanceId
 
 /// convenience macro to instantiate Class-specific stuff in .cc files
 #define InstanceIdDefinitions(Class, prefix) \
+    template<> const char *InstanceId<Class>::Prefix = prefix; \
+    template<> InstanceId<Class>::Value InstanceId<Class>::Last = 0; \
     template<> std::ostream & \
     InstanceId<Class>::print(std::ostream &os) const { \
         return os << Prefix << value; \
-    } \
-    template<> const char *InstanceId<Class>::Prefix = prefix; \
-    template<> InstanceId<Class>::Value InstanceId<Class>::Last = 0
+    }
 
 
 /// print the id
@@ -42,7 +42,7 @@ class CallSubscription: public Subscription
 public:
     /// Must be passed an object. nil pointers are not permitted.
     explicit CallSubscription(const RefCount<Call_> &aCall) : call(aCall) { assert(aCall != NULL); }
-    virtual AsyncCall::Pointer callback() const { return new Call_(call); }
+    virtual AsyncCall::Pointer callback() const { return new Call_(*call); }
 
 private:
     const RefCount<Call_> call; ///< gets copied to create callback calls
@@ -5,6 +5,9 @@
 
 #include <exception>
 
+#if __GNUC__
+__attribute__((unused))
+#endif
 static unsigned int FileNameHashCached(const char *fname);
 
 // simple exception to report custom errors
@@ -60,12 +63,6 @@ FileNameHashCached(const char *fname)
     return lastHash;
 }
 
-///  Avoids "defined but not used" warnings for FileNameHashCached
-class FileNameHashCacheUser
-{
-    bool use(void *ptr=NULL) { return ptr != &FileNameHashCached;}
-};
-
 #if !defined(TexcHere)
 #    define TexcHere(msg) TextException((msg), __FILE__, __LINE__, \
                                          (FileNameHashCached(__FILE__)<<14) | (__LINE__ & 0x3FFF))
@@ -50,8 +50,10 @@
 #include "ssl/support.h"
 #include "ssl/Config.h"
 #endif
+#if USE_AUTH
 #include "auth/Config.h"
 #include "auth/Scheme.h"
+#endif
 #include "ConfigParser.h"
 #include "CpuAffinityMap.h"
 #include "eui/Config.h"
@@ -133,13 +135,9 @@ static const char *const B_GBYTES_STR = "GB";
 
 static const char *const list_sep = ", \t\n\r";
 
-static void parse_logformat(logformat ** logformat_definitions);
 static void parse_access_log(customlog ** customlog_definitions);
 static int check_null_access_log(customlog *customlog_definitions);
-
-static void dump_logformat(StoreEntry * entry, const char *name, logformat * definitions);
 static void dump_access_log(StoreEntry * entry, const char *name, customlog * definitions);
-static void free_logformat(logformat ** definitions);
 static void free_access_log(customlog ** definitions);
 
 static void update_maxobjsize(void);
@@ -423,10 +421,8 @@ parseOneConfigFile(const char *file_name, unsigned int depth)
     if (fp == NULL)
         fatalf("Unable to open configuration file: %s: %s", file_name, xstrerror());
 
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     SetConfigFilename(file_name, bool(is_pipe));
@@ -911,6 +907,32 @@ configDoConfigure(void)
         }
     }
 
+#endif
+
+    // prevent infinite fetch loops in the request parser
+    // due to buffer full but not enough data recived to finish parse
+    if (Config.maxRequestBufferSize <= Config.maxRequestHeaderSize) {
+        fatalf("Client request buffer of %u bytes cannot hold a request with %u bytes of headers." \
+               " Change client_request_buffer_max or request_header_max_size limits.",
+               (uint32_t)Config.maxRequestBufferSize, (uint32_t)Config.maxRequestHeaderSize);
+    }
+
+#if USE_AUTH
+    /*
+     * disable client side request pipelining. There is a race with
+     * Negotiate and NTLM when the client sends a second request on an
+     * connection before the authenticate challenge is sent. With
+     * pipelining OFF, the client may fail to authenticate, but squid's
+     * state will be preserved.
+     */
+    if (Config.onoff.pipeline_prefetch) {
+        AuthConfig *nego = AuthConfig::Find("Negotiate");
+        AuthConfig *ntlm = AuthConfig::Find("NTLM");
+        if ((nego && nego->active()) || (ntlm && ntlm->active())) {
+            debugs(3, DBG_IMPORTANT, "WARNING: pipeline_prefetch breaks NTLM and Negotiate authentication. Forced OFF.");
+            Config.onoff.pipeline_prefetch = 0;
+        }
+    }
 #endif
 }
 
@@ -1807,6 +1829,7 @@ check_null_string(char *s)
     return s == NULL;
 }
 
+#if USE_AUTH
 static void
 parse_authparam(Auth::authConfig * config)
 {
@@ -1865,6 +1888,7 @@ dump_authparam(StoreEntry * entry, const char *name, authConfig cfg)
     for (authConfig::iterator  i = cfg.begin(); i != cfg.end(); ++i)
         (*i)->dump(entry, name, (*i));
 }
+#endif /* USE_AUTH */
 
 /* TODO: just return the object, the # is irrelevant */
 static int
@@ -2204,13 +2228,15 @@ parse_peer(peer ** head)
                 fatalf("parse_peer: non-parent carp peer %s/%d\n", p->host, p->http_port);
 
             p->options.carp = 1;
-
         } else if (!strcasecmp(token, "userhash")) {
+#if USE_AUTH
             if (p->type != PEER_PARENT)
                 fatalf("parse_peer: non-parent userhash peer %s/%d\n", p->host, p->http_port);
 
             p->options.userhash = 1;
-
+#else
+            fatalf("parse_peer: userhash requires authentication. peer %s/%d\n", p->host, p->http_port);
+#endif
         } else if (!strcasecmp(token, "sourcehash")) {
             if (p->type != PEER_PARENT)
                 fatalf("parse_peer: non-parent sourcehash peer %s/%d\n", p->host, p->http_port);
@@ -2647,6 +2673,9 @@ dump_refreshpattern(StoreEntry * entry, const char *name, refresh_t * head)
                           (int) (100.0 * head->pct + 0.5),
                           (int) head->max / 60);
 
+        if (head->max_stale >= 0)
+            storeAppendPrintf(entry, " max-stale=%d", head->max_stale);
+
         if (head->flags.refresh_ims)
             storeAppendPrintf(entry, " refresh-ims");
 
@@ -2700,6 +2729,7 @@ parse_refreshpattern(refresh_t ** head)
     time_t max = 0;
     int refresh_ims = 0;
     int store_stale = 0;
+    int max_stale = -1;
 
 #if USE_HTTP_VIOLATIONS
 
@@ -2778,6 +2808,8 @@ parse_refreshpattern(refresh_t ** head)
             refresh_ims = 1;
         } else if (!strcmp(token, "store-stale")) {
             store_stale = 1;
+        } else if (!strncmp(token, "max-stale=", 10)) {
+            max_stale = atoi(token + 10);
 #if USE_HTTP_VIOLATIONS
 
         } else if (!strcmp(token, "override-expire"))
@@ -2805,7 +2837,7 @@ parse_refreshpattern(refresh_t ** head)
 #endif
 
         } else
-            debugs(22, 0, "redreshAddToList: Unknown option '" << pattern << "': " << token);
+            debugs(22, 0, "refreshAddToList: Unknown option '" << pattern << "': " << token);
     }
 
     if ((errcode = regcomp(&comp, pattern, flags)) != 0) {
@@ -2834,6 +2866,8 @@ parse_refreshpattern(refresh_t ** head)
     if (store_stale)
         t->flags.store_stale = 1;
 
+    t->max_stale = max_stale;
+
 #if USE_HTTP_VIOLATIONS
 
     if (override_expire)
@@ -3790,7 +3824,7 @@ dump_generic_http_port(StoreEntry * e, const char *n, const http_port_list * s)
     if (s->name)
         storeAppendPrintf(e, " name=%s", s->name);
 
-#if !USE_HTTP_VIOLATIONS
+#if USE_HTTP_VIOLATIONS
     if (!s->accel && s->ignore_cc)
         storeAppendPrintf(e, " ignore-cc");
 #endif
@@ -3945,6 +3979,9 @@ void
 configFreeMemory(void)
 {
     free_all();
+#if USE_SSL
+    SSL_CTX_free(Config.ssl_client.sslContext);
+#endif
 }
 
 void
@@ -3975,36 +4012,6 @@ strtokFile(void)
 }
 
 #include "AccessLogEntry.h"
-/* TODO: split out parsing somehow ...*/
-static void
-parse_logformat(logformat ** logformat_definitions)
-{
-    logformat *nlf;
-    char *name, *def;
-
-    if ((name = strtok(NULL, w_space)) == NULL)
-        self_destruct();
-
-    if ((def = strtok(NULL, "\r\n")) == NULL) {
-        self_destruct();
-        return;
-    }
-
-    debugs(3, 2, "Logformat for '" << name << "' is '" << def << "'");
-
-    nlf = (logformat *)xcalloc(1, sizeof(logformat));
-
-    nlf->name = xstrdup(name);
-
-    if (!accessLogParseLogFormat(&nlf->format, def)) {
-        self_destruct();
-        return;
-    }
-
-    nlf->next = *logformat_definitions;
-
-    *logformat_definitions = nlf;
-}
 
 static void
 parse_access_log(customlog ** logs)
@@ -4021,19 +4028,19 @@ parse_access_log(customlog ** logs)
     }
 
     if (strcmp(filename, "none") == 0) {
-        cl->type = CLF_NONE;
+        cl->type = Log::Format::CLF_NONE;
         goto done;
     }
 
     if ((logdef_name = strtok(NULL, w_space)) == NULL)
-        logdef_name = "auto";
+        logdef_name = "squid";
 
     debugs(3, 9, "Log definition name '" << logdef_name << "' file '" << filename << "'");
 
     cl->filename = xstrdup(filename);
 
     /* look for the definition pointer corresponding to this name */
-    lf = Config.Log.logformats;
+    lf = Log::TheConfig.logformats;
 
     while (lf != NULL) {
         debugs(3, 9, "Comparing against '" << lf->name << "'");
@@ -4045,18 +4052,25 @@ parse_access_log(customlog ** logs)
     }
 
     if (lf != NULL) {
-        cl->type = CLF_CUSTOM;
+        cl->type = Log::Format::CLF_CUSTOM;
         cl->logFormat = lf;
     } else if (strcmp(logdef_name, "auto") == 0) {
-        cl->type = CLF_AUTO;
+        debugs(0,0, "WARNING: Log format 'auto' no longer exists. Using 'squid' instead.");
+        cl->type = Log::Format::CLF_SQUID;
     } else if (strcmp(logdef_name, "squid") == 0) {
-        cl->type = CLF_SQUID;
+        cl->type = Log::Format::CLF_SQUID;
     } else if (strcmp(logdef_name, "common") == 0) {
-        cl->type = CLF_COMMON;
+        cl->type = Log::Format::CLF_COMMON;
+    } else if (strcmp(logdef_name, "combined") == 0) {
+        cl->type = Log::Format::CLF_COMBINED;
 #if ICAP_CLIENT
     } else if (strcmp(logdef_name, "icap_squid") == 0) {
-        cl->type = CLF_ICAP_SQUID;
+        cl->type = Log::Format::CLF_ICAP_SQUID;
 #endif
+    } else if (strcmp(logdef_name, "useragent") == 0) {
+        cl->type = Log::Format::CLF_USERAGENT;
+    } else if (strcmp(logdef_name, "referrer") == 0) {
+        cl->type = Log::Format::CLF_REFERER;
     } else {
         debugs(3, 0, "Log format '" << logdef_name << "' is not defined");
         self_destruct();
@@ -4078,12 +4092,6 @@ check_null_access_log(customlog *customlog_definitions)
     return customlog_definitions == NULL;
 }
 
-static void
-dump_logformat(StoreEntry * entry, const char *name, logformat * definitions)
-{
-    accessLogDumpLogFormat(entry, name, definitions);
-}
-
 static void
 dump_access_log(StoreEntry * entry, const char *name, customlog * logs)
 {
@@ -4094,36 +4102,40 @@ dump_access_log(StoreEntry * entry, const char *name, customlog * logs)
 
         switch (log->type) {
 
-        case CLF_CUSTOM:
+        case Log::Format::CLF_CUSTOM:
             storeAppendPrintf(entry, "%s %s", log->filename, log->logFormat->name);
             break;
 
-        case CLF_NONE:
+        case Log::Format::CLF_NONE:
             storeAppendPrintf(entry, "none");
             break;
 
-        case CLF_SQUID:
+        case Log::Format::CLF_SQUID:
             storeAppendPrintf(entry, "%s squid", log->filename);
             break;
 
-        case CLF_COMMON:
-            storeAppendPrintf(entry, "%s squid", log->filename);
+        case Log::Format::CLF_COMBINED:
+            storeAppendPrintf(entry, "%s combined", log->filename);
+            break;
+
+        case Log::Format::CLF_COMMON:
+            storeAppendPrintf(entry, "%s common", log->filename);
             break;
+
 #if ICAP_CLIENT
-        case CLF_ICAP_SQUID:
+        case Log::Format::CLF_ICAP_SQUID:
             storeAppendPrintf(entry, "%s icap_squid", log->filename);
             break;
 #endif
-        case CLF_AUTO:
-
-            if (log->aclList)
-                storeAppendPrintf(entry, "%s auto", log->filename);
-            else
-                storeAppendPrintf(entry, "%s", log->filename);
+        case Log::Format::CLF_USERAGENT:
+            storeAppendPrintf(entry, "%s useragent", log->filename);
+            break;
 
+        case Log::Format::CLF_REFERER:
+            storeAppendPrintf(entry, "%s referrer", log->filename);
             break;
 
-        case CLF_UNKNOWN:
+        case Log::Format::CLF_UNKNOWN:
             break;
         }
 
@@ -4134,18 +4146,6 @@ dump_access_log(StoreEntry * entry, const char *name, customlog * logs)
     }
 }
 
-static void
-free_logformat(logformat ** definitions)
-{
-    while (*definitions) {
-        logformat *format = *definitions;
-        *definitions = format->next;
-        safe_free(format->name);
-        accessLogFreeLogFormat(&format->format);
-        xfree(format);
-    }
-}
-
 static void
 free_access_log(customlog ** definitions)
 {
@@ -4154,7 +4154,7 @@ free_access_log(customlog ** definitions)
         *definitions = log->next;
 
         log->logFormat = NULL;
-        log->type = CLF_UNKNOWN;
+        log->type = Log::Format::CLF_UNKNOWN;
 
         if (log->aclList)
             aclDestroyAclList(&log->aclList);
@@ -81,7 +81,7 @@ cacheEntryCreate(const StoreSwapLogData * s)
     CacheEntry *e = xcalloc(1, sizeof(CacheEntry));
     assert(s);
     /* e->s = *s; */
-    xmemcpy(e->key_arr, s->key, SQUID_MD5_DIGEST_LENGTH);
+    memcpy(e->key_arr, s->key, SQUID_MD5_DIGEST_LENGTH);
     e->key = &e->key_arr[0];
     return e;
 }
@@ -146,9 +146,8 @@ cacheIndexAddLog(CacheIndex * idx, const char *fname)
         return 0;
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(file), O_BINARY);
-
 #endif
 
     scanned_count = cacheIndexScan(idx, fname, file);
@@ -221,18 +221,21 @@ CacheManager::ParseUrl(const char *url)
 void
 CacheManager::ParseHeaders(const HttpRequest * request, Mgr::ActionParams &params)
 {
-    const char *basic_cookie;	/* base 64 _decoded_ user:passwd pair */
-    const char *passwd_del;
     assert(request);
 
     params.httpMethod = request->method.id();
     params.httpFlags = request->flags;
 
-    basic_cookie = request->header.getAuth(HDR_AUTHORIZATION, "Basic");
+#if HAVE_AUTH_MODULE_BASIC
+    // TODO: use the authentication system decode to retrieve these details properly.
+
+    /* base 64 _decoded_ user:passwd pair */
+    const char *basic_cookie = request->header.getAuth(HDR_AUTHORIZATION, "Basic");
 
     if (!basic_cookie)
         return;
 
+    const char *passwd_del;
     if (!(passwd_del = strchr(basic_cookie, ':'))) {
         debugs(16, DBG_IMPORTANT, "CacheManager::ParseHeaders: unknown basic_cookie format '" << basic_cookie << "'");
         return;
@@ -242,9 +245,10 @@ CacheManager::ParseHeaders(const HttpRequest * request, Mgr::ActionParams &param
     params.userName.limitInit(basic_cookie, passwd_del - basic_cookie);
     params.password = passwd_del + 1;
 
-    /* warning: this prints decoded password which maybe not what you want to do @?@ @?@ */
+    /* warning: this prints decoded password which maybe not be what you want to do @?@ @?@ */
     debugs(16, 9, "CacheManager::ParseHeaders: got user: '" <<
            params.userName << "' passwd: '" << params.password << "'");
+#endif
 }
 
 /**
@@ -336,11 +340,13 @@ CacheManager::Start(int fd, HttpRequest * request, StoreEntry * entry)
 
         errorStateFree(errState);
 
+#if HAVE_AUTH_MODULE_BASIC
         /*
          * add Authenticate header using action name as a realm because
          * password depends on the action
          */
         rep->header.putAuth("Basic", actionName);
+#endif
 
         /* store the reply */
         entry->replaceHttpReply(rep);
@@ -172,6 +172,7 @@ COMMENT_END
 
 NAME: auth_param
 TYPE: authparam
+IFDEF: USE_AUTH
 LOC: Auth::TheConfig
 DEFAULT: none
 DOC_START
@@ -770,7 +771,9 @@ DOC_START
 
 	acl aclname maxconn number
 	  # This will be matched when the client's IP address has
-	  # more than <number> HTTP connections established. [fast]
+	  # more than <number> TCP connections established. [fast]
+	  # NOTE: This only measures direct TCP links so X-Forwarded-For
+	  # indirect clients are not counted.
 
 	acl aclname max_user_ip [-s] number
 	  # This will be matched when the user attempts to log in from more
@@ -943,6 +946,9 @@ DOC_START
 	Controls whether the indirect client address
 	(see follow_x_forwarded_for) is used instead of the
 	direct client address in acl matching.
+
+	NOTE: maxconn ACL considers direct TCP links and indirect
+	      clients will always have zero. So no match.
 DOC_END
 
 NAME: delay_pool_uses_indirect_client
@@ -1765,14 +1771,18 @@ DOC_START
 	an additional ACL needs to be used which ensures the IPv6-bound traffic
 	is never forced or permitted out the IPv4 interface.
 
+	# IPv6 destination test along with a dummy access control to perofrm the required DNS
+	# This MUST be place before any ALLOW rules.
 	acl to_ipv6 dst ipv6
-	tcp_outgoing_address 2002::c001 good_service_net to_ipv6
+	http_access deny ipv6 !all
+
+	tcp_outgoing_address 2001:db8::c001 good_service_net to_ipv6
 	tcp_outgoing_address 10.1.0.2 good_service_net !to_ipv6
 
-	tcp_outgoing_address 2002::beef normal_service_net to_ipv6
+	tcp_outgoing_address 2001:db8::beef normal_service_net to_ipv6
 	tcp_outgoing_address 10.1.0.1 normal_service_net !to_ipv6
 
-	tcp_outgoing_address 2002::1 to_ipv6
+	tcp_outgoing_address 2001:db8::1 to_ipv6
 	tcp_outgoing_address 10.1.0.3 !to_ipv6
 
 	WARNING:
@@ -2817,7 +2827,7 @@ COMMENT_END
 
 NAME: logformat
 TYPE: logformat
-LOC: Config.Log.logformats
+LOC: Log::TheConfig
 DEFAULT: none
 DOC_START
 	Usage:
@@ -2859,6 +2869,7 @@ DOC_START
 		>a	Client source IP address
 		>A	Client FQDN
 		>p	Client source port
+		>eui	Client EUI (MAC address, EUI-48 or EUI-64 identifier)
 		<A	Server IP address or peer name
 		la	Local IP address (http_port)
 		lp	Local port number (http_port)
@@ -2961,10 +2972,18 @@ DOC_START
 
 	The default formats available (which do not need re-defining) are:
 
-logformat squid %ts.%03tu %6tr %>a %Ss/%03>Hs %<st %rm %ru %un %Sh/%<A %mt
-logformat squidmime %ts.%03tu %6tr %>a %Ss/%03>Hs %<st %rm %ru %un %Sh/%<A %mt [%>h] [%<h]
-logformat common %>a %ui %un [%tl] "%rm %ru HTTP/%rv" %>Hs %<st %Ss:%Sh
-logformat combined %>a %ui %un [%tl] "%rm %ru HTTP/%rv" %>Hs %<st "%{Referer}>h" "%{User-Agent}>h" %Ss:%Sh
+logformat squid      %ts.%03tu %6tr %>a %Ss/%03>Hs %<st %rm %ru %un %Sh/%<A %mt
+logformat common     %>a %ui %un [%tl] "%rm %ru HTTP/%rv" %>Hs %<st %Ss:%Sh
+logformat combined   %>a %ui %un [%tl] "%rm %ru HTTP/%rv" %>Hs %<st "%{Referer}>h" "%{User-Agent}>h" %Ss:%Sh
+logformat referrer   %ts.%03tu %>a %{Referer}>h %ru
+logformat useragent  %>a [%tl] "%{User-Agent}>h"
+
+	When the log_mime_hdrs directive is set to ON. The squid, common and combined
+	formats have a safely encoded copy of the mime headers appended to each line
+	within a pair of brackets.
+
+	The common and combined formats are not quite true to the Apache definition.
+	The logs from Squid contain an extra status and hierarchy code appended.
 DOC_END
 
 NAME: access_log cache_access_log
@@ -3120,7 +3139,7 @@ DOC_START
 	  L<data>\n - logfile data
 	  R\n - rotate file
 	  T\n - truncate file
-	  O\n - repoen file
+	  O\n - reopen file
 	  F\n - flush file
 	  r<n>\n - set rotate count to <n>
 	  b<n>\n - 1 = buffer output, 0 = don't buffer output
@@ -3225,16 +3244,9 @@ DOC_START
 DOC_END
 
 NAME: emulate_httpd_log
-COMMENT: on|off
-TYPE: onoff
-DEFAULT: off
-LOC: Config.onoff.common_log
+TYPE: obsolete
 DOC_START
-	The Cache can emulate the log file format which many 'httpd'
-	programs use.  To disable/enable this emulation, set
-	emulate_httpd_log to 'off' or 'on'.  The default
-	is to use the native log format since it includes useful
-	information Squid-specific log analyzers use.
+	Replace this with an access_log directive using the format 'common' or 'combined'.
 DOC_END
 
 NAME: log_ip_on_direct
@@ -3272,27 +3284,15 @@ DOC_START
 DOC_END
 
 NAME: useragent_log
-TYPE: string
-LOC: Config.Log.useragent
-DEFAULT: none
-IFDEF: USE_USERAGENT_LOG
+TYPE: obsolete
 DOC_START
-	Squid will write the User-Agent field from HTTP requests
-	to the filename specified here.  By default useragent_log
-	is disabled.
+	Replace this with an access_log directive using the format 'useragent'.
 DOC_END
 
 NAME: referer_log referrer_log
-TYPE: string
-LOC: Config.Log.referer
-DEFAULT: none
-IFDEF: USE_REFERER_LOG
+TYPE: obsolete
 DOC_START
-	Squid will write the Referer field from HTTP requests to the
-	filename specified here.  By default referer_log is disabled.
-	Note that "referer" is actually a misspelling of "referrer"
-	however the misspelt version has been accepted into the HTTP RFCs
-	and we accept both.
+	Replace this with an access_log directive using the format 'referrer'.
 DOC_END
 
 NAME: pid_filename
@@ -3321,14 +3321,9 @@ DOC_START
 DOC_END
 
 NAME: forward_log
-IFDEF: WIP_FWD_LOG
-TYPE: string
-DEFAULT: none
-LOC: Config.Log.forward
+TYPE: obsolete
 DOC_START
-	Logs the server-side requests.
-
-	This is currently work in progress.
+	Use a regular access.log with ACL limiting it to MISS events.
 DOC_END
 
 NAME: strip_query_terms
@@ -3488,6 +3483,29 @@ DOC_START
 	Requires ftp_passive to be ON (default) for any effect.
 DOC_END
 
+NAME: ftp_eprt
+TYPE: onoff
+DEFAULT: on
+LOC: Config.Ftp.eprt
+DOC_START
+	FTP Protocol extensions permit the use of a special "EPRT" command.
+
+	This extension provides a protocol neutral alternative to the
+	IPv4-only PORT command. When supported it enables active FTP data
+	channels over IPv6 and efficient NAT handling.
+
+	Turning this OFF will prevent EPRT being attempted and will skip
+	straight to using PORT for IPv4 servers.
+
+	Some devices are known to not handle this extension correctly and
+	may result in crashes. Devices which suport EPRT enough to fail
+	cleanly will result in Squid attempting PORT anyway. This directive
+	should only be disabled when EPRT results in device failures.
+
+	WARNING: Doing so will convert Squid back to the old behavior with all
+	the related problems with external NAT devices/layers and IPv4-only FTP.
+DOC_END
+
 NAME: ftp_sanitycheck
 TYPE: onoff
 DEFAULT: on
@@ -3701,6 +3719,17 @@ DOC_START
 	See http://wiki.squid-cache.org/SquidFaq/SquidAcl for details.
 DOC_END
 
+NAME: max_stale
+COMMENT: time-units
+TYPE: time_t
+LOC: Config.maxStale
+DEFAULT: 1 week
+DOC_START
+	This option puts an upper limit on how stale content Squid
+	will serve from the cache if cache validation fails.
+	Can be overriden by the refresh_pattern max-stale option.
+DOC_END
+
 NAME: refresh_pattern
 TYPE: refreshpattern
 LOC: Config.Refresh
@@ -3733,6 +3762,7 @@ DOC_START
 		 ignore-must-revalidate
 		 ignore-private
 		 ignore-auth
+		 max-stale=NN
 		 refresh-ims
 		 store-stale
 
@@ -3798,6 +3828,10 @@ DOC_START
 		not cache such responses because they usually can't be
 		reused. Note that such responses will be stale by default.
 
+		max-stale=NN provide a maximum staleness factor. Squid won't
+		serve objects more stale than this even if it failed to
+		validate the object. Default: use the max_stale global limit.
+
 	Basically a cached object is:
 
 		FRESH if expires < now, else STALE
@@ -4048,6 +4082,17 @@ DOC_START
 	be no limit imposed.
 DOC_END
 
+NAME: client_request_buffer_max_size
+COMMENT: (bytes)
+TYPE: b_size_t
+DEFAULT: 512 KB
+LOC: Config.maxRequestBufferSize
+DOC_START
+	This specifies the maximum buffer size of a client request.
+	It prevents squid eating too much memory when somebody uploads
+	a large file.
+DOC_END
+
 NAME: chunked_request_body_max_size
 COMMENT: (bytes)
 TYPE: b_int64_t
@@ -5923,12 +5968,18 @@ DOC_START
 	    you may also specify them by your custom file name:
 	    Example: deny_info ERR_CUSTOM_ACCESS_DENIED bad_guys
 
+	By defaut Squid will send "403 Forbidden". A different 4xx or 5xx
+	may be specified by prefixing the file name with the code and a colon.
+	e.g. 404:ERR_CUSTOM_ACCESS_DENIED
+
 	Alternatively you can tell Squid to reset the TCP connection
 	by specifying TCP_RESET.
 
 	Or you can specify an error URL or URL pattern. The browsers will
-	get redirected (302) to the specified URL after formatting tags have
-	been replaced.
+	get redirected to the specified URL after formatting tags have
+	been replaced. Redirect will be done with 302 or 307 according to
+	HTTP/1.1 specs. A different 3xx code may be specified by prefixing
+	the URL. e.g. 303:http://example.com/
 
 	URL FORMAT TAGS:
 		%a	- username (if available. Password NOT included)
@@ -7079,7 +7130,7 @@ DOC_START
 	X-Forwarded-For header.
 
 	If set to "truncate", Squid will remove all existing
-	X-Forwarded-For entries, and place itself as the sole entry.
+	X-Forwarded-For entries, and place the client IP as the sole entry.
 DOC_END
 
 NAME: cachemgr_passwd
@@ -7298,6 +7349,8 @@ DOC_START
 
 	Defaults to off for bandwidth management and access logging
 	reasons.
+
+	WARNING: pipelining breaks NTLM and Negotiate/Kerberos authentication.
 DOC_END
 
 NAME: high_response_time_warning
@@ -239,7 +239,7 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
 
 #endif
@@ -465,9 +465,8 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     fprintf(fp,
@@ -501,9 +500,8 @@ main(int argc, char *argv[])
         exit(1);
     }
 
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
-
 #endif
 
     gen_conf(entries, fp, 1);
@@ -514,7 +512,7 @@ main(int argc, char *argv[])
         perror(conf_filename_short);
         exit(1);
     }
-#ifdef _SQUID_WIN32_
+#if _SQUID_WINDOWS_
     setmode(fileno(fp), O_TEXT);
 #endif
     gen_conf(entries, fp, 0);
@@ -23,11 +23,9 @@ BEGIN {
 	define["USE_ICMP"]="--enable-icmp"
 	define["USE_IDENT"]="--enable-ident-lookups"
 	define["USE_LOADABLE_MODULES"]="--enable-loadable-modules"
-	define["USE_REFERER_LOG"]="--enable-referer-log"
 	define["USE_SQUID_ESI"]="--enable-esi"
 	define["USE_SSL"]="--enable-ssl"
 	define["USE_UNLINKD"]="--enable-unlinkd"
-	define["USE_USERAGENT_LOG"]="--enable-useragent-log"
 	define["USE_WCCP"]="--enable-wccp"
 	define["USE_WCCPv2"]="--enable-wccpv2"
 	define["USE_QOS_TOS"]="--enable-zph-qos"
@@ -36,6 +36,7 @@
 #include "event.h"
 #include "ClientInfo.h"
 #include "ip/Address.h"
+#include "log/Tokens.h"
 #include "mgr/Registration.h"
 #include "SquidMath.h"
 #include "SquidTime.h"
@@ -84,17 +84,24 @@
 #include "squid.h"
 
 #include "acl/FilledChecklist.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
+#include "base/TextException.h"
 #include "ChunkedCodingParser.h"
 #include "client_side.h"
 #include "client_side_reply.h"
 #include "client_side_request.h"
+#if USE_DELAY_POOLS
+#include "ClientInfo.h"
+#endif
 #include "ClientRequestContext.h"
 #include "clientStream.h"
 #include "comm.h"
+#include "CommCalls.h"
+#include "comm/Loops.h"
 #include "comm/Write.h"
-#include "comm/ListenStateData.h"
-#include "base/TextException.h"
+#include "comm/TcpAcceptor.h"
 #include "ConnectionDetail.h"
 #include "eui/Config.h"
 #include "fde.h"
@@ -104,18 +111,13 @@
 #include "ident/Config.h"
 #include "ident/Ident.h"
 #include "ip/Intercept.h"
+#include "ipc/FdNotes.h"
 #include "ipc/StartListening.h"
 #include "MemBuf.h"
 #include "MemObject.h"
 #include "ProtoPort.h"
 #include "rfc1738.h"
 #include "SquidTime.h"
-#include "Store.h"
-
-#if USE_DELAY_POOLS
-#include "ClientInfo.h"
-#endif
-
 #if USE_SSL
 #include "ssl/context_storage.h"
 #include "ssl/helper.h"
@@ -126,6 +128,7 @@
 #include "ssl/crtd_message.h"
 #include "ssl/certificate_db.h"
 #endif
+#include "Store.h"
 
 #if HAVE_LIMITS
 #include <limits>
@@ -135,34 +138,33 @@
 #define comm_close comm_lingering_close
 #endif
 
-/// dials clientHttpConnectionOpened or clientHttpsConnectionOpened call
+/// dials clientListenerConnectionOpened call
 class ListeningStartedDialer: public CallDialer, public Ipc::StartListeningCb
 {
 public:
-    typedef void (*Handler)(int fd, int errNo, http_port_list *portCfg);
-    ListeningStartedDialer(Handler aHandler, http_port_list *aPortCfg):
-            handler(aHandler), portCfg(aPortCfg) {}
+    typedef void (*Handler)(int fd, int flags, int errNo, http_port_list *portCfg, const Ipc::FdNoteId note, const Subscription::Pointer &sub);
+    ListeningStartedDialer(Handler aHandler, int openFlags, http_port_list *aPortCfg, const Ipc::FdNoteId note, const Subscription::Pointer &aSub):
+            handler(aHandler), portCfg(aPortCfg), portTypeNote(note), commOpenListenerFlags(openFlags), sub(aSub) {}
 
     virtual void print(std::ostream &os) const {
         startPrint(os) <<
         ", port=" << (void*)portCfg << ')';
     }
 
     virtual bool canDial(AsyncCall &) const { return true; }
-    virtual void dial(AsyncCall &) { (handler)(fd, errNo, portCfg); }
+    virtual void dial(AsyncCall &) { (handler)(fd, commOpenListenerFlags, errNo, portCfg, portTypeNote, sub); }
 
 public:
     Handler handler;
 
 private:
-    http_port_list *portCfg; ///< from Config.Sockaddr.http
+    http_port_list *portCfg;   ///< from Config.Sockaddr.http
+    Ipc::FdNoteId portTypeNote;    ///< Type of IPC socket being opened
+    int commOpenListenerFlags; ///< flags used by comm_open_listener
+    Subscription::Pointer sub; ///< The handler to be subscribed for this connetion listener
 };
 
-
-static void clientHttpConnectionOpened(int fd, int errNo, http_port_list *s);
-#if USE_SSL
-static void clientHttpsConnectionOpened(int fd, int errNo, http_port_list *s);
-#endif
+static void clientListenerConnectionOpened(int fd, int flags, int errNo, http_port_list *s, const Ipc::FdNoteId portTypeNote, const Subscription::Pointer &sub);
 
 /* our socket-related context */
 
@@ -256,7 +258,8 @@ ConnStateData::readSomeData()
 
     debugs(33, 4, "clientReadSomeData: FD " << fd << ": reading request...");
 
-    makeSpaceAvailable();
+    if (!maybeMakeSpaceAvailable())
+        return;
 
     typedef CommCbMemFunT<ConnStateData, CommIoCbParams> Dialer;
     reader = JobCallback(33, 5,
@@ -597,13 +600,12 @@ prepareLogWithRequestDetails(HttpRequest * request, AccessLogEntry * aLogEntry)
         aLogEntry->cache.requestSize += request->content_length;
     aLogEntry->cache.extuser = request->extacl_user.termedBuf();
 
+#if USE_AUTH
     if (request->auth_user_request != NULL) {
-
         if (request->auth_user_request->username())
             aLogEntry->cache.authuser = xstrdup(request->auth_user_request->username());
-
-// WTF??        request->auth_user_request = NULL;
     }
+#endif
 
     if (aLogEntry->request) {
         aLogEntry->request->errType = request->errType;
@@ -761,12 +763,12 @@ ConnStateData::swanSong()
     clientdbEstablished(peer, -1);	/* decrement */
     assert(areAllContextsForThisConnection());
     freeAllContexts();
-
+#if USE_AUTH
     if (auth_user_request != NULL) {
         debugs(33, 4, "ConnStateData::swanSong: freeing auth_user_request '" << auth_user_request << "' (this is '" << this << "')");
         auth_user_request->onConnectionClose(this);
     }
-
+#endif
     if (pinning.fd >= 0)
         comm_close(pinning.fd);
 
@@ -824,12 +826,6 @@ clientIsContentLengthValid(HttpRequest * r)
 {
     switch (r->method.id()) {
 
-    case METHOD_PUT:
-
-    case METHOD_POST:
-        /* PUT/POST requires a request entity */
-        return (r->content_length >= 0);
-
     case METHOD_GET:
 
     case METHOD_HEAD:
@@ -1059,7 +1055,7 @@ ClientSocketContext::packRange(StoreIOBuffer const &source, MemBuf * mb)
              * intersection of "have" and "need" ranges must not be empty
              */
             assert(http->out.offset < i->currentSpec()->offset + i->currentSpec()->length);
-            assert(http->out.offset + available.size() > i->currentSpec()->offset);
+            assert(http->out.offset + (int64_t)available.size() > i->currentSpec()->offset);
 
             /*
              * put boundary and headers at the beginning of a range in a
@@ -1117,7 +1113,7 @@ ClientSocketContext::packRange(StoreIOBuffer const &source, MemBuf * mb)
         /* adjust for not to be transmitted bytes */
         http->out.offset = nextOffset;
 
-        if (available.size() <= skip)
+        if (available.size() <= (uint64_t)skip)
             return;
 
         available.start += skip;
@@ -2248,13 +2244,22 @@ ConnStateData::getAvailableBufferLength() const
     return result;
 }
 
-void
-ConnStateData::makeSpaceAvailable()
+bool
+ConnStateData::maybeMakeSpaceAvailable()
 {
     if (getAvailableBufferLength() < 2) {
-        in.buf = (char *)memReallocBuf(in.buf, in.allocatedSize * 2, &in.allocatedSize);
+        size_t newSize;
+        if (in.allocatedSize >= Config.maxRequestBufferSize) {
+            debugs(33, 4, "request buffer full: client_request_buffer_max_size=" << Config.maxRequestBufferSize);
+            return false;
+        }
+        if ((newSize=in.allocatedSize * 2) > Config.maxRequestBufferSize) {
+            newSize=Config.maxRequestBufferSize;
+        }
+        in.buf = (char *)memReallocBuf(in.buf, newSize, &in.allocatedSize);
         debugs(33, 2, "growing request buffer: notYetUsed=" << in.notYetUsed << " size=" << in.allocatedSize);
     }
+    return true;
 }
 
 void
@@ -2331,8 +2336,7 @@ connNoteUseOfBuffer(ConnStateData* conn, size_t byteCount)
      */
 
     if (conn->in.notYetUsed > 0)
-        xmemmove(conn->in.buf, conn->in.buf + byteCount,
-                 conn->in.notYetUsed);
+        memmove(conn->in.buf, conn->in.buf + byteCount, conn->in.notYetUsed);
 }
 
 /// respond with ERR_TOO_BIG if request header exceeds request_header_max_size
@@ -2547,7 +2551,8 @@ clientProcessRequest(ConnStateData *conn, HttpParser *hp, ClientSocketContext *c
             clientStreamNode *node = context->getClientReplyContext();
             clientReplyContext *repContext = dynamic_cast<clientReplyContext *>(node->data.getRaw());
             assert (repContext);
-            repContext->setReplyToError(ERR_INVALID_REQ, HTTP_EXPECTATION_FAILED, request->method, http->uri, conn->peer, request, NULL, NULL);
+            repContext->setReplyToError(ERR_INVALID_REQ, HTTP_EXPECTATION_FAILED, request->method,
+                                        http->uri, conn->peer, request, NULL, NULL);
             assert(context->http->out.offset == 0);
             context->pullData();
             goto finish;
@@ -2623,7 +2628,7 @@ static void
 connStripBufferWhitespace (ConnStateData * conn)
 {
     while (conn->in.notYetUsed > 0 && xisspace(conn->in.buf[0])) {
-        xmemmove(conn->in.buf, conn->in.buf + 1, conn->in.notYetUsed - 1);
+        memmove(conn->in.buf, conn->in.buf + 1, conn->in.notYetUsed - 1);
         --conn->in.notYetUsed;
     }
 }
@@ -2826,7 +2831,7 @@ ConnStateData::handleReadData(char *buf, size_t size)
     char *current_buf = in.addressToReadInto();
 
     if (buf != current_buf)
-        xmemmove(current_buf, buf, size);
+        memmove(current_buf, buf, size);
 
     in.notYetUsed += size;
 
@@ -2968,7 +2973,10 @@ ConnStateData::abortChunkedRequestBody(const err_type error)
 void
 ConnStateData::noteMoreBodySpaceAvailable(BodyPipe::Pointer )
 {
-    handleRequestBodyData();
+    if (!handleRequestBodyData())
+        return;
+
+    readSomeData();
 }
 
 void
@@ -3032,7 +3040,7 @@ ConnStateData::requestTimeout(const CommTimeoutCbParams &io)
         /*
          * Aha, but we don't want a read handler!
          */
-        commSetSelect(io.fd, COMM_SELECT_READ, NULL, NULL, 0);
+        Comm::SetSelect(io.fd, COMM_SELECT_READ, NULL, NULL, 0);
     }
 
 #else
@@ -3109,14 +3117,14 @@ connStateCreate(const Ip::Address &peer, const Ip::Address &me, int fd, http_por
 
 /** Handle a new connection on HTTP socket. */
 void
-httpAccept(int sock, int newfd, ConnectionDetail *details,
-           comm_err_t flag, int xerrno, void *data)
+httpAccept(int, int newfd, ConnectionDetail *details, comm_err_t flag, int xerrno, void *data)
 {
     http_port_list *s = (http_port_list *)data;
     ConnStateData *connState = NULL;
 
     if (flag != COMM_OK) {
-        debugs(33, 1, "httpAccept: FD " << sock << ": accept failure: " << xstrerr(xerrno));
+        // Its possible the call was still queued when the client disconnected
+        debugs(33, 2, "httpAccept: FD " << s->listenFd << ": accept failure: " << xstrerr(xerrno));
         return;
     }
 
@@ -3249,11 +3257,11 @@ clientNegotiateSSL(int fd, void *data)
         switch (ssl_error) {
 
         case SSL_ERROR_WANT_READ:
-            commSetSelect(fd, COMM_SELECT_READ, clientNegotiateSSL, conn, 0);
+            Comm::SetSelect(fd, COMM_SELECT_READ, clientNegotiateSSL, conn, 0);
             return;
 
         case SSL_ERROR_WANT_WRITE:
-            commSetSelect(fd, COMM_SELECT_WRITE, clientNegotiateSSL, conn, 0);
+            Comm::SetSelect(fd, COMM_SELECT_WRITE, clientNegotiateSSL, conn, 0);
             return;
 
         case SSL_ERROR_SYSCALL:
@@ -3355,15 +3363,14 @@ clientNegotiateSSL(int fd, void *data)
 
 /** handle a new HTTPS connection */
 static void
-httpsAccept(int sock, int newfd, ConnectionDetail *details,
-            comm_err_t flag, int xerrno, void *data)
+httpsAccept(int, int newfd, ConnectionDetail *details, comm_err_t flag, int xerrno, void *data)
 {
     https_port_list *s = (https_port_list *)data;
     SSL_CTX *sslContext = s->staticSslContext.get();
 
     if (flag != COMM_OK) {
-        errno = xerrno;
-        debugs(33, 1, "httpsAccept: FD " << sock << ": accept failure: " << xstrerr(xerrno));
+        // Its possible the call was still queued when the client disconnected
+        debugs(33, 2, "httpsAccept: FD " << s->listenFd << ": accept failure: " << xstrerr(xerrno));
         return;
     }
 
@@ -3402,7 +3409,7 @@ httpsAccept(int sock, int newfd, ConnectionDetail *details,
         commSetTcpKeepalive(newfd, s->http.tcp_keepalive.idle, s->http.tcp_keepalive.interval, s->http.tcp_keepalive.timeout);
     }
 
-    commSetSelect(newfd, COMM_SELECT_READ, clientNegotiateSSL, connState, 0);
+    Comm::SetSelect(newfd, COMM_SELECT_READ, clientNegotiateSSL, connState, 0);
 
     clientdbEstablished(details->peer, 1);
 
@@ -3519,10 +3526,8 @@ ConnStateData::getSslContextDone(SSL_CTX * sslContext, bool isNew)
     // commSetTimeout() was called for this request before we switched.
 
     // Disable the client read handler until peer selection is complete
-    commSetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
-
-    commSetSelect(fd, COMM_SELECT_READ, clientNegotiateSSL, this, 0);
-
+    Comm::SetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, clientNegotiateSSL, this, 0);
     switchedToHttps_ = true;
     return true;
 }
@@ -3548,15 +3553,15 @@ ConnStateData::switchToHttps(const char *host)
 
 /// check FD after clientHttp[s]ConnectionOpened, adjust HttpSockets as needed
 static bool
-OpenedHttpSocket(int fd, const char *msgIfFail)
+OpenedHttpSocket(int fd, const Ipc::FdNoteId portType)
 {
     if (fd < 0) {
         Must(NHttpSockets > 0); // we tried to open some
         --NHttpSockets; // there will be fewer sockets than planned
         Must(HttpSockets[NHttpSockets] < 0); // no extra fds received
 
         if (!NHttpSockets) // we could not open any listen sockets at all
-            fatal(msgIfFail);
+            fatalf("Unable to open %s",FdNote(portType));
 
         return false;
     }
@@ -3612,13 +3617,16 @@ clientHttpConnectionsOpen(void)
         const int openFlags = COMM_NONBLOCKING |
                               (s->spoof_client_ip ? COMM_TRANSPARENT : 0);
 
-        AsyncCall::Pointer callback = asyncCall(33,2,
-                                                "clientHttpConnectionOpened",
-                                                ListeningStartedDialer(&clientHttpConnectionOpened, s));
-        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags,
-                            Ipc::fdnHttpSocket, callback);
+        // setup the subscriptions such that new connections accepted by listenConn are handled by HTTP
+        typedef CommCbFunPtrCallT<CommAcceptCbPtrFun> AcceptCall;
+        RefCount<AcceptCall> subCall = commCbCall(5, 5, "httpAccept", CommAcceptCbPtrFun(httpAccept, s));
+        Subscription::Pointer sub = new CallSubscription<AcceptCall>(subCall);
 
-        HttpSockets[NHttpSockets++] = -1; // set in clientHttpConnectionOpened
+        AsyncCall::Pointer listenCall = asyncCall(33,2, "clientListenerConnectionOpened",
+                                        ListeningStartedDialer(&clientListenerConnectionOpened, openFlags, s, Ipc::fdnHttpSocket, sub));
+        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags, Ipc::fdnHttpSocket, listenCall);
+
+        HttpSockets[NHttpSockets++] = -1; // set in clientListenerConnectionOpened
     }
 
 #if USE_SSL
@@ -3631,27 +3639,27 @@ clientHttpConnectionsOpen(void)
 
 /// process clientHttpConnectionsOpen result
 static void
-clientHttpConnectionOpened(int fd, int, http_port_list *s)
+clientListenerConnectionOpened(int fd, int flags, int errNo, http_port_list *s, const Ipc::FdNoteId portTypeNote, const Subscription::Pointer &sub)
 {
-    if (!OpenedHttpSocket(fd, "Cannot open HTTP Port"))
+    s->listenFd = fd;
+    if (!OpenedHttpSocket(s->listenFd, portTypeNote))
         return;
 
     Must(s);
+    Must(s->listenFd >= 0);
 
-    AsyncCall::Pointer call = commCbCall(5,5, "SomeCommAcceptHandler(httpAccept)",
-                                         CommAcceptCbPtrFun(httpAccept, s));
-
-    s->listener = new Comm::ListenStateData(fd, call, true);
+    // TCP: setup a job to handle accept() with subscribed handler
+    AsyncJob::Start(new Comm::TcpAcceptor(s->listenFd, s->s, flags, FdNote(portTypeNote), sub));
 
-    debugs(1, 1, "Accepting " <<
+    debugs(1, 1, "Accepting" <<
            (s->intercepted ? " intercepted" : "") <<
            (s->spoof_client_ip ? " spoofing" : "") <<
            (s->sslBump ? " bumpy" : "") <<
            (s->accel ? " accelerated" : "")
-           << " HTTP connections at " << s->s
-           << ", FD " << fd << "." );
+           << FdNote(portTypeNote) << " connections at "
+           << " FD " << s->listenFd << " on " << s->s);
 
-    Must(AddOpenedHttpSocket(fd)); // otherwise, we have received a fd we did not ask for
+    Must(AddOpenedHttpSocket(s->listenFd)); // otherwise, we have received a fd we did not ask for
 }
 
 #if USE_SSL
@@ -3673,35 +3681,23 @@ clientHttpsConnectionsOpen(void)
             continue;
         }
 
-        AsyncCall::Pointer call = asyncCall(33, 2, "clientHttpsConnectionOpened",
-                                            ListeningStartedDialer(&clientHttpsConnectionOpened, &s->http));
-
-        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->http.s, COMM_NONBLOCKING,
-                            Ipc::fdnHttpsSocket, call);
-
-        HttpSockets[NHttpSockets++] = -1;
-    }
-}
-
-/// process clientHttpsConnectionsOpen result
-static void
-clientHttpsConnectionOpened(int fd, int, http_port_list *s)
-{
-    if (!OpenedHttpSocket(fd, "Cannot open HTTPS Port"))
-        return;
-
-    Must(s);
+        const int openFlags = COMM_NONBLOCKING |
+                              (s->spoof_client_ip ? COMM_TRANSPARENT : 0);
 
-    AsyncCall::Pointer call = commCbCall(5,5, "SomeCommAcceptHandler(httpsAccept)",
-                                         CommAcceptCbPtrFun(httpsAccept, s));
+        // setup the subscriptions such that new connections accepted by listenConn are handled by HTTPS
+        typedef CommCbFunPtrCallT<CommAcceptCbPtrFun> AcceptCall;
+        RefCount<AcceptCall> subCall = commCbCall(5, 5, "httpsAccept", CommAcceptCbPtrFun(httpsAccept, s));
+        Subscription::Pointer sub = new CallSubscription<AcceptCall>(subCall);
 
-    s->listener = new Comm::ListenStateData(fd, call, true);
+        AsyncCall::Pointer listenCall = asyncCall(33, 2, "clientListenerConnectionOpened",
+                                        ListeningStartedDialer(&clientListenerConnectionOpened, openFlags,
+                                                               &s->http, Ipc::fdnHttpsSocket, sub));
 
-    debugs(1, 1, "Accepting HTTPS connections at " << s->s << ", FD " << fd << ".");
+        Ipc::StartListening(SOCK_STREAM, IPPROTO_TCP, s->s, openFlags, Ipc::fdnHttpsSocket, listenCall);
 
-    Must(AddOpenedHttpSocket(fd)); // otherwise, we have received a fd we did not ask for
+        HttpSockets[NHttpSockets++] = -1;
+    }
 }
-
 #endif
 
 void
@@ -3720,19 +3716,19 @@ void
 clientHttpConnectionsClose(void)
 {
     for (http_port_list *s = Config.Sockaddr.http; s; s = s->next) {
-        if (s->listener) {
-            debugs(1, 1, "FD " << s->listener->fd << " Closing HTTP connection");
-            delete s->listener;
-            s->listener = NULL;
+        if (s->listenFd >= 0) {
+            debugs(1, 1, "FD " << s->listenFd << " Closing HTTP connection");
+            comm_close(s->listenFd);
+            s->listenFd = -1;
         }
     }
 
 #if USE_SSL
     for (http_port_list *s = Config.Sockaddr.https; s; s = s->next) {
-        if (s->listener) {
-            debugs(1, 1, "FD " << s->listener->fd << " Closing HTTPS connection");
-            delete s->listener;
-            s->listener = NULL;
+        if (s->listenFd >= 0) {
+            debugs(1, 1, "FD " << s->listenFd << " Closing HTTPS connection");
+            comm_close(s->listenFd);
+            s->listenFd = -1;
         }
     }
 #endif
@@ -33,7 +33,9 @@
 #ifndef SQUID_CLIENTSIDE_H
 #define SQUID_CLIENTSIDE_H
 
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "base/AsyncJob.h"
 #include "BodyPipe.h"
 #include "comm.h"
@@ -50,9 +52,6 @@ class clientStreamNode;
 class ChunkedCodingParser;
 class HttpParser;
 
-template <class T>
-class Range;
-
 class ClientSocketContext : public RefCountable
 {
 
@@ -153,7 +152,7 @@ class ConnStateData : public BodyProducer, public HttpControlMsgSink
     void freeAllContexts();
     void notifyAllContexts(const int xerrno); ///< tell everybody about the err
     void readNextRequest();
-    void makeSpaceAvailable();
+    bool maybeMakeSpaceAvailable();
     ClientSocketContext::Pointer getCurrentContext() const;
     void addContextToQueue(ClientSocketContext * context);
     int getConcurrentRequestCount() const;
@@ -184,11 +183,13 @@ class ConnStateData : public BodyProducer, public HttpControlMsgSink
      */
     int64_t mayNeedToReadMoreBody() const;
 
+#if USE_AUTH
     /**
      * note this is ONLY connection based because NTLM and Negotiate is against HTTP spec.
      * the user details for connection based authentication
      */
     AuthUserRequest::Pointer auth_user_request;
+#endif
 
     /**
      * used by the owner of the connection, opaque otherwise
@@ -40,7 +40,9 @@
 #include "squid.h"
 #include "acl/FilledChecklist.h"
 #include "acl/Gadgets.h"
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "client_side.h"
 #include "client_side_reply.h"
 #include "clientStream.h"
@@ -56,6 +58,7 @@
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "ip/QosConfig.h"
+#include "log/Tokens.h"
 #include "MemObject.h"
 #include "SquidTime.h"
 #include "StoreClient.h"
@@ -96,7 +99,12 @@ void
 clientReplyContext::setReplyToError(
     err_type err, http_status status, const HttpRequestMethod& method, char const *uri,
     Ip::Address &addr, HttpRequest * failedrequest, const char *unparsedrequest,
-    AuthUserRequest::Pointer auth_user_request)
+#if USE_AUTH
+    AuthUserRequest::Pointer auth_user_request
+#else
+    void*
+#endif
+)
 {
     ErrorState *errstate = clientBuildError(err, status, uri, addr, failedrequest);
 
@@ -110,9 +118,9 @@ clientReplyContext::setReplyToError(
     http->al.http.code = errstate->httpStatus;
 
     createStoreEntry(method, request_flags());
-
+#if USE_AUTH
     errstate->auth_user_request = auth_user_request;
-
+#endif
     assert(errstate->callback_data == NULL);
     errorAppendEntry(http->storeEntry(), errstate);
     /* Now the caller reads to get this */
@@ -1329,8 +1337,9 @@ clientReplyContext::buildReplyHeader()
         else if (http->storeEntry()->timestamp > 0)
             hdr->insertTime(HDR_DATE, http->storeEntry()->timestamp);
         else {
-            debugs(88,1,"WARNING: An error inside Squid has caused an HTTP reply without Date:. Please report this");
-            /* TODO: dump something useful about the problem */
+            debugs(88,DBG_IMPORTANT,"WARNING: An error inside Squid has caused an HTTP reply without Date:. Please report this:");
+            /* dump something useful about the problem */
+            http->storeEntry()->dump(DBG_IMPORTANT);
         }
     }
 
@@ -1342,7 +1351,6 @@ clientReplyContext::buildReplyHeader()
     }
 
     /* Filter unproxyable authentication types */
-
     if (http->logType != LOG_TCP_DENIED &&
             hdr->has(HDR_WWW_AUTHENTICATE)) {
         HttpHeaderPos pos = HttpHeaderInitPos;
@@ -1385,6 +1393,7 @@ clientReplyContext::buildReplyHeader()
             hdr->refreshMask();
     }
 
+#if USE_AUTH
     /* Handle authentication headers */
     if (http->logType == LOG_TCP_DENIED &&
             ( reply->sline.status == HTTP_PROXY_AUTHENTICATION_REQUIRED ||
@@ -1399,6 +1408,7 @@ clientReplyContext::buildReplyHeader()
         authenticateFixHeader(reply, request->auth_user_request, request, 0, 1);
     } else if (request->auth_user_request != NULL)
         authenticateFixHeader(reply, request->auth_user_request, request, http->flags.accel, 0);
+#endif
 
     /* Append X-Cache */
     httpHeaderPutStrf(hdr, HDR_X_CACHE, "%s from %s",
@@ -2055,7 +2065,7 @@ clientReplyContext::sendMoreData (StoreIOBuffer result)
     if (buf != result.data) {
         /* we've got to copy some data */
         assert(result.length <= next()->readBuffer.length);
-        xmemcpy(buf, result.data, result.length);
+        memcpy(buf, result.data, result.length);
         body_buf = buf;
     }
 
@@ -71,8 +71,12 @@ class clientReplyContext : public RefCountable, public StoreClient
     void identifyFoundObject(StoreEntry *entry);
     int storeOKTransferDone() const;
     int storeNotOKTransferDone() const;
-
-    void setReplyToError(err_type, http_status, const HttpRequestMethod&, char const *, Ip::Address &, HttpRequest *, const char *, AuthUserRequest::Pointer);
+    void setReplyToError(err_type, http_status, const HttpRequestMethod&, char const *, Ip::Address &, HttpRequest *, const char *,
+#if USE_AUTH
+                         AuthUserRequest::Pointer);
+#else
+                         void * unused);
+#endif
     void createStoreEntry(const HttpRequestMethod& m, request_flags flags);
     void removeStoreReference(store_client ** scp, StoreEntry ** ep);
     void removeClientStoreReference(store_client **scp, ClientHttpRequest *http);
@@ -53,7 +53,9 @@
 #include "adaptation/icap/History.h"
 #endif
 #endif
+#if USE_AUTH
 #include "auth/UserRequest.h"
+#endif
 #include "clientStream.h"
 #include "client_side.h"
 #include "client_side_reply.h"
@@ -65,6 +67,7 @@
 #include "HttpReply.h"
 #include "HttpRequest.h"
 #include "ip/QosConfig.h"
+#include "log/Tokens.h"
 #include "MemObject.h"
 #include "ProtoPort.h"
 #include "Store.h"
@@ -575,21 +578,24 @@ ClientRequestContext::clientAccessCheckDone(int answer)
            (answer == ACCESS_ALLOWED ? "ALLOWED" : "DENIED") <<
            ", because it matched '" <<
            (AclMatchedName ? AclMatchedName : "NO ACL's") << "'" );
-    char const *proxy_auth_msg = "<null>";
 
+#if USE_AUTH
+    char const *proxy_auth_msg = "<null>";
     if (http->getConn() != NULL && http->getConn()->auth_user_request != NULL)
         proxy_auth_msg = http->getConn()->auth_user_request->denyMessage("<null>");
     else if (http->request->auth_user_request != NULL)
         proxy_auth_msg = http->request->auth_user_request->denyMessage("<null>");
+#endif
 
     if (answer != ACCESS_ALLOWED) {
         /* Send an error */
         int require_auth = (answer == ACCESS_REQ_PROXY_AUTH || aclIsProxyAuth(AclMatchedName));
         debugs(85, 5, "Access Denied: " << http->uri);
         debugs(85, 5, "AclMatchedName = " << (AclMatchedName ? AclMatchedName : "<null>"));
-
+#if USE_AUTH
         if (require_auth)
             debugs(33, 5, "Proxy Auth Message = " << (proxy_auth_msg ? proxy_auth_msg : "<null>"));
+#endif
 
         /*
          * NOTE: get page_id here, based on AclMatchedName because if
@@ -602,14 +608,18 @@ ClientRequestContext::clientAccessCheckDone(int answer)
         http->logType = LOG_TCP_DENIED;
 
         if (require_auth) {
+#if USE_AUTH
             if (!http->flags.accel) {
                 /* Proxy authorisation needed */
                 status = HTTP_PROXY_AUTHENTICATION_REQUIRED;
             } else {
                 /* WWW authorisation needed */
                 status = HTTP_UNAUTHORIZED;
             }
-
+#else
+            // need auth, but not possible to do.
+            status = HTTP_FORBIDDEN;
+#endif
             if (page_id == ERR_NONE)
                 page_id = ERR_CACHE_ACCESS_DENIED;
         } else {
@@ -629,9 +639,12 @@ ClientRequestContext::clientAccessCheckDone(int answer)
                                     http->getConn() != NULL ? http->getConn()->peer : tmpnoaddr,
                                     http->request,
                                     NULL,
+#if USE_AUTH
                                     http->getConn() != NULL && http->getConn()->auth_user_request != NULL ?
                                     http->getConn()->auth_user_request : http->request->auth_user_request);
-
+#else
+                                    NULL);
+#endif
         node = (clientStreamNode *)http->client_stream.tail->data;
         clientStreamRead(node, http, node->readBuffer);
         return;
@@ -954,21 +967,6 @@ clientInterpretRequestHeaders(ClientHttpRequest * http)
         s.clean();
     }
 
-    /**
-     \todo  --enable-useragent-log and --enable-referer-log. We should
-            probably drop those two as the custom log formats accomplish pretty much the same thing..
-    */
-#if USE_USERAGENT_LOG
-    if ((str = req_hdr->getStr(HDR_USER_AGENT)))
-        logUserAgent(fqdnFromAddr(http->getConn()->log_addr), str);
-
-#endif
-#if USE_REFERER_LOG
-
-    if ((str = req_hdr->getStr(HDR_REFERER)))
-        logReferer(fqdnFromAddr(http->getConn()->log_addr), str, http->log_uri);
-
-#endif
 #if USE_FORW_VIA_DB
 
     if (req_hdr->has(HDR_X_FORWARDED_FOR)) {
@@ -1051,8 +1049,9 @@ ClientRequestContext::clientRedirectDone(char *result)
         new_request->my_addr = old_request->my_addr;
         new_request->flags = old_request->flags;
         new_request->flags.redirected = 1;
+#if USE_AUTH
         new_request->auth_user_request = old_request->auth_user_request;
-
+#endif
         if (old_request->body_pipe != NULL) {
             new_request->body_pipe = old_request->body_pipe;
             old_request->body_pipe = NULL;
@@ -40,8 +40,9 @@
 #include "comm/AcceptLimiter.h"
 #include "comm/comm_internal.h"
 #include "comm/IoCallback.h"
+#include "comm/Loops.h"
 #include "comm/Write.h"
-#include "comm/ListenStateData.h"
+#include "comm/TcpAcceptor.h"
 #include "CommIO.h"
 #include "CommRead.h"
 #include "ConnectionDetail.h"
@@ -61,7 +62,7 @@
 #endif
 
 #include "cbdata.h"
-#if defined(_SQUID_CYGWIN_)
+#if _SQUID_CYGWIN_
 #include <sys/ioctl.h>
 #endif
 #ifdef HAVE_NETINET_TCP_H
@@ -143,7 +144,7 @@ fd_debug_t *fdd_table = NULL;
 bool
 isOpen(const int fd)
 {
-    return fd_table[fd].flags.open != 0;
+    return fd >= 0 && fd_table[fd].flags.open != 0;
 }
 
 /**
@@ -183,7 +184,7 @@ commHandleRead(int fd, void *data)
     }
 
     /* Nope, register for some more IO */
-    commSetSelect(fd, COMM_SELECT_READ, commHandleRead, data, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, commHandleRead, data, 0);
 }
 
 /**
@@ -219,7 +220,7 @@ comm_read(int fd, char *buf, int size, AsyncCall::Pointer &callback)
 
     /* Queue the read */
     ccb->setCallback(Comm::IOCB_READ, callback, (char *)buf, NULL, size);
-    commSetSelect(fd, COMM_SELECT_READ, commHandleRead, ccb, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, commHandleRead, ccb, 0);
 }
 
 /**
@@ -319,7 +320,7 @@ comm_read_cancel(int fd, IOCB *callback, void *data)
     cb->cancel("old comm_read_cancel");
 
     /* And the IO event */
-    commSetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
 }
 
 void
@@ -349,7 +350,7 @@ comm_read_cancel(int fd, AsyncCall::Pointer &callback)
     cb->cancel("comm_read_cancel");
 
     /* And the IO event */
-    commSetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
 }
 
 
@@ -936,7 +937,7 @@ ConnectStateData::commResetFD()
         F->local_addr.FreeAddrInfo(AI);
         return 0;
     }
-    commResetSelect(fd);
+    Comm::ResetSelect(fd);
 
     close(fd2);
 
@@ -1036,7 +1037,7 @@ ConnectStateData::connect()
 
     case COMM_INPROGRESS:
         debugs(5, 5, HERE << "FD " << fd << ": COMM_INPROGRESS");
-        commSetSelect(fd, COMM_SELECT_WRITE, ConnectStateData::Connect, this, 0);
+        Comm::SetSelect(fd, COMM_SELECT_WRITE, ConnectStateData::Connect, this, 0);
         break;
 
     case COMM_OK:
@@ -1356,7 +1357,7 @@ comm_lingering_close(int fd)
 
     fd_note(fd, "lingering close");
     commSetTimeout(fd, 10, commLingerTimeout, NULL);
-    commSetSelect(fd, COMM_SELECT_READ, commLingerClose, NULL, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, commLingerClose, NULL, 0);
 }
 
 #endif
@@ -1468,11 +1469,11 @@ _comm_close(int fd, char const *file, int line)
 
     // notify read/write handlers after canceling select reservations, if any
     if (COMMIO_FD_WRITECB(fd)->active()) {
-        commSetSelect(fd, COMM_SELECT_WRITE, NULL, NULL, 0);
+        Comm::SetSelect(fd, COMM_SELECT_WRITE, NULL, NULL, 0);
         COMMIO_FD_WRITECB(fd)->finish(COMM_ERR_CLOSING, errno);
     }
     if (COMMIO_FD_READCB(fd)->active()) {
-        commSetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
+        Comm::SetSelect(fd, COMM_SELECT_READ, NULL, NULL, 0);
         COMMIO_FD_READCB(fd)->finish(COMM_ERR_CLOSING, errno);
     }
 
@@ -1660,12 +1661,10 @@ commSetNonBlocking(int fd)
     int flags;
     int dummy = 0;
 #endif
-#ifdef _SQUID_WIN32_
-
+#if _SQUID_WINDOWS_
     int nonblocking = TRUE;
 
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     if (fd_table[fd].type != FD_PIPE) {
 #endif
 
@@ -1674,8 +1673,7 @@ commSetNonBlocking(int fd)
             return COMM_ERROR;
         }
 
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     } else {
 #endif
 #endif
@@ -1692,10 +1690,8 @@ commSetNonBlocking(int fd)
         }
 
 #endif
-#ifdef _SQUID_CYGWIN_
-
+#if _SQUID_CYGWIN_
     }
-
 #endif
     fd_table[fd].flags.nonblocking = 1;
 
@@ -1810,6 +1806,9 @@ comm_init(void)
     conn_close_pool = memPoolCreate("close_handler", sizeof(close_handler));
 
     TheHalfClosed = new DescriptorSet;
+
+    /* setup the select loop module */
+    Comm::SelectLoopInit();
 }
 
 void
@@ -1851,7 +1850,7 @@ commHandleWriteHelper(void * data)
                 !fd_table[head].closing()) {
 
             // wait for the head descriptor to become ready for writing
-            commSetSelect(head, COMM_SELECT_WRITE, Comm::HandleWrite, ccb, 0);
+            Comm::SetSelect(head, COMM_SELECT_WRITE, Comm::HandleWrite, ccb, 0);
             clientInfo->selectWaiting = true;
             return;
         }
@@ -2154,7 +2153,7 @@ checkTimeouts(void)
         if (writeTimedOut(fd)) {
             // We have an active write callback and we are timed out
             debugs(5, 5, "checkTimeouts: FD " << fd << " auto write timeout");
-            commSetSelect(fd, COMM_SELECT_WRITE, NULL, NULL, 0);
+            Comm::SetSelect(fd, COMM_SELECT_WRITE, NULL, NULL, 0);
             COMMIO_FD_WRITECB(fd)->finish(COMM_ERROR, ETIMEDOUT);
         } else if (AlreadyTimedOut(F))
             continue;
@@ -2184,7 +2183,7 @@ void CommIO::Initialise()
     fd_open(DoneFD, FD_PIPE, "async-io completetion event: threads");
     commSetNonBlocking(DoneReadFD);
     commSetNonBlocking(DoneFD);
-    commSetSelect(DoneReadFD, COMM_SELECT_READ, NULLFDHandler, NULL, 0);
+    Comm::SetSelect(DoneReadFD, COMM_SELECT_READ, NULLFDHandler, NULL, 0);
     Initialised = true;
 }
 
@@ -2215,7 +2214,7 @@ void
 CommIO::NULLFDHandler(int fd, void *data)
 {
     FlushPipe();
-    commSetSelect(fd, COMM_SELECT_READ, NULLFDHandler, NULL, 0);
+    Comm::SetSelect(fd, COMM_SELECT_READ, NULLFDHandler, NULL, 0);
 }
 
 void
@@ -2458,7 +2457,7 @@ CommSelectEngine::checkEvents(int timeout)
         checkTimeouts();
     }
 
-    switch (comm_select(timeout)) {
+    switch (Comm::DoSelect(timeout)) {
 
     case COMM_OK:
 
@@ -61,9 +61,6 @@ SQUIDCEXTERN int comm_open_listener(int sock_type, int proto, Ip::Address &addr,
 SQUIDCEXTERN int comm_openex(int, int, Ip::Address &, int, tos_t tos, nfmark_t nfmark, const char *);
 SQUIDCEXTERN u_short comm_local_port(int fd);
 
-SQUIDCEXTERN void commSetSelect(int, unsigned int, PF *, void *, time_t);
-SQUIDCEXTERN void commResetSelect(int);
-
 SQUIDCEXTERN int comm_udp_sendto(int sock, const Ip::Address &to, const void *buf, int buflen);
 SQUIDCEXTERN void commCallCloseHandlers(int fd);
 SQUIDCEXTERN int commSetTimeout(int fd, int, PF *, void *);
@@ -73,13 +70,6 @@ SQUIDCEXTERN void commCloseAllSockets(void);
 SQUIDCEXTERN void checkTimeouts(void);
 
 
-/*
- * comm_select.c
- */
-SQUIDCEXTERN void comm_select_init(void);
-SQUIDCEXTERN comm_err_t comm_select(int);
-SQUIDCEXTERN void comm_quick_poll_required(void);
-
 class ConnectionDetail;
 typedef void IOACB(int fd, int nfd, ConnectionDetail *details, comm_err_t flag, int xerrno, void *data);
 extern void comm_add_close_handler(int fd, PF *, void *);
@@ -1,6 +1,6 @@
 #include "config.h"
 #include "comm/AcceptLimiter.h"
-#include "comm/ListenStateData.h"
+#include "comm/TcpAcceptor.h"
 #include "fde.h"
 
 Comm::AcceptLimiter Comm::AcceptLimiter::Instance_;
@@ -11,22 +11,41 @@ Comm::AcceptLimiter &Comm::AcceptLimiter::Instance()
 }
 
 void
-Comm::AcceptLimiter::defer(Comm::ListenStateData *afd)
+Comm::AcceptLimiter::defer(Comm::TcpAcceptor *afd)
 {
     afd->isLimited++;
     debugs(5, 5, HERE << "FD " << afd->fd << " x" << afd->isLimited);
     deferred.push_back(afd);
 }
 
+void
+Comm::AcceptLimiter::removeDead(const Comm::TcpAcceptor *afd)
+{
+    for (unsigned int i = 0; i < deferred.size() && afd->isLimited > 0; i++) {
+        if (deferred[i] == afd) {
+            deferred[i]->isLimited--;
+            deferred[i] = NULL; // fast. kick() will skip empty entries later.
+            debugs(5, 5, HERE << "FD " << afd->fd << " x" << afd->isLimited);
+        }
+    }
+}
+
 void
 Comm::AcceptLimiter::kick()
 {
+    // TODO: this could be optimized further with an iterator to search
+    //       looking for first non-NULL, followed by dumping the first N
+    //       with only one shift()/pop_front operation
+
     debugs(5, 5, HERE << " size=" << deferred.size());
-    if (deferred.size() > 0 && fdNFree() >= RESERVED_FD) {
-        debugs(5, 5, HERE << " doing one.");
+    while (deferred.size() > 0 && fdNFree() >= RESERVED_FD) {
         /* NP: shift() is equivalent to pop_front(). Giving us a FIFO queue. */
-        ListenStateData *temp = deferred.shift();
-        temp->isLimited--;
-        temp->acceptNext();
+        TcpAcceptor *temp = deferred.shift();
+        if (temp != NULL) {
+            debugs(5, 5, HERE << " doing one.");
+            temp->isLimited--;
+            temp->acceptNext();
+            break;
+        }
     }
 }
@@ -6,7 +6,7 @@
 namespace Comm
 {
 
-class ListenStateData;
+class TcpAcceptor;
 
 /**
  * FIFO Queue holding listener socket handlers which have been activated
@@ -25,7 +25,10 @@ class AcceptLimiter
     static AcceptLimiter &Instance();
 
     /** delay accepting a new client connection. */
-    void defer(Comm::ListenStateData *afd);
+    void defer(Comm::TcpAcceptor *afd);
+
+    /** remove all records of an acceptor. Only to be called by the ConnAcceptor::swanSong() */
+    void removeDead(const Comm::TcpAcceptor *afd);
 
     /** try to accept and begin processing any delayed client connections. */
     void kick();
@@ -34,7 +37,7 @@ class AcceptLimiter
     static AcceptLimiter Instance_;
 
     /** FIFO queue */
-    Vector<Comm::ListenStateData*> deferred;
+    Vector<Comm::TcpAcceptor*> deferred;
 };
 
 }; // namepace Comm
@@ -1,6 +1,7 @@
 #include "config.h"
 #include "ClientInfo.h"
 #include "comm/IoCallback.h"
+#include "comm/Loops.h"
 #include "comm/Write.h"
 #include "CommCalls.h"
 #include "fde.h"
@@ -65,7 +66,7 @@ Comm::IoCallback::selectOrQueueWrite()
     }
 #endif
 
-    commSetSelect(fd, COMM_SELECT_WRITE, Comm::HandleWrite, this, 0);
+    SetSelect(fd, COMM_SELECT_WRITE, Comm::HandleWrite, this, 0);
 }
 
 void
@@ -1,54 +0,0 @@
-#ifndef SQUID_LISTENERSTATEDATA_H
-#define SQUID_LISTENERSTATEDATA_H
-
-#include "base/AsyncCall.h"
-#include "comm.h"
-#if HAVE_MAP
-#include <map>
-#endif
-
-class ConnectionDetail;
-
-namespace Comm
-{
-
-class ListenStateData
-{
-
-public:
-    ListenStateData(int fd, AsyncCall::Pointer &call, bool accept_many);
-    ListenStateData(const ListenStateData &r); // not implemented.
-    ~ListenStateData();
-
-    void subscribe(AsyncCall::Pointer &call);
-    void acceptNext();
-    void notify(int newfd, comm_err_t flag, const ConnectionDetail &details);
-
-    int fd;
-
-    /// errno code of the last accept() or listen() action if one occurred.
-    int errcode;
-
-    /// whether this socket is delayed and on the AcceptLimiter queue.
-    int32_t isLimited;
-
-private:
-    /// Method to test if there are enough file escriptors to open a new client connection
-    /// if not the accept() will be postponed
-    static bool okToAccept();
-
-    /// Method callback for whenever an FD is ready to accept a client connection.
-    static void doAccept(int fd, void *data);
-
-    void acceptOne();
-    int oldAccept(ConnectionDetail &details);
-
-    AsyncCall::Pointer theCallback;
-    bool mayAcceptMore;
-
-    void setListen();
-};
-
-} // namespace Comm
-
-#endif /* SQUID_LISTENERSTATEDATA_H */
@@ -0,0 +1,33 @@
+#ifndef _SQUID_SRC_COMM_LOOPS_H
+#define _SQUID_SRC_COMM_LOOPS_H
+
+#include "comm_err_t.h"
+
+/* Comm layer select loops API.
+ *
+ * These API functions must be implemented by all FD IO loops used by Squid.
+ * Defines are provided short-term for legacy code. These will disappear soon.
+ */
+
+namespace Comm
+{
+
+/// Initialize the module on Squid startup
+extern void SelectLoopInit(void);
+
+/// Mark an FD to be watched for its IO status.
+extern void SetSelect(int, unsigned int, PF *, void *, time_t);
+
+/// reset/undo/unregister the watch for an FD which was set by Comm::SetSelect()
+extern void ResetSelect(int);
+
+/** Perform a select() or equivalent call.
+ * This is used by the main select loop engine to check for FD with IO available.
+ */
+extern comm_err_t DoSelect(int);
+
+extern void QuickPollRequired(void);
+
+} // namespace Comm
+
+#endif /* _SQUID_SRC_COMM_LOOPS_H */